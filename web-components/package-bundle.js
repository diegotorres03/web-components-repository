/*! For license information please see package-bundle.js.LICENSE.txt */
(()=>{var e={5885:(e,t,n)=>{var r=n(8010),i=n(5705),o=i;o.v1=r,o.v4=i,e.exports=o},1901:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},4478:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},8010:(e,t,n)=>{var r,i,o=n(4478),a=n(1901),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var h=o();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=p-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,i=d;var g=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var m=p/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},5705:(e,t,n)=>{var r=n(4478),i=n(1901);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},1774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(1888),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],h=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=c,c=u,u=s,s=a+v|0,a=o,o=i,i=n,n=v+y|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=i},1888:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},6051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(8008).__exportStar)(n(8036),t)},8036:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(8008),i=n(1888),o=n(1774),a=n(2823),s=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},8647:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(2084),i="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},2823:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(8647);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(914);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(4513);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var a=n(7092);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},914:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},4513:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},7092:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},8008:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},8029:(e,t,n)=>{var r=n(8144),i=n(7520),o=i;o.v1=r,o.v4=i,e.exports=o},3163:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},1831:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},8144:(e,t,n)=>{var r,i,o=n(1831),a=n(3163),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var h=o();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=p-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,i=d;var g=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var m=p/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},7520:(e,t,n)=>{var r=n(1831),i=n(3163);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},3942:(e,t,n)=>{var r=n(6044),i=n(1924),o=i;o.v1=r,o.v4=i,e.exports=o},7219:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},8438:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},6044:(e,t,n)=>{var r,i,o=n(8438),a=n(7219),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var h=o();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=p-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,i=d;var g=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var m=p/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},1924:(e,t,n)=>{var r=n(8438),i=n(7219);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},5408:(e,t,n)=>{var r=n(1330),i=n(4701),o=i;o.v1=r,o.v4=i,e.exports=o},1178:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},9513:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},1330:(e,t,n)=>{var r,i,o=n(9513),a=n(1178),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var h=o();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=p-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,i=d;var g=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var m=p/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},4701:(e,t,n)=>{var r=n(9513),i=n(1178);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},8260:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6665:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5470:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},969:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5287:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map((function(e){return i[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},5521:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1980);r.__exportStar(n(8260),t),r.__exportStar(n(6665),t),r.__exportStar(n(5470),t),r.__exportStar(n(969),t),r.__exportStar(n(5287),t)},1980:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},7333:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},2769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(3479),i=n(8889),o=n(1938),a=n(21),s=n(5521),u=n(6495),c=function(){function e(e){(0,a.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new i.Sha256(e):(0,s.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},3479:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(2064),i=n(7333),o=n(2084),a=n(6495),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",u(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},7643:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(5789).__exportStar)(n(2769),t);var r=n(3479);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var i=n(8889);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})},2064:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},8889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(7658),i=n(7333),o=n(6495),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,o.locateWindow)().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,o.locateWindow)().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},5789:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},7449:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(9945),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],h=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=c,c=u,u=s,s=a+v|0,a=o,o=i,i=n,n=v+y|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=i},9945:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},1938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(3541).__exportStar)(n(5430),t)},5430:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(3541),i=n(9945),o=n(7449),a=n(7658),s=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},3541:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},21:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7840).__exportStar(n(7787),t)},7787:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(7840),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&i.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},7840:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},1106:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(2084),i="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},7658:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(1106);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(4304);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(2174);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var a=n(1558);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},4304:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},2174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},1558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},9944:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2811:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8274:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4488:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7557:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map((function(e){return i[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},3141:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9574);r.__exportStar(n(9944),t),r.__exportStar(n(2811),t),r.__exportStar(n(8274),t),r.__exportStar(n(4488),t),r.__exportStar(n(7557),t)},9574:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6168:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},866:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(169),i=n(9667),o=n(2305),a=n(6669),s=n(3141),u=n(6495),c=function(){function e(e){(0,a.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new i.Sha256(e):(0,s.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},169:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(230),i=n(6168),o=n(979),a=n(6495),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",u(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},1597:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(7815).__exportStar)(n(866),t);var r=n(169);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var i=n(9667);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})},230:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},9667:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(4712),i=n(6168),o=n(6495),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,o.locateWindow)().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,o.locateWindow)().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},7815:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},5237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(846),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],h=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=c,c=u,u=s,s=a+v|0,a=o,o=i,i=n,n=v+y|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=i},846:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},2305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(7338).__exportStar)(n(3390),t)},3390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(7338),i=n(846),o=n(5237),a=n(4712),s=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},7338:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6669:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(6468).__exportStar(n(5529),t)},5529:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(6468),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&i.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},6468:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6334:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(979),i="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},4712:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(6334);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(2862);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(5819);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var a=n(6784);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},2862:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},5819:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},6784:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},979:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>i});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},7134:(e,t,n)=>{var r=n(694),i=n(4122),o=i;o.v1=r,o.v4=i,e.exports=o},9293:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},2257:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},694:(e,t,n)=>{var r,i,o=n(2257),a=n(9293),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var h=o();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=p-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,i=d;var g=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var m=p/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},4122:(e,t,n)=>{var r=n(2257),i=n(9293);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},7394:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1609:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9333:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1995:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3543:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map((function(e){return i[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},9365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1942);r.__exportStar(n(7394),t),r.__exportStar(n(1609),t),r.__exportStar(n(9333),t),r.__exportStar(n(1995),t),r.__exportStar(n(3543),t)},1942:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},5836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},8254:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(2455),i=n(1699),o=n(6642),a=n(3787),s=n(9365),u=n(6495),c=function(){function e(e){(0,a.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new i.Sha256(e):(0,s.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},2455:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(1317),i=n(5836),o=n(367),a=n(6495),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",u(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},7381:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(4948).__exportStar)(n(8254),t);var r=n(2455);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var i=n(1699);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})},1317:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},1699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(458),i=n(5836),o=n(6495),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,o.locateWindow)().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,o.locateWindow)().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},4948:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},3784:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(5538),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],h=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=c,c=u,u=s,s=a+v|0,a=o,o=i,i=n,n=v+y|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=i},5538:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},6642:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(3917).__exportStar)(n(1016),t)},1016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(3917),i=n(5538),o=n(3784),a=n(458),s=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},3917:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},3787:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(5497).__exportStar(n(14),t)},14:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(5497),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&i.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},5497:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},1346:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(367),i="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(1346);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(2498);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(5276);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var a=n(4665);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},2498:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},5276:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},4665:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},367:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>i});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},1856:(e,t,n)=>{var r=n(7078),i=n(7348),o=i;o.v1=r,o.v4=i,e.exports=o},6076:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},8619:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},7078:(e,t,n)=>{var r,i,o=n(8619),a=n(6076),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var h=o();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=p-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,i=d;var g=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var m=p/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},7348:(e,t,n)=>{var r=n(8619),i=n(6076);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},589:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ArchivalSummaryFilterSensitiveLog:()=>ut,AttributeAction:()=>$,AttributeDefinitionFilterSensitiveLog:()=>ct,AttributeValue:()=>Pe,AttributeValueFilterSensitiveLog:()=>ri,AttributeValueUpdateFilterSensitiveLog:()=>ii,AutoScalingPolicyDescriptionFilterSensitiveLog:()=>ft,AutoScalingPolicyUpdateFilterSensitiveLog:()=>ht,AutoScalingSettingsDescriptionFilterSensitiveLog:()=>pt,AutoScalingSettingsUpdateFilterSensitiveLog:()=>vt,AutoScalingTargetTrackingScalingPolicyConfigurationDescriptionFilterSensitiveLog:()=>lt,AutoScalingTargetTrackingScalingPolicyConfigurationUpdateFilterSensitiveLog:()=>dt,BackupDescriptionFilterSensitiveLog:()=>Ct,BackupDetailsFilterSensitiveLog:()=>yt,BackupInUseException:()=>Oe,BackupNotFoundException:()=>ke,BackupStatus:()=>Y,BackupSummaryFilterSensitiveLog:()=>It,BackupType:()=>Z,BackupTypeFilter:()=>ie,BatchExecuteStatementCommand:()=>Pc,BatchExecuteStatementInputFilterSensitiveLog:()=>wi,BatchExecuteStatementOutputFilterSensitiveLog:()=>Si,BatchGetItemCommand:()=>Oc,BatchGetItemInputFilterSensitiveLog:()=>Ai,BatchGetItemOutputFilterSensitiveLog:()=>zi,BatchStatementErrorCodeEnum:()=>ae,BatchStatementErrorFilterSensitiveLog:()=>kt,BatchStatementRequestFilterSensitiveLog:()=>oi,BatchStatementResponseFilterSensitiveLog:()=>ai,BatchWriteItemCommand:()=>kc,BatchWriteItemInputFilterSensitiveLog:()=>qi,BatchWriteItemOutputFilterSensitiveLog:()=>Vi,BillingMode:()=>J,BillingModeSummaryFilterSensitiveLog:()=>Rt,CancellationReasonFilterSensitiveLog:()=>si,CapacityFilterSensitiveLog:()=>Pt,ComparisonOperator:()=>ue,ConditionCheckFilterSensitiveLog:()=>Pi,ConditionFilterSensitiveLog:()=>ui,ConditionalCheckFailedException:()=>Ue,ConditionalOperator:()=>ce,ConsumedCapacityFilterSensitiveLog:()=>Ot,ContinuousBackupsDescriptionFilterSensitiveLog:()=>Nt,ContinuousBackupsStatus:()=>fe,ContinuousBackupsUnavailableException:()=>Fe,ContributorInsightsAction:()=>he,ContributorInsightsStatus:()=>pe,ContributorInsightsSummaryFilterSensitiveLog:()=>Dt,CreateBackupCommand:()=>Rc,CreateBackupInputFilterSensitiveLog:()=>Mt,CreateBackupOutputFilterSensitiveLog:()=>jt,CreateGlobalSecondaryIndexActionFilterSensitiveLog:()=>Ut,CreateGlobalTableCommand:()=>Lc,CreateGlobalTableInputFilterSensitiveLog:()=>zt,CreateGlobalTableOutputFilterSensitiveLog:()=>Vt,CreateReplicaActionFilterSensitiveLog:()=>$t,CreateReplicationGroupMemberActionFilterSensitiveLog:()=>Yt,CreateTableCommand:()=>Nc,CreateTableInputFilterSensitiveLog:()=>en,CreateTableOutputFilterSensitiveLog:()=>sn,CsvOptionsFilterSensitiveLog:()=>un,DeleteBackupCommand:()=>Dc,DeleteBackupInputFilterSensitiveLog:()=>cn,DeleteBackupOutputFilterSensitiveLog:()=>ln,DeleteFilterSensitiveLog:()=>Oi,DeleteGlobalSecondaryIndexActionFilterSensitiveLog:()=>fn,DeleteItemCommand:()=>Mc,DeleteItemInputFilterSensitiveLog:()=>Ki,DeleteItemOutputFilterSensitiveLog:()=>Li,DeleteReplicaActionFilterSensitiveLog:()=>dn,DeleteReplicationGroupMemberActionFilterSensitiveLog:()=>hn,DeleteRequestFilterSensitiveLog:()=>ci,DeleteTableCommand:()=>jc,DeleteTableInputFilterSensitiveLog:()=>pn,DeleteTableOutputFilterSensitiveLog:()=>vn,DescribeBackupCommand:()=>Uc,DescribeBackupInputFilterSensitiveLog:()=>yn,DescribeBackupOutputFilterSensitiveLog:()=>gn,DescribeContinuousBackupsCommand:()=>Fc,DescribeContinuousBackupsInputFilterSensitiveLog:()=>mn,DescribeContinuousBackupsOutputFilterSensitiveLog:()=>bn,DescribeContributorInsightsCommand:()=>zc,DescribeContributorInsightsInputFilterSensitiveLog:()=>wn,DescribeContributorInsightsOutputFilterSensitiveLog:()=>En,DescribeEndpointsCommand:()=>Bc,DescribeEndpointsRequestFilterSensitiveLog:()=>_n,DescribeEndpointsResponseFilterSensitiveLog:()=>An,DescribeExportCommand:()=>qc,DescribeExportInputFilterSensitiveLog:()=>Tn,DescribeExportOutputFilterSensitiveLog:()=>In,DescribeGlobalTableCommand:()=>Kc,DescribeGlobalTableInputFilterSensitiveLog:()=>Pn,DescribeGlobalTableOutputFilterSensitiveLog:()=>On,DescribeGlobalTableSettingsCommand:()=>Hc,DescribeGlobalTableSettingsInputFilterSensitiveLog:()=>kn,DescribeGlobalTableSettingsOutputFilterSensitiveLog:()=>Nn,DescribeImportCommand:()=>Gc,DescribeImportInputFilterSensitiveLog:()=>Dn,DescribeImportOutputFilterSensitiveLog:()=>zn,DescribeKinesisStreamingDestinationCommand:()=>Vc,DescribeKinesisStreamingDestinationInputFilterSensitiveLog:()=>Bn,DescribeKinesisStreamingDestinationOutputFilterSensitiveLog:()=>Kn,DescribeLimitsCommand:()=>$c,DescribeLimitsInputFilterSensitiveLog:()=>Hn,DescribeLimitsOutputFilterSensitiveLog:()=>Gn,DescribeTableCommand:()=>Wc,DescribeTableInputFilterSensitiveLog:()=>Vn,DescribeTableOutputFilterSensitiveLog:()=>$n,DescribeTableReplicaAutoScalingCommand:()=>Yc,DescribeTableReplicaAutoScalingInputFilterSensitiveLog:()=>Wn,DescribeTableReplicaAutoScalingOutputFilterSensitiveLog:()=>Xn,DescribeTimeToLiveCommand:()=>Zc,DescribeTimeToLiveInputFilterSensitiveLog:()=>Qn,DescribeTimeToLiveOutputFilterSensitiveLog:()=>er,DestinationStatus:()=>Ce,DisableKinesisStreamingDestinationCommand:()=>Jc,DuplicateItemException:()=>Ye,DynamoDB:()=>ph,DynamoDBClient:()=>hh,DynamoDBServiceException:()=>V,EnableKinesisStreamingDestinationCommand:()=>Xc,EndpointFilterSensitiveLog:()=>xn,ExecuteStatementCommand:()=>Qc,ExecuteStatementInputFilterSensitiveLog:()=>li,ExecuteStatementOutputFilterSensitiveLog:()=>Ni,ExecuteTransactionCommand:()=>el,ExecuteTransactionInputFilterSensitiveLog:()=>Ei,ExecuteTransactionOutputFilterSensitiveLog:()=>_i,ExpectedAttributeValueFilterSensitiveLog:()=>Ti,ExportConflictException:()=>Xe,ExportDescriptionFilterSensitiveLog:()=>Cn,ExportFormat:()=>Se,ExportNotFoundException:()=>Ve,ExportStatus:()=>Ee,ExportSummaryFilterSensitiveLog:()=>dr,ExportTableToPointInTimeCommand:()=>tl,ExportTableToPointInTimeInputFilterSensitiveLog:()=>rr,ExportTableToPointInTimeOutputFilterSensitiveLog:()=>ir,FailureExceptionFilterSensitiveLog:()=>Sn,GetFilterSensitiveLog:()=>fi,GetItemCommand:()=>nl,GetItemInputFilterSensitiveLog:()=>di,GetItemOutputFilterSensitiveLog:()=>hi,GlobalSecondaryIndexAutoScalingUpdateFilterSensitiveLog:()=>Yr,GlobalSecondaryIndexDescriptionFilterSensitiveLog:()=>nn,GlobalSecondaryIndexFilterSensitiveLog:()=>Zt,GlobalSecondaryIndexInfoFilterSensitiveLog:()=>St,GlobalSecondaryIndexUpdateFilterSensitiveLog:()=>Hr,GlobalTableAlreadyExistsException:()=>Ke,GlobalTableDescriptionFilterSensitiveLog:()=>Gt,GlobalTableFilterSensitiveLog:()=>vr,GlobalTableGlobalSecondaryIndexSettingsUpdateFilterSensitiveLog:()=>Ur,GlobalTableNotFoundException:()=>$e,GlobalTableStatus:()=>ve,IdempotentParameterMismatchException:()=>Ze,ImportConflictException:()=>tt,ImportNotFoundException:()=>We,ImportStatus:()=>xe,ImportSummaryFilterSensitiveLog:()=>mr,ImportTableCommand:()=>rl,ImportTableDescriptionFilterSensitiveLog:()=>Fn,ImportTableInputFilterSensitiveLog:()=>or,ImportTableOutputFilterSensitiveLog:()=>ar,IndexNotFoundException:()=>at,IndexStatus:()=>me,InputCompressionType:()=>Ae,InputFormat:()=>Te,InputFormatOptionsFilterSensitiveLog:()=>Mn,InternalServerError:()=>Re,InvalidEndpointException:()=>Ne,InvalidExportTimeException:()=>Qe,InvalidRestoreTimeException:()=>rt,ItemCollectionMetricsFilterSensitiveLog:()=>pi,ItemCollectionSizeLimitExceededException:()=>je,ItemResponseFilterSensitiveLog:()=>vi,KeySchemaElementFilterSensitiveLog:()=>gt,KeyType:()=>X,KeysAndAttributesFilterSensitiveLog:()=>mi,KinesisDataStreamDestinationFilterSensitiveLog:()=>qn,KinesisStreamingDestinationInputFilterSensitiveLog:()=>tr,KinesisStreamingDestinationOutputFilterSensitiveLog:()=>nr,LimitExceededException:()=>ze,ListBackupsCommand:()=>il,ListBackupsInputFilterSensitiveLog:()=>sr,ListBackupsOutputFilterSensitiveLog:()=>ur,ListContributorInsightsCommand:()=>ol,ListContributorInsightsInputFilterSensitiveLog:()=>cr,ListContributorInsightsOutputFilterSensitiveLog:()=>lr,ListExportsCommand:()=>al,ListExportsInputFilterSensitiveLog:()=>fr,ListExportsOutputFilterSensitiveLog:()=>hr,ListGlobalTablesCommand:()=>sl,ListGlobalTablesInputFilterSensitiveLog:()=>pr,ListGlobalTablesOutputFilterSensitiveLog:()=>yr,ListImportsCommand:()=>ul,ListImportsInputFilterSensitiveLog:()=>gr,ListImportsOutputFilterSensitiveLog:()=>br,ListTablesCommand:()=>cl,ListTablesInputFilterSensitiveLog:()=>wr,ListTablesOutputFilterSensitiveLog:()=>Sr,ListTagsOfResourceCommand:()=>ll,ListTagsOfResourceInputFilterSensitiveLog:()=>Er,ListTagsOfResourceOutputFilterSensitiveLog:()=>_r,LocalSecondaryIndexDescriptionFilterSensitiveLog:()=>rn,LocalSecondaryIndexFilterSensitiveLog:()=>Jt,LocalSecondaryIndexInfoFilterSensitiveLog:()=>Et,ParameterizedStatementFilterSensitiveLog:()=>yi,PointInTimeRecoveryDescriptionFilterSensitiveLog:()=>Lt,PointInTimeRecoverySpecificationFilterSensitiveLog:()=>Or,PointInTimeRecoveryStatus:()=>de,PointInTimeRecoveryUnavailableException:()=>et,ProjectionFilterSensitiveLog:()=>wt,ProjectionType:()=>Q,ProvisionedThroughputDescriptionFilterSensitiveLog:()=>tn,ProvisionedThroughputExceededException:()=>De,ProvisionedThroughputFilterSensitiveLog:()=>mt,ProvisionedThroughputOverrideFilterSensitiveLog:()=>Bt,PutFilterSensitiveLog:()=>ki,PutItemCommand:()=>fl,PutItemInputFilterSensitiveLog:()=>Hi,PutItemOutputFilterSensitiveLog:()=>Di,PutRequestFilterSensitiveLog:()=>gi,QueryCommand:()=>dl,QueryInputFilterSensitiveLog:()=>Gi,QueryOutputFilterSensitiveLog:()=>Mi,ReplicaAlreadyExistsException:()=>it,ReplicaAutoScalingDescriptionFilterSensitiveLog:()=>Zn,ReplicaAutoScalingUpdateFilterSensitiveLog:()=>Jr,ReplicaDescriptionFilterSensitiveLog:()=>Ht,ReplicaFilterSensitiveLog:()=>Ft,ReplicaGlobalSecondaryIndexAutoScalingDescriptionFilterSensitiveLog:()=>Yn,ReplicaGlobalSecondaryIndexAutoScalingUpdateFilterSensitiveLog:()=>Zr,ReplicaGlobalSecondaryIndexDescriptionFilterSensitiveLog:()=>qt,ReplicaGlobalSecondaryIndexFilterSensitiveLog:()=>Wt,ReplicaGlobalSecondaryIndexSettingsDescriptionFilterSensitiveLog:()=>Rn,ReplicaGlobalSecondaryIndexSettingsUpdateFilterSensitiveLog:()=>Fr,ReplicaNotFoundException:()=>ot,ReplicaSettingsDescriptionFilterSensitiveLog:()=>Ln,ReplicaSettingsUpdateFilterSensitiveLog:()=>zr,ReplicaStatus:()=>ye,ReplicaUpdateFilterSensitiveLog:()=>Dr,ReplicationGroupUpdateFilterSensitiveLog:()=>Vr,RequestLimitExceeded:()=>Le,ResourceInUseException:()=>He,ResourceNotFoundException:()=>Me,RestoreSummaryFilterSensitiveLog:()=>on,RestoreTableFromBackupCommand:()=>hl,RestoreTableFromBackupInputFilterSensitiveLog:()=>xr,RestoreTableFromBackupOutputFilterSensitiveLog:()=>Ar,RestoreTableToPointInTimeCommand:()=>pl,RestoreTableToPointInTimeInputFilterSensitiveLog:()=>Tr,RestoreTableToPointInTimeOutputFilterSensitiveLog:()=>Cr,ReturnConsumedCapacity:()=>oe,ReturnItemCollectionMetrics:()=>se,ReturnValue:()=>we,ReturnValuesOnConditionCheckFailure:()=>le,S3BucketSourceFilterSensitiveLog:()=>jn,S3SseAlgorithm:()=>_e,SSEDescriptionFilterSensitiveLog:()=>_t,SSESpecificationFilterSensitiveLog:()=>Xt,SSEStatus:()=>te,SSEType:()=>ee,ScalarAttributeType:()=>W,ScanCommand:()=>vl,ScanInputFilterSensitiveLog:()=>Bi,ScanOutputFilterSensitiveLog:()=>ji,Select:()=>Ie,SourceTableDetailsFilterSensitiveLog:()=>bt,SourceTableFeatureDetailsFilterSensitiveLog:()=>Tt,StreamSpecificationFilterSensitiveLog:()=>xt,StreamViewType:()=>ne,TableAlreadyExistsException:()=>nt,TableAutoScalingDescriptionFilterSensitiveLog:()=>Jn,TableClass:()=>ge,TableClassSummaryFilterSensitiveLog:()=>Kt,TableCreationParametersFilterSensitiveLog:()=>Un,TableDescriptionFilterSensitiveLog:()=>an,TableInUseException:()=>Be,TableNotFoundException:()=>qe,TableStatus:()=>be,TagFilterSensitiveLog:()=>Qt,TagResourceCommand:()=>yl,TagResourceInputFilterSensitiveLog:()=>Ir,TimeToLiveDescriptionFilterSensitiveLog:()=>At,TimeToLiveSpecificationFilterSensitiveLog:()=>ei,TimeToLiveStatus:()=>re,TransactGetItemFilterSensitiveLog:()=>bi,TransactGetItemsCommand:()=>gl,TransactGetItemsInputFilterSensitiveLog:()=>Ci,TransactGetItemsOutputFilterSensitiveLog:()=>xi,TransactWriteItemFilterSensitiveLog:()=>Wi,TransactWriteItemsCommand:()=>ml,TransactWriteItemsInputFilterSensitiveLog:()=>Yi,TransactWriteItemsOutputFilterSensitiveLog:()=>Ii,TransactionCanceledException:()=>st,TransactionConflictException:()=>Ge,TransactionInProgressException:()=>Je,UntagResourceCommand:()=>bl,UntagResourceInputFilterSensitiveLog:()=>Pr,UpdateContinuousBackupsCommand:()=>wl,UpdateContinuousBackupsInputFilterSensitiveLog:()=>kr,UpdateContinuousBackupsOutputFilterSensitiveLog:()=>Rr,UpdateContributorInsightsCommand:()=>Sl,UpdateContributorInsightsInputFilterSensitiveLog:()=>Lr,UpdateContributorInsightsOutputFilterSensitiveLog:()=>Nr,UpdateFilterSensitiveLog:()=>Ri,UpdateGlobalSecondaryIndexActionFilterSensitiveLog:()=>Kr,UpdateGlobalTableCommand:()=>El,UpdateGlobalTableInputFilterSensitiveLog:()=>Mr,UpdateGlobalTableOutputFilterSensitiveLog:()=>jr,UpdateGlobalTableSettingsCommand:()=>_l,UpdateGlobalTableSettingsInputFilterSensitiveLog:()=>Br,UpdateGlobalTableSettingsOutputFilterSensitiveLog:()=>qr,UpdateItemCommand:()=>xl,UpdateItemInputFilterSensitiveLog:()=>$i,UpdateItemOutputFilterSensitiveLog:()=>Ui,UpdateReplicationGroupMemberActionFilterSensitiveLog:()=>Gr,UpdateTableCommand:()=>Al,UpdateTableInputFilterSensitiveLog:()=>$r,UpdateTableOutputFilterSensitiveLog:()=>Wr,UpdateTableReplicaAutoScalingCommand:()=>Tl,UpdateTableReplicaAutoScalingInputFilterSensitiveLog:()=>Xr,UpdateTableReplicaAutoScalingOutputFilterSensitiveLog:()=>Qr,UpdateTimeToLiveCommand:()=>Cl,UpdateTimeToLiveInputFilterSensitiveLog:()=>ti,UpdateTimeToLiveOutputFilterSensitiveLog:()=>ni,WriteRequestFilterSensitiveLog:()=>Fi,paginateListContributorInsights:()=>gh,paginateListExports:()=>wh,paginateListImports:()=>_h,paginateListTables:()=>Th,paginateQuery:()=>Ph,paginateScan:()=>Rh,waitForTableExists:()=>Kh,waitForTableNotExists:()=>Vh,waitUntilTableExists:()=>Hh,waitUntilTableNotExists:()=>$h});var r={};n.r(r),n.d(r,{isVirtualHostableS3Bucket:()=>yd,parseArn:()=>gd,partition:()=>ud});var i={};n.r(i),n.d(i,{aws:()=>r,booleanEquals:()=>md,getAttr:()=>bd,isSet:()=>wd,isValidHostLabel:()=>vd,not:()=>Sd,parseURL:()=>xd,stringEquals:()=>Ad,substring:()=>Td,uriEncode:()=>Cd});const o={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},a={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function s(e,t,n){return{applyToStack:r=>{r.add(((e,t)=>(n,r)=>async r=>{const{response:i}=await n(r);try{return{response:i,output:await t(i,e)}}catch(e){throw Object.defineProperty(e,"$response",{value:i}),e}})(e,n),o),r.add(((e,t)=>(n,r)=>async i=>{const o=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint;if(!o)throw new Error("No valid endpoint provider available.");const a=await t(i.input,{...e,endpoint:o});return n({...i,request:a})})(e,t),a)}}}const u=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,c=/(\d+\.){3}\d+/,l=/\.\./,f=(e,t,n)=>{const r=async()=>{const r=n[e]??n[t];return"function"==typeof r?r():r};return"endpoint"===e||"endpoint"===t?async()=>{const e=await r();if(e&&"object"==typeof e){if("url"in e)return e.url.href;if("hostname"in e){const{protocol:t,hostname:n,port:r,path:i}=e;return`${t}//${n}${r?":"+r:""}${i}`}}return e}:r},d=async(e,t,n)=>{const r={},i=t?.getEndpointParameterInstructions?.()||{};for(const[t,o]of Object.entries(i))switch(o.type){case"staticContextParams":r[t]=o.value;break;case"contextParams":r[t]=e[o.name];break;case"clientContextParams":case"builtInParams":r[t]=await f(o.name,t,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return 0===Object.keys(i).length&&Object.assign(r,n),"s3"===String(n.serviceId).toLowerCase()&&await(async e=>{const t=e?.Bucket||"";if("string"==typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),(e=>{const[t,n,r,i,o,a]=e.split(":"),s="arn"===t&&e.split(":").length>=6,u=5===[t,n,r,o,a].filter(Boolean).length;if(s&&!u)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return!!("arn"===t&&n&&r&&o&&a)})(t)){if(!0===e.ForcePathStyle)throw new Error("Path-style addressing cannot be used with ARN buckets")}else n=t,(!u.test(n)||c.test(n)||l.test(n)||-1!==t.indexOf(".")&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);var n;return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e})(r),r},h={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:a.name},p=(e,t)=>({applyToStack:n=>{n.addRelativeTo((({config:e,instructions:t})=>(n,r)=>async i=>{const o=await(async(e,t,n,r)=>{const i=await d(e,t,n);if("function"!=typeof n.endpointProvider)throw new Error("config.endpointProvider is not set.");return n.endpointProvider(i,r)})(i.input,{getEndpointParameterInstructions:()=>t},{...e},r);r.endpointV2=o,r.authSchemes=o.properties?.authSchemes;const a=r.authSchemes?.[0];return a&&(r.signing_region=a.signingRegion,r.signing_service=a.signingName),n({...i})})({config:e,instructions:t}),h)}}),v=e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t},y=e=>{if("string"==typeof e)return y(new URL(e));const{hostname:t,pathname:n,port:r,protocol:i,search:o}=e;let a;return o&&(a=function(e){const t={};if(e=e.replace(/^\?/,""))for(const n of e.split("&")){let[e,r=null]=n.split("=");e=decodeURIComponent(e),r&&(r=decodeURIComponent(r)),e in t?Array.isArray(t[e])?t[e].push(r):t[e]=[t[e],r]:t[e]=r}return t}(o)),{hostname:t,port:r?parseInt(r):void 0,protocol:i,path:n,query:a}};class g{trace(){}debug(){}info(){}warn(){}error(){}}const m=()=>{let e=[],t=[];const n=new Set,r=n=>(e.forEach((e=>{n.add(e.middleware,{...e})})),t.forEach((e=>{n.addRelativeTo(e.middleware,{...e})})),n),i=e=>{const t=[];return e.before.forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...i(e))})),t.push(e),e.after.reverse().forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...i(e))})),t},o=(n=!1)=>{const r=[],o=[],a={};e.forEach((e=>{const t={...e,before:[],after:[]};t.name&&(a[t.name]=t),r.push(t)})),t.forEach((e=>{const t={...e,before:[],after:[]};t.name&&(a[t.name]=t),o.push(t)})),o.forEach((e=>{if(e.toMiddleware){const t=a[e.toMiddleware];if(void 0===t){if(n)return;throw new Error(`${e.toMiddleware} is not found when adding ${e.name||"anonymous"} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var s;return(s=r,s.sort(((e,t)=>b[t.step]-b[e.step]||w[t.priority||"normal"]-w[e.priority||"normal"]))).map(i).reduce(((e,t)=>(e.push(...t),e)),[])},a={add:(t,r={})=>{const{name:i,override:o}=r,a={step:"initialize",priority:"normal",middleware:t,...r};if(i){if(n.has(i)){if(!o)throw new Error(`Duplicate middleware name '${i}'`);const t=e.findIndex((e=>e.name===i)),n=e[t];if(n.step!==a.step||n.priority!==a.priority)throw new Error(`"${i}" middleware with ${n.priority} priority in ${n.step} step cannot be overridden by same-name middleware with ${a.priority} priority in ${a.step} step.`);e.splice(t,1)}n.add(i)}e.push(a)},addRelativeTo:(e,r)=>{const{name:i,override:o}=r,a={middleware:e,...r};if(i){if(n.has(i)){if(!o)throw new Error(`Duplicate middleware name '${i}'`);const e=t.findIndex((e=>e.name===i)),n=t[e];if(n.toMiddleware!==a.toMiddleware||n.relation!==a.relation)throw new Error(`"${i}" middleware ${n.relation} "${n.toMiddleware}" middleware cannot be overridden by same-name middleware ${a.relation} "${a.toMiddleware}" middleware.`);t.splice(e,1)}n.add(i)}t.push(a)},clone:()=>r(m()),use:e=>{e.applyToStack(a)},remove:r=>"string"==typeof r?(r=>{let i=!1;const o=e=>!e.name||e.name!==r||(i=!0,n.delete(r),!1);return e=e.filter(o),t=t.filter(o),i})(r):(r=>{let i=!1;const o=e=>e.middleware!==r||(i=!0,e.name&&n.delete(e.name),!1);return e=e.filter(o),t=t.filter(o),i})(r),removeByTag:r=>{let i=!1;const o=e=>{const{tags:t,name:o}=e;return!t||!t.includes(r)||(o&&n.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:e=>{const t=r(m());return t.use(e),t},applyToStack:r,identify:()=>o(!0).map((e=>e.name+": "+(e.tags||[]).join(","))),resolve:(e,t)=>{for(const n of o().map((e=>e.middleware)).reverse())e=n(e,t);return e}};return a},b={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},w={high:3,normal:2,low:1};class S{constructor(e){this.middlewareStack=m(),this.config=e}send(e,t,n){const r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((e=>e.output));o(e).then((e=>i(null,e.output)),(e=>i(e))).catch((()=>{}))}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}class E{constructor(){this.middlewareStack=m()}}const _=e=>{if(null!=e){if("number"==typeof e){if(0!==e&&1!==e||j.warn(M(`Expected boolean, got ${typeof e}: ${e}`)),0===e)return!1;if(1===e)return!0}if("string"==typeof e){const t=e.toLowerCase();if("false"!==t&&"true"!==t||j.warn(M(`Expected boolean, got ${typeof e}: ${e}`)),"false"===t)return!1;if("true"===t)return!0}if("boolean"==typeof e)return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},x=e=>{if(null!=e){if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&j.warn(M(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},A=(Math.ceil(2**127*(2-2**-23)),e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}}),T=e=>C(e,32),C=(e,t)=>{const n=A(e);if(void 0!==n&&I(n,t)!==n)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return n},I=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},P=(e,t)=>{if(null==e){if(t)throw new TypeError(`Expected a non-null value for ${t}`);throw new TypeError("Expected a non-null value")}return e},O=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return j.warn(M(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},k=e=>{if(null==e)return;const t=(e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)})(e),n=Object.entries(t).filter((([,e])=>null!=e)).map((([e])=>e));if(0===n.length)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(n.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${n} were not null.`);return t},R=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,L=e=>{const t=e.match(R);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},N=e=>"string"==typeof e?D(e):x(e),D=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},M=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((e=>!e.includes("stackTraceWarning"))).join("\n"),j={warn:console.warn},U=e=>{if(null==e)return;let t;if("number"==typeof e)t=e;else{if("string"!=typeof e)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");t=(e=>x("string"==typeof e?L(e):e))(e)}if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*t))};class F extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,F.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const z=(e,t={})=>{Object.entries(t).filter((([,e])=>void 0!==e)).forEach((([t,n])=>{null!=e[t]&&""!==e[t]||(e[t]=n)}));const n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},B=({output:e,parsedBody:t,exceptionCtor:n,errorCode:r})=>{const i=q(e),o=i.httpStatusCode?i.httpStatusCode+"":void 0,a=new n({name:t.code||t.Code||r||o||"UnknownError",$fault:"client",$metadata:i});throw z(a,t)},q=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),K=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},H=function(){const e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),n=new t;return Object.setPrototypeOf(n,e.prototype),n};H.prototype=Object.create(String.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(H,String);const G=e=>{if(e!=e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}};class V extends F{constructor(e){super(e),Object.setPrototypeOf(this,V.prototype)}}var $,W,Y,Z,J,X,Q,ee,te,ne,re,ie,oe,ae,se,ue,ce,le,fe,de,he,pe,ve,ye,ge,me,be,we,Se,Ee,_e,xe,Ae,Te,Ce,Ie,Pe;!function(e){e.ADD="ADD",e.DELETE="DELETE",e.PUT="PUT"}($||($={})),function(e){e.B="B",e.N="N",e.S="S"}(W||(W={})),function(e){e.AVAILABLE="AVAILABLE",e.CREATING="CREATING",e.DELETED="DELETED"}(Y||(Y={})),function(e){e.AWS_BACKUP="AWS_BACKUP",e.SYSTEM="SYSTEM",e.USER="USER"}(Z||(Z={})),function(e){e.PAY_PER_REQUEST="PAY_PER_REQUEST",e.PROVISIONED="PROVISIONED"}(J||(J={})),function(e){e.HASH="HASH",e.RANGE="RANGE"}(X||(X={})),function(e){e.ALL="ALL",e.INCLUDE="INCLUDE",e.KEYS_ONLY="KEYS_ONLY"}(Q||(Q={})),function(e){e.AES256="AES256",e.KMS="KMS"}(ee||(ee={})),function(e){e.DISABLED="DISABLED",e.DISABLING="DISABLING",e.ENABLED="ENABLED",e.ENABLING="ENABLING",e.UPDATING="UPDATING"}(te||(te={})),function(e){e.KEYS_ONLY="KEYS_ONLY",e.NEW_AND_OLD_IMAGES="NEW_AND_OLD_IMAGES",e.NEW_IMAGE="NEW_IMAGE",e.OLD_IMAGE="OLD_IMAGE"}(ne||(ne={})),function(e){e.DISABLED="DISABLED",e.DISABLING="DISABLING",e.ENABLED="ENABLED",e.ENABLING="ENABLING"}(re||(re={}));class Oe extends V{constructor(e){super({name:"BackupInUseException",$fault:"client",...e}),this.name="BackupInUseException",this.$fault="client",Object.setPrototypeOf(this,Oe.prototype)}}class ke extends V{constructor(e){super({name:"BackupNotFoundException",$fault:"client",...e}),this.name="BackupNotFoundException",this.$fault="client",Object.setPrototypeOf(this,ke.prototype)}}!function(e){e.ALL="ALL",e.AWS_BACKUP="AWS_BACKUP",e.SYSTEM="SYSTEM",e.USER="USER"}(ie||(ie={})),function(e){e.INDEXES="INDEXES",e.NONE="NONE",e.TOTAL="TOTAL"}(oe||(oe={})),function(e){e.AccessDenied="AccessDenied",e.ConditionalCheckFailed="ConditionalCheckFailed",e.DuplicateItem="DuplicateItem",e.InternalServerError="InternalServerError",e.ItemCollectionSizeLimitExceeded="ItemCollectionSizeLimitExceeded",e.ProvisionedThroughputExceeded="ProvisionedThroughputExceeded",e.RequestLimitExceeded="RequestLimitExceeded",e.ResourceNotFound="ResourceNotFound",e.ThrottlingError="ThrottlingError",e.TransactionConflict="TransactionConflict",e.ValidationError="ValidationError"}(ae||(ae={}));class Re extends V{constructor(e){super({name:"InternalServerError",$fault:"server",...e}),this.name="InternalServerError",this.$fault="server",Object.setPrototypeOf(this,Re.prototype)}}class Le extends V{constructor(e){super({name:"RequestLimitExceeded",$fault:"client",...e}),this.name="RequestLimitExceeded",this.$fault="client",Object.setPrototypeOf(this,Le.prototype)}}class Ne extends V{constructor(e){super({name:"InvalidEndpointException",$fault:"client",...e}),this.name="InvalidEndpointException",this.$fault="client",Object.setPrototypeOf(this,Ne.prototype),this.Message=e.Message}}class De extends V{constructor(e){super({name:"ProvisionedThroughputExceededException",$fault:"client",...e}),this.name="ProvisionedThroughputExceededException",this.$fault="client",Object.setPrototypeOf(this,De.prototype)}}class Me extends V{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Me.prototype)}}!function(e){e.NONE="NONE",e.SIZE="SIZE"}(se||(se={}));class je extends V{constructor(e){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...e}),this.name="ItemCollectionSizeLimitExceededException",this.$fault="client",Object.setPrototypeOf(this,je.prototype)}}!function(e){e.BEGINS_WITH="BEGINS_WITH",e.BETWEEN="BETWEEN",e.CONTAINS="CONTAINS",e.EQ="EQ",e.GE="GE",e.GT="GT",e.IN="IN",e.LE="LE",e.LT="LT",e.NE="NE",e.NOT_CONTAINS="NOT_CONTAINS",e.NOT_NULL="NOT_NULL",e.NULL="NULL"}(ue||(ue={}));class Ue extends V{constructor(e){super({name:"ConditionalCheckFailedException",$fault:"client",...e}),this.name="ConditionalCheckFailedException",this.$fault="client",Object.setPrototypeOf(this,Ue.prototype)}}!function(e){e.AND="AND",e.OR="OR"}(ce||(ce={})),function(e){e.ALL_OLD="ALL_OLD",e.NONE="NONE"}(le||(le={})),function(e){e.DISABLED="DISABLED",e.ENABLED="ENABLED"}(fe||(fe={})),function(e){e.DISABLED="DISABLED",e.ENABLED="ENABLED"}(de||(de={}));class Fe extends V{constructor(e){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...e}),this.name="ContinuousBackupsUnavailableException",this.$fault="client",Object.setPrototypeOf(this,Fe.prototype)}}!function(e){e.DISABLE="DISABLE",e.ENABLE="ENABLE"}(he||(he={})),function(e){e.DISABLED="DISABLED",e.DISABLING="DISABLING",e.ENABLED="ENABLED",e.ENABLING="ENABLING",e.FAILED="FAILED"}(pe||(pe={}));class ze extends V{constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,ze.prototype)}}class Be extends V{constructor(e){super({name:"TableInUseException",$fault:"client",...e}),this.name="TableInUseException",this.$fault="client",Object.setPrototypeOf(this,Be.prototype)}}class qe extends V{constructor(e){super({name:"TableNotFoundException",$fault:"client",...e}),this.name="TableNotFoundException",this.$fault="client",Object.setPrototypeOf(this,qe.prototype)}}!function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING",e.UPDATING="UPDATING"}(ve||(ve={})),function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.CREATION_FAILED="CREATION_FAILED",e.DELETING="DELETING",e.INACCESSIBLE_ENCRYPTION_CREDENTIALS="INACCESSIBLE_ENCRYPTION_CREDENTIALS",e.REGION_DISABLED="REGION_DISABLED",e.UPDATING="UPDATING"}(ye||(ye={})),function(e){e.STANDARD="STANDARD",e.STANDARD_INFREQUENT_ACCESS="STANDARD_INFREQUENT_ACCESS"}(ge||(ge={}));class Ke extends V{constructor(e){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...e}),this.name="GlobalTableAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,Ke.prototype)}}!function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING",e.UPDATING="UPDATING"}(me||(me={})),function(e){e.ACTIVE="ACTIVE",e.ARCHIVED="ARCHIVED",e.ARCHIVING="ARCHIVING",e.CREATING="CREATING",e.DELETING="DELETING",e.INACCESSIBLE_ENCRYPTION_CREDENTIALS="INACCESSIBLE_ENCRYPTION_CREDENTIALS",e.UPDATING="UPDATING"}(be||(be={}));class He extends V{constructor(e){super({name:"ResourceInUseException",$fault:"client",...e}),this.name="ResourceInUseException",this.$fault="client",Object.setPrototypeOf(this,He.prototype)}}!function(e){e.ALL_NEW="ALL_NEW",e.ALL_OLD="ALL_OLD",e.NONE="NONE",e.UPDATED_NEW="UPDATED_NEW",e.UPDATED_OLD="UPDATED_OLD"}(we||(we={}));class Ge extends V{constructor(e){super({name:"TransactionConflictException",$fault:"client",...e}),this.name="TransactionConflictException",this.$fault="client",Object.setPrototypeOf(this,Ge.prototype)}}!function(e){e.DYNAMODB_JSON="DYNAMODB_JSON",e.ION="ION"}(Se||(Se={})),function(e){e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.IN_PROGRESS="IN_PROGRESS"}(Ee||(Ee={})),function(e){e.AES256="AES256",e.KMS="KMS"}(_e||(_e={}));class Ve extends V{constructor(e){super({name:"ExportNotFoundException",$fault:"client",...e}),this.name="ExportNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Ve.prototype)}}class $e extends V{constructor(e){super({name:"GlobalTableNotFoundException",$fault:"client",...e}),this.name="GlobalTableNotFoundException",this.$fault="client",Object.setPrototypeOf(this,$e.prototype)}}!function(e){e.CANCELLED="CANCELLED",e.CANCELLING="CANCELLING",e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.IN_PROGRESS="IN_PROGRESS"}(xe||(xe={})),function(e){e.GZIP="GZIP",e.NONE="NONE",e.ZSTD="ZSTD"}(Ae||(Ae={})),function(e){e.CSV="CSV",e.DYNAMODB_JSON="DYNAMODB_JSON",e.ION="ION"}(Te||(Te={}));class We extends V{constructor(e){super({name:"ImportNotFoundException",$fault:"client",...e}),this.name="ImportNotFoundException",this.$fault="client",Object.setPrototypeOf(this,We.prototype)}}!function(e){e.ACTIVE="ACTIVE",e.DISABLED="DISABLED",e.DISABLING="DISABLING",e.ENABLE_FAILED="ENABLE_FAILED",e.ENABLING="ENABLING"}(Ce||(Ce={}));class Ye extends V{constructor(e){super({name:"DuplicateItemException",$fault:"client",...e}),this.name="DuplicateItemException",this.$fault="client",Object.setPrototypeOf(this,Ye.prototype)}}class Ze extends V{constructor(e){super({name:"IdempotentParameterMismatchException",$fault:"client",...e}),this.name="IdempotentParameterMismatchException",this.$fault="client",Object.setPrototypeOf(this,Ze.prototype),this.Message=e.Message}}class Je extends V{constructor(e){super({name:"TransactionInProgressException",$fault:"client",...e}),this.name="TransactionInProgressException",this.$fault="client",Object.setPrototypeOf(this,Je.prototype),this.Message=e.Message}}class Xe extends V{constructor(e){super({name:"ExportConflictException",$fault:"client",...e}),this.name="ExportConflictException",this.$fault="client",Object.setPrototypeOf(this,Xe.prototype)}}class Qe extends V{constructor(e){super({name:"InvalidExportTimeException",$fault:"client",...e}),this.name="InvalidExportTimeException",this.$fault="client",Object.setPrototypeOf(this,Qe.prototype)}}class et extends V{constructor(e){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...e}),this.name="PointInTimeRecoveryUnavailableException",this.$fault="client",Object.setPrototypeOf(this,et.prototype)}}class tt extends V{constructor(e){super({name:"ImportConflictException",$fault:"client",...e}),this.name="ImportConflictException",this.$fault="client",Object.setPrototypeOf(this,tt.prototype)}}!function(e){e.ALL_ATTRIBUTES="ALL_ATTRIBUTES",e.ALL_PROJECTED_ATTRIBUTES="ALL_PROJECTED_ATTRIBUTES",e.COUNT="COUNT",e.SPECIFIC_ATTRIBUTES="SPECIFIC_ATTRIBUTES"}(Ie||(Ie={}));class nt extends V{constructor(e){super({name:"TableAlreadyExistsException",$fault:"client",...e}),this.name="TableAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,nt.prototype)}}class rt extends V{constructor(e){super({name:"InvalidRestoreTimeException",$fault:"client",...e}),this.name="InvalidRestoreTimeException",this.$fault="client",Object.setPrototypeOf(this,rt.prototype)}}class it extends V{constructor(e){super({name:"ReplicaAlreadyExistsException",$fault:"client",...e}),this.name="ReplicaAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,it.prototype)}}class ot extends V{constructor(e){super({name:"ReplicaNotFoundException",$fault:"client",...e}),this.name="ReplicaNotFoundException",this.$fault="client",Object.setPrototypeOf(this,ot.prototype)}}class at extends V{constructor(e){super({name:"IndexNotFoundException",$fault:"client",...e}),this.name="IndexNotFoundException",this.$fault="client",Object.setPrototypeOf(this,at.prototype)}}!function(e){e.visit=(e,t)=>void 0!==e.S?t.S(e.S):void 0!==e.N?t.N(e.N):void 0!==e.B?t.B(e.B):void 0!==e.SS?t.SS(e.SS):void 0!==e.NS?t.NS(e.NS):void 0!==e.BS?t.BS(e.BS):void 0!==e.M?t.M(e.M):void 0!==e.L?t.L(e.L):void 0!==e.NULL?t.NULL(e.NULL):void 0!==e.BOOL?t.BOOL(e.BOOL):t._(e.$unknown[0],e.$unknown[1])}(Pe||(Pe={}));class st extends V{constructor(e){super({name:"TransactionCanceledException",$fault:"client",...e}),this.name="TransactionCanceledException",this.$fault="client",Object.setPrototypeOf(this,st.prototype),this.Message=e.Message,this.CancellationReasons=e.CancellationReasons}}const ut=e=>({...e}),ct=e=>({...e}),lt=e=>({...e}),ft=e=>({...e}),dt=e=>({...e}),ht=e=>({...e}),pt=e=>({...e}),vt=e=>({...e}),yt=e=>({...e}),gt=e=>({...e}),mt=e=>({...e}),bt=e=>({...e}),wt=e=>({...e}),St=e=>({...e}),Et=e=>({...e}),_t=e=>({...e}),xt=e=>({...e}),At=e=>({...e}),Tt=e=>({...e}),Ct=e=>({...e}),It=e=>({...e}),Pt=e=>({...e}),Ot=e=>({...e}),kt=e=>({...e}),Rt=e=>({...e}),Lt=e=>({...e}),Nt=e=>({...e}),Dt=e=>({...e}),Mt=e=>({...e}),jt=e=>({...e}),Ut=e=>({...e}),Ft=e=>({...e}),zt=e=>({...e}),Bt=e=>({...e}),qt=e=>({...e}),Kt=e=>({...e}),Ht=e=>({...e}),Gt=e=>({...e}),Vt=e=>({...e}),$t=e=>({...e}),Wt=e=>({...e}),Yt=e=>({...e}),Zt=e=>({...e}),Jt=e=>({...e}),Xt=e=>({...e}),Qt=e=>({...e}),en=e=>({...e}),tn=e=>({...e}),nn=e=>({...e}),rn=e=>({...e}),on=e=>({...e}),an=e=>({...e}),sn=e=>({...e}),un=e=>({...e}),cn=e=>({...e}),ln=e=>({...e}),fn=e=>({...e}),dn=e=>({...e}),hn=e=>({...e}),pn=e=>({...e}),vn=e=>({...e}),yn=e=>({...e}),gn=e=>({...e}),mn=e=>({...e}),bn=e=>({...e}),wn=e=>({...e}),Sn=e=>({...e}),En=e=>({...e}),_n=e=>({...e}),xn=e=>({...e}),An=e=>({...e}),Tn=e=>({...e}),Cn=e=>({...e}),In=e=>({...e}),Pn=e=>({...e}),On=e=>({...e}),kn=e=>({...e}),Rn=e=>({...e}),Ln=e=>({...e}),Nn=e=>({...e}),Dn=e=>({...e}),Mn=e=>({...e}),jn=e=>({...e}),Un=e=>({...e}),Fn=e=>({...e}),zn=e=>({...e}),Bn=e=>({...e}),qn=e=>({...e}),Kn=e=>({...e}),Hn=e=>({...e}),Gn=e=>({...e}),Vn=e=>({...e}),$n=e=>({...e}),Wn=e=>({...e}),Yn=e=>({...e}),Zn=e=>({...e}),Jn=e=>({...e}),Xn=e=>({...e}),Qn=e=>({...e}),er=e=>({...e}),tr=e=>({...e}),nr=e=>({...e}),rr=e=>({...e}),ir=e=>({...e}),or=e=>({...e}),ar=e=>({...e}),sr=e=>({...e}),ur=e=>({...e}),cr=e=>({...e}),lr=e=>({...e}),fr=e=>({...e}),dr=e=>({...e}),hr=e=>({...e}),pr=e=>({...e}),vr=e=>({...e}),yr=e=>({...e}),gr=e=>({...e}),mr=e=>({...e}),br=e=>({...e}),wr=e=>({...e}),Sr=e=>({...e}),Er=e=>({...e}),_r=e=>({...e}),xr=e=>({...e}),Ar=e=>({...e}),Tr=e=>({...e}),Cr=e=>({...e}),Ir=e=>({...e}),Pr=e=>({...e}),Or=e=>({...e}),kr=e=>({...e}),Rr=e=>({...e}),Lr=e=>({...e}),Nr=e=>({...e}),Dr=e=>({...e}),Mr=e=>({...e}),jr=e=>({...e}),Ur=e=>({...e}),Fr=e=>({...e}),zr=e=>({...e}),Br=e=>({...e}),qr=e=>({...e}),Kr=e=>({...e}),Hr=e=>({...e}),Gr=e=>({...e}),Vr=e=>({...e}),$r=e=>({...e}),Wr=e=>({...e}),Yr=e=>({...e}),Zr=e=>({...e}),Jr=e=>({...e}),Xr=e=>({...e}),Qr=e=>({...e}),ei=e=>({...e}),ti=e=>({...e}),ni=e=>({...e}),ri=e=>void 0!==e.S?{S:e.S}:void 0!==e.N?{N:e.N}:void 0!==e.B?{B:e.B}:void 0!==e.SS?{SS:e.SS}:void 0!==e.NS?{NS:e.NS}:void 0!==e.BS?{BS:e.BS}:void 0!==e.M?{M:Object.entries(e.M).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}:void 0!==e.L?{L:e.L.map((e=>ri(e)))}:void 0!==e.NULL?{NULL:e.NULL}:void 0!==e.BOOL?{BOOL:e.BOOL}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,ii=e=>({...e,...e.Value&&{Value:ri(e.Value)}}),oi=e=>({...e,...e.Parameters&&{Parameters:e.Parameters.map((e=>ri(e)))}}),ai=e=>({...e,...e.Item&&{Item:Object.entries(e.Item).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),si=e=>({...e,...e.Item&&{Item:Object.entries(e.Item).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),ui=e=>({...e,...e.AttributeValueList&&{AttributeValueList:e.AttributeValueList.map((e=>ri(e)))}}),ci=e=>({...e,...e.Key&&{Key:Object.entries(e.Key).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),li=e=>({...e,...e.Parameters&&{Parameters:e.Parameters.map((e=>ri(e)))}}),fi=e=>({...e,...e.Key&&{Key:Object.entries(e.Key).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),di=e=>({...e,...e.Key&&{Key:Object.entries(e.Key).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),hi=e=>({...e,...e.Item&&{Item:Object.entries(e.Item).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),pi=e=>({...e,...e.ItemCollectionKey&&{ItemCollectionKey:Object.entries(e.ItemCollectionKey).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),vi=e=>({...e,...e.Item&&{Item:Object.entries(e.Item).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),yi=e=>({...e,...e.Parameters&&{Parameters:e.Parameters.map((e=>ri(e)))}}),gi=e=>({...e,...e.Item&&{Item:Object.entries(e.Item).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),mi=e=>({...e,...e.Keys&&{Keys:e.Keys.map((e=>Object.entries(e).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})))}}),bi=e=>({...e,...e.Get&&{Get:fi(e.Get)}}),wi=e=>({...e,...e.Statements&&{Statements:e.Statements.map((e=>oi(e)))}}),Si=e=>({...e,...e.Responses&&{Responses:e.Responses.map((e=>ai(e)))}}),Ei=e=>({...e,...e.TransactStatements&&{TransactStatements:e.TransactStatements.map((e=>yi(e)))}}),_i=e=>({...e,...e.Responses&&{Responses:e.Responses.map((e=>vi(e)))}}),xi=e=>({...e,...e.Responses&&{Responses:e.Responses.map((e=>vi(e)))}}),Ai=e=>({...e,...e.RequestItems&&{RequestItems:Object.entries(e.RequestItems).reduce(((e,[t,n])=>(e[t]=mi(n),e)),{})}}),Ti=e=>({...e,...e.Value&&{Value:ri(e.Value)},...e.AttributeValueList&&{AttributeValueList:e.AttributeValueList.map((e=>ri(e)))}}),Ci=e=>({...e,...e.TransactItems&&{TransactItems:e.TransactItems.map((e=>bi(e)))}}),Ii=e=>({...e,...e.ItemCollectionMetrics&&{ItemCollectionMetrics:Object.entries(e.ItemCollectionMetrics).reduce(((e,[t,n])=>(e[t]=n.map((e=>pi(e))),e)),{})}}),Pi=e=>({...e,...e.Key&&{Key:Object.entries(e.Key).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})},...e.ExpressionAttributeValues&&{ExpressionAttributeValues:Object.entries(e.ExpressionAttributeValues).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),Oi=e=>({...e,...e.Key&&{Key:Object.entries(e.Key).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})},...e.ExpressionAttributeValues&&{ExpressionAttributeValues:Object.entries(e.ExpressionAttributeValues).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),ki=e=>({...e,...e.Item&&{Item:Object.entries(e.Item).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})},...e.ExpressionAttributeValues&&{ExpressionAttributeValues:Object.entries(e.ExpressionAttributeValues).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),Ri=e=>({...e,...e.Key&&{Key:Object.entries(e.Key).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})},...e.ExpressionAttributeValues&&{ExpressionAttributeValues:Object.entries(e.ExpressionAttributeValues).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),Li=e=>({...e,...e.Attributes&&{Attributes:Object.entries(e.Attributes).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})},...e.ItemCollectionMetrics&&{ItemCollectionMetrics:pi(e.ItemCollectionMetrics)}}),Ni=e=>({...e,...e.Items&&{Items:e.Items.map((e=>Object.entries(e).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})))},...e.LastEvaluatedKey&&{LastEvaluatedKey:Object.entries(e.LastEvaluatedKey).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),Di=e=>({...e,...e.Attributes&&{Attributes:Object.entries(e.Attributes).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})},...e.ItemCollectionMetrics&&{ItemCollectionMetrics:pi(e.ItemCollectionMetrics)}}),Mi=e=>({...e,...e.Items&&{Items:e.Items.map((e=>Object.entries(e).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})))},...e.LastEvaluatedKey&&{LastEvaluatedKey:Object.entries(e.LastEvaluatedKey).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),ji=e=>({...e,...e.Items&&{Items:e.Items.map((e=>Object.entries(e).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})))},...e.LastEvaluatedKey&&{LastEvaluatedKey:Object.entries(e.LastEvaluatedKey).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),Ui=e=>({...e,...e.Attributes&&{Attributes:Object.entries(e.Attributes).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})},...e.ItemCollectionMetrics&&{ItemCollectionMetrics:pi(e.ItemCollectionMetrics)}}),Fi=e=>({...e,...e.PutRequest&&{PutRequest:gi(e.PutRequest)},...e.DeleteRequest&&{DeleteRequest:ci(e.DeleteRequest)}}),zi=e=>({...e,...e.Responses&&{Responses:Object.entries(e.Responses).reduce(((e,[t,n])=>(e[t]=n.map((e=>Object.entries(e).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{}))),e)),{})},...e.UnprocessedKeys&&{UnprocessedKeys:Object.entries(e.UnprocessedKeys).reduce(((e,[t,n])=>(e[t]=mi(n),e)),{})}}),Bi=e=>({...e,...e.ScanFilter&&{ScanFilter:Object.entries(e.ScanFilter).reduce(((e,[t,n])=>(e[t]=ui(n),e)),{})},...e.ExclusiveStartKey&&{ExclusiveStartKey:Object.entries(e.ExclusiveStartKey).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})},...e.ExpressionAttributeValues&&{ExpressionAttributeValues:Object.entries(e.ExpressionAttributeValues).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),qi=e=>({...e,...e.RequestItems&&{RequestItems:Object.entries(e.RequestItems).reduce(((e,[t,n])=>(e[t]=n.map((e=>Fi(e))),e)),{})}}),Ki=e=>({...e,...e.Key&&{Key:Object.entries(e.Key).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})},...e.Expected&&{Expected:Object.entries(e.Expected).reduce(((e,[t,n])=>(e[t]=Ti(n),e)),{})},...e.ExpressionAttributeValues&&{ExpressionAttributeValues:Object.entries(e.ExpressionAttributeValues).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),Hi=e=>({...e,...e.Item&&{Item:Object.entries(e.Item).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})},...e.Expected&&{Expected:Object.entries(e.Expected).reduce(((e,[t,n])=>(e[t]=Ti(n),e)),{})},...e.ExpressionAttributeValues&&{ExpressionAttributeValues:Object.entries(e.ExpressionAttributeValues).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),Gi=e=>({...e,...e.KeyConditions&&{KeyConditions:Object.entries(e.KeyConditions).reduce(((e,[t,n])=>(e[t]=ui(n),e)),{})},...e.QueryFilter&&{QueryFilter:Object.entries(e.QueryFilter).reduce(((e,[t,n])=>(e[t]=ui(n),e)),{})},...e.ExclusiveStartKey&&{ExclusiveStartKey:Object.entries(e.ExclusiveStartKey).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})},...e.ExpressionAttributeValues&&{ExpressionAttributeValues:Object.entries(e.ExpressionAttributeValues).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),Vi=e=>({...e,...e.UnprocessedItems&&{UnprocessedItems:Object.entries(e.UnprocessedItems).reduce(((e,[t,n])=>(e[t]=n.map((e=>Fi(e))),e)),{})},...e.ItemCollectionMetrics&&{ItemCollectionMetrics:Object.entries(e.ItemCollectionMetrics).reduce(((e,[t,n])=>(e[t]=n.map((e=>pi(e))),e)),{})}}),$i=e=>({...e,...e.Key&&{Key:Object.entries(e.Key).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})},...e.AttributeUpdates&&{AttributeUpdates:Object.entries(e.AttributeUpdates).reduce(((e,[t,n])=>(e[t]=ii(n),e)),{})},...e.Expected&&{Expected:Object.entries(e.Expected).reduce(((e,[t,n])=>(e[t]=Ti(n),e)),{})},...e.ExpressionAttributeValues&&{ExpressionAttributeValues:Object.entries(e.ExpressionAttributeValues).reduce(((e,[t,n])=>(e[t]=ri(n),e)),{})}}),Wi=e=>({...e,...e.ConditionCheck&&{ConditionCheck:Pi(e.ConditionCheck)},...e.Put&&{Put:ki(e.Put)},...e.Delete&&{Delete:Oi(e.Delete)},...e.Update&&{Update:Ri(e.Update)}}),Yi=e=>({...e,...e.TransactItems&&{TransactItems:e.TransactItems.map((e=>Wi(e)))}});class Zi{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/"}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){const e=new Zi({...this,headers:{...this.headers}});var t;return e.query&&(e.query=(t=e.query,Object.keys(t).reduce(((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}}),{}))),e}}var Ji=n(4586);const Xi=async(e,t)=>{const n=e.body,r=ds(n,t),i=new Oe({$metadata:_c(e),...r});return z(i,n)},Qi=async(e,t)=>{const n=e.body,r=hs(n,t),i=new ke({$metadata:_c(e),...r});return z(i,n)},eo=async(e,t)=>{const n=e.body,r=xs(n,t),i=new Ue({$metadata:_c(e),...r});return z(i,n)},to=async(e,t)=>{const n=e.body,r=Is(n,t),i=new Fe({$metadata:_c(e),...r});return z(i,n)},no=async(e,t)=>{const n=e.body,r=Ds(n,t),i=new Ye({$metadata:_c(e),...r});return z(i,n)},ro=async(e,t)=>{const n=e.body,r=js(n,t),i=new Xe({$metadata:_c(e),...r});return z(i,n)},io=async(e,t)=>{const n=e.body,r=Fs(n,t),i=new Ve({$metadata:_c(e),...r});return z(i,n)},oo=async(e,t)=>{const n=e.body,r=Ws(n,t),i=new Ke({$metadata:_c(e),...r});return z(i,n)},ao=async(e,t)=>{const n=e.body,r=Js(n,t),i=new $e({$metadata:_c(e),...r});return z(i,n)},so=async(e,t)=>{const n=e.body,r=Xs(n,t),i=new Ze({$metadata:_c(e),...r});return z(i,n)},uo=async(e,t)=>{const n=e.body,r=Qs(n,t),i=new tt({$metadata:_c(e),...r});return z(i,n)},co=async(e,t)=>{const n=e.body,r=eu(n,t),i=new We({$metadata:_c(e),...r});return z(i,n)},lo=async(e,t)=>{const n=e.body,r=ru(n,t),i=new at({$metadata:_c(e),...r});return z(i,n)},fo=async(e,t)=>{const n=e.body,r=ou(n,t),i=new Re({$metadata:_c(e),...r});return z(i,n)},ho=async(e,t)=>{const n=e.body,r=au(n,t),i=new Ne({$metadata:_c(e),...r});return z(i,n)},po=async(e,t)=>{const n=e.body,r=su(n,t),i=new Qe({$metadata:_c(e),...r});return z(i,n)},vo=async(e,t)=>{const n=e.body,r=uu(n,t),i=new rt({$metadata:_c(e),...r});return z(i,n)},yo=async(e,t)=>{const n=e.body,r=hu(n,t),i=new je({$metadata:_c(e),...r});return z(i,n)},go=async(e,t)=>{const n=e.body,r=_u(n,t),i=new ze({$metadata:_c(e),...r});return z(i,n)},mo=async(e,t)=>{const n=e.body,r=Lu(n,t),i=new et({$metadata:_c(e),...r});return z(i,n)},bo=async(e,t)=>{const n=e.body,r=ju(n,t),i=new De({$metadata:_c(e),...r});return z(i,n)},wo=async(e,t)=>{const n=e.body,r=Bu(n,t),i=new it({$metadata:_c(e),...r});return z(i,n)},So=async(e,t)=>{const n=e.body,r=Wu(n,t),i=new ot({$metadata:_c(e),...r});return z(i,n)},Eo=async(e,t)=>{const n=e.body,r=Zu(n,t),i=new Le({$metadata:_c(e),...r});return z(i,n)},_o=async(e,t)=>{const n=e.body,r=Ju(n,t),i=new He({$metadata:_c(e),...r});return z(i,n)},xo=async(e,t)=>{const n=e.body,r=Xu(n,t),i=new Me({$metadata:_c(e),...r});return z(i,n)},Ao=async(e,t)=>{const n=e.body,r=uc(n,t),i=new nt({$metadata:_c(e),...r});return z(i,n)},To=async(e,t)=>{const n=e.body,r=hc(n,t),i=new Be({$metadata:_c(e),...r});return z(i,n)},Co=async(e,t)=>{const n=e.body,r=vc(n,t),i=new qe({$metadata:_c(e),...r});return z(i,n)},Io=async(e,t)=>{const n=e.body,r=bc(n,t),i=new st({$metadata:_c(e),...r});return z(i,n)},Po=async(e,t)=>{const n=e.body,r=wc(n,t),i=new Ge({$metadata:_c(e),...r});return z(i,n)},Oo=async(e,t)=>{const n=e.body,r=Sc(n,t),i=new Je({$metadata:_c(e),...r});return z(i,n)},ko=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.AttributeName&&{AttributeName:e.AttributeName},...null!=e.AttributeType&&{AttributeType:e.AttributeType}}))(e))),Ro=(e,t)=>e.filter((e=>null!=e)).map((e=>e)),Lo=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=Mo(r,t)),e)),{}),No=(e,t)=>Pe.visit(e,{B:e=>({B:t.base64Encoder(e)}),BOOL:e=>({BOOL:e}),BS:e=>({BS:qo(e,t)}),L:e=>({L:ba(e,t)}),M:e=>({M:Sa(e,t)}),N:e=>({N:e}),NS:e=>({NS:_a(e,t)}),NULL:e=>({NULL:e}),S:e=>({S:e}),SS:e=>({SS:Ga(e,t)}),_:(e,t)=>({name:t})}),Do=(e,t)=>e.filter((e=>null!=e)).map((e=>No(e,t))),Mo=(e,t)=>({...null!=e.Action&&{Action:e.Action},...null!=e.Value&&{Value:No(e.Value,t)}}),jo=(e,t)=>({...null!=e.PolicyName&&{PolicyName:e.PolicyName},...null!=e.TargetTrackingScalingPolicyConfiguration&&{TargetTrackingScalingPolicyConfiguration:Fo(e.TargetTrackingScalingPolicyConfiguration,t)}}),Uo=(e,t)=>({...null!=e.AutoScalingDisabled&&{AutoScalingDisabled:e.AutoScalingDisabled},...null!=e.AutoScalingRoleArn&&{AutoScalingRoleArn:e.AutoScalingRoleArn},...null!=e.MaximumUnits&&{MaximumUnits:e.MaximumUnits},...null!=e.MinimumUnits&&{MinimumUnits:e.MinimumUnits},...null!=e.ScalingPolicyUpdate&&{ScalingPolicyUpdate:jo(e.ScalingPolicyUpdate,t)}}),Fo=(e,t)=>({...null!=e.DisableScaleIn&&{DisableScaleIn:e.DisableScaleIn},...null!=e.ScaleInCooldown&&{ScaleInCooldown:e.ScaleInCooldown},...null!=e.ScaleOutCooldown&&{ScaleOutCooldown:e.ScaleOutCooldown},...null!=e.TargetValue&&{TargetValue:G(e.TargetValue)}}),zo=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=va(r,t)),e)),{}),Bo=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=ts(r,t)),e)),{}),qo=(e,t)=>e.filter((e=>null!=e)).map((e=>t.base64Encoder(e))),Ko=(e,t)=>({...null!=e.AttributeValueList&&{AttributeValueList:Do(e.AttributeValueList,t)},...null!=e.ComparisonOperator&&{ComparisonOperator:e.ComparisonOperator}}),Ho=(e,t)=>({...null!=e.ConditionExpression&&{ConditionExpression:e.ConditionExpression},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.ExpressionAttributeValues&&{ExpressionAttributeValues:ia(e.ExpressionAttributeValues,t)},...null!=e.Key&&{Key:da(e.Key,t)},...null!=e.ReturnValuesOnConditionCheckFailure&&{ReturnValuesOnConditionCheckFailure:e.ReturnValuesOnConditionCheckFailure},...null!=e.TableName&&{TableName:e.TableName}}),Go=(e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.KeySchema&&{KeySchema:ya(e.KeySchema,t)},...null!=e.Projection&&{Projection:Ia(e.Projection,t)},...null!=e.ProvisionedThroughput&&{ProvisionedThroughput:Pa(e.ProvisionedThroughput,t)}}),Vo=(e,t)=>({...null!=e.RegionName&&{RegionName:e.RegionName}}),$o=(e,t)=>({...null!=e.GlobalSecondaryIndexes&&{GlobalSecondaryIndexes:Ma(e.GlobalSecondaryIndexes,t)},...null!=e.KMSMasterKeyId&&{KMSMasterKeyId:e.KMSMasterKeyId},...null!=e.ProvisionedThroughputOverride&&{ProvisionedThroughputOverride:Oa(e.ProvisionedThroughputOverride,t)},...null!=e.RegionName&&{RegionName:e.RegionName},...null!=e.TableClassOverride&&{TableClassOverride:e.TableClassOverride}}),Wo=(e,t)=>e.filter((e=>null!=e)).map((e=>e)),Yo=(e,t)=>({...null!=e.Delimiter&&{Delimiter:e.Delimiter},...null!=e.HeaderList&&{HeaderList:Wo(e.HeaderList)}}),Zo=(e,t)=>({...null!=e.ConditionExpression&&{ConditionExpression:e.ConditionExpression},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.ExpressionAttributeValues&&{ExpressionAttributeValues:ia(e.ExpressionAttributeValues,t)},...null!=e.Key&&{Key:da(e.Key,t)},...null!=e.ReturnValuesOnConditionCheckFailure&&{ReturnValuesOnConditionCheckFailure:e.ReturnValuesOnConditionCheckFailure},...null!=e.TableName&&{TableName:e.TableName}}),Jo=(e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName}}),Xo=(e,t)=>({...null!=e.RegionName&&{RegionName:e.RegionName}}),Qo=(e,t)=>({...null!=e.RegionName&&{RegionName:e.RegionName}}),ea=(e,t)=>({...null!=e.Key&&{Key:da(e.Key,t)}}),ta=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=na(r,t)),e)),{}),na=(e,t)=>({...null!=e.AttributeValueList&&{AttributeValueList:Do(e.AttributeValueList,t)},...null!=e.ComparisonOperator&&{ComparisonOperator:e.ComparisonOperator},...null!=e.Exists&&{Exists:e.Exists},...null!=e.Value&&{Value:No(e.Value,t)}}),ra=(e,t)=>Object.entries(e).reduce(((e,[t,n])=>(null===n||(e[t]=n),e)),{}),ia=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=No(r,t)),e)),{}),oa=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=Ko(r,t)),e)),{}),aa=(e,t)=>({...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.Key&&{Key:da(e.Key,t)},...null!=e.ProjectionExpression&&{ProjectionExpression:e.ProjectionExpression},...null!=e.TableName&&{TableName:e.TableName}}),sa=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.ProvisionedWriteCapacityAutoScalingUpdate&&{ProvisionedWriteCapacityAutoScalingUpdate:Uo(e.ProvisionedWriteCapacityAutoScalingUpdate,t)}}))(e,t))),ua=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.KeySchema&&{KeySchema:ya(e.KeySchema,t)},...null!=e.Projection&&{Projection:Ia(e.Projection,t)},...null!=e.ProvisionedThroughput&&{ProvisionedThroughput:Pa(e.ProvisionedThroughput,t)}}))(e,t))),ca=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.Create&&{Create:Go(e.Create,t)},...null!=e.Delete&&{Delete:Jo(e.Delete)},...null!=e.Update&&{Update:Qa(e.Update,t)}}))(e,t))),la=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.ProvisionedWriteCapacityAutoScalingSettingsUpdate&&{ProvisionedWriteCapacityAutoScalingSettingsUpdate:Uo(e.ProvisionedWriteCapacityAutoScalingSettingsUpdate,t)},...null!=e.ProvisionedWriteCapacityUnits&&{ProvisionedWriteCapacityUnits:e.ProvisionedWriteCapacityUnits}}))(e,t))),fa=(e,t)=>({...null!=e.Csv&&{Csv:Yo(e.Csv)}}),da=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=No(r,t)),e)),{}),ha=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=Ko(r,t)),e)),{}),pa=(e,t)=>e.filter((e=>null!=e)).map((e=>da(e,t))),va=(e,t)=>({...null!=e.AttributesToGet&&{AttributesToGet:Ro(e.AttributesToGet)},...null!=e.ConsistentRead&&{ConsistentRead:e.ConsistentRead},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.Keys&&{Keys:pa(e.Keys,t)},...null!=e.ProjectionExpression&&{ProjectionExpression:e.ProjectionExpression}}),ya=(e,t)=>e.filter((e=>null!=e)).map((e=>ga(e,t))),ga=(e,t)=>({...null!=e.AttributeName&&{AttributeName:e.AttributeName},...null!=e.KeyType&&{KeyType:e.KeyType}}),ma=(e,t)=>({...null!=e.StreamArn&&{StreamArn:e.StreamArn},...null!=e.TableName&&{TableName:e.TableName}}),ba=(e,t)=>e.filter((e=>null!=e)).map((e=>No(e,t))),wa=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.KeySchema&&{KeySchema:ya(e.KeySchema,t)},...null!=e.Projection&&{Projection:Ia(e.Projection,t)}}))(e,t))),Sa=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=No(r,t)),e)),{}),Ea=(e,t)=>e.filter((e=>null!=e)).map((e=>e)),_a=(e,t)=>e.filter((e=>null!=e)).map((e=>e)),xa=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.Parameters&&{Parameters:Ca(e.Parameters,t)},...null!=e.Statement&&{Statement:e.Statement}}))(e,t))),Aa=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.ConsistentRead&&{ConsistentRead:e.ConsistentRead},...null!=e.Parameters&&{Parameters:Ca(e.Parameters,t)},...null!=e.Statement&&{Statement:e.Statement}}))(e,t))),Ta=(e,t)=>({...null!=e.PointInTimeRecoveryEnabled&&{PointInTimeRecoveryEnabled:e.PointInTimeRecoveryEnabled}}),Ca=(e,t)=>e.filter((e=>null!=e)).map((e=>No(e,t))),Ia=(e,t)=>({...null!=e.NonKeyAttributes&&{NonKeyAttributes:Ea(e.NonKeyAttributes)},...null!=e.ProjectionType&&{ProjectionType:e.ProjectionType}}),Pa=(e,t)=>({...null!=e.ReadCapacityUnits&&{ReadCapacityUnits:e.ReadCapacityUnits},...null!=e.WriteCapacityUnits&&{WriteCapacityUnits:e.WriteCapacityUnits}}),Oa=(e,t)=>({...null!=e.ReadCapacityUnits&&{ReadCapacityUnits:e.ReadCapacityUnits}}),ka=(e,t)=>({...null!=e.ConditionExpression&&{ConditionExpression:e.ConditionExpression},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.ExpressionAttributeValues&&{ExpressionAttributeValues:ia(e.ExpressionAttributeValues,t)},...null!=e.Item&&{Item:Ra(e.Item,t)},...null!=e.ReturnValuesOnConditionCheckFailure&&{ReturnValuesOnConditionCheckFailure:e.ReturnValuesOnConditionCheckFailure},...null!=e.TableName&&{TableName:e.TableName}}),Ra=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=No(r,t)),e)),{}),La=(e,t)=>({...null!=e.Item&&{Item:Ra(e.Item,t)}}),Na=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.RegionName&&{RegionName:e.RegionName},...null!=e.ReplicaGlobalSecondaryIndexUpdates&&{ReplicaGlobalSecondaryIndexUpdates:Da(e.ReplicaGlobalSecondaryIndexUpdates,t)},...null!=e.ReplicaProvisionedReadCapacityAutoScalingUpdate&&{ReplicaProvisionedReadCapacityAutoScalingUpdate:Uo(e.ReplicaProvisionedReadCapacityAutoScalingUpdate,t)}}))(e,t))),Da=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.ProvisionedReadCapacityAutoScalingUpdate&&{ProvisionedReadCapacityAutoScalingUpdate:Uo(e.ProvisionedReadCapacityAutoScalingUpdate,t)}}))(e,t))),Ma=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.ProvisionedThroughputOverride&&{ProvisionedThroughputOverride:Oa(e.ProvisionedThroughputOverride,t)}}))(e,t))),ja=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.ProvisionedReadCapacityAutoScalingSettingsUpdate&&{ProvisionedReadCapacityAutoScalingSettingsUpdate:Uo(e.ProvisionedReadCapacityAutoScalingSettingsUpdate,t)},...null!=e.ProvisionedReadCapacityUnits&&{ProvisionedReadCapacityUnits:e.ProvisionedReadCapacityUnits}}))(e,t))),Ua=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.RegionName&&{RegionName:e.RegionName}}))(e))),Fa=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.RegionName&&{RegionName:e.RegionName},...null!=e.ReplicaGlobalSecondaryIndexSettingsUpdate&&{ReplicaGlobalSecondaryIndexSettingsUpdate:ja(e.ReplicaGlobalSecondaryIndexSettingsUpdate,t)},...null!=e.ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate&&{ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate:Uo(e.ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate,t)},...null!=e.ReplicaProvisionedReadCapacityUnits&&{ReplicaProvisionedReadCapacityUnits:e.ReplicaProvisionedReadCapacityUnits},...null!=e.ReplicaTableClass&&{ReplicaTableClass:e.ReplicaTableClass}}))(e,t))),za=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.Create&&{Create:$o(e.Create,t)},...null!=e.Delete&&{Delete:Qo(e.Delete)},...null!=e.Update&&{Update:es(e.Update,t)}}))(e,t))),Ba=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.Create&&{Create:Vo(e.Create)},...null!=e.Delete&&{Delete:Xo(e.Delete)}}))(e))),qa=(e,t)=>({...null!=e.S3Bucket&&{S3Bucket:e.S3Bucket},...null!=e.S3BucketOwner&&{S3BucketOwner:e.S3BucketOwner},...null!=e.S3KeyPrefix&&{S3KeyPrefix:e.S3KeyPrefix}}),Ka=(e,t)=>({...null!=e.Enabled&&{Enabled:e.Enabled},...null!=e.KMSMasterKeyId&&{KMSMasterKeyId:e.KMSMasterKeyId},...null!=e.SSEType&&{SSEType:e.SSEType}}),Ha=(e,t)=>({...null!=e.StreamEnabled&&{StreamEnabled:e.StreamEnabled},...null!=e.StreamViewType&&{StreamViewType:e.StreamViewType}}),Ga=(e,t)=>e.filter((e=>null!=e)).map((e=>e)),Va=(e,t)=>({...null!=e.AttributeDefinitions&&{AttributeDefinitions:ko(e.AttributeDefinitions)},...null!=e.BillingMode&&{BillingMode:e.BillingMode},...null!=e.GlobalSecondaryIndexes&&{GlobalSecondaryIndexes:ua(e.GlobalSecondaryIndexes,t)},...null!=e.KeySchema&&{KeySchema:ya(e.KeySchema,t)},...null!=e.ProvisionedThroughput&&{ProvisionedThroughput:Pa(e.ProvisionedThroughput,t)},...null!=e.SSESpecification&&{SSESpecification:Ka(e.SSESpecification,t)},...null!=e.TableName&&{TableName:e.TableName}}),$a=(e,t)=>e.filter((e=>null!=e)).map((e=>e)),Wa=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.Key&&{Key:e.Key},...null!=e.Value&&{Value:e.Value}}))(e))),Ya=(e,t)=>({...null!=e.AttributeName&&{AttributeName:e.AttributeName},...null!=e.Enabled&&{Enabled:e.Enabled}}),Za=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.Get&&{Get:aa(e.Get,t)}}))(e,t))),Ja=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.ConditionCheck&&{ConditionCheck:Ho(e.ConditionCheck,t)},...null!=e.Delete&&{Delete:Zo(e.Delete,t)},...null!=e.Put&&{Put:ka(e.Put,t)},...null!=e.Update&&{Update:Xa(e.Update,t)}}))(e,t))),Xa=(e,t)=>({...null!=e.ConditionExpression&&{ConditionExpression:e.ConditionExpression},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.ExpressionAttributeValues&&{ExpressionAttributeValues:ia(e.ExpressionAttributeValues,t)},...null!=e.Key&&{Key:da(e.Key,t)},...null!=e.ReturnValuesOnConditionCheckFailure&&{ReturnValuesOnConditionCheckFailure:e.ReturnValuesOnConditionCheckFailure},...null!=e.TableName&&{TableName:e.TableName},...null!=e.UpdateExpression&&{UpdateExpression:e.UpdateExpression}}),Qa=(e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.ProvisionedThroughput&&{ProvisionedThroughput:Pa(e.ProvisionedThroughput,t)}}),es=(e,t)=>({...null!=e.GlobalSecondaryIndexes&&{GlobalSecondaryIndexes:Ma(e.GlobalSecondaryIndexes,t)},...null!=e.KMSMasterKeyId&&{KMSMasterKeyId:e.KMSMasterKeyId},...null!=e.ProvisionedThroughputOverride&&{ProvisionedThroughputOverride:Oa(e.ProvisionedThroughputOverride,t)},...null!=e.RegionName&&{RegionName:e.RegionName},...null!=e.TableClassOverride&&{TableClassOverride:e.TableClassOverride}}),ts=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.DeleteRequest&&{DeleteRequest:ea(e.DeleteRequest,t)},...null!=e.PutRequest&&{PutRequest:La(e.PutRequest,t)}}))(e,t))),ns=(e,t)=>({ArchivalBackupArn:O(e.ArchivalBackupArn),ArchivalDateTime:null!=e.ArchivalDateTime?P(U(x(e.ArchivalDateTime))):void 0,ArchivalReason:O(e.ArchivalReason)}),rs=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({AttributeName:O(e.AttributeName),AttributeType:O(e.AttributeType)}))(e)));return n},is=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=as(k(r),t)),e)),{}),os=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:O(e)));return n},as=(e,t)=>null!=e.B?{B:t.base64Decoder(e.B)}:void 0!==_(e.BOOL)?{BOOL:_(e.BOOL)}:null!=e.BS?{BS:Ss(e.BS,t)}:null!=e.L?{L:xu(e.L,t)}:null!=e.M?{M:Iu(e.M,t)}:void 0!==O(e.N)?{N:O(e.N)}:null!=e.NS?{NS:Ou(e.NS,t)}:void 0!==_(e.NULL)?{NULL:_(e.NULL)}:void 0!==O(e.S)?{S:O(e.S)}:null!=e.SS?{SS:sc(e.SS,t)}:{$unknown:Object.entries(e)[0]},ss=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({PolicyName:O(e.PolicyName),TargetTrackingScalingPolicyConfiguration:null!=e.TargetTrackingScalingPolicyConfiguration?cs(e.TargetTrackingScalingPolicyConfiguration,t):void 0}))(e,t)));return n},us=(e,t)=>({AutoScalingDisabled:_(e.AutoScalingDisabled),AutoScalingRoleArn:O(e.AutoScalingRoleArn),MaximumUnits:A(e.MaximumUnits),MinimumUnits:A(e.MinimumUnits),ScalingPolicies:null!=e.ScalingPolicies?ss(e.ScalingPolicies,t):void 0}),cs=(e,t)=>({DisableScaleIn:_(e.DisableScaleIn),ScaleInCooldown:T(e.ScaleInCooldown),ScaleOutCooldown:T(e.ScaleOutCooldown),TargetValue:N(e.TargetValue)}),ls=(e,t)=>({BackupDetails:null!=e.BackupDetails?fs(e.BackupDetails,t):void 0,SourceTableDetails:null!=e.SourceTableDetails?nc(e.SourceTableDetails,t):void 0,SourceTableFeatureDetails:null!=e.SourceTableFeatureDetails?rc(e.SourceTableFeatureDetails,t):void 0}),fs=(e,t)=>({BackupArn:O(e.BackupArn),BackupCreationDateTime:null!=e.BackupCreationDateTime?P(U(x(e.BackupCreationDateTime))):void 0,BackupExpiryDateTime:null!=e.BackupExpiryDateTime?P(U(x(e.BackupExpiryDateTime))):void 0,BackupName:O(e.BackupName),BackupSizeBytes:A(e.BackupSizeBytes),BackupStatus:O(e.BackupStatus),BackupType:O(e.BackupType)}),ds=(e,t)=>({message:O(e.message)}),hs=(e,t)=>({message:O(e.message)}),ps=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:vs(e,t)));return n},vs=(e,t)=>({BackupArn:O(e.BackupArn),BackupCreationDateTime:null!=e.BackupCreationDateTime?P(U(x(e.BackupCreationDateTime))):void 0,BackupExpiryDateTime:null!=e.BackupExpiryDateTime?P(U(x(e.BackupExpiryDateTime))):void 0,BackupName:O(e.BackupName),BackupSizeBytes:A(e.BackupSizeBytes),BackupStatus:O(e.BackupStatus),BackupType:O(e.BackupType),TableArn:O(e.TableArn),TableId:O(e.TableId),TableName:O(e.TableName)}),ys=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=mu(r,t)),e)),{}),gs=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=pu(r,t)),e)),{}),ms=(e,t)=>({Code:O(e.Code),Message:O(e.Message)}),bs=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=Ec(r,t)),e)),{}),ws=(e,t)=>({BillingMode:O(e.BillingMode),LastUpdateToPayPerRequestDateTime:null!=e.LastUpdateToPayPerRequestDateTime?P(U(x(e.LastUpdateToPayPerRequestDateTime))):void 0}),Ss=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:t.base64Decoder(e)));return n},Es=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({Code:O(e.Code),Item:null!=e.Item?is(e.Item,t):void 0,Message:O(e.Message)}))(e,t)));return n},_s=(e,t)=>({CapacityUnits:N(e.CapacityUnits),ReadCapacityUnits:N(e.ReadCapacityUnits),WriteCapacityUnits:N(e.WriteCapacityUnits)}),xs=(e,t)=>({message:O(e.message)}),As=(e,t)=>({CapacityUnits:N(e.CapacityUnits),GlobalSecondaryIndexes:null!=e.GlobalSecondaryIndexes?tc(e.GlobalSecondaryIndexes,t):void 0,LocalSecondaryIndexes:null!=e.LocalSecondaryIndexes?tc(e.LocalSecondaryIndexes,t):void 0,ReadCapacityUnits:N(e.ReadCapacityUnits),Table:null!=e.Table?_s(e.Table):void 0,TableName:O(e.TableName),WriteCapacityUnits:N(e.WriteCapacityUnits)}),Ts=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:As(e,t)));return n},Cs=(e,t)=>({ContinuousBackupsStatus:O(e.ContinuousBackupsStatus),PointInTimeRecoveryDescription:null!=e.PointInTimeRecoveryDescription?Ru(e.PointInTimeRecoveryDescription,t):void 0}),Is=(e,t)=>({message:O(e.message)}),Ps=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:O(e)));return n},Os=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:ks(e,t)));return n},ks=(e,t)=>({ContributorInsightsStatus:O(e.ContributorInsightsStatus),IndexName:O(e.IndexName),TableName:O(e.TableName)}),Rs=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:O(e)));return n},Ls=(e,t)=>({Delimiter:O(e.Delimiter),HeaderList:null!=e.HeaderList?Rs(e.HeaderList):void 0}),Ns=(e,t)=>({Key:null!=e.Key?yu(e.Key,t):void 0}),Ds=(e,t)=>({message:O(e.message)}),Ms=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({Address:O(e.Address),CachePeriodInMinutes:A(e.CachePeriodInMinutes)}))(e)));return n},js=(e,t)=>({message:O(e.message)}),Us=(e,t)=>({BilledSizeBytes:A(e.BilledSizeBytes),ClientToken:O(e.ClientToken),EndTime:null!=e.EndTime?P(U(x(e.EndTime))):void 0,ExportArn:O(e.ExportArn),ExportFormat:O(e.ExportFormat),ExportManifest:O(e.ExportManifest),ExportStatus:O(e.ExportStatus),ExportTime:null!=e.ExportTime?P(U(x(e.ExportTime))):void 0,FailureCode:O(e.FailureCode),FailureMessage:O(e.FailureMessage),ItemCount:A(e.ItemCount),S3Bucket:O(e.S3Bucket),S3BucketOwner:O(e.S3BucketOwner),S3Prefix:O(e.S3Prefix),S3SseAlgorithm:O(e.S3SseAlgorithm),S3SseKmsKeyId:O(e.S3SseKmsKeyId),StartTime:null!=e.StartTime?P(U(x(e.StartTime))):void 0,TableArn:O(e.TableArn),TableId:O(e.TableId)}),Fs=(e,t)=>({message:O(e.message)}),zs=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:Bs(e,t)));return n},Bs=(e,t)=>({ExportArn:O(e.ExportArn),ExportStatus:O(e.ExportStatus)}),qs=(e,t)=>Object.entries(e).reduce(((e,[t,n])=>(null===n||(e[t]=O(n)),e)),{}),Ks=(e,t)=>({ExceptionDescription:O(e.ExceptionDescription),ExceptionName:O(e.ExceptionName)}),Hs=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({Backfilling:_(e.Backfilling),IndexArn:O(e.IndexArn),IndexName:O(e.IndexName),IndexSizeBytes:A(e.IndexSizeBytes),IndexStatus:O(e.IndexStatus),ItemCount:A(e.ItemCount),KeySchema:null!=e.KeySchema?bu(e.KeySchema,t):void 0,Projection:null!=e.Projection?Nu(e.Projection,t):void 0,ProvisionedThroughput:null!=e.ProvisionedThroughput?Mu(e.ProvisionedThroughput,t):void 0}))(e,t)));return n},Gs=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:Vs(e,t)));return n},Vs=(e,t)=>({IndexName:O(e.IndexName),KeySchema:null!=e.KeySchema?bu(e.KeySchema,t):void 0,Projection:null!=e.Projection?Nu(e.Projection,t):void 0,ProvisionedThroughput:null!=e.ProvisionedThroughput?Du(e.ProvisionedThroughput,t):void 0}),$s=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({IndexName:O(e.IndexName),KeySchema:null!=e.KeySchema?bu(e.KeySchema,t):void 0,Projection:null!=e.Projection?Nu(e.Projection,t):void 0,ProvisionedThroughput:null!=e.ProvisionedThroughput?Du(e.ProvisionedThroughput,t):void 0}))(e,t)));return n},Ws=(e,t)=>({message:O(e.message)}),Ys=(e,t)=>({CreationDateTime:null!=e.CreationDateTime?P(U(x(e.CreationDateTime))):void 0,GlobalTableArn:O(e.GlobalTableArn),GlobalTableName:O(e.GlobalTableName),GlobalTableStatus:O(e.GlobalTableStatus),ReplicationGroup:null!=e.ReplicationGroup?Ku(e.ReplicationGroup,t):void 0}),Zs=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({GlobalTableName:O(e.GlobalTableName),ReplicationGroup:null!=e.ReplicationGroup?$u(e.ReplicationGroup,t):void 0}))(e,t)));return n},Js=(e,t)=>({message:O(e.message)}),Xs=(e,t)=>({Message:O(e.Message)}),Qs=(e,t)=>({message:O(e.message)}),eu=(e,t)=>({message:O(e.message)}),tu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({CloudWatchLogGroupArn:O(e.CloudWatchLogGroupArn),EndTime:null!=e.EndTime?P(U(x(e.EndTime))):void 0,ImportArn:O(e.ImportArn),ImportStatus:O(e.ImportStatus),InputFormat:O(e.InputFormat),S3BucketSource:null!=e.S3BucketSource?ec(e.S3BucketSource,t):void 0,StartTime:null!=e.StartTime?P(U(x(e.StartTime))):void 0,TableArn:O(e.TableArn)}))(e,t)));return n},nu=(e,t)=>({ClientToken:O(e.ClientToken),CloudWatchLogGroupArn:O(e.CloudWatchLogGroupArn),EndTime:null!=e.EndTime?P(U(x(e.EndTime))):void 0,ErrorCount:A(e.ErrorCount),FailureCode:O(e.FailureCode),FailureMessage:O(e.FailureMessage),ImportArn:O(e.ImportArn),ImportStatus:O(e.ImportStatus),ImportedItemCount:A(e.ImportedItemCount),InputCompressionType:O(e.InputCompressionType),InputFormat:O(e.InputFormat),InputFormatOptions:null!=e.InputFormatOptions?iu(e.InputFormatOptions,t):void 0,ProcessedItemCount:A(e.ProcessedItemCount),ProcessedSizeBytes:A(e.ProcessedSizeBytes),S3BucketSource:null!=e.S3BucketSource?ec(e.S3BucketSource,t):void 0,StartTime:null!=e.StartTime?P(U(x(e.StartTime))):void 0,TableArn:O(e.TableArn),TableCreationParameters:null!=e.TableCreationParameters?fc(e.TableCreationParameters,t):void 0,TableId:O(e.TableId)}),ru=(e,t)=>({message:O(e.message)}),iu=(e,t)=>({Csv:null!=e.Csv?Ls(e.Csv):void 0}),ou=(e,t)=>({message:O(e.message)}),au=(e,t)=>({Message:O(e.Message)}),su=(e,t)=>({message:O(e.message)}),uu=(e,t)=>({message:O(e.message)}),cu=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=as(k(r),t)),e)),{}),lu=(e,t)=>({ItemCollectionKey:null!=e.ItemCollectionKey?cu(e.ItemCollectionKey,t):void 0,SizeEstimateRangeGB:null!=e.SizeEstimateRangeGB?du(e.SizeEstimateRangeGB,t):void 0}),fu=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:lu(e,t)));return n})(r,t)),e)),{}),du=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:N(e)));return n},hu=(e,t)=>({message:O(e.message)}),pu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:is(e,t)));return n},vu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({Item:null!=e.Item?is(e.Item,t):void 0}))(e,t)));return n},yu=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=as(k(r),t)),e)),{}),gu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:yu(e,t)));return n},mu=(e,t)=>({AttributesToGet:null!=e.AttributesToGet?os(e.AttributesToGet):void 0,ConsistentRead:_(e.ConsistentRead),ExpressionAttributeNames:null!=e.ExpressionAttributeNames?qs(e.ExpressionAttributeNames):void 0,Keys:null!=e.Keys?gu(e.Keys,t):void 0,ProjectionExpression:O(e.ProjectionExpression)}),bu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:wu(e,t)));return n},wu=(e,t)=>({AttributeName:O(e.AttributeName),KeyType:O(e.KeyType)}),Su=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({DestinationStatus:O(e.DestinationStatus),DestinationStatusDescription:O(e.DestinationStatusDescription),StreamArn:O(e.StreamArn)}))(e)));return n},Eu=(e,t)=>({DestinationStatus:O(e.DestinationStatus),StreamArn:O(e.StreamArn),TableName:O(e.TableName)}),_u=(e,t)=>({message:O(e.message)}),xu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:as(k(e),t)));return n},Au=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({IndexArn:O(e.IndexArn),IndexName:O(e.IndexName),IndexSizeBytes:A(e.IndexSizeBytes),ItemCount:A(e.ItemCount),KeySchema:null!=e.KeySchema?bu(e.KeySchema,t):void 0,Projection:null!=e.Projection?Nu(e.Projection,t):void 0}))(e,t)));return n},Tu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:Cu(e,t)));return n},Cu=(e,t)=>({IndexName:O(e.IndexName),KeySchema:null!=e.KeySchema?bu(e.KeySchema,t):void 0,Projection:null!=e.Projection?Nu(e.Projection,t):void 0}),Iu=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=as(k(r),t)),e)),{}),Pu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:O(e)));return n},Ou=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:O(e)));return n},ku=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({Error:null!=e.Error?ms(e.Error):void 0,Item:null!=e.Item?is(e.Item,t):void 0,TableName:O(e.TableName)}))(e,t)));return n},Ru=(e,t)=>({EarliestRestorableDateTime:null!=e.EarliestRestorableDateTime?P(U(x(e.EarliestRestorableDateTime))):void 0,LatestRestorableDateTime:null!=e.LatestRestorableDateTime?P(U(x(e.LatestRestorableDateTime))):void 0,PointInTimeRecoveryStatus:O(e.PointInTimeRecoveryStatus)}),Lu=(e,t)=>({message:O(e.message)}),Nu=(e,t)=>({NonKeyAttributes:null!=e.NonKeyAttributes?Pu(e.NonKeyAttributes):void 0,ProjectionType:O(e.ProjectionType)}),Du=(e,t)=>({ReadCapacityUnits:A(e.ReadCapacityUnits),WriteCapacityUnits:A(e.WriteCapacityUnits)}),Mu=(e,t)=>({LastDecreaseDateTime:null!=e.LastDecreaseDateTime?P(U(x(e.LastDecreaseDateTime))):void 0,LastIncreaseDateTime:null!=e.LastIncreaseDateTime?P(U(x(e.LastIncreaseDateTime))):void 0,NumberOfDecreasesToday:A(e.NumberOfDecreasesToday),ReadCapacityUnits:A(e.ReadCapacityUnits),WriteCapacityUnits:A(e.WriteCapacityUnits)}),ju=(e,t)=>({message:O(e.message)}),Uu=(e,t)=>({ReadCapacityUnits:A(e.ReadCapacityUnits)}),Fu=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=as(k(r),t)),e)),{}),zu=(e,t)=>({Item:null!=e.Item?Fu(e.Item,t):void 0}),Bu=(e,t)=>({message:O(e.message)}),qu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({GlobalSecondaryIndexes:null!=e.GlobalSecondaryIndexes?Hu(e.GlobalSecondaryIndexes,t):void 0,RegionName:O(e.RegionName),ReplicaProvisionedReadCapacityAutoScalingSettings:null!=e.ReplicaProvisionedReadCapacityAutoScalingSettings?us(e.ReplicaProvisionedReadCapacityAutoScalingSettings,t):void 0,ReplicaProvisionedWriteCapacityAutoScalingSettings:null!=e.ReplicaProvisionedWriteCapacityAutoScalingSettings?us(e.ReplicaProvisionedWriteCapacityAutoScalingSettings,t):void 0,ReplicaStatus:O(e.ReplicaStatus)}))(e,t)));return n},Ku=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({GlobalSecondaryIndexes:null!=e.GlobalSecondaryIndexes?Gu(e.GlobalSecondaryIndexes,t):void 0,KMSMasterKeyId:O(e.KMSMasterKeyId),ProvisionedThroughputOverride:null!=e.ProvisionedThroughputOverride?Uu(e.ProvisionedThroughputOverride):void 0,RegionName:O(e.RegionName),ReplicaInaccessibleDateTime:null!=e.ReplicaInaccessibleDateTime?P(U(x(e.ReplicaInaccessibleDateTime))):void 0,ReplicaStatus:O(e.ReplicaStatus),ReplicaStatusDescription:O(e.ReplicaStatusDescription),ReplicaStatusPercentProgress:O(e.ReplicaStatusPercentProgress),ReplicaTableClassSummary:null!=e.ReplicaTableClassSummary?lc(e.ReplicaTableClassSummary,t):void 0}))(e,t)));return n},Hu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({IndexName:O(e.IndexName),IndexStatus:O(e.IndexStatus),ProvisionedReadCapacityAutoScalingSettings:null!=e.ProvisionedReadCapacityAutoScalingSettings?us(e.ProvisionedReadCapacityAutoScalingSettings,t):void 0,ProvisionedWriteCapacityAutoScalingSettings:null!=e.ProvisionedWriteCapacityAutoScalingSettings?us(e.ProvisionedWriteCapacityAutoScalingSettings,t):void 0}))(e,t)));return n},Gu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({IndexName:O(e.IndexName),ProvisionedThroughputOverride:null!=e.ProvisionedThroughputOverride?Uu(e.ProvisionedThroughputOverride):void 0}))(e)));return n},Vu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({IndexName:O(e.IndexName),IndexStatus:O(e.IndexStatus),ProvisionedReadCapacityAutoScalingSettings:null!=e.ProvisionedReadCapacityAutoScalingSettings?us(e.ProvisionedReadCapacityAutoScalingSettings,t):void 0,ProvisionedReadCapacityUnits:A(e.ProvisionedReadCapacityUnits),ProvisionedWriteCapacityAutoScalingSettings:null!=e.ProvisionedWriteCapacityAutoScalingSettings?us(e.ProvisionedWriteCapacityAutoScalingSettings,t):void 0,ProvisionedWriteCapacityUnits:A(e.ProvisionedWriteCapacityUnits)}))(e,t)));return n},$u=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({RegionName:O(e.RegionName)}))(e)));return n},Wu=(e,t)=>({message:O(e.message)}),Yu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({RegionName:O(e.RegionName),ReplicaBillingModeSummary:null!=e.ReplicaBillingModeSummary?ws(e.ReplicaBillingModeSummary):void 0,ReplicaGlobalSecondaryIndexSettings:null!=e.ReplicaGlobalSecondaryIndexSettings?Vu(e.ReplicaGlobalSecondaryIndexSettings,t):void 0,ReplicaProvisionedReadCapacityAutoScalingSettings:null!=e.ReplicaProvisionedReadCapacityAutoScalingSettings?us(e.ReplicaProvisionedReadCapacityAutoScalingSettings,t):void 0,ReplicaProvisionedReadCapacityUnits:A(e.ReplicaProvisionedReadCapacityUnits),ReplicaProvisionedWriteCapacityAutoScalingSettings:null!=e.ReplicaProvisionedWriteCapacityAutoScalingSettings?us(e.ReplicaProvisionedWriteCapacityAutoScalingSettings,t):void 0,ReplicaProvisionedWriteCapacityUnits:A(e.ReplicaProvisionedWriteCapacityUnits),ReplicaStatus:O(e.ReplicaStatus),ReplicaTableClassSummary:null!=e.ReplicaTableClassSummary?lc(e.ReplicaTableClassSummary,t):void 0}))(e,t)));return n},Zu=(e,t)=>({message:O(e.message)}),Ju=(e,t)=>({message:O(e.message)}),Xu=(e,t)=>({message:O(e.message)}),Qu=(e,t)=>({RestoreDateTime:null!=e.RestoreDateTime?P(U(x(e.RestoreDateTime))):void 0,RestoreInProgress:_(e.RestoreInProgress),SourceBackupArn:O(e.SourceBackupArn),SourceTableArn:O(e.SourceTableArn)}),ec=(e,t)=>({S3Bucket:O(e.S3Bucket),S3BucketOwner:O(e.S3BucketOwner),S3KeyPrefix:O(e.S3KeyPrefix)}),tc=(e,t)=>Object.entries(e).reduce(((e,[t,n])=>(null===n||(e[t]=_s(n)),e)),{}),nc=(e,t)=>({BillingMode:O(e.BillingMode),ItemCount:A(e.ItemCount),KeySchema:null!=e.KeySchema?bu(e.KeySchema,t):void 0,ProvisionedThroughput:null!=e.ProvisionedThroughput?Du(e.ProvisionedThroughput,t):void 0,TableArn:O(e.TableArn),TableCreationDateTime:null!=e.TableCreationDateTime?P(U(x(e.TableCreationDateTime))):void 0,TableId:O(e.TableId),TableName:O(e.TableName),TableSizeBytes:A(e.TableSizeBytes)}),rc=(e,t)=>({GlobalSecondaryIndexes:null!=e.GlobalSecondaryIndexes?Gs(e.GlobalSecondaryIndexes,t):void 0,LocalSecondaryIndexes:null!=e.LocalSecondaryIndexes?Tu(e.LocalSecondaryIndexes,t):void 0,SSEDescription:null!=e.SSEDescription?ic(e.SSEDescription,t):void 0,StreamDescription:null!=e.StreamDescription?ac(e.StreamDescription,t):void 0,TimeToLiveDescription:null!=e.TimeToLiveDescription?gc(e.TimeToLiveDescription,t):void 0}),ic=(e,t)=>({InaccessibleEncryptionDateTime:null!=e.InaccessibleEncryptionDateTime?P(U(x(e.InaccessibleEncryptionDateTime))):void 0,KMSMasterKeyArn:O(e.KMSMasterKeyArn),SSEType:O(e.SSEType),Status:O(e.Status)}),oc=(e,t)=>({Enabled:_(e.Enabled),KMSMasterKeyId:O(e.KMSMasterKeyId),SSEType:O(e.SSEType)}),ac=(e,t)=>({StreamEnabled:_(e.StreamEnabled),StreamViewType:O(e.StreamViewType)}),sc=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:O(e)));return n},uc=(e,t)=>({message:O(e.message)}),cc=(e,t)=>({Replicas:null!=e.Replicas?qu(e.Replicas,t):void 0,TableName:O(e.TableName),TableStatus:O(e.TableStatus)}),lc=(e,t)=>({LastUpdateDateTime:null!=e.LastUpdateDateTime?P(U(x(e.LastUpdateDateTime))):void 0,TableClass:O(e.TableClass)}),fc=(e,t)=>({AttributeDefinitions:null!=e.AttributeDefinitions?rs(e.AttributeDefinitions):void 0,BillingMode:O(e.BillingMode),GlobalSecondaryIndexes:null!=e.GlobalSecondaryIndexes?$s(e.GlobalSecondaryIndexes,t):void 0,KeySchema:null!=e.KeySchema?bu(e.KeySchema,t):void 0,ProvisionedThroughput:null!=e.ProvisionedThroughput?Du(e.ProvisionedThroughput,t):void 0,SSESpecification:null!=e.SSESpecification?oc(e.SSESpecification):void 0,TableName:O(e.TableName)}),dc=(e,t)=>({ArchivalSummary:null!=e.ArchivalSummary?ns(e.ArchivalSummary):void 0,AttributeDefinitions:null!=e.AttributeDefinitions?rs(e.AttributeDefinitions):void 0,BillingModeSummary:null!=e.BillingModeSummary?ws(e.BillingModeSummary):void 0,CreationDateTime:null!=e.CreationDateTime?P(U(x(e.CreationDateTime))):void 0,GlobalSecondaryIndexes:null!=e.GlobalSecondaryIndexes?Hs(e.GlobalSecondaryIndexes,t):void 0,GlobalTableVersion:O(e.GlobalTableVersion),ItemCount:A(e.ItemCount),KeySchema:null!=e.KeySchema?bu(e.KeySchema,t):void 0,LatestStreamArn:O(e.LatestStreamArn),LatestStreamLabel:O(e.LatestStreamLabel),LocalSecondaryIndexes:null!=e.LocalSecondaryIndexes?Au(e.LocalSecondaryIndexes,t):void 0,ProvisionedThroughput:null!=e.ProvisionedThroughput?Mu(e.ProvisionedThroughput,t):void 0,Replicas:null!=e.Replicas?Ku(e.Replicas,t):void 0,RestoreSummary:null!=e.RestoreSummary?Qu(e.RestoreSummary):void 0,SSEDescription:null!=e.SSEDescription?ic(e.SSEDescription,t):void 0,StreamSpecification:null!=e.StreamSpecification?ac(e.StreamSpecification,t):void 0,TableArn:O(e.TableArn),TableClassSummary:null!=e.TableClassSummary?lc(e.TableClassSummary,t):void 0,TableId:O(e.TableId),TableName:O(e.TableName),TableSizeBytes:A(e.TableSizeBytes),TableStatus:O(e.TableStatus)}),hc=(e,t)=>({message:O(e.message)}),pc=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:O(e)));return n},vc=(e,t)=>({message:O(e.message)}),yc=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({Key:O(e.Key),Value:O(e.Value)}))(e)));return n},gc=(e,t)=>({AttributeName:O(e.AttributeName),TimeToLiveStatus:O(e.TimeToLiveStatus)}),mc=(e,t)=>({AttributeName:O(e.AttributeName),Enabled:_(e.Enabled)}),bc=(e,t)=>({CancellationReasons:null!=e.CancellationReasons?Es(e.CancellationReasons,t):void 0,Message:O(e.Message)}),wc=(e,t)=>({message:O(e.message)}),Sc=(e,t)=>({Message:O(e.Message)}),Ec=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({DeleteRequest:null!=e.DeleteRequest?Ns(e.DeleteRequest,t):void 0,PutRequest:null!=e.PutRequest?zu(e.PutRequest,t):void 0}))(e,t)));return n},_c=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),xc=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),Ac=async(e,t,n,r,i)=>{const{hostname:o,protocol:a="https",port:s,path:u}=await e.endpoint(),c={protocol:a,hostname:o,port:s,method:"POST",path:u.endsWith("/")?u.slice(0,-1)+n:u+n,headers:t};return void 0!==r&&(c.hostname=r),void 0!==i&&(c.body=i),new Zi(c)},Tc=(e,t)=>((e,t)=>xc(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>e.length?JSON.parse(e):{})),Cc=async(e,t)=>{const n=await Tc(e,t);return n.message=n.message??n.Message,n},Ic=(e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=(i=e.headers,"x-amzn-errortype",Object.keys(i).find((e=>e.toLowerCase()==="x-amzn-errortype".toLowerCase())));var i;return void 0!==r?n(e.headers[r]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0};class Pc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Pc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"BatchExecuteStatementCommand",inputFilterSensitiveLog:wi,outputFilterSensitiveLog:Si},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.Statements&&{Statements:Aa(e.Statements,t)}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.BatchExecuteStatement"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Eo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ConsumedCapacity:null!=e.ConsumedCapacity?Ts(e.ConsumedCapacity,t):void 0,Responses:null!=e.Responses?ku(e.Responses,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Oc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Oc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"BatchGetItemCommand",inputFilterSensitiveLog:Ai,outputFilterSensitiveLog:zi},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.RequestItems&&{RequestItems:zo(e.RequestItems,t)},...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.BatchGetItem"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bo(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Eo(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ConsumedCapacity:null!=e.ConsumedCapacity?Ts(e.ConsumedCapacity,t):void 0,Responses:null!=e.Responses?gs(e.Responses,t):void 0,UnprocessedKeys:null!=e.UnprocessedKeys?ys(e.UnprocessedKeys,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class kc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,kc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"BatchWriteItemCommand",inputFilterSensitiveLog:qi,outputFilterSensitiveLog:Vi},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.RequestItems&&{RequestItems:Bo(e.RequestItems,t)},...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.ReturnItemCollectionMetrics&&{ReturnItemCollectionMetrics:e.ReturnItemCollectionMetrics}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.BatchWriteItem"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await yo(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bo(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Eo(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ConsumedCapacity:null!=e.ConsumedCapacity?Ts(e.ConsumedCapacity,t):void 0,ItemCollectionMetrics:null!=e.ItemCollectionMetrics?fu(e.ItemCollectionMetrics,t):void 0,UnprocessedItems:null!=e.UnprocessedItems?bs(e.UnprocessedItems,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Rc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Rc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"CreateBackupCommand",inputFilterSensitiveLog:Mt,outputFilterSensitiveLog:jt},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.BackupName&&{BackupName:e.BackupName},...null!=e.TableName&&{TableName:e.TableName}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.CreateBackup"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await Xi(n,t);case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await to(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await go(n,t);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await To(n,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await Co(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({BackupDetails:null!=e.BackupDetails?fs(e.BackupDetails,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Lc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Lc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"CreateGlobalTableCommand",inputFilterSensitiveLog:zt,outputFilterSensitiveLog:Vt},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.GlobalTableName&&{GlobalTableName:e.GlobalTableName},...null!=e.ReplicationGroup&&{ReplicationGroup:Ua(e.ReplicationGroup,t)}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.CreateGlobalTable"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"GlobalTableAlreadyExistsException":case"com.amazonaws.dynamodb#GlobalTableAlreadyExistsException":throw await oo(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await go(n,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await Co(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({GlobalTableDescription:null!=e.GlobalTableDescription?Ys(e.GlobalTableDescription,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Nc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Nc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"CreateTableCommand",inputFilterSensitiveLog:en,outputFilterSensitiveLog:sn},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.AttributeDefinitions&&{AttributeDefinitions:ko(e.AttributeDefinitions)},...null!=e.BillingMode&&{BillingMode:e.BillingMode},...null!=e.GlobalSecondaryIndexes&&{GlobalSecondaryIndexes:ua(e.GlobalSecondaryIndexes,t)},...null!=e.KeySchema&&{KeySchema:ya(e.KeySchema,t)},...null!=e.LocalSecondaryIndexes&&{LocalSecondaryIndexes:wa(e.LocalSecondaryIndexes,t)},...null!=e.ProvisionedThroughput&&{ProvisionedThroughput:Pa(e.ProvisionedThroughput,t)},...null!=e.SSESpecification&&{SSESpecification:Ka(e.SSESpecification,t)},...null!=e.StreamSpecification&&{StreamSpecification:Ha(e.StreamSpecification,t)},...null!=e.TableClass&&{TableClass:e.TableClass},...null!=e.TableName&&{TableName:e.TableName},...null!=e.Tags&&{Tags:Wa(e.Tags,t)}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.CreateTable"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await go(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _o(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({TableDescription:null!=e.TableDescription?dc(e.TableDescription,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Dc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Dc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"DeleteBackupCommand",inputFilterSensitiveLog:cn,outputFilterSensitiveLog:ln},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.BackupArn&&{BackupArn:e.BackupArn}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DeleteBackup"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await Xi(n,t);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await Qi(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await go(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({BackupDescription:null!=e.BackupDescription?ls(e.BackupDescription,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Mc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Mc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"DeleteItemCommand",inputFilterSensitiveLog:Ki,outputFilterSensitiveLog:Li},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ConditionExpression&&{ConditionExpression:e.ConditionExpression},...null!=e.ConditionalOperator&&{ConditionalOperator:e.ConditionalOperator},...null!=e.Expected&&{Expected:ta(e.Expected,t)},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.ExpressionAttributeValues&&{ExpressionAttributeValues:ia(e.ExpressionAttributeValues,t)},...null!=e.Key&&{Key:da(e.Key,t)},...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.ReturnItemCollectionMetrics&&{ReturnItemCollectionMetrics:e.ReturnItemCollectionMetrics},...null!=e.ReturnValues&&{ReturnValues:e.ReturnValues},...null!=e.TableName&&{TableName:e.TableName}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DeleteItem"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await eo(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await yo(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bo(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Eo(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await Po(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({Attributes:null!=e.Attributes?is(e.Attributes,t):void 0,ConsumedCapacity:null!=e.ConsumedCapacity?As(e.ConsumedCapacity,t):void 0,ItemCollectionMetrics:null!=e.ItemCollectionMetrics?lu(e.ItemCollectionMetrics,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class jc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,jc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"DeleteTableCommand",inputFilterSensitiveLog:pn,outputFilterSensitiveLog:vn},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.TableName&&{TableName:e.TableName}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DeleteTable"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await go(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _o(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({TableDescription:null!=e.TableDescription?dc(e.TableDescription,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Uc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Uc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"DescribeBackupCommand",inputFilterSensitiveLog:yn,outputFilterSensitiveLog:gn},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.BackupArn&&{BackupArn:e.BackupArn}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeBackup"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await Qi(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({BackupDescription:null!=e.BackupDescription?ls(e.BackupDescription,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Fc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Fc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"DescribeContinuousBackupsCommand",inputFilterSensitiveLog:mn,outputFilterSensitiveLog:bn},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.TableName&&{TableName:e.TableName}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeContinuousBackups"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await Co(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ContinuousBackupsDescription:null!=e.ContinuousBackupsDescription?Cs(e.ContinuousBackupsDescription,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class zc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,zc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"DescribeContributorInsightsCommand",inputFilterSensitiveLog:wn,outputFilterSensitiveLog:En},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.TableName&&{TableName:e.TableName}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeContributorInsights"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ContributorInsightsRuleList:null!=e.ContributorInsightsRuleList?Ps(e.ContributorInsightsRuleList):void 0,ContributorInsightsStatus:O(e.ContributorInsightsStatus),FailureException:null!=e.FailureException?Ks(e.FailureException,t):void 0,IndexName:O(e.IndexName),LastUpdateDateTime:null!=e.LastUpdateDateTime?P(U(x(e.LastUpdateDateTime))):void 0,TableName:O(e.TableName)}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Bc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Bc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"DescribeEndpointsCommand",inputFilterSensitiveLog:_n,outputFilterSensitiveLog:An},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify({}),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeEndpoints"},"/",void 0,n)})(0,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body),i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})})(e,t);let n={};n=((e,t)=>({Endpoints:null!=e.Endpoints?Ms(e.Endpoints,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class qc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,qc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"DescribeExportCommand",inputFilterSensitiveLog:Tn,outputFilterSensitiveLog:In},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ExportArn&&{ExportArn:e.ExportArn}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeExport"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"ExportNotFoundException":case"com.amazonaws.dynamodb#ExportNotFoundException":throw await io(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await go(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ExportDescription:null!=e.ExportDescription?Us(e.ExportDescription,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Kc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Kc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"DescribeGlobalTableCommand",inputFilterSensitiveLog:Pn,outputFilterSensitiveLog:On},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.GlobalTableName&&{GlobalTableName:e.GlobalTableName}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeGlobalTable"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await ao(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({GlobalTableDescription:null!=e.GlobalTableDescription?Ys(e.GlobalTableDescription,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Hc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Hc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"DescribeGlobalTableSettingsCommand",inputFilterSensitiveLog:kn,outputFilterSensitiveLog:Nn},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.GlobalTableName&&{GlobalTableName:e.GlobalTableName}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeGlobalTableSettings"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await ao(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({GlobalTableName:O(e.GlobalTableName),ReplicaSettings:null!=e.ReplicaSettings?Yu(e.ReplicaSettings,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Gc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Gc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"DescribeImportCommand",inputFilterSensitiveLog:Dn,outputFilterSensitiveLog:zn},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ImportArn&&{ImportArn:e.ImportArn}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeImport"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"ImportNotFoundException":case"com.amazonaws.dynamodb#ImportNotFoundException":throw await co(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ImportTableDescription:null!=e.ImportTableDescription?nu(e.ImportTableDescription,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Vc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Vc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"DescribeKinesisStreamingDestinationCommand",inputFilterSensitiveLog:Bn,outputFilterSensitiveLog:Kn},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.TableName&&{TableName:e.TableName}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeKinesisStreamingDestination"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({KinesisDataStreamDestinations:null!=e.KinesisDataStreamDestinations?Su(e.KinesisDataStreamDestinations,t):void 0,TableName:O(e.TableName)}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class $c extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,$c.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"DescribeLimitsCommand",inputFilterSensitiveLog:Hn,outputFilterSensitiveLog:Gn},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify({}),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeLimits"},"/",void 0,n)})(0,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({AccountMaxReadCapacityUnits:A(e.AccountMaxReadCapacityUnits),AccountMaxWriteCapacityUnits:A(e.AccountMaxWriteCapacityUnits),TableMaxReadCapacityUnits:A(e.TableMaxReadCapacityUnits),TableMaxWriteCapacityUnits:A(e.TableMaxWriteCapacityUnits)}))(await Tc(e.body,t));const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Wc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Wc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"DescribeTableCommand",inputFilterSensitiveLog:Vn,outputFilterSensitiveLog:$n},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.TableName&&{TableName:e.TableName}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeTable"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({Table:null!=e.Table?dc(e.Table,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Yc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Yc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"DescribeTableReplicaAutoScalingCommand",inputFilterSensitiveLog:Wn,outputFilterSensitiveLog:Xn},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.TableName&&{TableName:e.TableName}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeTableReplicaAutoScaling"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({TableAutoScalingDescription:null!=e.TableAutoScalingDescription?cc(e.TableAutoScalingDescription,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Zc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Zc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"DescribeTimeToLiveCommand",inputFilterSensitiveLog:Qn,outputFilterSensitiveLog:er},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.TableName&&{TableName:e.TableName}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeTimeToLive"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({TimeToLiveDescription:null!=e.TimeToLiveDescription?gc(e.TimeToLiveDescription,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Jc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Jc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"DisableKinesisStreamingDestinationCommand",inputFilterSensitiveLog:tr,outputFilterSensitiveLog:nr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(ma(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DisableKinesisStreamingDestination"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await go(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _o(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);const n=await Tc(e.body,t);let r={};r=Eu(n);const i={$metadata:_c(e),...r};return Promise.resolve(i)})(e,t)}}class Xc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Xc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"EnableKinesisStreamingDestinationCommand",inputFilterSensitiveLog:tr,outputFilterSensitiveLog:nr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(ma(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.EnableKinesisStreamingDestination"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await go(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _o(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);const n=await Tc(e.body,t);let r={};r=Eu(n);const i={$metadata:_c(e),...r};return Promise.resolve(i)})(e,t)}}class Qc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Qc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"ExecuteStatementCommand",inputFilterSensitiveLog:li,outputFilterSensitiveLog:Ni},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ConsistentRead&&{ConsistentRead:e.ConsistentRead},...null!=e.Limit&&{Limit:e.Limit},...null!=e.NextToken&&{NextToken:e.NextToken},...null!=e.Parameters&&{Parameters:Ca(e.Parameters,t)},...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.Statement&&{Statement:e.Statement}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ExecuteStatement"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await eo(n,t);case"DuplicateItemException":case"com.amazonaws.dynamodb#DuplicateItemException":throw await no(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await yo(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bo(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Eo(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await Po(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ConsumedCapacity:null!=e.ConsumedCapacity?As(e.ConsumedCapacity,t):void 0,Items:null!=e.Items?pu(e.Items,t):void 0,LastEvaluatedKey:null!=e.LastEvaluatedKey?yu(e.LastEvaluatedKey,t):void 0,NextToken:O(e.NextToken)}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class el extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,el.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"ExecuteTransactionCommand",inputFilterSensitiveLog:Ei,outputFilterSensitiveLog:_i},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({ClientRequestToken:e.ClientRequestToken??(0,Ji.Z)(),...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.TransactStatements&&{TransactStatements:xa(e.TransactStatements,t)}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ExecuteTransaction"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await so(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bo(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Eo(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await Io(n,t);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await Oo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ConsumedCapacity:null!=e.ConsumedCapacity?Ts(e.ConsumedCapacity,t):void 0,Responses:null!=e.Responses?vu(e.Responses,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class tl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,tl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"ExportTableToPointInTimeCommand",inputFilterSensitiveLog:rr,outputFilterSensitiveLog:ir},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({ClientToken:e.ClientToken??(0,Ji.Z)(),...null!=e.ExportFormat&&{ExportFormat:e.ExportFormat},...null!=e.ExportTime&&{ExportTime:Math.round(e.ExportTime.getTime()/1e3)},...null!=e.S3Bucket&&{S3Bucket:e.S3Bucket},...null!=e.S3BucketOwner&&{S3BucketOwner:e.S3BucketOwner},...null!=e.S3Prefix&&{S3Prefix:e.S3Prefix},...null!=e.S3SseAlgorithm&&{S3SseAlgorithm:e.S3SseAlgorithm},...null!=e.S3SseKmsKeyId&&{S3SseKmsKeyId:e.S3SseKmsKeyId},...null!=e.TableArn&&{TableArn:e.TableArn}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ExportTableToPointInTime"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"ExportConflictException":case"com.amazonaws.dynamodb#ExportConflictException":throw await ro(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidExportTimeException":case"com.amazonaws.dynamodb#InvalidExportTimeException":throw await po(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await go(n,t);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await mo(n,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await Co(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ExportDescription:null!=e.ExportDescription?Us(e.ExportDescription,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class nl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,nl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"GetItemCommand",inputFilterSensitiveLog:di,outputFilterSensitiveLog:hi},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.AttributesToGet&&{AttributesToGet:Ro(e.AttributesToGet)},...null!=e.ConsistentRead&&{ConsistentRead:e.ConsistentRead},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.Key&&{Key:da(e.Key,t)},...null!=e.ProjectionExpression&&{ProjectionExpression:e.ProjectionExpression},...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.TableName&&{TableName:e.TableName}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.GetItem"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bo(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Eo(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ConsumedCapacity:null!=e.ConsumedCapacity?As(e.ConsumedCapacity,t):void 0,Item:null!=e.Item?is(e.Item,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class rl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,rl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"ImportTableCommand",inputFilterSensitiveLog:or,outputFilterSensitiveLog:ar},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({ClientToken:e.ClientToken??(0,Ji.Z)(),...null!=e.InputCompressionType&&{InputCompressionType:e.InputCompressionType},...null!=e.InputFormat&&{InputFormat:e.InputFormat},...null!=e.InputFormatOptions&&{InputFormatOptions:fa(e.InputFormatOptions,t)},...null!=e.S3BucketSource&&{S3BucketSource:qa(e.S3BucketSource,t)},...null!=e.TableCreationParameters&&{TableCreationParameters:Va(e.TableCreationParameters,t)}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ImportTable"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"ImportConflictException":case"com.amazonaws.dynamodb#ImportConflictException":throw await uo(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await go(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _o(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ImportTableDescription:null!=e.ImportTableDescription?nu(e.ImportTableDescription,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class il extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,il.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"ListBackupsCommand",inputFilterSensitiveLog:sr,outputFilterSensitiveLog:ur},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.BackupType&&{BackupType:e.BackupType},...null!=e.ExclusiveStartBackupArn&&{ExclusiveStartBackupArn:e.ExclusiveStartBackupArn},...null!=e.Limit&&{Limit:e.Limit},...null!=e.TableName&&{TableName:e.TableName},...null!=e.TimeRangeLowerBound&&{TimeRangeLowerBound:Math.round(e.TimeRangeLowerBound.getTime()/1e3)},...null!=e.TimeRangeUpperBound&&{TimeRangeUpperBound:Math.round(e.TimeRangeUpperBound.getTime()/1e3)}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ListBackups"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({BackupSummaries:null!=e.BackupSummaries?ps(e.BackupSummaries,t):void 0,LastEvaluatedBackupArn:O(e.LastEvaluatedBackupArn)}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class ol extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,ol.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"ListContributorInsightsCommand",inputFilterSensitiveLog:cr,outputFilterSensitiveLog:lr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.MaxResults&&{MaxResults:e.MaxResults},...null!=e.NextToken&&{NextToken:e.NextToken},...null!=e.TableName&&{TableName:e.TableName}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ListContributorInsights"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ContributorInsightsSummaries:null!=e.ContributorInsightsSummaries?Os(e.ContributorInsightsSummaries,t):void 0,NextToken:O(e.NextToken)}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class al extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,al.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"ListExportsCommand",inputFilterSensitiveLog:fr,outputFilterSensitiveLog:hr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.MaxResults&&{MaxResults:e.MaxResults},...null!=e.NextToken&&{NextToken:e.NextToken},...null!=e.TableArn&&{TableArn:e.TableArn}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ListExports"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await go(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ExportSummaries:null!=e.ExportSummaries?zs(e.ExportSummaries,t):void 0,NextToken:O(e.NextToken)}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class sl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,sl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"ListGlobalTablesCommand",inputFilterSensitiveLog:pr,outputFilterSensitiveLog:yr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ExclusiveStartGlobalTableName&&{ExclusiveStartGlobalTableName:e.ExclusiveStartGlobalTableName},...null!=e.Limit&&{Limit:e.Limit},...null!=e.RegionName&&{RegionName:e.RegionName}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ListGlobalTables"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({GlobalTables:null!=e.GlobalTables?Zs(e.GlobalTables,t):void 0,LastEvaluatedGlobalTableName:O(e.LastEvaluatedGlobalTableName)}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class ul extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,ul.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"ListImportsCommand",inputFilterSensitiveLog:gr,outputFilterSensitiveLog:br},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.NextToken&&{NextToken:e.NextToken},...null!=e.PageSize&&{PageSize:e.PageSize},...null!=e.TableArn&&{TableArn:e.TableArn}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ListImports"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await go(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ImportSummaryList:null!=e.ImportSummaryList?tu(e.ImportSummaryList,t):void 0,NextToken:O(e.NextToken)}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class cl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,cl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"ListTablesCommand",inputFilterSensitiveLog:wr,outputFilterSensitiveLog:Sr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ExclusiveStartTableName&&{ExclusiveStartTableName:e.ExclusiveStartTableName},...null!=e.Limit&&{Limit:e.Limit}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ListTables"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({LastEvaluatedTableName:O(e.LastEvaluatedTableName),TableNames:null!=e.TableNames?pc(e.TableNames,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class ll extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,ll.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"ListTagsOfResourceCommand",inputFilterSensitiveLog:Er,outputFilterSensitiveLog:_r},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.NextToken&&{NextToken:e.NextToken},...null!=e.ResourceArn&&{ResourceArn:e.ResourceArn}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ListTagsOfResource"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({NextToken:O(e.NextToken),Tags:null!=e.Tags?yc(e.Tags,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class fl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,fl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"PutItemCommand",inputFilterSensitiveLog:Hi,outputFilterSensitiveLog:Di},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ConditionExpression&&{ConditionExpression:e.ConditionExpression},...null!=e.ConditionalOperator&&{ConditionalOperator:e.ConditionalOperator},...null!=e.Expected&&{Expected:ta(e.Expected,t)},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.ExpressionAttributeValues&&{ExpressionAttributeValues:ia(e.ExpressionAttributeValues,t)},...null!=e.Item&&{Item:Ra(e.Item,t)},...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.ReturnItemCollectionMetrics&&{ReturnItemCollectionMetrics:e.ReturnItemCollectionMetrics},...null!=e.ReturnValues&&{ReturnValues:e.ReturnValues},...null!=e.TableName&&{TableName:e.TableName}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.PutItem"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await eo(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await yo(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bo(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Eo(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await Po(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({Attributes:null!=e.Attributes?is(e.Attributes,t):void 0,ConsumedCapacity:null!=e.ConsumedCapacity?As(e.ConsumedCapacity,t):void 0,ItemCollectionMetrics:null!=e.ItemCollectionMetrics?lu(e.ItemCollectionMetrics,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class dl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,dl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"QueryCommand",inputFilterSensitiveLog:Gi,outputFilterSensitiveLog:Mi},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.AttributesToGet&&{AttributesToGet:Ro(e.AttributesToGet)},...null!=e.ConditionalOperator&&{ConditionalOperator:e.ConditionalOperator},...null!=e.ConsistentRead&&{ConsistentRead:e.ConsistentRead},...null!=e.ExclusiveStartKey&&{ExclusiveStartKey:da(e.ExclusiveStartKey,t)},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.ExpressionAttributeValues&&{ExpressionAttributeValues:ia(e.ExpressionAttributeValues,t)},...null!=e.FilterExpression&&{FilterExpression:e.FilterExpression},...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.KeyConditionExpression&&{KeyConditionExpression:e.KeyConditionExpression},...null!=e.KeyConditions&&{KeyConditions:ha(e.KeyConditions,t)},...null!=e.Limit&&{Limit:e.Limit},...null!=e.ProjectionExpression&&{ProjectionExpression:e.ProjectionExpression},...null!=e.QueryFilter&&{QueryFilter:oa(e.QueryFilter,t)},...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.ScanIndexForward&&{ScanIndexForward:e.ScanIndexForward},...null!=e.Select&&{Select:e.Select},...null!=e.TableName&&{TableName:e.TableName}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.Query"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bo(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Eo(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ConsumedCapacity:null!=e.ConsumedCapacity?As(e.ConsumedCapacity,t):void 0,Count:T(e.Count),Items:null!=e.Items?pu(e.Items,t):void 0,LastEvaluatedKey:null!=e.LastEvaluatedKey?yu(e.LastEvaluatedKey,t):void 0,ScannedCount:T(e.ScannedCount)}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class hl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,hl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"RestoreTableFromBackupCommand",inputFilterSensitiveLog:xr,outputFilterSensitiveLog:Ar},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.BackupArn&&{BackupArn:e.BackupArn},...null!=e.BillingModeOverride&&{BillingModeOverride:e.BillingModeOverride},...null!=e.GlobalSecondaryIndexOverride&&{GlobalSecondaryIndexOverride:ua(e.GlobalSecondaryIndexOverride,t)},...null!=e.LocalSecondaryIndexOverride&&{LocalSecondaryIndexOverride:wa(e.LocalSecondaryIndexOverride,t)},...null!=e.ProvisionedThroughputOverride&&{ProvisionedThroughputOverride:Pa(e.ProvisionedThroughputOverride,t)},...null!=e.SSESpecificationOverride&&{SSESpecificationOverride:Ka(e.SSESpecificationOverride,t)},...null!=e.TargetTableName&&{TargetTableName:e.TargetTableName}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.RestoreTableFromBackup"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await Xi(n,t);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await Qi(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await go(n,t);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await Ao(n,t);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await To(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({TableDescription:null!=e.TableDescription?dc(e.TableDescription,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class pl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,pl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"RestoreTableToPointInTimeCommand",inputFilterSensitiveLog:Tr,outputFilterSensitiveLog:Cr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.BillingModeOverride&&{BillingModeOverride:e.BillingModeOverride},...null!=e.GlobalSecondaryIndexOverride&&{GlobalSecondaryIndexOverride:ua(e.GlobalSecondaryIndexOverride,t)},...null!=e.LocalSecondaryIndexOverride&&{LocalSecondaryIndexOverride:wa(e.LocalSecondaryIndexOverride,t)},...null!=e.ProvisionedThroughputOverride&&{ProvisionedThroughputOverride:Pa(e.ProvisionedThroughputOverride,t)},...null!=e.RestoreDateTime&&{RestoreDateTime:Math.round(e.RestoreDateTime.getTime()/1e3)},...null!=e.SSESpecificationOverride&&{SSESpecificationOverride:Ka(e.SSESpecificationOverride,t)},...null!=e.SourceTableArn&&{SourceTableArn:e.SourceTableArn},...null!=e.SourceTableName&&{SourceTableName:e.SourceTableName},...null!=e.TargetTableName&&{TargetTableName:e.TargetTableName},...null!=e.UseLatestRestorableTime&&{UseLatestRestorableTime:e.UseLatestRestorableTime}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.RestoreTableToPointInTime"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"InvalidRestoreTimeException":case"com.amazonaws.dynamodb#InvalidRestoreTimeException":throw await vo(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await go(n,t);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await mo(n,t);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await Ao(n,t);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await To(n,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await Co(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({TableDescription:null!=e.TableDescription?dc(e.TableDescription,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class vl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,vl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"ScanCommand",inputFilterSensitiveLog:Bi,outputFilterSensitiveLog:ji},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.AttributesToGet&&{AttributesToGet:Ro(e.AttributesToGet)},...null!=e.ConditionalOperator&&{ConditionalOperator:e.ConditionalOperator},...null!=e.ConsistentRead&&{ConsistentRead:e.ConsistentRead},...null!=e.ExclusiveStartKey&&{ExclusiveStartKey:da(e.ExclusiveStartKey,t)},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.ExpressionAttributeValues&&{ExpressionAttributeValues:ia(e.ExpressionAttributeValues,t)},...null!=e.FilterExpression&&{FilterExpression:e.FilterExpression},...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.Limit&&{Limit:e.Limit},...null!=e.ProjectionExpression&&{ProjectionExpression:e.ProjectionExpression},...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.ScanFilter&&{ScanFilter:oa(e.ScanFilter,t)},...null!=e.Segment&&{Segment:e.Segment},...null!=e.Select&&{Select:e.Select},...null!=e.TableName&&{TableName:e.TableName},...null!=e.TotalSegments&&{TotalSegments:e.TotalSegments}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.Scan"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bo(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Eo(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ConsumedCapacity:null!=e.ConsumedCapacity?As(e.ConsumedCapacity,t):void 0,Count:T(e.Count),Items:null!=e.Items?pu(e.Items,t):void 0,LastEvaluatedKey:null!=e.LastEvaluatedKey?yu(e.LastEvaluatedKey,t):void 0,ScannedCount:T(e.ScannedCount)}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class yl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,yl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"TagResourceCommand",inputFilterSensitiveLog:Ir,outputFilterSensitiveLog:e=>e},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ResourceArn&&{ResourceArn:e.ResourceArn},...null!=e.Tags&&{Tags:Wa(e.Tags,t)}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.TagResource"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await go(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _o(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);await xc(e.body,t);const n={$metadata:_c(e)};return Promise.resolve(n)})(e,t)}}class gl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,gl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"TransactGetItemsCommand",inputFilterSensitiveLog:Ci,outputFilterSensitiveLog:xi},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.TransactItems&&{TransactItems:Za(e.TransactItems,t)}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.TransactGetItems"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bo(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Eo(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await Io(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ConsumedCapacity:null!=e.ConsumedCapacity?Ts(e.ConsumedCapacity,t):void 0,Responses:null!=e.Responses?vu(e.Responses,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class ml extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,ml.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"TransactWriteItemsCommand",inputFilterSensitiveLog:Yi,outputFilterSensitiveLog:Ii},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({ClientRequestToken:e.ClientRequestToken??(0,Ji.Z)(),...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.ReturnItemCollectionMetrics&&{ReturnItemCollectionMetrics:e.ReturnItemCollectionMetrics},...null!=e.TransactItems&&{TransactItems:Ja(e.TransactItems,t)}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.TransactWriteItems"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await so(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bo(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Eo(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await Io(n,t);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await Oo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ConsumedCapacity:null!=e.ConsumedCapacity?Ts(e.ConsumedCapacity,t):void 0,ItemCollectionMetrics:null!=e.ItemCollectionMetrics?fu(e.ItemCollectionMetrics,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class bl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,bl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"UntagResourceCommand",inputFilterSensitiveLog:Pr,outputFilterSensitiveLog:e=>e},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ResourceArn&&{ResourceArn:e.ResourceArn},...null!=e.TagKeys&&{TagKeys:$a(e.TagKeys)}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.UntagResource"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await go(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _o(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);await xc(e.body,t);const n={$metadata:_c(e)};return Promise.resolve(n)})(e,t)}}class wl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,wl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"UpdateContinuousBackupsCommand",inputFilterSensitiveLog:kr,outputFilterSensitiveLog:Rr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.PointInTimeRecoverySpecification&&{PointInTimeRecoverySpecification:Ta(e.PointInTimeRecoverySpecification)},...null!=e.TableName&&{TableName:e.TableName}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.UpdateContinuousBackups"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await to(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await Co(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ContinuousBackupsDescription:null!=e.ContinuousBackupsDescription?Cs(e.ContinuousBackupsDescription,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Sl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Sl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"UpdateContributorInsightsCommand",inputFilterSensitiveLog:Lr,outputFilterSensitiveLog:Nr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ContributorInsightsAction&&{ContributorInsightsAction:e.ContributorInsightsAction},...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.TableName&&{TableName:e.TableName}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.UpdateContributorInsights"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ContributorInsightsStatus:O(e.ContributorInsightsStatus),IndexName:O(e.IndexName),TableName:O(e.TableName)}))(await Tc(e.body,t));const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class El extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,El.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"UpdateGlobalTableCommand",inputFilterSensitiveLog:Mr,outputFilterSensitiveLog:jr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.GlobalTableName&&{GlobalTableName:e.GlobalTableName},...null!=e.ReplicaUpdates&&{ReplicaUpdates:Ba(e.ReplicaUpdates)}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.UpdateGlobalTable"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await ao(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"ReplicaAlreadyExistsException":case"com.amazonaws.dynamodb#ReplicaAlreadyExistsException":throw await wo(n,t);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await So(n,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await Co(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({GlobalTableDescription:null!=e.GlobalTableDescription?Ys(e.GlobalTableDescription,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class _l extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,_l.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"UpdateGlobalTableSettingsCommand",inputFilterSensitiveLog:Br,outputFilterSensitiveLog:qr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.GlobalTableBillingMode&&{GlobalTableBillingMode:e.GlobalTableBillingMode},...null!=e.GlobalTableGlobalSecondaryIndexSettingsUpdate&&{GlobalTableGlobalSecondaryIndexSettingsUpdate:la(e.GlobalTableGlobalSecondaryIndexSettingsUpdate,t)},...null!=e.GlobalTableName&&{GlobalTableName:e.GlobalTableName},...null!=e.GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate&&{GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate:Uo(e.GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate,t)},...null!=e.GlobalTableProvisionedWriteCapacityUnits&&{GlobalTableProvisionedWriteCapacityUnits:e.GlobalTableProvisionedWriteCapacityUnits},...null!=e.ReplicaSettingsUpdate&&{ReplicaSettingsUpdate:Fa(e.ReplicaSettingsUpdate,t)}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.UpdateGlobalTableSettings"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await ao(n,t);case"IndexNotFoundException":case"com.amazonaws.dynamodb#IndexNotFoundException":throw await lo(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await go(n,t);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await So(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _o(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({GlobalTableName:O(e.GlobalTableName),ReplicaSettings:null!=e.ReplicaSettings?Yu(e.ReplicaSettings,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class xl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,xl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"UpdateItemCommand",inputFilterSensitiveLog:$i,outputFilterSensitiveLog:Ui},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.AttributeUpdates&&{AttributeUpdates:Lo(e.AttributeUpdates,t)},...null!=e.ConditionExpression&&{ConditionExpression:e.ConditionExpression},...null!=e.ConditionalOperator&&{ConditionalOperator:e.ConditionalOperator},...null!=e.Expected&&{Expected:ta(e.Expected,t)},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.ExpressionAttributeValues&&{ExpressionAttributeValues:ia(e.ExpressionAttributeValues,t)},...null!=e.Key&&{Key:da(e.Key,t)},...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.ReturnItemCollectionMetrics&&{ReturnItemCollectionMetrics:e.ReturnItemCollectionMetrics},...null!=e.ReturnValues&&{ReturnValues:e.ReturnValues},...null!=e.TableName&&{TableName:e.TableName},...null!=e.UpdateExpression&&{UpdateExpression:e.UpdateExpression}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.UpdateItem"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await eo(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await yo(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bo(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Eo(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await Po(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({Attributes:null!=e.Attributes?is(e.Attributes,t):void 0,ConsumedCapacity:null!=e.ConsumedCapacity?As(e.ConsumedCapacity,t):void 0,ItemCollectionMetrics:null!=e.ItemCollectionMetrics?lu(e.ItemCollectionMetrics,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Al extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Al.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"UpdateTableCommand",inputFilterSensitiveLog:$r,outputFilterSensitiveLog:Wr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.AttributeDefinitions&&{AttributeDefinitions:ko(e.AttributeDefinitions)},...null!=e.BillingMode&&{BillingMode:e.BillingMode},...null!=e.GlobalSecondaryIndexUpdates&&{GlobalSecondaryIndexUpdates:ca(e.GlobalSecondaryIndexUpdates,t)},...null!=e.ProvisionedThroughput&&{ProvisionedThroughput:Pa(e.ProvisionedThroughput,t)},...null!=e.ReplicaUpdates&&{ReplicaUpdates:za(e.ReplicaUpdates,t)},...null!=e.SSESpecification&&{SSESpecification:Ka(e.SSESpecification,t)},...null!=e.StreamSpecification&&{StreamSpecification:Ha(e.StreamSpecification,t)},...null!=e.TableClass&&{TableClass:e.TableClass},...null!=e.TableName&&{TableName:e.TableName}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.UpdateTable"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await go(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _o(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({TableDescription:null!=e.TableDescription?dc(e.TableDescription,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Tl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Tl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"UpdateTableReplicaAutoScalingCommand",inputFilterSensitiveLog:Xr,outputFilterSensitiveLog:Qr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.GlobalSecondaryIndexUpdates&&{GlobalSecondaryIndexUpdates:sa(e.GlobalSecondaryIndexUpdates,t)},...null!=e.ProvisionedWriteCapacityAutoScalingUpdate&&{ProvisionedWriteCapacityAutoScalingUpdate:Uo(e.ProvisionedWriteCapacityAutoScalingUpdate,t)},...null!=e.ReplicaUpdates&&{ReplicaUpdates:Na(e.ReplicaUpdates,t)},...null!=e.TableName&&{TableName:e.TableName}}))(e,t)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.UpdateTableReplicaAutoScaling"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await go(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _o(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({TableAutoScalingDescription:null!=e.TableAutoScalingDescription?cc(e.TableAutoScalingDescription,t):void 0}))(await Tc(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Cl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(p(t,Cl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"UpdateTimeToLiveCommand",inputFilterSensitiveLog:ti,outputFilterSensitiveLog:ni},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.TableName&&{TableName:e.TableName},...null!=e.TimeToLiveSpecification&&{TimeToLiveSpecification:Ya(e.TimeToLiveSpecification)}}))(e)),Ac(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.UpdateTimeToLive"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Cc(e.body,t)},r=Ic(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fo(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ho(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await go(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _o(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xo(n,t);default:const i=n.body;B({output:e,parsedBody:i,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({TimeToLiveSpecification:null!=e.TimeToLiveSpecification?mc(e.TimeToLiveSpecification):void 0}))(await Tc(e.body,t));const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}var Il;!function(e){e.ENV="env",e.CONFIG="shared config entry"}(Il||(Il={}));const Pl=e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),Ol=e=>Pl(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,kl="content-length",Rl={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0};var Ll=n(6675),Nl=n.n(Ll);class Dl{constructor(e){this.cache=new(Nl())(e)}getEndpoint(e){const t=this.get(e);if(!t||0===t.length)return;const n=t.map((e=>e.Address));return n[Math.floor(Math.random()*n.length)]}get(e){if(!this.has(e))return;const t=this.cache.get(e);if(!t)return;const n=Date.now(),r=t.filter((e=>n<e.Expires));if(0!==r.length)return r;this.delete(e)}set(e,t){const n=Date.now();this.cache.set(e,t.map((({Address:e,CachePeriodInMinutes:t})=>({Address:e,Expires:n+60*t*1e3}))))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;const t=this.cache.peek(e);return!!t&&t.length>0}clear(){this.cache.clear()}}const Ml={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},jl={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Ul="X-Amzn-Trace-Id",Fl={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};var zl,Bl;(Bl=zl||(zl={})).STANDARD="standard",Bl.ADAPTIVE="adaptive";const ql=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Kl=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],Hl=[500,502,503,504],Gl=["ECONNRESET","EPIPE","ETIMEDOUT"],Vl=e=>429===e.$metadata?.httpStatusCode||ql.includes(e.name)||1==e.$retryable?.throttling,$l=e=>Kl.includes(e.name)||Gl.includes(e?.code||"")||Hl.includes(e.$metadata?.httpStatusCode||0);class Wl{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const t=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise((e=>setTimeout(e,t)))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp)return void(this.lastTimestamp=e);const t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),Vl(e)){const e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){const e=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(e*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}}class Yl{constructor(e){this.maxAttemptsProvider=e,this.mode=zl.STANDARD,this.retryToken=((e,t,n,r)=>{const i=e,o=r?.retryCost??5,a=r?.timeoutRetryCost??10,s=r?.retryBackoffStrategy??(()=>{let e=100;return{computeNextBackoffDelay:t=>Math.floor(Math.min(2e4,Math.random()*2**t*e)),setDelayBase:t=>{e=t}}})();let u,c=e,l=Math.min(2e4,t),f=n??0;const d=e=>"TRANSIENT"===e?a:o,h=e=>d(e)<=c;return{getRetryCount:()=>f,getRetryDelay:()=>l,getLastRetryCost:()=>u,hasRetryTokens:h,getRetryTokenCount:e=>{const t=e.errorType;if(!h(t))throw new Error("No retry token available");const n=d(t),r="THROTTLING"===t?500:100;s.setDelayBase(r);const i=s.computeNextBackoffDelay(f);if(e.retryAfterHint){const t=e.retryAfterHint.getTime()-Date.now();l=Math.max(t||0,i)}else l=i;return f++,u=n,c-=n,n},releaseRetryTokens:e=>{c+=e??1,c=Math.min(c,i)}}})(500,100),this.maxAttemptsProvider=e}async acquireInitialRetryToken(e){return this.retryToken}async refreshRetryTokenForRetry(e,t){const n=await this.getMaxAttempts();if(this.shouldRetry(e,t,n))return e.getRetryTokenCount(t),e;throw new Error("No retry token available")}recordSuccess(e){this.retryToken.releaseRetryTokens(e.getLastRetryCost())}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn("Max attempts provider could not resolve. Using default of 3"),3}}shouldRetry(e,t,n){return e.getRetryCount()<n&&e.hasRetryTokens(t.errorType)&&this.isRetryableError(t.errorType)}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}}class Zl{constructor(e,t){this.maxAttemptsProvider=e,this.mode=zl.ADAPTIVE;const{rateLimiter:n}=t??{};this.rateLimiter=n??new Wl,this.standardRetryStrategy=new Yl(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}var Jl=n(6742);const Xl=e=>{const t={errorType:Ql(e)},n=tf(e.$response);return n&&(t.retryAfterHint=n),t},Ql=e=>Vl(e)?"THROTTLING":$l(e)?"TRANSIENT":(e=>{if(void 0!==e.$metadata?.httpStatusCode){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!$l(e)}return!1})(e)?"SERVER_ERROR":"CLIENT_ERROR",ef={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},tf=e=>{if(!Jl.Z.isInstance(e))return;const t=Object.keys(e.headers).find((e=>"retry-after"===e.toLowerCase()));if(!t)return;const n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(1e3*r)};class nf extends Error{constructor(e,t=!0){super(e),this.tryNextLink=t,this.name="ProviderError",Object.setPrototypeOf(this,nf.prototype)}static from(e,t=!0){return Object.assign(new this(e.message,t),e)}}const rf=(e,t,n)=>{let r,i,o,a=!1;const s=async()=>{i||(i=e());try{r=await i,o=!0,a=!1}finally{i=void 0}return r};return void 0===t?async e=>(o&&!e?.forceRefresh||(r=await s()),r):async e=>(o&&!e?.forceRefresh||(r=await s()),a?r:n&&!n(r)?(a=!0,r):t(r)?(await s(),r):r)},of={},af={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),of[e]=t,af[t]=e}function sf(e){let t="";for(let n=0;n<e.byteLength;n++)t+=of[e[n]];return t}const uf="X-Amz-Date",cf="X-Amz-Signature",lf="X-Amz-Security-Token",ff="authorization",df=uf.toLowerCase(),hf=[ff,df,"date"],pf=cf.toLowerCase(),vf="x-amz-content-sha256",yf=lf.toLowerCase(),gf={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},mf=/^proxy-/,bf=/^sec-/,wf="AWS4-HMAC-SHA256",Sf="AWS4-HMAC-SHA256-PAYLOAD",Ef="aws4_request",_f={},xf=[],Af=(e,t,n)=>`${e}/${t}/${n}/${Ef}`,Tf=(e,t,n)=>{const r=new e(t);return r.update(n),r.digest()},Cf=({headers:e},t,n)=>{const r={};for(const i of Object.keys(e).sort()){if(null==e[i])continue;const o=i.toLowerCase();(o in gf||t?.has(o)||mf.test(o)||bf.test(o))&&(!n||n&&!n.has(o))||(r[o]=e[i].trim().replace(/\s+/g," "))}return r};var If=n(6528);const Pf=async({headers:e,body:t},n)=>{for(const t of Object.keys(e))if(t.toLowerCase()===vf)return e[t];if(null==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||(r=t,"function"==typeof ArrayBuffer&&r instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(r))){const e=new n;return e.update(t),sf(await e.digest())}var r;return"UNSIGNED-PAYLOAD"},Of=({headers:e,query:t,...n})=>({...n,headers:{...e},query:t?kf(t):void 0}),kf=e=>Object.keys(e).reduce(((t,n)=>{const r=e[n];return{...t,[n]:Array.isArray(r)?[...r]:r}}),{}),Rf=e=>{e="function"==typeof e.clone?e.clone():Of(e);for(const t of Object.keys(e.headers))hf.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};class Lf{constructor({applyChecksum:e,credentials:t,region:n,service:r,sha256:i,uriEscapePath:o=!0}){this.service=r,this.sha256=i,this.uriEscapePath=o,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=v(n),this.credentialProvider=v(t)}async presign(e,t={}){const{signingDate:n=new Date,expiresIn:r=3600,unsignableHeaders:i,unhoistableHeaders:o,signableHeaders:a,signingRegion:s,signingService:u}=t,c=await this.credentialProvider();this.validateResolvedCredentials(c);const l=s??await this.regionProvider(),{longDate:f,shortDate:d}=Nf(n);if(r>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const h=Af(d,l,u??this.service),p=((e,t={})=>{const{headers:n,query:r={}}="function"==typeof e.clone?e.clone():Of(e);for(const e of Object.keys(n)){const i=e.toLowerCase();"x-amz-"!==i.slice(0,6)||t.unhoistableHeaders?.has(i)||(r[e]=n[e],delete n[e])}return{...e,headers:n,query:r}})(Rf(e),{unhoistableHeaders:o});c.sessionToken&&(p.query[lf]=c.sessionToken),p.query["X-Amz-Algorithm"]=wf,p.query["X-Amz-Credential"]=`${c.accessKeyId}/${h}`,p.query[uf]=f,p.query["X-Amz-Expires"]=r.toString(10);const v=Cf(p,i,a);return p.query["X-Amz-SignedHeaders"]=Df(v),p.query[cf]=await this.getSignature(f,h,this.getSigningKey(c,l,d,u),this.createCanonicalRequest(p,v,await Pf(e,this.sha256))),p}async sign(e,t){return"string"==typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:n=new Date,priorSignature:r,signingRegion:i,signingService:o}){const a=i??await this.regionProvider(),{shortDate:s,longDate:u}=Nf(n),c=Af(s,a,o??this.service),l=await Pf({headers:{},body:t},this.sha256),f=new this.sha256;f.update(e);const d=sf(await f.digest()),h=[Sf,u,c,r,d,l].join("\n");return this.signString(h,{signingDate:n,signingRegion:a,signingService:o})}async signString(e,{signingDate:t=new Date,signingRegion:n,signingService:r}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const o=n??await this.regionProvider(),{shortDate:a}=Nf(t),s=new this.sha256(await this.getSigningKey(i,o,a,r));return s.update(e),sf(await s.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:r,signingRegion:i,signingService:o}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const s=i??await this.regionProvider(),u=Rf(e),{longDate:c,shortDate:l}=Nf(t),f=Af(l,s,o??this.service);u.headers[df]=c,a.sessionToken&&(u.headers[yf]=a.sessionToken);const d=await Pf(u,this.sha256);!((e,t)=>{e=e.toLowerCase();for(const n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1})(vf,u.headers)&&this.applyChecksum&&(u.headers[vf]=d);const h=Cf(u,r,n),p=await this.getSignature(c,f,this.getSigningKey(a,s,l,o),this.createCanonicalRequest(u,h,d));return u.headers[ff]=`${wf} Credential=${a.accessKeyId}/${f}, SignedHeaders=${Df(h)}, Signature=${p}`,u}createCanonicalRequest(e,t,n){const r=Object.keys(t).sort();return`${e.method}\n${this.getCanonicalPath(e)}\n${(({query:e={}})=>{const t=[],n={};for(const r of Object.keys(e).sort()){if(r.toLowerCase()===pf)continue;t.push(r);const i=e[r];"string"==typeof i?n[r]=`${(0,If.i)(r)}=${(0,If.i)(i)}`:Array.isArray(i)&&(n[r]=i.slice(0).sort().reduce(((e,t)=>e.concat([`${(0,If.i)(r)}=${(0,If.i)(t)}`])),[]).join("&"))}return t.map((e=>n[e])).filter((e=>e)).join("&")})(e)}\n${r.map((e=>`${e}:${t[e]}`)).join("\n")}\n\n${r.join(";")}\n${n}`}async createStringToSign(e,t,n){const r=new this.sha256;r.update(n);const i=await r.digest();return`${wf}\n${e}\n${t}\n${sf(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const t=[];for(const n of e.split("/"))0!==n?.length&&"."!==n&&(".."===n?t.pop():t.push(n));const n=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return e}async getSignature(e,t,n,r){const i=await this.createStringToSign(e,t,r),o=new this.sha256(await n);return o.update(i),sf(await o.digest())}getSigningKey(e,t,n,r){return(async(e,t,n,r,i)=>{const o=`${n}:${r}:${i}:${sf(await Tf(e,t.secretAccessKey,t.accessKeyId))}:${t.sessionToken}`;if(o in _f)return _f[o];for(xf.push(o);xf.length>50;)delete _f[xf.shift()];let a=`AWS4${t.secretAccessKey}`;for(const t of[n,r,i,Ef])a=await Tf(e,a,t);return _f[o]=a})(this.sha256,e,n,t,r||this.service)}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")}}const Nf=e=>{const t=(n=e,(e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e)(n).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");var n;return{longDate:t,shortDate:t.slice(0,8)}},Df=e=>Object.keys(e).sort().join(";"),Mf=e=>new Date(Date.now()+e),jf=(e,t)=>{const n=Date.parse(e);return((e,t)=>Math.abs(Mf(t).getTime()-e)>=3e5)(n,t)?n-Date.now():t},Uf=e=>Jl.Z.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,Ff={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},zf="user-agent",Bf="x-amz-user-agent",qf=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Kf=([e,t])=>{const n=e.indexOf("/"),r=e.substring(0,n);let i=e.substring(n+1);return"api"===r&&(i=i.toLowerCase()),[r,i,t].filter((e=>e&&e.length>0)).map((e=>e?.replace(qf,"_"))).join("/")},Hf={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};var Gf=n(7643),Vf=n(4073);function $f(e=0){return new Promise(((t,n)=>{e&&setTimeout((()=>{const t=new Error(`Request did not complete within ${e} ms`);t.name="TimeoutError",n(t)}),e)}))}class Wf{constructor(e){"function"==typeof e?this.configProvider=e().then((e=>e||{})):(this.config=e??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(e,{abortSignal:t}={}){this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout;if(t?.aborted){const e=new Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let r=e.path;if(e.query){const t=(0,Vf.I)(e.query);t&&(r+=`?${t}`)}const{port:i,method:o}=e,a=`${e.protocol}//${e.hostname}${i?`:${i}`:""}${r}`,s={body:"GET"===o||"HEAD"===o?void 0:e.body,headers:new Headers(e.headers),method:o};"undefined"!=typeof AbortController&&(s.signal=t);const u=new Request(a,s),c=[fetch(u).then((e=>{const t=e.headers,n={};for(const e of t.entries())n[e[0]]=e[1];return void 0!==e.body?{response:new Jl.Z({headers:n,statusCode:e.status,body:e.body})}:e.blob().then((t=>({response:new Jl.Z({headers:n,statusCode:e.status,body:t})})))})),$f(n)];return t&&c.push(new Promise(((e,n)=>{t.onabort=()=>{const e=new Error("Request aborted");e.name="AbortError",n(e)}}))),Promise.race(c)}}const Yf={},Zf=new Array(64);for(let e=0,t="A".charCodeAt(0),n="Z".charCodeAt(0);e+t<=n;e++){const n=String.fromCharCode(e+t);Yf[n]=e,Zf[e]=n}for(let e=0,t="a".charCodeAt(0),n="z".charCodeAt(0);e+t<=n;e++){const n=String.fromCharCode(e+t),r=e+26;Yf[n]=r,Zf[r]=n}for(let e=0;e<10;e++){Yf[e.toString(10)]=e+52;const t=e.toString(10),n=e+52;Yf[t]=n,Zf[n]=t}Yf["+"]=62,Zf[62]="+",Yf["/"]=63,Zf[63]="/";const Jf=e=>{let t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;const n=new ArrayBuffer(t),r=new DataView(n);for(let t=0;t<e.length;t+=4){let n=0,i=0;for(let r=t,o=t+3;r<=o;r++)if("="!==e[r]){if(!(e[r]in Yf))throw new TypeError(`Invalid character ${e[r]} in base64 string.`);n|=Yf[e[r]]<<6*(o-r),i+=6}else n>>=6;const o=t/4*3;n>>=i%8;const a=Math.floor(i/8);for(let e=0;e<a;e++){const t=8*(a-e-1);r.setUint8(o+e,(n&255<<t)>>t)}}return new Uint8Array(n)};function Xf(e){let t="";for(let n=0;n<e.length;n+=3){let r=0,i=0;for(let t=n,o=Math.min(n+3,e.length);t<o;t++)r|=e[t]<<8*(o-t-1),i+=8;const o=Math.ceil(i/6);r<<=6*o-i;for(let e=1;e<=o;e++){const n=6*(o-e);t+=Zf[(r&63<<n)>>n]}t+="==".slice(0,4-o)}return t}const Qf=e=>"function"==typeof Blob&&e instanceof Blob?async function(e){const t=await function(e){return new Promise(((t,n)=>{const r=new FileReader;r.onloadend=()=>{if(2!==r.readyState)return n(new Error("Reader aborted too early"));const e=r.result??"",i=e.indexOf(","),o=i>-1?i+1:e.length;t(e.substring(o))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(e)}))}(e),n=Jf(t);return new Uint8Array(n)}(e):async function(e){let t=new Uint8Array(0);const n=e.getReader();let r=!1;for(;!r;){const{done:e,value:i}=await n.read();if(i){const e=t;t=new Uint8Array(e.length+i.length),t.set(e),t.set(i,e.length)}r=e}return t}(e),ed=e=>{if("string"==typeof e){let t=e.length;for(let n=t-1;n>=0;n--){const r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error(`Body Length computation failed for ${e}`)};var td=n(1206),nd=n.n(td);const rd=({serviceId:e,clientVersion:t})=>async()=>{const n="undefined"!=typeof window&&window?.navigator?.userAgent?nd().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",t],[`os/${n?.os?.name||"other"}`,n?.os?.version],["lang/js"],["md/browser",`${n?.browser?.name??"unknown"}_${n?.browser?.version??"unknown"}`]];return e&&r.push([`api/${e}`,t]),r};var id=n(2084);const od=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}}],"version":"1.1"}'),{partitions:ad}=od,sd=ad.find((e=>"aws"===e.id)),ud=e=>{for(const t of ad){const{regions:n,outputs:r}=t;for(const[t,i]of Object.entries(n))if(t===e)return{...r,...i}}for(const t of ad){const{regionRegex:n,outputs:r}=t;if(new RegExp(n).test(e))return{...r}}if(!sd)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...sd.outputs}},cd="endpoints";function ld(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${ld(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(ld).join(", ")})`:JSON.stringify(e,null,2)}class fd extends Error{constructor(e){super(e),this.name="EndpointError"}}const dd=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),hd=e=>dd.test(e)||e.startsWith("[")&&e.endsWith("]"),pd=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),vd=(e,t=!1)=>{if(!t)return pd.test(e);const n=e.split(".");for(const e of n)if(!vd(e))return!1;return!0},yd=(e,t=!1)=>{if(t){for(const t of e.split("."))if(!yd(t))return!1;return!0}return!(!vd(e)||e.length<3||e.length>63||e!==e.toLowerCase()||hd(e))},gd=e=>{const t=e.split(":");if(t.length<6)return null;const[n,r,i,o,a,...s]=t;return"arn"!==n||""===r||""===i||""===s[0]?null:{partition:r,service:i,region:o,accountId:a,resourceId:s[0].includes("/")?s[0].split("/"):s}},md=(e,t)=>e===t,bd=(e,t)=>(e=>{const t=e.split("."),n=[];for(const r of t){const t=r.indexOf("[");if(-1!==t){if(r.indexOf("]")!==r.length-1)throw new fd(`Path: '${e}' does not end with ']'`);const i=r.slice(t+1,-1);if(Number.isNaN(parseInt(i)))throw new fd(`Invalid array index: '${i}' in path: '${e}'`);0!==t&&n.push(r.slice(0,t)),n.push(i)}else n.push(r)}return n})(t).reduce(((n,r)=>{if("object"!=typeof n)throw new fd(`Index '${r}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]}),e),wd=e=>null!=e,Sd=e=>!e;var Ed;!function(e){e.HTTP="http",e.HTTPS="https"}(Ed||(Ed={}));const _d={[Ed.HTTP]:80,[Ed.HTTPS]:443},xd=e=>{const t=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){const{hostname:t,port:n,protocol:r="",path:i="",query:o={}}=e,a=new URL(`${r}//${t}${n?`:${n}`:""}${i}`);return a.search=Object.entries(o).map((([e,t])=>`${e}=${t}`)).join("&"),a}return new URL(e)}catch(e){return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const n=t.href,{host:r,hostname:i,pathname:o,protocol:a,search:s}=t;if(s)return null;const u=a.slice(0,-1);if(!Object.values(Ed).includes(u))return null;const c=hd(i);return{scheme:u,authority:`${r}${n.includes(`${r}:${_d[u]}`)||"string"==typeof e&&e.includes(`${r}:${_d[u]}`)?`:${_d[u]}`:""}`,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:c}},Ad=(e,t)=>e===t,Td=(e,t,n,r)=>t>=n||e.length<n?null:r?e.substring(e.length-n,e.length-t):e.substring(t,n),Cd=e=>encodeURIComponent(e).replace(/[!*'()]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),Id=(e,t)=>{const n=[],r={...t.endpointParams,...t.referenceRecord};let i=0;for(;i<e.length;){const t=e.indexOf("{",i);if(-1===t){n.push(e.slice(i));break}n.push(e.slice(i,t));const o=e.indexOf("}",t);if(-1===o){n.push(e.slice(t));break}"{"===e[t+1]&&"}"===e[o+1]&&(n.push(e.slice(t+1,o)),i=o+2);const a=e.substring(t+1,o);if(a.includes("#")){const[e,t]=a.split("#");n.push(bd(r[e],t))}else n.push(r[a]);i=o+1}return n.join("")},Pd=(e,t,n)=>{if("string"==typeof e)return Id(e,n);if(e.fn)return Od(e,n);if(e.ref)return(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord}[e]))(e,n);throw new fd(`'${t}': ${String(e)} is not a string, function or reference.`)},Od=({fn:e,argv:t},n)=>{const r=t.map((e=>["boolean","number"].includes(typeof e)?e:Pd(e,"arg",n)));return e.split(".").reduce(((e,t)=>e[t]),i)(...r)},kd=({assign:e,...t},n)=>{if(e&&e in n.referenceRecord)throw new fd(`'${e}' is already defined in Reference Record.`);const r=Od(t,n);return n.logger?.debug?.(cd,`evaluateCondition: ${ld(t)} = ${ld(r)}`),{result:""===r||!!r,...null!=e&&{toAssign:{name:e,value:r}}}},Rd=(e=[],t)=>{const n={};for(const r of e){const{result:e,toAssign:i}=kd(r,{...t,referenceRecord:{...t.referenceRecord,...n}});if(!e)return{result:e};i&&(n[i.name]=i.value,t.logger?.debug?.(cd,`assign: ${i.name} := ${ld(i.value)}`))}return{result:!0,referenceRecord:n}},Ld=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>({...e,[n]:r.map((e=>{const r=Pd(e,"Header value entry",t);if("string"!=typeof r)throw new fd(`Header '${n}' value '${r}' is not a string`);return r}))})),{}),Nd=(e,t)=>{if(Array.isArray(e))return e.map((e=>Nd(e,t)));switch(typeof e){case"string":return Id(e,t);case"object":if(null===e)throw new fd(`Unexpected endpoint property: ${e}`);return Dd(e,t);case"boolean":return e;default:throw new fd("Unexpected endpoint property type: "+typeof e)}},Dd=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>({...e,[n]:Nd(r,t)})),{}),Md=(e,t)=>{const n=Pd(e,"Endpoint URL",t);if("string"==typeof n)try{return new URL(n)}catch(e){throw console.error(`Failed to construct URL with ${n}`,e),e}throw new fd("Endpoint URL must be a string, got "+typeof n)},jd=(e,t)=>{const{conditions:n,endpoint:r}=e,{result:i,referenceRecord:o}=Rd(n,t);if(!i)return;const a={...t,referenceRecord:{...t.referenceRecord,...o}},{url:s,properties:u,headers:c}=r;return t.logger?.debug?.(cd,`Resolving endpoint from template: ${ld(r)}`),{...null!=c&&{headers:Ld(c,a)},...null!=u&&{properties:Dd(u,a)},url:Md(s,a)}},Ud=(e,t)=>{const{conditions:n,error:r}=e,{result:i,referenceRecord:o}=Rd(n,t);if(i)throw new fd(Pd(r,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},Fd=(e,t)=>{const{conditions:n,rules:r}=e,{result:i,referenceRecord:o}=Rd(n,t);if(i)return zd(r,{...t,referenceRecord:{...t.referenceRecord,...o}})},zd=(e,t)=>{for(const n of e)if("endpoint"===n.type){const e=jd(n,t);if(e)return e}else if("error"===n.type)Ud(n,t);else{if("tree"!==n.type)throw new fd(`Unknown endpoint rule: ${n}`);{const e=Fd(n,t);if(e)return e}}throw new fd("Rules evaluation failed")},Bd="fn",qd="argv",Kd="ref",Hd="String",Gd="PartitionResult",Vd="tree",$d="error",Wd="endpoint",Yd="getAttr",Zd="stringEquals",Jd={required:!0,default:!1,type:"Boolean"},Xd={[Kd]:"Region"},Qd={[Kd]:"Endpoint"},eh={[Bd]:"booleanEquals",[qd]:[{[Kd]:"UseFIPS"},!0]},th={[Bd]:"booleanEquals",[qd]:[{[Kd]:"UseDualStack"},!0]},nh={},rh={[Bd]:"booleanEquals",[qd]:[!0,{[Bd]:Yd,[qd]:[{[Kd]:Gd},"supportsFIPS"]}]},ih={[Kd]:Gd},oh={[Bd]:"booleanEquals",[qd]:[!0,{[Bd]:Yd,[qd]:[ih,"supportsDualStack"]}]},ah={url:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",properties:{},headers:{}},sh=[eh],uh=[th],ch={version:"1.0",parameters:{Region:{required:!0,type:Hd},UseDualStack:Jd,UseFIPS:Jd,Endpoint:{required:!1,type:Hd}},rules:[{conditions:[{[Bd]:"aws.partition",[qd]:[Xd],assign:Gd}],type:Vd,rules:[{conditions:[{[Bd]:"isSet",[qd]:[Qd]}],type:Vd,rules:[{conditions:sh,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:$d},{type:Vd,rules:[{conditions:uh,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:$d},{endpoint:{url:Qd,properties:nh,headers:nh},type:Wd}]}]},{conditions:[eh,th],type:Vd,rules:[{conditions:[rh,oh],type:Vd,rules:[{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:nh,headers:nh},type:Wd}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:$d}]},{conditions:sh,type:Vd,rules:[{conditions:[rh],type:Vd,rules:[{type:Vd,rules:[{conditions:[{[Bd]:Zd,[qd]:["aws-us-gov",{[Bd]:Yd,[qd]:[ih,"name"]}]}],endpoint:ah,type:Wd},{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",properties:nh,headers:nh},type:Wd}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:$d}]},{conditions:uh,type:Vd,rules:[{conditions:[oh],type:Vd,rules:[{endpoint:{url:"https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:nh,headers:nh},type:Wd}]},{error:"DualStack is enabled but this partition does not support DualStack",type:$d}]},{type:Vd,rules:[{conditions:[{[Bd]:Zd,[qd]:[Xd,"local"]}],endpoint:{url:"http://localhost:8000",properties:{authSchemes:[{name:"sigv4",signingRegion:"us-east-1",signingName:"dynamodb"}]},headers:nh},type:Wd},{endpoint:ah,type:Wd}]}]}]},lh=(e,t={})=>((e,t)=>{const{endpointParams:n,logger:r}=t,{parameters:i,rules:o}=e;t.logger?.debug?.(cd,`Initial EndpointParams: ${ld(n)}`);const a=Object.entries(i).filter((([,e])=>null!=e.default)).map((([e,t])=>[e,t.default]));if(a.length>0)for(const[e,t]of a)n[e]=n[e]??t;const s=Object.entries(i).filter((([,e])=>e.required)).map((([e])=>e));for(const e of s)if(null==n[e])throw new fd(`Missing required parameter: '${e}'`);const u=zd(o,{endpointParams:n,logger:r,referenceRecord:{}});if(t.endpointParams?.Endpoint)try{const e=new URL(t.endpointParams.Endpoint),{protocol:n,port:r}=e;u.url.protocol=n,u.url.port=r}catch(e){}return t.logger?.debug?.(cd,`Resolved endpoint: ${ld(u)}`),u})(ch,{endpointParams:e,logger:t.logger}),fh=["in-region","cross-region","mobile","standard","legacy"],dh=e=>{const t=(({defaultsMode:e}={})=>rf((async()=>{const t="function"==typeof e?await e():e;switch(t?.toLowerCase()){case"auto":return Promise.resolve((()=>{const e=("undefined"!=typeof window&&window?.navigator?.userAgent?nd().parse(window.navigator.userAgent):void 0)?.platform?.type;return"tablet"===e||"mobile"===e})()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${fh.join(", ")}, got ${t}`)}})))(e),n=()=>t().then(K),r=(e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??Jf,base64Encoder:e?.base64Encoder??Xf,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??lh,logger:e?.logger??new g,serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??y}))(e);return{...r,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??ed,credentialDefaultProvider:e?.credentialDefaultProvider??(e=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:e?.defaultUserAgentProvider??rd({serviceId:r.serviceId,clientVersion:"3.245.0"}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??(()=>Promise.resolve(void 0)),maxAttempts:e?.maxAttempts??3,region:e?.region??("Region is missing",()=>Promise.reject("Region is missing")),requestHandler:e?.requestHandler??new Wf(n),retryMode:e?.retryMode??(async()=>(await n()).retryMode||"STANDARD"),sha256:e?.sha256??Gf.Sha256,streamCollector:e?.streamCollector??Qf,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(!1)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(!1)),utf8Decoder:e?.utf8Decoder??id.fromUtf8,utf8Encoder:e?.utf8Encoder??id.toUtf8}};class hh extends S{constructor(e){var t;const n=(e=>{const{region:t,useFipsEndpoint:n}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if("string"==typeof t)return Ol(t);const e=await t();return Ol(e)},useFipsEndpoint:async()=>{const e="string"==typeof t?t:await t();return!!Pl(e)||("function"!=typeof n?Promise.resolve(!!n):n())}}})((t=dh(e),{...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"dynamodb"})),r=(e=>{const{retryStrategy:t}=e,n=v(e.maxAttempts??3);return{...e,maxAttempts:n,retryStrategy:async()=>t||(await v(e.retryMode)()===zl.ADAPTIVE?new Zl(n):new Yl(n))}})((e=>{const t=e.tls??!0,{endpoint:n}=e,r=null!=n?async()=>(e=>"object"==typeof e?"url"in e?y(e.url):e:y(e))(await v(n)()):void 0,i=!!n;return{...e,endpoint:r,tls:t,isCustomEndpoint:i,useDualstackEndpoint:v(e.useDualstackEndpoint??!1),useFipsEndpoint:v(e.useFipsEndpoint??!1)}})(n)),i=(e=>{const t=e.credentials?"function"==typeof(o=e.credentials)?rf(o,(e=>void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5),(e=>void 0!==e.expiration)):v(o):e.credentialDefaultProvider(e),{signingEscapePath:n=!0,systemClockOffset:r=e.systemClockOffset||0,sha256:i}=e;var o;let a;return a=e.signer?v(e.signer):e.regionInfoProvider?()=>v(e.region)().then((async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t])).then((([r,o])=>{const{signingRegion:a,signingService:s}=r;e.signingRegion=e.signingRegion||a||o,e.signingName=e.signingName||s||e.serviceId;const u={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:n};return new(e.signerConstructor||Lf)(u)})):async r=>{const o=(r=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await v(e.region)(),properties:{}},r)).signingRegion,a=r.signingName;e.signingRegion=e.signingRegion||o,e.signingName=e.signingName||a||e.serviceId;const s={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:n};return new(e.signerConstructor||Lf)(s)},{...e,systemClockOffset:r,signingEscapePath:n,credentials:t,signer:a}})(r);var o;const a=((e,{endpointDiscoveryCommandCtor:t})=>({...e,endpointDiscoveryCommandCtor:t,endpointCache:new Dl(e.endpointCacheSize??1e3),endpointDiscoveryEnabled:void 0!==e.endpointDiscoveryEnabled?()=>Promise.resolve(e.endpointDiscoveryEnabled):e.endpointDiscoveryEnabledProvider,isClientEndpointDiscoveryEnabled:void 0!==e.endpointDiscoveryEnabled}))((o=i,{...o,customUserAgent:"string"==typeof o.customUserAgent?[[o.customUserAgent]]:o.customUserAgent}),{endpointDiscoveryCommandCtor:Bc});var s;super(a),this.config=a,this.middlewareStack.use((e=>({applyToStack:t=>{t.add((e=>(t,n)=>async r=>{let i=await e.retryStrategy();const o=await e.maxAttempts();if(!(e=>void 0!==e.acquireInitialRetryToken&&void 0!==e.refreshRetryTokenForRetry&&void 0!==e.recordSuccess)(i))return i?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(t,r);{let e=await i.acquireInitialRetryToken(n.partition_id),s=new Error,u=0,c=0;const{request:l}=r;for(Zi.isInstance(l)&&(l.headers["amz-sdk-invocation-id"]=(0,Ji.Z)());;)try{Zi.isInstance(l)&&(l.headers["amz-sdk-request"]=`attempt=${u+1}; max=${o}`);const{response:n,output:a}=await t(r);return i.recordSuccess(e),a.$metadata.attempts=u+1,a.$metadata.totalRetryDelay=c,{response:n,output:a}}catch(t){const n=Xl(t);s=(a=t)instanceof Error?a:a instanceof Object?Object.assign(new Error,a):"string"==typeof a?new Error(a):new Error(`AWS SDK error wrapper for ${a}`);try{e=await i.refreshRetryTokenForRetry(e,n)}catch(e){throw s.$metadata||(s.$metadata={}),s.$metadata.attempts=u+1,s.$metadata.totalRetryDelay=c,s}u=e.getRetryCount();const r=e.getRetryDelay();c+=r,await new Promise((e=>setTimeout(e,r)))}}var a})(e),ef)}}))(this.config)),this.middlewareStack.use((e=>({applyToStack:t=>{var n;t.add((n=e.bodyLengthChecker,e=>async t=>{const r=t.request;if(Zi.isInstance(r)){const{body:e,headers:t}=r;if(e&&-1===Object.keys(t).map((e=>e.toLowerCase())).indexOf(kl))try{const t=n(e);r.headers={...r.headers,[kl]:String(t)}}catch(e){}}return e({...t,request:r})}),Rl)}}))(this.config)),this.middlewareStack.use((e=>({applyToStack:t=>{t.add((e=>t=>async n=>{if(!Zi.isInstance(n.request))return t(n);const{request:r}=n,{handlerProtocol:i=""}=e.requestHandler.metadata||{};return i.indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),t(n)})(e),Ml)}}))(this.config)),this.middlewareStack.use((this.config,{applyToStack:e=>{e.add(((e,t)=>async n=>{const r=await e(n),{clientName:i,commandName:o,logger:a,inputFilterSensitiveLog:s,outputFilterSensitiveLog:u,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:f}=c;if(!a)return r;if("function"==typeof a.info){const{$metadata:e,...t}=r.output;a.info({clientName:i,commandName:o,input:(l??s)(n.input),output:(f??u)(t),metadata:e})}return r}),jl)}})),this.middlewareStack.use((e=>({applyToStack:t=>{t.add((e=>t=>async n=>{const{request:r}=n;if(!Zi.isInstance(r)||"node"!==e.runtime||r.headers.hasOwnProperty(Ul))return t(n);const i=process.env.AWS_LAMBDA_FUNCTION_NAME,o=process.env._X_AMZN_TRACE_ID,a=e=>"string"==typeof e&&e.length>0;return a(i)&&a(o)&&(r.headers[Ul]=o),t({...n,request:r})})(e),Fl)}}))(this.config)),this.middlewareStack.use((e=>({applyToStack:t=>{t.addRelativeTo((e=>(t,n)=>async function(r){if(!Zi.isInstance(r.request))return t(r);const i=n.endpointV2?.properties?.authSchemes?.[0],o="sigv4a"===i?.name?i?.signingRegionSet?.join(","):void 0,a=await e.signer(i),s=await t({...r,request:await a.sign(r.request,{signingDate:Mf(e.systemClockOffset),signingRegion:o||n.signing_region,signingService:n.signing_service})}).catch((t=>{const n=t.ServerTime??Uf(t.$response);throw n&&(e.systemClockOffset=jf(n,e.systemClockOffset)),t})),u=Uf(s.response);return u&&(e.systemClockOffset=jf(u,e.systemClockOffset)),s})(e),Ff)}}))(this.config)),this.middlewareStack.use((s=this.config,{applyToStack:e=>{var t;e.add((t=s,(e,n)=>async r=>{const{request:i}=r;if(!Zi.isInstance(i))return e(r);const{headers:o}=i,a=n?.userAgent?.map(Kf)||[],s=(await t.defaultUserAgentProvider()).map(Kf),u=t?.customUserAgent?.map(Kf)||[],c=[...s,...a,...u].join(" "),l=[...s.filter((e=>e.startsWith("aws-sdk-"))),...u].join(" ");return"browser"!==t.runtime?(l&&(o[Bf]=o[Bf]?`${o[zf]} ${l}`:l),o[zf]=c):o[Bf]=c,e({...r,request:i})}),Hf)}}))}destroy(){super.destroy()}}class ph extends hh{batchExecuteStatement(e,t,n){const r=new Pc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}batchGetItem(e,t,n){const r=new Oc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}batchWriteItem(e,t,n){const r=new kc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}createBackup(e,t,n){const r=new Rc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}createGlobalTable(e,t,n){const r=new Lc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}createTable(e,t,n){const r=new Nc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}deleteBackup(e,t,n){const r=new Dc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}deleteItem(e,t,n){const r=new Mc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}deleteTable(e,t,n){const r=new jc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeBackup(e,t,n){const r=new Uc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeContinuousBackups(e,t,n){const r=new Fc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeContributorInsights(e,t,n){const r=new zc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeEndpoints(e,t,n){const r=new Bc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeExport(e,t,n){const r=new qc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeGlobalTable(e,t,n){const r=new Kc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeGlobalTableSettings(e,t,n){const r=new Hc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeImport(e,t,n){const r=new Gc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeKinesisStreamingDestination(e,t,n){const r=new Vc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeLimits(e,t,n){const r=new $c(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeTable(e,t,n){const r=new Wc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeTableReplicaAutoScaling(e,t,n){const r=new Yc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeTimeToLive(e,t,n){const r=new Zc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}disableKinesisStreamingDestination(e,t,n){const r=new Jc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}enableKinesisStreamingDestination(e,t,n){const r=new Xc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}executeStatement(e,t,n){const r=new Qc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}executeTransaction(e,t,n){const r=new el(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}exportTableToPointInTime(e,t,n){const r=new tl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}getItem(e,t,n){const r=new nl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}importTable(e,t,n){const r=new rl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}listBackups(e,t,n){const r=new il(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}listContributorInsights(e,t,n){const r=new ol(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}listExports(e,t,n){const r=new al(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}listGlobalTables(e,t,n){const r=new sl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}listImports(e,t,n){const r=new ul(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}listTables(e,t,n){const r=new cl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}listTagsOfResource(e,t,n){const r=new ll(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}putItem(e,t,n){const r=new fl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}query(e,t,n){const r=new dl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}restoreTableFromBackup(e,t,n){const r=new hl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}restoreTableToPointInTime(e,t,n){const r=new pl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}scan(e,t,n){const r=new vl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}tagResource(e,t,n){const r=new yl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}transactGetItems(e,t,n){const r=new gl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}transactWriteItems(e,t,n){const r=new ml(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}untagResource(e,t,n){const r=new bl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}updateContinuousBackups(e,t,n){const r=new wl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}updateContributorInsights(e,t,n){const r=new Sl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}updateGlobalTable(e,t,n){const r=new El(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}updateGlobalTableSettings(e,t,n){const r=new _l(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}updateItem(e,t,n){const r=new xl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}updateTable(e,t,n){const r=new Al(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}updateTableReplicaAutoScaling(e,t,n){const r=new Tl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}updateTimeToLive(e,t,n){const r=new Cl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}}const vh=async(e,t,...n)=>await e.send(new ol(t),...n),yh=async(e,t,...n)=>await e.listContributorInsights(t,...n);async function*gh(e,t,...n){let r,i=e.startingToken||void 0,o=!0;for(;o;){if(t.NextToken=i,t.MaxResults=e.pageSize,e.client instanceof ph)r=await yh(e.client,t,...n);else{if(!(e.client instanceof hh))throw new Error("Invalid client, expected DynamoDB | DynamoDBClient");r=await vh(e.client,t,...n)}yield r;const a=i;i=r.NextToken,o=!(!i||e.stopOnSameToken&&i===a)}}const mh=async(e,t,...n)=>await e.send(new al(t),...n),bh=async(e,t,...n)=>await e.listExports(t,...n);async function*wh(e,t,...n){let r,i=e.startingToken||void 0,o=!0;for(;o;){if(t.NextToken=i,t.MaxResults=e.pageSize,e.client instanceof ph)r=await bh(e.client,t,...n);else{if(!(e.client instanceof hh))throw new Error("Invalid client, expected DynamoDB | DynamoDBClient");r=await mh(e.client,t,...n)}yield r;const a=i;i=r.NextToken,o=!(!i||e.stopOnSameToken&&i===a)}}const Sh=async(e,t,...n)=>await e.send(new ul(t),...n),Eh=async(e,t,...n)=>await e.listImports(t,...n);async function*_h(e,t,...n){let r,i=e.startingToken||void 0,o=!0;for(;o;){if(t.NextToken=i,t.PageSize=e.pageSize,e.client instanceof ph)r=await Eh(e.client,t,...n);else{if(!(e.client instanceof hh))throw new Error("Invalid client, expected DynamoDB | DynamoDBClient");r=await Sh(e.client,t,...n)}yield r;const a=i;i=r.NextToken,o=!(!i||e.stopOnSameToken&&i===a)}}const xh=async(e,t,...n)=>await e.send(new cl(t),...n),Ah=async(e,t,...n)=>await e.listTables(t,...n);async function*Th(e,t,...n){let r,i=e.startingToken||void 0,o=!0;for(;o;){if(t.ExclusiveStartTableName=i,t.Limit=e.pageSize,e.client instanceof ph)r=await Ah(e.client,t,...n);else{if(!(e.client instanceof hh))throw new Error("Invalid client, expected DynamoDB | DynamoDBClient");r=await xh(e.client,t,...n)}yield r;const a=i;i=r.LastEvaluatedTableName,o=!(!i||e.stopOnSameToken&&i===a)}}const Ch=async(e,t,...n)=>await e.send(new dl(t),...n),Ih=async(e,t,...n)=>await e.query(t,...n);async function*Ph(e,t,...n){let r,i=e.startingToken||void 0,o=!0;for(;o;){if(t.ExclusiveStartKey=i,t.Limit=e.pageSize,e.client instanceof ph)r=await Ih(e.client,t,...n);else{if(!(e.client instanceof hh))throw new Error("Invalid client, expected DynamoDB | DynamoDBClient");r=await Ch(e.client,t,...n)}yield r;const a=i;i=r.LastEvaluatedKey,o=!(!i||e.stopOnSameToken&&i===a)}}const Oh=async(e,t,...n)=>await e.send(new vl(t),...n),kh=async(e,t,...n)=>await e.scan(t,...n);async function*Rh(e,t,...n){let r,i=e.startingToken||void 0,o=!0;for(;o;){if(t.ExclusiveStartKey=i,t.Limit=e.pageSize,e.client instanceof ph)r=await kh(e.client,t,...n);else{if(!(e.client instanceof hh))throw new Error("Invalid client, expected DynamoDB | DynamoDBClient");r=await Oh(e.client,t,...n)}yield r;const a=i;i=r.LastEvaluatedKey,o=!(!i||e.stopOnSameToken&&i===a)}}const Lh=e=>new Promise((t=>setTimeout(t,1e3*e))),Nh={minDelay:2,maxDelay:120};var Dh;!function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"}(Dh||(Dh={}));const Mh=e=>{if(e.state===Dh.ABORTED){const t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw t.name="AbortError",t}if(e.state===Dh.TIMEOUT){const t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw t.name="TimeoutError",t}if(e.state!==Dh.SUCCESS)throw new Error(`${JSON.stringify({result:e})}`);return e},jh=(e,t,n,r)=>r>n?t:Uh(e,e*2**(r-1)),Uh=(e,t)=>e+Math.random()*(t-e),Fh=async({minDelay:e,maxDelay:t,maxWaitTime:n,abortController:r,client:i,abortSignal:o},a,s)=>{const{state:u,reason:c}=await s(i,a);if(u!==Dh.RETRY)return{state:u,reason:c};let l=1;const f=Date.now()+1e3*n,d=Math.log(t/e)/Math.log(2)+1;for(;;){if(r?.signal?.aborted||o?.aborted)return{state:Dh.ABORTED};const n=jh(e,t,d,l);if(Date.now()+1e3*n>f)return{state:Dh.TIMEOUT};await Lh(n);const{state:u,reason:c}=await s(i,a);if(u!==Dh.RETRY)return{state:u,reason:c};l+=1}},zh=async e=>new Promise((t=>{e.onabort=()=>t({state:Dh.ABORTED})})),Bh=async(e,t,n)=>{const r={...Nh,...e};(e=>{if(e.maxWaitTime<1)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<1)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<1)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)})(r);const i=[Fh(r,t,n)];return e.abortController&&i.push(zh(e.abortController.signal)),e.abortSignal&&i.push(zh(e.abortSignal)),Promise.race(i)},qh=async(e,t)=>{let n;try{const r=await e.send(new Wc(t));n=r;try{if("ACTIVE"===r.Table.TableStatus)return{state:Dh.SUCCESS,reason:n}}catch(e){}}catch(e){if(n=e,e.name&&"ResourceNotFoundException"==e.name)return{state:Dh.RETRY,reason:n}}return{state:Dh.RETRY,reason:n}},Kh=async(e,t)=>Bh({minDelay:20,maxDelay:120,...e},t,qh),Hh=async(e,t)=>{const n=await Bh({minDelay:20,maxDelay:120,...e},t,qh);return Mh(n)},Gh=async(e,t)=>{let n;try{n=await e.send(new Wc(t))}catch(e){if(n=e,e.name&&"ResourceNotFoundException"==e.name)return{state:Dh.SUCCESS,reason:n}}return{state:Dh.RETRY,reason:n}},Vh=async(e,t)=>Bh({minDelay:20,maxDelay:120,...e},t,Gh),$h=async(e,t)=>{const n=await Bh({minDelay:20,maxDelay:120,...e},t,Gh);return Mh(n)}},5290:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7863:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7479:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1682:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},87:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map((function(e){return i[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},2998:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8358);r.__exportStar(n(5290),t),r.__exportStar(n(7863),t),r.__exportStar(n(7479),t),r.__exportStar(n(1682),t),r.__exportStar(n(87),t)},8358:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},4663:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},4703:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(1915),i=n(9541),o=n(9115),a=n(3180),s=n(2998),u=n(6495),c=function(){function e(e){(0,a.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new i.Sha256(e):(0,s.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},1915:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(757),i=n(4663),o=n(9778),a=n(6495),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",u(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},4298:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(1366).__exportStar)(n(4703),t);var r=n(1915);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var i=n(9541);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})},757:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},9541:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(8033),i=n(4663),o=n(6495),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,o.locateWindow)().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,o.locateWindow)().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},1366:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(2186),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],h=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=c,c=u,u=s,s=a+v|0,a=o,o=i,i=n,n=v+y|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=i},2186:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},9115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(2512).__exportStar)(n(7277),t)},7277:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(2512),i=n(2186),o=n(6826),a=n(8033),s=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},2512:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},3180:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3587).__exportStar(n(7426),t)},7426:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(3587),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&i.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},3587:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},9071:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(9778),i="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},8033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(9071);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(1404);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(8963);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var a=n(8147);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},1404:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},8963:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},8147:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},9778:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>i});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},5477:(e,t,n)=>{var r=n(7891),i=n(8163),o=i;o.v1=r,o.v4=i,e.exports=o},628:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},9566:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},7891:(e,t,n)=>{var r,i,o=n(9566),a=n(628),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var h=o();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=p-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,i=d;var g=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var m=p/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},8163:(e,t,n)=>{var r=n(9566),i=n(628);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},4265:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},317:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4894:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5065:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3270:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map((function(e){return i[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},810:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4289);r.__exportStar(n(4265),t),r.__exportStar(n(317),t),r.__exportStar(n(4894),t),r.__exportStar(n(5065),t),r.__exportStar(n(3270),t)},4289:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},54:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},9957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(6808),i=n(5208),o=n(3440),a=n(5942),s=n(810),u=n(6495),c=function(){function e(e){(0,a.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new i.Sha256(e):(0,s.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},6808:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(4984),i=n(54),o=n(4190),a=n(6495),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",u(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},9594:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(5726).__exportStar)(n(9957),t);var r=n(6808);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var i=n(5208);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})},4984:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},5208:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(8401),i=n(54),o=n(6495),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,o.locateWindow)().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,o.locateWindow)().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},5726:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},8439:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(5080),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],h=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=c,c=u,u=s,s=a+v|0,a=o,o=i,i=n,n=v+y|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=i},5080:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},3440:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(3152).__exportStar)(n(4914),t)},4914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(3152),i=n(5080),o=n(8439),a=n(8401),s=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},3152:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},5942:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1174).__exportStar(n(3882),t)},3882:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(1174),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&i.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},1174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},1136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(4190),i="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},8401:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(1136);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(1010);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(1902);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var a=n(3461);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},1010:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},1902:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},3461:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},4190:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>i});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},9263:(e,t,n)=>{var r=n(8018),i=n(4689),o=i;o.v1=r,o.v4=i,e.exports=o},1142:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},6602:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},8018:(e,t,n)=>{var r,i,o=n(6602),a=n(1142),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var h=o();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=p-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,i=d;var g=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var m=p/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},4689:(e,t,n)=>{var r=n(6602),i=n(1142);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},1244:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3006:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3392:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},832:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5173:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map((function(e){return i[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},6113:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6244);r.__exportStar(n(1244),t),r.__exportStar(n(3006),t),r.__exportStar(n(3392),t),r.__exportStar(n(832),t),r.__exportStar(n(5173),t)},6244:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6961:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},7716:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(9924),i=n(5286),o=n(2005),a=n(3806),s=n(6113),u=n(6495),c=function(){function e(e){(0,a.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new i.Sha256(e):(0,s.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},9924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(3888),i=n(6961),o=n(2109),a=n(6495),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",u(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},4199:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(7093).__exportStar)(n(7716),t);var r=n(9924);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var i=n(5286);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})},3888:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},5286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(229),i=n(6961),o=n(6495),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,o.locateWindow)().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,o.locateWindow)().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},7093:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},8101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(9221),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],h=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=c,c=u,u=s,s=a+v|0,a=o,o=i,i=n,n=v+y|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=i},9221:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},2005:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(8293).__exportStar)(n(8406),t)},8406:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(8293),i=n(9221),o=n(8101),a=n(229),s=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},8293:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},3806:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(797).__exportStar(n(6353),t)},6353:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(797),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&i.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},797:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},8781:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(2109),i="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},229:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(8781);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(6870);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(9484);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var a=n(1315);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},6870:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},9484:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},1315:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},2109:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>i});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},7686:(e,t,n)=>{var r=n(2529),i=n(3139),o=i;o.v1=r,o.v4=i,e.exports=o},7882:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},9159:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},2529:(e,t,n)=>{var r,i,o=n(9159),a=n(7882),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var h=o();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=p-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,i=d;var g=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var m=p/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},3139:(e,t,n)=>{var r=n(9159),i=n(7882);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},2465:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3058:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2137:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5826:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5431:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map((function(e){return i[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},6857:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3850);r.__exportStar(n(2465),t),r.__exportStar(n(3058),t),r.__exportStar(n(2137),t),r.__exportStar(n(5826),t),r.__exportStar(n(5431),t)},3850:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},3443:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},9743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(2539),i=n(4798),o=n(1473),a=n(3380),s=n(6857),u=n(6495),c=function(){function e(e){(0,a.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new i.Sha256(e):(0,s.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},2539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(9092),i=n(3443),o=n(8067),a=n(6495),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",u(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},4391:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(6090).__exportStar)(n(9743),t);var r=n(2539);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var i=n(4798);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})},9092:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},4798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(8498),i=n(3443),o=n(6495),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,o.locateWindow)().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,o.locateWindow)().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},6090:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},799:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(9138),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],h=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=c,c=u,u=s,s=a+v|0,a=o,o=i,i=n,n=v+y|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=i},9138:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},1473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(6021).__exportStar)(n(5179),t)},5179:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(6021),i=n(9138),o=n(799),a=n(8498),s=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},6021:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},3380:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(4205).__exportStar(n(7237),t)},7237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(4205),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&i.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},4205:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},1623:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(8067),i="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},8498:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(1623);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(7850);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(2861);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var a=n(6756);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},7850:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},2861:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},6756:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},8067:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>i});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},9755:(e,t,n)=>{var r=n(155),i=n(9668),o=i;o.v1=r,o.v4=i,e.exports=o},9435:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},8695:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},155:(e,t,n)=>{var r,i,o=n(8695),a=n(9435),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var h=o();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=p-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,i=d;var g=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var m=p/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},9668:(e,t,n)=>{var r=n(8695),i=n(9435);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},7097:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2489:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1207:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7794:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2319:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map((function(e){return i[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},3323:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3705);r.__exportStar(n(7097),t),r.__exportStar(n(2489),t),r.__exportStar(n(1207),t),r.__exportStar(n(7794),t),r.__exportStar(n(2319),t)},3705:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},8766:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},4331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(6111),i=n(3841),o=n(6493),a=n(8976),s=n(3323),u=n(6495),c=function(){function e(e){(0,a.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new i.Sha256(e):(0,s.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},6111:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(6289),i=n(8766),o=n(1545),a=n(6495),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",u(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},8515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(3034).__exportStar)(n(4331),t);var r=n(6111);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var i=n(3841);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})},6289:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},3841:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(9797),i=n(8766),o=n(6495),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,o.locateWindow)().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,o.locateWindow)().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},3034:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},9013:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(3136),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],h=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=c,c=u,u=s,s=a+v|0,a=o,o=i,i=n,n=v+y|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=i},3136:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},6493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(2170).__exportStar)(n(9804),t)},9804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(2170),i=n(3136),o=n(9013),a=n(9797),s=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},2170:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},8976:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7379).__exportStar(n(7934),t)},7934:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(7379),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&i.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},7379:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},4403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(1545),i="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},9797:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(4403);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(6712);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(6854);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var a=n(8510);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},6712:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},6854:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},8510:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},1545:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>i});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},3138:(e,t,n)=>{"use strict";const r=n(3691).buildOptions,i={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},o=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor","rootNodeName"];function a(e){this.options=r(e,i,o),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=v),this.options.cdataTagName?this.isCDATA=y:this.isCDATA=function(){return!1},this.replaceCDATAstr=u,this.replaceCDATAarr=c,this.processTextOrObjNode=s,this.options.format?(this.indentate=p,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=h,this.buildObjNode=f):(this.buildTextNode=d,this.buildObjNode=l),this.buildTextValNode=d,this.buildObjectNode=l}function s(e,t,n){const r=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextNode(r.val,t,r.attrStr,n):this.buildObjNode(r.val,t,r.attrStr,n)}function u(e,t){return e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function c(e,t){if(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let n in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[n]+"]]>");return e+this.newLine}function l(e,t,n,r){return n&&-1===e.indexOf("<")?this.indentate(r)+"<"+t+n+">"+e+"</"+t+this.tagEndChar:this.indentate(r)+"<"+t+n+this.tagEndChar+e+this.indentate(r)+"</"+t+this.tagEndChar}function f(e,t,n,r){return""!==e?this.buildObjectNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function d(e,t,n,r){return this.indentate(r)+"<"+t+n+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function h(e,t,n,r){return""!==e?this.buildTextValNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function p(e){return this.options.indentBy.repeat(e)}function v(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}function y(e){return e===this.options.cdataTagName}a.prototype.parse=function(e){return Array.isArray(e)&&this.options.rootNodeName&&this.options.rootNodeName.length>1&&(e={[this.options.rootNodeName]:e}),this.j2x(e,0).val},a.prototype.j2x=function(e,t){let n="",r="";for(let i in e)if(void 0===e[i]);else if(null===e[i])r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)r+=this.buildTextNode(e[i],i,"",t);else if("object"!=typeof e[i]){const o=this.isAttribute(i);o?n+=" "+o+'="'+this.options.attrValueProcessor(""+e[i])+'"':this.isCDATA(i)?e[this.options.textNodeName]?r+=this.replaceCDATAstr(e[this.options.textNodeName],e[i]):r+=this.replaceCDATAstr("",e[i]):i===this.options.textNodeName?e[this.options.cdataTagName]||(r+=this.options.tagValueProcessor(""+e[i])):r+=this.buildTextNode(e[i],i,"",t)}else if(Array.isArray(e[i]))if(this.isCDATA(i))r+=this.indentate(t),e[this.options.textNodeName]?r+=this.replaceCDATAarr(e[this.options.textNodeName],e[i]):r+=this.replaceCDATAarr("",e[i]);else{const n=e[i].length;for(let o=0;o<n;o++){const n=e[i][o];void 0===n||(r+=null===n?this.indentate(t)+"<"+i+"/"+this.tagEndChar:"object"==typeof n?this.processTextOrObjNode(n,i,t):this.buildTextNode(n,i,"",t))}}else if(this.options.attrNodeName&&i===this.options.attrNodeName){const t=Object.keys(e[i]),r=t.length;for(let o=0;o<r;o++)n+=" "+t[o]+'="'+this.options.attrValueProcessor(""+e[i][t[o]])+'"'}else r+=this.processTextOrObjNode(e[i],i,t);return{attrStr:n,val:r}},e.exports=a},2979:(e,t,n)=>{"use strict";const r=function(e){return String.fromCharCode(e)},i={nilChar:r(176),missingChar:r(201),nilPremitive:r(175),missingPremitive:r(200),emptyChar:r(178),emptyValue:r(177),boundryChar:r(179),objStart:r(198),arrStart:r(204),arrayEnd:r(185)},o=[i.nilChar,i.nilPremitive,i.missingChar,i.missingPremitive,i.boundryChar,i.emptyChar,i.emptyValue,i.arrayEnd,i.objStart,i.arrStart],a=function(e,t,n){if("string"==typeof t)return e&&e[0]&&void 0!==e[0].val?s(e[0].val,t):s(e,t);{const o=void 0===(r=e)?i.missingChar:null===r?i.nilChar:!(r.child&&0===Object.keys(r.child).length&&(!r.attrsMap||0===Object.keys(r.attrsMap).length))||i.emptyChar;if(!0===o){let r="";if(Array.isArray(t)){r+=i.arrStart;const o=t[0],c=e.length;if("string"==typeof o)for(let t=0;t<c;t++){const n=s(e[t].val,o);r=u(r,n)}else for(let t=0;t<c;t++){const i=a(e[t],o,n);r=u(r,i)}r+=i.arrayEnd}else{r+=i.objStart;const o=Object.keys(t);Array.isArray(e)&&(e=e[0]);for(let i in o){const s=o[i];let c;c=!n.ignoreAttributes&&e.attrsMap&&e.attrsMap[s]?a(e.attrsMap[s],t[s],n):s===n.textNodeName?a(e.val,t[s],n):a(e.child[s],t[s],n),r=u(r,c)}}return r}return o}var r},s=function(e){switch(e){case void 0:return i.missingPremitive;case null:return i.nilPremitive;case"":return i.emptyValue;default:return e}},u=function(e,t){return c(t[0])||c(e[e.length-1])||(e+=i.boundryChar),e+t},c=function(e){return-1!==o.indexOf(e)},l=n(6139),f=n(3691).buildOptions;t.convert2nimn=function(e,t,n){return n=f(n,l.defaultOptions,l.props),a(e,t,n)}},5850:(e,t,n)=>{"use strict";const r=n(3691),i=function(e,t,n){const o={};if(!t.alwaysCreateTextNode&&(!e.child||r.isEmptyObject(e.child))&&(!e.attrsMap||r.isEmptyObject(e.attrsMap)))return r.isExist(e.val)?e.val:"";if(r.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)){const i=r.isTagNameInArrayMode(e.tagname,t.arrayMode,n);o[t.textNodeName]=i?[e.val]:e.val}r.merge(o,e.attrsMap,t.arrayMode);const a=Object.keys(e.child);for(let s=0;s<a.length;s++){const u=a[s];if(e.child[u]&&e.child[u].length>1){o[u]=[];for(let n in e.child[u])e.child[u].hasOwnProperty(n)&&o[u].push(i(e.child[u][n],t,u))}else{const a=i(e.child[u][0],t,u),s=!0===t.arrayMode&&"object"==typeof a||r.isTagNameInArrayMode(u,t.arrayMode,n);o[u]=s?[a]:a}}return o};t.convertToJson=i},248:(e,t,n)=>{"use strict";const r=n(3691),i=n(3691).buildOptions,o=n(6139),a=function(e,t,n){let i="{";const o=Object.keys(e.child);for(let n=0;n<o.length;n++){const r=o[n];if(e.child[r]&&e.child[r].length>1){i+='"'+r+'" : [ ';for(let n in e.child[r])i+=a(e.child[r][n],t)+" , ";i=i.substr(0,i.length-1)+" ] "}else i+='"'+r+'" : '+a(e.child[r][0],t)+" ,"}return r.merge(i,e.attrsMap),r.isEmptyObject(i)?r.isExist(e.val)?e.val:"":(r.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)&&(i+='"'+t.textNodeName+'" : '+(!0!==(s=e.val)&&!1!==s&&isNaN(s)?'"'+s+'"':s)),","===i[i.length-1]&&(i=i.substr(0,i.length-2)),i+"}");var s};t.convertToJsonString=function(e,t){return(t=i(t,o.defaultOptions,o.props)).indentBy=t.indentBy||"",a(e,t,0)}},2649:(e,t,n)=>{"use strict";const r=n(5850),i=n(6139),o=n(6139),a=n(3691).buildOptions,s=n(4537);t.parse=function(e,t={},n){if(n){!0===n&&(n={});const t=s.validate(e,n);if(!0!==t)throw Error(t.err.msg)}t.parseTrueNumberOnly&&!1!==t.parseNodeValue&&!t.numParseOptions&&(t.numParseOptions={leadingZeros:!1});let u=a(t,o.defaultOptions,o.props);const c=i.getTraversalObj(e,u);return r.convertToJson(c,u)},t.convertTonimn=n(2979).convert2nimn,t.getTraversalObj=i.getTraversalObj,t.convertToJson=r.convertToJson,t.convertToJsonString=n(248).convertToJsonString,t.validate=s.validate,t.j2xParser=n(3138),t.parseToNimn=function(e,n,r){return t.convertTonimn(t.getTraversalObj(e,r),n,r)}},3691:(e,t)=>{"use strict";const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"]["+n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+r+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t){const r=Object.keys(t),i=r.length;for(let o=0;o<i;o++)e[r[o]]="strict"===n?[t[r[o]]]:t[r[o]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.buildOptions=function(e,t,n){let r={};if(!e)return t;for(let i=0;i<n.length;i++)void 0!==e[n[i]]?r[n[i]]=e[n[i]]:r[n[i]]=t[n[i]];return r},t.isTagNameInArrayMode=function(e,t,n){return!1!==t&&(t instanceof RegExp?t.test(e):"function"==typeof t?!!t(e,n):"strict"===t)},t.isName=function(e){return!(null==i.exec(e))},t.getAllMatches=function(e,t){const n=[];let r=t.exec(e);for(;r;){const i=[];i.startIndex=t.lastIndex-r[0].length;const o=r.length;for(let e=0;e<o;e++)i.push(r[e]);n.push(i),r=t.exec(e)}return n},t.nameRegexp=r},4537:(e,t,n)=>{"use strict";const r=n(3691),i={allowBooleanAttributes:!1},o=["allowBooleanAttributes"];function a(e,t){const n=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const r=e.substr(n,t-n);if(t>5&&"xml"===r)return d("InvalidXml","XML declaration allowed only at the start of the document.",p(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function s(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}function u(e,t){let n="",r="",i=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])""===r?r=e[t]:r!==e[t]||(r="");else if(">"===e[t]&&""===r){i=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:i}}t.validate=function(e,t){t=r.buildOptions(t,i,o);const n=[];let c=!1,h=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let i=0;i<e.length;i++)if("<"===e[i]&&"?"===e[i+1]){if(i+=2,i=a(e,i),i.err)return i}else{if("<"!==e[i]){if(" "===e[i]||"\t"===e[i]||"\n"===e[i]||"\r"===e[i])continue;return d("InvalidChar","char '"+e[i]+"' is not expected.",p(e,i))}{let o=i;if(i++,"!"===e[i]){i=s(e,i);continue}{let y=!1;"/"===e[i]&&(y=!0,i++);let g="";for(;i<e.length&&">"!==e[i]&&" "!==e[i]&&"\t"!==e[i]&&"\n"!==e[i]&&"\r"!==e[i];i++)g+=e[i];if(g=g.trim(),"/"===g[g.length-1]&&(g=g.substring(0,g.length-1),i--),v=g,!r.isName(v)){let t;return t=0===g.trim().length?"Invalid space after '<'.":"Tag '"+g+"' is an invalid name.",d("InvalidTag",t,p(e,i))}const m=u(e,i);if(!1===m)return d("InvalidAttr","Attributes for '"+g+"' have open quote.",p(e,i));let b=m.value;if(i=m.index,"/"===b[b.length-1]){const n=i-b.length;b=b.substring(0,b.length-1);const r=l(b,t);if(!0!==r)return d(r.err.code,r.err.msg,p(e,n+r.err.line));c=!0}else if(y){if(!m.tagClosed)return d("InvalidTag","Closing tag '"+g+"' doesn't have proper closing.",p(e,i));if(b.trim().length>0)return d("InvalidTag","Closing tag '"+g+"' can't have attributes or invalid starting.",p(e,o));{const t=n.pop();if(g!==t.tagName){let n=p(e,t.tagStartPos);return d("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+g+"'.",p(e,o))}0==n.length&&(h=!0)}}else{const r=l(b,t);if(!0!==r)return d(r.err.code,r.err.msg,p(e,i-b.length+r.err.line));if(!0===h)return d("InvalidXml","Multiple possible root nodes found.",p(e,i));n.push({tagName:g,tagStartPos:o}),c=!0}for(i++;i<e.length;i++)if("<"===e[i]){if("!"===e[i+1]){i++,i=s(e,i);continue}if("?"!==e[i+1])break;if(i=a(e,++i),i.err)return i}else if("&"===e[i]){const t=f(e,i);if(-1==t)return d("InvalidChar","char '&' is not expected.",p(e,i));i=t}"<"===e[i]&&i--}}}var v;return c?1==n.length?d("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",p(e,n[0].tagStartPos)):!(n.length>0)||d("InvalidXml","Invalid '"+JSON.stringify(n.map((e=>e.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):d("InvalidXml","Start tag expected.",1)};const c=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function l(e,t){const n=r.getAllMatches(e,c),i={};for(let e=0;e<n.length;e++){if(0===n[e][1].length)return d("InvalidAttr","Attribute '"+n[e][2]+"' has no space in starting.",v(n[e]));if(void 0===n[e][3]&&!t.allowBooleanAttributes)return d("InvalidAttr","boolean attribute '"+n[e][2]+"' is not allowed.",v(n[e]));const r=n[e][2];if(!h(r))return d("InvalidAttr","Attribute '"+r+"' is an invalid name.",v(n[e]));if(i.hasOwnProperty(r))return d("InvalidAttr","Attribute '"+r+"' is repeated.",v(n[e]));i[r]=1}return!0}function f(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function d(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function h(e){return r.isName(e)}function p(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function v(e){return e.startIndex+e[1].length}},5774:e=>{"use strict";e.exports=function(e,t,n){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=n,this.addChild=function(e){Array.isArray(this.child[e.tagname])?this.child[e.tagname].push(e):this.child[e.tagname]=[e]}}},6139:(e,t,n)=>{"use strict";const r=n(3691),i=n(3691).buildOptions,o=n(5774),a=n(4153);"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,r.nameRegexp),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const s={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",numParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[],alwaysCreateTextNode:!1};t.defaultOptions=s;const u=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","numParseOptions","stopNodes","alwaysCreateTextNode"];function c(e,t,n){return t&&(n.trimValues&&(t=t.trim()),t=f(t=n.tagValueProcessor(t,e),n.parseNodeValue,n.numParseOptions)),t}function l(e,t){if(t.ignoreNameSpace){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}function f(e,t,n){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&a(e,n)}return r.isExist(e)?e:""}t.props=u;const d=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function h(e,t){if(!t.ignoreAttributes&&"string"==typeof e){e=e.replace(/\r?\n/g," ");const n=r.getAllMatches(e,d),i=n.length,o={};for(let e=0;e<i;e++){const r=l(n[e][1],t);r.length&&(void 0!==n[e][4]?(t.trimValues&&(n[e][4]=n[e][4].trim()),n[e][4]=t.attrValueProcessor(n[e][4],r),o[t.attributeNamePrefix+r]=f(n[e][4],t.parseAttributeValue,t.numParseOptions)):t.allowBooleanAttributes&&(o[t.attributeNamePrefix+r]=!0))}if(!Object.keys(o).length)return;if(t.attrNodeName){const e={};return e[t.attrNodeName]=o,e}return o}}function p(e,t){let n,r="";for(let i=t;i<e.length;i++){let t=e[i];if(n)t===n&&(n="");else if('"'===t||"'"===t)n=t;else{if(">"===t)return{data:r,index:i};"\t"===t&&(t=" ")}r+=t}}function v(e,t,n,r){const i=e.indexOf(t,n);if(-1===i)throw new Error(r);return i+t.length-1}t.getTraversalObj=function(e,t){e=e.replace(/\r\n?/g,"\n"),t=i(t,s,u);const n=new o("!xml");let a=n,l="";for(let n=0;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){const i=v(e,">",n,"Closing Tag is not closed.");let o=e.substring(n+2,i).trim();if(t.ignoreNameSpace){const e=o.indexOf(":");-1!==e&&(o=o.substr(e+1))}a&&(a.val?a.val=r.getValue(a.val)+""+c(o,l,t):a.val=c(o,l,t)),t.stopNodes.length&&t.stopNodes.includes(a.tagname)&&(a.child=[],null==a.attrsMap&&(a.attrsMap={}),a.val=e.substr(a.startIndex+1,n-a.startIndex-1)),a=a.parent,l="",n=i}else if("?"===e[n+1])n=v(e,"?>",n,"Pi Tag is not closed.");else if("!--"===e.substr(n+1,3))n=v(e,"--\x3e",n,"Comment is not closed.");else if("!D"===e.substr(n+1,2)){const t=v(e,">",n,"DOCTYPE is not closed.");n=e.substring(n,t).indexOf("[")>=0?e.indexOf("]>",n)+1:t}else if("!["===e.substr(n+1,2)){const i=v(e,"]]>",n,"CDATA is not closed.")-2,s=e.substring(n+9,i);if(l&&(a.val=r.getValue(a.val)+""+c(a.tagname,l,t),l=""),t.cdataTagName){const e=new o(t.cdataTagName,a,s);a.addChild(e),a.val=r.getValue(a.val)+t.cdataPositionChar,s&&(e.val=s)}else a.val=(a.val||"")+(s||"");n=i+2}else{const i=p(e,n+1);let s=i.data;const u=i.index,f=s.indexOf(" ");let d=s,v=!0;if(-1!==f&&(d=s.substr(0,f).replace(/\s\s*$/,""),s=s.substr(f+1)),t.ignoreNameSpace){const e=d.indexOf(":");-1!==e&&(d=d.substr(e+1),v=d!==i.data.substr(e+1))}if(a&&l&&"!xml"!==a.tagname&&(a.val=r.getValue(a.val)+""+c(a.tagname,l,t)),s.length>0&&s.lastIndexOf("/")===s.length-1){"/"===d[d.length-1]?(d=d.substr(0,d.length-1),s=d):s=s.substr(0,s.length-1);const e=new o(d,a,"");d!==s&&(e.attrsMap=h(s,t)),a.addChild(e)}else{const e=new o(d,a);t.stopNodes.length&&t.stopNodes.includes(e.tagname)&&(e.startIndex=u),d!==s&&v&&(e.attrsMap=h(s,t)),a.addChild(e),a=e}l="",n=u}else l+=e[n];return n}},1457:(e,t,n)=>{var r=n(6957),i=n(8454),o=i;o.v1=r,o.v4=i,e.exports=o},4317:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},590:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},6957:(e,t,n)=>{var r,i,o=n(590),a=n(4317),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var h=o();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=p-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,i=d;var g=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var m=p/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},8454:(e,t,n)=>{var r=n(590),i=n(4317);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},4735:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=void 0;var r=n(2897),i=n(3237),o=n(1423),a=function(){function e(){this.crc32=new o.Crc32}return e.prototype.update=function(e){(0,i.isEmptyData)(e)||this.crc32.update((0,i.convertToBuffer)(e))},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,(0,i.numToUint8)(this.crc32.digest())]}))}))},e}();t.AwsCrc32=a},1423:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var r=n(2897),i=n(3237);t.crc32=function(e){return(new o).update(e).digest()};var o=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var i=(0,r.__values)(e),o=i.next();!o.done;o=i.next()){var s=o.value;this.checksum=this.checksum>>>8^a[255&(this.checksum^s)]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();t.Crc32=o;var a=(0,i.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),s=n(4735);Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return s.AwsCrc32}})},7888:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(2084),i="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},3237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(7888);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(4007);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(5616);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var a=n(9241);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},4007:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},5616:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},9241:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},2897:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6742:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});class r{constructor(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}},4073:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var r=n(6528);function i(e){const t=[];for(let n of Object.keys(e).sort()){const i=e[n];if(n=(0,r.i)(n),Array.isArray(i))for(let e=0,o=i.length;e<o;e++)t.push(`${n}=${(0,r.i)(i[e])}`);else{let e=n;(i||"string"==typeof i)&&(e+=`=${(0,r.i)(i)}`),t.push(e)}}return t.join("&")}},6495:(e,t,n)=>{"use strict";n.r(t),n.d(t,{locateWindow:()=>i});const r={};function i(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:r}},6528:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});const r=e=>encodeURIComponent(e).replace(/[!'()*]/g,i),i=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`},2084:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>i});const r=e=>"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):(e=>{const t=[];for(let n=0,r=e.length;n<r;n++){const r=e.charCodeAt(n);if(r<128)t.push(r);else if(r<2048)t.push(r>>6|192,63&r|128);else if(n+1<e.length&&55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))){const i=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(r>>12|224,r>>6&63|128,63&r|128)}return Uint8Array.from(t)})(e),i=e=>"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):(e=>{let t="";for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r<128)t+=String.fromCharCode(r);else if(192<=r&&r<224){const i=e[++n];t+=String.fromCharCode((31&r)<<6|63&i)}else if(240<=r&&r<365){const i="%"+[r,e[++n],e[++n],e[++n]].map((e=>e.toString(16))).join("%");t+=decodeURIComponent(i)}else t+=String.fromCharCode((15&r)<<12|(63&e[++n])<<6|63&e[++n])}return t})(e)},8225:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(6720),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],h=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=c,c=u,u=s,s=a+v|0,a=o,o=i,i=n,n=v+y|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=i},6720:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},4626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(6933).__exportStar)(n(3225),t)},3225:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(6933),i=n(6720),o=n(8225),a=n(6785),s=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},442:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(2084),i="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},6785:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(442);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(142);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(2594);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var a=n(4764);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},142:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},2594:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},4764:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},6933:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},8822:(e,t,n)=>{"use strict";n.r(t),n.d(t,{API:()=>hU,APIClass:()=>dU,AWSCloudWatchProvider:()=>J2,AWSKinesisFirehoseProvider:()=>Cw,AWSKinesisProvider:()=>Jv,AWSPinpointProvider:()=>El,AmazonPersonalizeProvider:()=>s_,Amplify:()=>d,Analytics:()=>Rd,Auth:()=>Kx,AuthModeStrategyType:()=>rF,Cache:()=>sl,ClientDevice:()=>C,DataStore:()=>pK,Geo:()=>m8,Hub:()=>_,I18n:()=>Rj,Interactions:()=>ZV,Logger:()=>c,Notifications:()=>OJ,Predicates:()=>Yz,Predictions:()=>eX,PubSub:()=>aU,ServiceWorker:()=>JQ,Signer:()=>$,SortDirection:()=>nF,Storage:()=>VD,StorageClass:()=>HD,XR:()=>YJ,graphqlOperation:()=>uU,syncExpression:()=>jF,withSSRContext:()=>e3});var r,i=n(8008),o="Logging",a="No credentials",s=["ResourceNotFoundException","InvalidSequenceTokenException"],u={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};!function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE"}(r||(r={}));var c=function(){function e(e,t){void 0===t&&(t=r.WARN),this.name=e,this.level=t,this._pluggables=[]}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype.configure=function(e){return e?(this._config=e,this._config):this._config},e.prototype._log=function(t){for(var n,o,a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];var c=this.level;e.LOG_LEVEL&&(c=e.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(c=window.LOG_LEVEL);var l=u[c],f=u[t];if(f>=l){var d=console.log.bind(console);t===r.ERROR&&console.error&&(d=console.error.bind(console)),t===r.WARN&&console.warn&&(d=console.warn.bind(console));var h="["+t+"] "+this._ts()+" "+this.name,p="";if(1===a.length&&"string"==typeof a[0])d(p=h+" - "+a[0]);else if(1===a.length)p=h+" "+a[0],d(h,a[0]);else if("string"==typeof a[0]){var v=a.slice(1);1===v.length&&(v=v[0]),p=h+" - "+a[0]+" "+v,d(h+" - "+a[0],v)}else p=h+" "+a,d(h,a);try{for(var y=(0,i.__values)(this._pluggables),g=y.next();!g.done;g=y.next()){var m=g.value,b={message:p,timestamp:Date.now()};m.pushLogs([b])}}catch(e){n={error:e}}finally{try{g&&!g.done&&(o=y.return)&&o.call(y)}finally{if(n)throw n.error}}}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,i.__spread)([r.INFO],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,i.__spread)([r.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,i.__spread)([r.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,i.__spread)([r.ERROR],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,i.__spread)([r.DEBUG],e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,i.__spread)([r.VERBOSE],e))},e.prototype.addPluggable=function(e){e&&e.getCategoryName()===o&&(this._pluggables.push(e),e.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),l=new c("Amplify"),f=function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Notifications=null,this.Logger=c,this.ServiceWorker=null}return e.prototype.register=function(e){l.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):l.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),l.debug("amplify config",this._config),Object.entries(this._modules).forEach((function(e){var n=(0,i.__read)(e,2),r=(n[0],n[1]);Object.keys(r).forEach((function(e){t._modules[e]&&(r[e]=t._modules[e])}))})),this._components.map((function(e){e.configure(t._config)})),this._config):this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map((function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)}))},e}(),d=new f,h=function(e,t){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},h(e,t)},p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p.apply(this,arguments)};function v(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function y(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function g(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}var w=new c("Hub"),S="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",E=function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}return e.prototype._remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find((function(t){return t.pattern.source===e.source}));if(!n)return void w.warn("No listeners for "+e);this.patterns=(0,i.__spread)(this.patterns.filter((function(e){return e!==n})))}else{var r=this.listeners[e];if(!r)return void w.warn("No listeners for "+e);this.listeners[e]=(0,i.__spread)(r.filter((function(e){return e.callback!==t})))}},e.prototype.remove=function(e,t){this._remove(e,t)},e.prototype.dispatch=function(e,t,n,r){void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1&&(r===S||w.warn("WARNING: "+e+" is protected and dispatching on it can have unintended consequences"));var o={channel:e,payload:(0,i.__assign)({},t),source:n,patternInfo:[]};try{this._toListeners(o)}catch(e){w.error(e)}},e.prototype.listen=function(e,t,n){var r,i=this;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))w.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else{if("function"!=typeof t)throw new Error("No callback supplied to Hub");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var o=this.listeners[e];o||(o=[],this.listeners[e]=o),o.push({name:n,callback:r})}return function(){i._remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,r=this.listeners[t];if(r&&r.forEach((function(r){w.debug("Dispatching to "+t+" with ",n);try{r.callback(e)}catch(e){w.error(e)}})),this.patterns.length>0){if(!n.message)return void w.warn("Cannot perform pattern matching without a message key");var o=n.message;this.patterns.forEach((function(t){var n=o.match(t.pattern);if(n){var r=(0,i.__read)(n).slice(1),a=(0,i.__assign)((0,i.__assign)({},e),{patternInfo:r});try{t.callback(a)}catch(e){w.error(e)}}}))}},e}(),_=new E("__default__"),x=new c("Parser"),A=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in,signUpVerificationMethod:e.aws_cognito_sign_up_verification_method||"code"}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(n.Logging=(0,i.__assign)((0,i.__assign)({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),n.Logging=Object.assign({},n.Logging,e.Logging),x.debug("parse config",e,"to amplifyconfig",n),n},T=new c("ClientDevice_Browser");for(var C=function(){function e(){}return e.clientInfo=function(){return"undefined"==typeof window?{}:function(){if("undefined"==typeof window)return T.warn("No window object available to get browser client info"),{};var e=window.navigator;if(!e)return T.warn("No navigator object available to get browser client info"),{};var t,n=e.platform,r=e.product,i=e.vendor,o=e.userAgent,a=e.language,s=function(e){var t=/.+(Opera[\s[A-Z]*|OPR[\sA-Z]*)\/([0-9\.]+).*/i.exec(e);if(t)return{type:t[1],version:t[2]};var n=/.+(Trident|Edge)\/([0-9\.]+).*/i.exec(e);if(n)return{type:n[1],version:n[2]};var r=/.+(Chrome|Firefox|FxiOS)\/([0-9\.]+).*/i.exec(e);if(r)return{type:r[1],version:r[2]};var i=/.+(Safari)\/([0-9\.]+).*/i.exec(e);if(i)return{type:i[1],version:i[2]};var o=/.+(AppleWebKit)\/([0-9\.]+).*/i.exec(e);if(o)return{type:o[1],version:o[2]};var a=/.*([A-Z]+)\/([0-9\.]+).*/i.exec(e);return a?{type:a[1],version:a[2]}:{type:"",version:""}}(o),u=(t=/\(([A-Za-z\s].*)\)/.exec((new Date).toString()))&&t[1]||"";return{platform:n,make:r||i,model:s.type,version:s.version,appVersion:[s.type,s.version].join("/"),language:a,timezone:u}}()},e.dimension=function(){return"undefined"==typeof window?(T.warn("No window object available to get browser client info"),{width:320,height:320}):{width:window.innerWidth,height:window.innerHeight}},e}(),I=n(6051),P={},O={},k=0;k<256;k++){var R=k.toString(16).toLowerCase();1===R.length&&(R="0"+R),P[k]=R,O[R]=k}function L(e){for(var t="",n=0;n<e.byteLength;n++)t+=P[e[n]];return t}var N=n(8575),D={clockOffset:0,getDateWithClockOffset:function(){return D.clockOffset?new Date((new Date).getTime()+D.clockOffset):new Date},getClockOffset:function(){return D.clockOffset},getHeaderStringFromDate:function(e){return void 0===e&&(e=D.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var t=(0,i.__read)(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),n=t[1],r=t[2],o=t[3],a=t[4],s=t[5],u=t[6];return new Date(Date.UTC(Number(n),Number(r)-1,Number(o),Number(a),Number(s),Number(u)))},isClockSkewed:function(e){return Math.abs(e.getTime()-D.getDateWithClockOffset().getTime())>=3e5},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var t=e.response.headers;return Boolean(["BadRequestException","InvalidSignatureException"].includes(t["x-amzn-errortype"])&&(t.date||t.Date))},setClockOffset:function(e){D.clockOffset=e}},M=new c("Signer"),j="AWS4-HMAC-SHA256",U=function(e,t){var n=new I.Sha256(e);return n.update(t),n.digestSync()},F=function(e){var t=e||"",n=new I.Sha256;return n.update(t),L(n.digestSync())},z=function(e){return Object.keys(e).map((function(e){return e.toLowerCase()})).sort().join(";")},B=function(e){var t,n,r=(0,N.Qc)(e.url);return[e.method||"/",encodeURIComponent(r.pathname).replace(/%2F/gi,"/"),(n=r.query,n&&0!==n.length?n.split("&").map((function(e){var t=e.split("=");if(1===t.length)return e;var n=t[1].replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}));return t[0]+"="+n})).sort((function(e,t){var n=e.split("=")[0],r=t.split("=")[0];return n===r?e<t?-1:1:n<r?-1:1})).join("&"):""),(t=e.headers,t&&0!==Object.keys(t).length?Object.keys(t).map((function(e){return{key:e.toLowerCase(),value:t[e]?t[e].trim().replace(/\s+/g," "):""}})).sort((function(e,t){return e.key<t.key?-1:1})).map((function(e){return e.key+":"+e.value})).join("\n")+"\n":""),z(e.headers),F(e.data)].join("\n")},q=function(e){var t=((0,N.Qc)(e.url).host.match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/)||[]).slice(1,3);return"es"===t[1]&&(t=t.reverse()),{service:e.service||t[0],region:e.region||t[1]}},K=function(e,t,n){return[e,t,n,"aws4_request"].join("/")},H=function(e,t,n,r){return[e,n,r,F(t)].join("\n")},G=function(e,t,n){M.debug(n);var r=U("AWS4"+e,t),i=U(r,n.region),o=U(i,n.service);return U(o,"aws4_request")},V=function(e,t){return L(U(e,t))},$=function(){function e(){}return e.sign=function(e,t,n){if(void 0===n&&(n=null),e.headers=e.headers||{},e.body&&!e.data)throw new Error('The attribute "body" was found on the request object. Please use the attribute "data" instead.');var r=D.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),i=r.substr(0,8),o=(0,N.Qc)(e.url);e.headers.host=o.host,e.headers["x-amz-date"]=r,t.session_token&&(e.headers["X-Amz-Security-Token"]=t.session_token);var a=B(e);M.debug(a);var s=n||q(e),u=K(i,s.region,s.service),c=H(j,a,r,u),l=G(t.secret_key,i,s),f=V(l,c),d=function(e,t,n,r,i){return[e+" Credential="+t+"/"+n,"SignedHeaders="+r,"Signature="+i].join(", ")}(j,t.access_key,u,z(e.headers),f);return e.headers.Authorization=d,e},e.signUrl=function(e,t,n,r){var o="object"==typeof e?e.url:e,a="object"==typeof e?e.method:"GET",s="object"==typeof e?e.body:void 0,u=D.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),c=u.substr(0,8),l=(0,N.Qc)(o,!0,!0),f=(l.search,(0,i.__rest)(l,["search"])),d={host:f.host},h=n||q({url:(0,N.WU)(f)}),p=h.region,v=h.service,y=K(c,p,v),g=t.session_token&&"iotdevicegateway"!==v,m=(0,i.__assign)((0,i.__assign)((0,i.__assign)({"X-Amz-Algorithm":j,"X-Amz-Credential":[t.access_key,y].join("/"),"X-Amz-Date":u.substr(0,16)},g?{"X-Amz-Security-Token":""+t.session_token}:{}),r?{"X-Amz-Expires":""+r}:{}),{"X-Amz-SignedHeaders":Object.keys(d).join(",")}),b=B({method:a,url:(0,N.WU)((0,i.__assign)((0,i.__assign)({},f),{query:(0,i.__assign)((0,i.__assign)({},f.query),m)})),headers:d,data:s}),w=H(j,b,u,y),S=G(t.secret_key,c,{region:p,service:v}),E=V(S,w),_=(0,i.__assign)({"X-Amz-Signature":E},t.session_token&&{"X-Amz-Security-Token":t.session_token});return(0,N.WU)({protocol:f.protocol,slashes:!0,hostname:f.hostname,port:f.port,pathname:f.pathname,query:(0,i.__assign)((0,i.__assign)((0,i.__assign)({},f.query),m),_)})},e}(),W=function(){if("undefined"==typeof self)return!1;var e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope},Y=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node}},Z=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!X(e))return e;var r={};for(var i in e)e.hasOwnProperty(i)&&(r[t.includes(i)?i:i[0].toLowerCase()+i.slice(1)]=n.includes(i)?e[i]:Z(e[i],t,n));return r},J=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!X(e))return e;var r={};for(var i in e)e.hasOwnProperty(i)&&(r[t.includes(i)?i:i[0].toUpperCase()+i.slice(1)]=n.includes(i)?e[i]:J(e[i],t,n));return r},X=function(e){return!(!(e instanceof Object)||e instanceof Array||e instanceof Function||e instanceof Number||e instanceof String||e instanceof Boolean)},Q="aws-amplify/5.0.8",ee={userAgent:Q+" js",product:"",navigator:null,isReactNative:!1};"undefined"!=typeof navigator&&navigator.product&&(ee.product=navigator.product||"",ee.navigator=navigator||null,"ReactNative"===navigator.product?(ee.userAgent=Q+" react-native",ee.isReactNative=!0):(ee.userAgent=Q+" js",ee.isReactNative=!1));var te=function(e){return""+ee.userAgent+(e||"")},ne={},re=function(){function e(){}return e.setItem=function(e,t){return ne[e]=t,ne[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(ne,e)?ne[e]:void 0},e.removeItem=function(e){return delete ne[e]},e.clear=function(){return ne={}},e}(),ie=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=re}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),oe=new c("Util"),ae=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return(0,i.__extends)(t,e),t}(Error),se=function(e){return e&&e.nonRetryable};function ue(e,t,n,r){return(0,i.__awaiter)(this,void 0,void 0,(function(){var o=this;return(0,i.__generator)(this,(function(a){if("function"!=typeof e)throw Error("functionToRetry must be a function");return[2,new Promise((function(a,s){return(0,i.__awaiter)(o,void 0,void 0,(function(){var o,u,c,l,f,d,h;return(0,i.__generator)(this,(function(p){switch(p.label){case 0:o=0,u=!1,l=function(){},r&&r.then((function(){u=!0,clearTimeout(c),l()})),d=function(){var r,d,h,p;return(0,i.__generator)(this,(function(v){switch(v.label){case 0:o++,oe.debug(e.name+" attempt #"+o+" with this vars: "+JSON.stringify(t)),v.label=1;case 1:return v.trys.push([1,3,,7]),r={},d=a,[4,e.apply(void 0,(0,i.__spread)(t))];case 2:return[2,(r.value=d.apply(void 0,[v.sent()]),r)];case 3:return h=v.sent(),f=h,oe.debug("error on "+e.name,h),se(h)?(oe.debug(e.name+" non retryable error",h),[2,{value:s(h)}]):(p=n(o,t,h),oe.debug(e.name+" retrying in "+p+" ms"),!1===p||u?[2,{value:s(h)}]:[3,4]);case 4:return[4,new Promise((function(e){l=e,c=setTimeout(l,p)}))];case 5:v.sent(),v.label=6;case 6:return[3,7];case 7:return[2]}}))},p.label=1;case 1:return u?[3,3]:[5,d()];case 2:return"object"==typeof(h=p.sent())?[2,h.value]:[3,1];case 3:return s(f),[2]}}))}))}))]}))}))}var ce=3e5;function le(e){return void 0===e&&(e=ce),function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}var fe=function(e,t,n,r){return void 0===n&&(n=ce),ue(e,t,le(n),r)},de=new c("CognitoCredentials"),he=new Promise((function(e,t){return Y().isBrowser?window.gapi&&window.gapi.auth2&&window.gapi.auth2?(de.debug("google api already loaded"),e()):void setTimeout((function(){return e()}),2e3):(de.debug("not in the browser, directly resolved"),e())})),pe=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(de.debug("need to wait for the Google SDK loaded"),[4,he]);case 1:e.sent(),this.initialized=!0,de.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))}))},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return Y().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(de.debug("google Auth undefined"),n(new ae("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(de.debug("refreshing the google access token"),r.reloadAuthResponse().then((function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})})).catch((function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new ae("Failed to reload google auth response"))}))):n(new ae("User is not signed in with Google"))})).catch((function(e){de.debug("Failed to refresh google token",e),n(new ae("Failed to refresh google token"))}))})):(de.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),ve=new c("CognitoCredentials"),ye=new Promise((function(e,t){return Y().isBrowser?window.FB?(ve.debug("FB SDK already loaded"),e()):void setTimeout((function(){return e()}),2e3):(ve.debug("not in the browser, directly resolved"),e())})),ge=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(ve.debug("need to wait for the Facebook SDK loaded"),[4,ye]);case 1:e.sent(),this.initialized=!0,ve.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))}))},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(Y().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return ve.debug(t),Promise.reject(new ae(t))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var r=e.authResponse,i=r.accessToken,o=1e3*r.expiresIn+(new Date).getTime();i||(a="the jwtToken is undefined",ve.debug(a),n(new ae(a))),t({token:i,expires_at:o})}else{var a="no response from facebook when refreshing the jwt token";ve.debug(a),n(new ae(a))}}),{scope:"public_profile,email"})}))},e}(),me=new pe,be=new ge,we=function(e,t){return we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},we(e,t)};function Se(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Ee(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var _e=function(e,t){return _e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},_e(e,t)};function xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}_e(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ae,Te,Ce,Ie,Pe,Oe,ke,Re,Le,Ne,De,Me,je,Ue,Fe,ze,Be,qe,Ke,He,Ge,Ve,$e,We,Ye,Ze,Je,Xe,Qe,et,tt,nt,rt,it,ot,at,st,ut,ct,lt,ft,dt,ht,pt,vt,yt,gt,mt,bt,wt,St,Et,_t,xt,At,Tt,Ct,It=function(){return It=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},It.apply(this,arguments)};function Pt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Ot(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function kt(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}function Rt(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lt(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Nt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Lt(arguments[t]));return e}function Dt(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function Mt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Rt(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}Object.create,Object.create,function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"}(Ae||(Ae={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Te||(Te={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ce||(Ce={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ie||(Ie={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Pe||(Pe={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Oe||(Oe={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ke||(ke={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Re||(Re={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Le||(Le={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ne||(Ne={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(De||(De={})),function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"}(Me||(Me={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(je||(je={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ue||(Ue={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Fe||(Fe={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ze||(ze={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Be||(Be={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(qe||(qe={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ke||(Ke={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(He||(He={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ge||(Ge={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ve||(Ve={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}($e||($e={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(We||(We={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ye||(Ye={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ze||(Ze={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Je||(Je={})),function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"}(Xe||(Xe={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Qe||(Qe={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(et||(et={})),function(e){e.RULES="Rules",e.TOKEN="Token"}(tt||(tt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(nt||(nt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(rt||(rt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(it||(it={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ot||(ot={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(at||(at={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(st||(st={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ut||(ut={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ct||(ct={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(lt||(lt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ft||(ft={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(dt||(dt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ht||(ht={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(pt||(pt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(vt||(vt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(yt||(yt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(gt||(gt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(mt||(mt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(bt||(bt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(wt||(wt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(St||(St={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Et||(Et={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(_t||(_t={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(xt||(xt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(At||(At={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Tt||(Tt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ct||(Ct={}));var jt=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),Ut=function(){return Ut=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ut.apply(this,arguments)};function Ft(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var zt=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(Ut(Ut({},this),{headers:Ut({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return Ut(Ut({},e),((r={})[n]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ft(arguments[t]));return e}(i):i,r))}),{}))),n},e}(),Bt=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,y;return kt(this,(function(g){switch(g.label){case 0:return r=[It({},e)],y={},[4,dn(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(y.body=g.sent(),y)])),o="UnknownError",o=hn(e,n.body)){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return a=[{}],[4,Kt(n,t)];case 3:return i=It.apply(void 0,[It.apply(void 0,a.concat([g.sent()])),{name:o,$metadata:ln(e)}]),[3,19];case 4:return s=[{}],[4,Ht(n,t)];case 5:return i=It.apply(void 0,[It.apply(void 0,s.concat([g.sent()])),{name:o,$metadata:ln(e)}]),[3,19];case 6:return u=[{}],[4,Gt(n,t)];case 7:return i=It.apply(void 0,[It.apply(void 0,u.concat([g.sent()])),{name:o,$metadata:ln(e)}]),[3,19];case 8:return c=[{}],[4,Vt(n,t)];case 9:return i=It.apply(void 0,[It.apply(void 0,c.concat([g.sent()])),{name:o,$metadata:ln(e)}]),[3,19];case 10:return l=[{}],[4,Wt(n,t)];case 11:return i=It.apply(void 0,[It.apply(void 0,l.concat([g.sent()])),{name:o,$metadata:ln(e)}]),[3,19];case 12:return f=[{}],[4,Yt(n,t)];case 13:return i=It.apply(void 0,[It.apply(void 0,f.concat([g.sent()])),{name:o,$metadata:ln(e)}]),[3,19];case 14:return d=[{}],[4,Zt(n,t)];case 15:return i=It.apply(void 0,[It.apply(void 0,d.concat([g.sent()])),{name:o,$metadata:ln(e)}]),[3,19];case 16:return h=[{}],[4,Jt(n,t)];case 17:return i=It.apply(void 0,[It.apply(void 0,h.concat([g.sent()])),{name:o,$metadata:ln(e)}]),[3,19];case 18:p=n.body,o=p.code||p.Code||o,i=It(It({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:ln(e)}),g.label=19;case 19:return v=i.message||i.Message||o,i.message=v,delete i.Message,[2,Promise.reject(Object.assign(new Error(v),i))]}}))}))},qt=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,y;return kt(this,(function(g){switch(g.label){case 0:return r=[It({},e)],y={},[4,dn(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(y.body=g.sent(),y)])),o="UnknownError",o=hn(e,n.body)){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return a=[{}],[4,Kt(n,t)];case 3:return i=It.apply(void 0,[It.apply(void 0,a.concat([g.sent()])),{name:o,$metadata:ln(e)}]),[3,19];case 4:return s=[{}],[4,Ht(n,t)];case 5:return i=It.apply(void 0,[It.apply(void 0,s.concat([g.sent()])),{name:o,$metadata:ln(e)}]),[3,19];case 6:return u=[{}],[4,Vt(n,t)];case 7:return i=It.apply(void 0,[It.apply(void 0,u.concat([g.sent()])),{name:o,$metadata:ln(e)}]),[3,19];case 8:return c=[{}],[4,$t(n,t)];case 9:return i=It.apply(void 0,[It.apply(void 0,c.concat([g.sent()])),{name:o,$metadata:ln(e)}]),[3,19];case 10:return l=[{}],[4,Wt(n,t)];case 11:return i=It.apply(void 0,[It.apply(void 0,l.concat([g.sent()])),{name:o,$metadata:ln(e)}]),[3,19];case 12:return f=[{}],[4,Yt(n,t)];case 13:return i=It.apply(void 0,[It.apply(void 0,f.concat([g.sent()])),{name:o,$metadata:ln(e)}]),[3,19];case 14:return d=[{}],[4,Zt(n,t)];case 15:return i=It.apply(void 0,[It.apply(void 0,d.concat([g.sent()])),{name:o,$metadata:ln(e)}]),[3,19];case 16:return h=[{}],[4,Jt(n,t)];case 17:return i=It.apply(void 0,[It.apply(void 0,h.concat([g.sent()])),{name:o,$metadata:ln(e)}]),[3,19];case 18:p=n.body,o=p.code||p.Code||o,i=It(It({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:ln(e)}),g.label=19;case 19:return v=i.message||i.Message||o,i.message=v,delete i.Message,[2,Promise.reject(Object.assign(new Error(v),i))]}}))}))},Kt=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=en(n,t),[2,It({name:"ExternalServiceException",$fault:"client",$metadata:ln(e)},r)]}))}))},Ht=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=tn(n,t),[2,It({name:"InternalErrorException",$fault:"server",$metadata:ln(e)},r)]}))}))},Gt=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=nn(n,t),[2,It({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:ln(e)},r)]}))}))},Vt=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=rn(n,t),[2,It({name:"InvalidParameterException",$fault:"client",$metadata:ln(e)},r)]}))}))},$t=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=on(n,t),[2,It({name:"LimitExceededException",$fault:"client",$metadata:ln(e)},r)]}))}))},Wt=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=an(n,t),[2,It({name:"NotAuthorizedException",$fault:"client",$metadata:ln(e)},r)]}))}))},Yt=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=sn(n,t),[2,It({name:"ResourceConflictException",$fault:"client",$metadata:ln(e)},r)]}))}))},Zt=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=un(n,t),[2,It({name:"ResourceNotFoundException",$fault:"client",$metadata:ln(e)},r)]}))}))},Jt=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=cn(n,t),[2,It({name:"TooManyRequestsException",$fault:"client",$metadata:ln(e)},r)]}))}))},Xt=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Lt(t,2),i=r[0],o=r[1];return null===o?e:It(It({},e),((n={})[i]=o,n))}),{})},Qt=function(e,t){return{AccessKeyId:void 0!==e.AccessKeyId&&null!==e.AccessKeyId?e.AccessKeyId:void 0,Expiration:void 0!==e.Expiration&&null!==e.Expiration?new Date(Math.round(1e3*e.Expiration)):void 0,SecretKey:void 0!==e.SecretKey&&null!==e.SecretKey?e.SecretKey:void 0,SessionToken:void 0!==e.SessionToken&&null!==e.SessionToken?e.SessionToken:void 0}},en=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},tn=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},nn=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},rn=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},on=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},an=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},sn=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},un=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},cn=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},ln=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},fn=function(e,t,n,r,i){return Ot(void 0,void 0,void 0,(function(){var o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return o=f.sent(),a=o.hostname,s=o.protocol,u=void 0===s?"https":s,c=o.port,l={protocol:u,hostname:a,port:c,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==i&&(l.body=i),[2,new zt(l)]}}))}))},dn=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},hn=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==i?r(e.headers[i]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},pn=function(){return pn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pn.apply(this,arguments)};function vn(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function yn(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var gn={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},mn={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function bn(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return vn(void 0,void 0,void 0,(function(){var i,o;return yn(this,(function(a){switch(a.label){case 0:return[4,n(r)];case 1:return i=a.sent().response,[4,t(i,e)];case 2:return o=a.sent(),[2,{response:i,output:o}]}}))}))}}}(e,n),gn),r.add(function(e,t){return function(n,r){return function(r){return vn(void 0,void 0,void 0,(function(){var i;return yn(this,(function(o){switch(o.label){case 0:return[4,t(r.input,e)];case 1:return i=o.sent(),[2,n(pn(pn({},r),{request:i}))]}}))}))}}}(e,t),mn)}}}var wn=function(){return wn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wn.apply(this,arguments)};function Sn(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function En(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Sn(arguments[t]));return e}var _n=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,wn({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,wn({},e))})),n},i=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,En(i(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,En(i(e)))})),t},o={add:function(t,r){void 0===r&&(r={});var i=r.name,o=r.override,a=wn({step:"initialize",priority:"normal",middleware:t},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var s=e.findIndex((function(e){return e.name===i})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'+i+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");e.splice(s,1)}n.add(i)}e.push(a)},addRelativeTo:function(e,r){var i=r.name,o=r.override,a=wn({middleware:e},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var s=t.findIndex((function(e){return e.name===i})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'+i+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');t.splice(s,1)}n.add(i)}t.push(a)},clone:function(){return r(_n())},use:function(e){e.applyToStack(o)},remove:function(r){return"string"==typeof r?function(r){var i=!1,o=function(e){return!e.name||e.name!==r||(i=!0,n.delete(r),!1)};return e=e.filter(o),t=t.filter(o),i}(r):function(r){var i=!1,o=function(e){return e.middleware!==r||(i=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),i}(r)},removeByTag:function(r){var i=!1,o=function(e){var t=e.tags,o=e.name;return!t||!t.includes(r)||(o&&n.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:function(e){var t=r(_n());return t.use(e),t},applyToStack:r,resolve:function(n,r){var o,a;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(){var n=[],r=[],o={};e.forEach((function(e){var t=wn(wn({},e),{before:[],after:[]});t.name&&(o[t.name]=t),n.push(t)})),t.forEach((function(e){var t=wn(wn({},e),{before:[],after:[]});t.name&&(o[t.name]=t),r.push(t)})),r.forEach((function(e){if(e.toMiddleware){var t=o[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var a,s=(a=n,a.sort((function(e,t){return xn[t.step]-xn[e.step]||An[t.priority||"normal"]-An[e.priority||"normal"]}))).map(i).reduce((function(e,t){return e.push.apply(e,En(t)),e}),[]);return s.map((function(e){return e.middleware}))}().reverse()),u=s.next();!u.done;u=s.next())n=(0,u.value)(n,r)}catch(e){o={error:e}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return n}};return o},xn={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},An={high:3,normal:2,low:1},Tn=function(){function e(e){this.middlewareStack=_n(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),Cn=function(){this.middlewareStack=_n()},In=function(e,t){return In=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},In(e,t)};function Pn(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function On(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Pn(arguments[t]));return e}var kn=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,On([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};kn.prototype=Object.create(String.prototype,{constructor:{value:kn,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(kn,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){function n(){this.constructor=e}In(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(kn);var Rn=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(bn(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:Ge.filterSensitiveLog,outputFilterSensitiveLog:$e.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},r=JSON.stringify(function(e,t){return It(It(It({},void 0!==e.CustomRoleArn&&null!==e.CustomRoleArn&&{CustomRoleArn:e.CustomRoleArn}),void 0!==e.IdentityId&&null!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:Xt(e.Logins,t)})}(e,t)),[2,fn(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i;return kt(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Bt(e,t)]:[4,dn(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{Credentials:void 0!==e.Credentials&&null!==e.Credentials?Qt(e.Credentials):void 0,IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}}(n),i=It({$metadata:ln(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(Cn),Ln=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r}return function(e,t){function n(){this.constructor=e}we(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);function Nn(e){return Promise.all(Object.keys(e).reduce((function(t,n){var r=e[n];return"string"==typeof r?t.push([n,r]):t.push(r().then((function(e){return[n,e]}))),t}),[])).then((function(e){return e.reduce((function(e,t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}))}function Dn(e){var t=this;return function(){return Se(t,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,d,h;return Ee(this,(function(p){switch(p.label){case 0:return l=(c=e.client).send,f=Rn.bind,h={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,Nn(e.logins)]:[3,2];case 1:return d=p.sent(),[3,3];case 2:d=void 0,p.label=3;case 3:return[4,l.apply(c,[new(f.apply(Rn,[void 0,(h.Logins=d,h)]))])];case 4:return t=p.sent().Credentials,n=void 0===t?function(){throw new Ln("Response from Amazon Cognito contained no credentials")}():t,r=n.AccessKeyId,i=void 0===r?function(){throw new Ln("Response from Amazon Cognito contained no access key ID")}():r,o=n.Expiration,a=n.SecretKey,s=void 0===a?function(){throw new Ln("Response from Amazon Cognito contained no secret key")}():a,u=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:i,secretAccessKey:s,sessionToken:u,expiration:o}]}}))}))}}var Mn=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(bn(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:Ye.filterSensitiveLog,outputFilterSensitiveLog:Ze.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(function(e,t){return It(It(It({},void 0!==e.AccountId&&null!==e.AccountId&&{AccountId:e.AccountId}),void 0!==e.IdentityPoolId&&null!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:Xt(e.Logins,t)})}(e,t)),[2,fn(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i;return kt(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,qt(e,t)]:[4,dn(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}}(n),i=It({$metadata:ln(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(Cn),jn="IdentityIds",Un=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",(function(t){var n=t.get(e);return new Promise((function(e){n.onerror=function(){return e(null)},n.onsuccess=function(){return e(n.result?n.result.value:null)}}))})).catch((function(){return null}))},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",(function(t){var n=t.delete(e);return new Promise((function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}}))}))},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",(function(n){var r=n.put({id:e,value:t});return new Promise((function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}}))}))},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)},e.onblocked=function(){n(new Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){n(new Error("Failed to create object store"))},t.createObjectStore(jn,{keyPath:"id"})}}))},e.prototype.withObjectStore=function(e,t){return this.getDb().then((function(n){var r=n.transaction(jn,e);return r.oncomplete=function(){return n.close()},new Promise((function(e,n){r.onerror=function(){return n(r.error)},e(t(r.objectStore(jn)))})).catch((function(e){throw n.close(),e}))}))},e}(),Fn=function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}(),zn=new Fn;var Bn=n(7381);function qn(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Kn(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}for(var Hn=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,Gn)},Gn=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()},Vn=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var i=new Error("Request aborted");return i.name="AbortError",Promise.reject(i)}var o=e.path;if(e.query){var a=function(e){var t,n,r=[];try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var a=o.value,s=e[a];if(a=Hn(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push(a+"="+Hn(s[u]));else{var l=a;(s||"string"==typeof s)&&(l+="="+Hn(s)),r.push(l)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.join("&")}(e.query);a&&(o+="?"+a)}var s=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(s?":"+s:"")+o,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var f,d=new Request(c,l),h=[fetch(d).then((function(e){var t,n,r=e.headers,i={};try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r.entries()),a=o.next();!a.done;a=o.next()){var s=a.value;i[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new jt({headers:i,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new jt({headers:i,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(h)},e}(),$n={},Wn=new Array(64),Yn=0,Zn="A".charCodeAt(0),Jn="Z".charCodeAt(0);Yn+Zn<=Jn;Yn++){var Xn=String.fromCharCode(Yn+Zn);$n[Xn]=Yn,Wn[Yn]=Xn}for(Yn=0,Zn="a".charCodeAt(0),Jn="z".charCodeAt(0);Yn+Zn<=Jn;Yn++){Xn=String.fromCharCode(Yn+Zn);var Qn=Yn+26;$n[Xn]=Qn,Wn[Qn]=Xn}for(Yn=0;Yn<10;Yn++)$n[Yn.toString(10)]=Yn+52,Xn=Yn.toString(10),Qn=Yn+52,$n[Xn]=Qn,Wn[Qn]=Xn;function er(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),i=0;i<e.length;i+=4){for(var o=0,a=0,s=i,u=i+3;s<=u;s++)"="!==e[s]?(o|=$n[e[s]]<<6*(u-s),a+=6):o>>=6;var c=i/4*3;o>>=a%8;for(var l=Math.floor(a/8),f=0;f<l;f++){var d=8*(l-f-1);r.setUint8(c+f,(o&255<<d)>>d)}}return new Uint8Array(n)}function tr(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,i=0,o=n,a=Math.min(n+3,e.length);o<a;o++)r|=e[o]<<8*(a-o-1),i+=8;var s=Math.ceil(i/6);r<<=6*s-i;for(var u=1;u<=s;u++){var c=6*(s-u);t+=Wn[(r&63<<c)>>c]}t+="==".slice(0,4-s)}return t}function nr(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),a=o>-1?o+1:i.length;t(i.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}$n["+"]=62,Wn[62]="+",$n["/"]=63,Wn[63]="/";var rr=function(){return rr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},rr.apply(this,arguments)};function ir(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function or(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function ar(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var sr={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},ur=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],cr=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],lr=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],fr=[500,502,503,504],dr=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||cr.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},hr=n(1856),pr=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},vr=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return ur.includes(e.name)}(e)||dr(e)||function(e){var t;return lr.includes(e.name)||fr.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},yr=function(){function e(e,t){var n,r,i,o,a,s,u;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:vr,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:pr,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:(o=500,a=500,s=function(e){return"TimeoutError"===e.name?10:5},u=function(e){return s(e)<=a},Object.freeze({hasRetryTokens:u,retrieveRetryTokens:function(e){if(!u(e))throw new Error("No retry token available");var t=s(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,o)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return ir(this,void 0,void 0,(function(){var e;return or(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return ir(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return or(this,(function(l){switch(l.label){case 0:return r=0,i=0,[4,this.getMaxAttempts()];case 1:o=l.sent(),a=t.request,zt.isInstance(a)&&(a.headers["amz-sdk-invocation-id"]=(0,hr.v4)()),s=function(){var s,c,l,f,d;return or(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,5]),zt.isInstance(a)&&(a.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+o),[4,e(t)];case 1:return s=h.sent(),c=s.response,l=s.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=i,[2,{value:{response:c,output:l}}];case 2:return f=h.sent(),r++,u.shouldRetry(f,r,o)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(dr(f)?500:100,r),i+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return h.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=i,f;case 5:return[2]}}))},u=this,l.label=2;case 2:return[5,s()];case 3:return"object"==typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}();var gr=n(1206),mr=n.n(gr),br=n(367),wr="cognito-identity.{region}.amazonaws.com",Sr=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Er=new Set(["cn-north-1","cn-northwest-1"]),_r=new Set(["us-iso-east-1"]),xr=new Set(["us-isob-east-1"]),Ar=new Set(["us-gov-east-1","us-gov-west-1"]);function Tr(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var Cr={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":n={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":n={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":n={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":n={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":n={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:Sr.has(e)&&(n={hostname:wr.replace("{region}",e),partition:"aws"}),Er.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),_r.has(e)&&(n={hostname:"cognito-identity.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),xr.has(e)&&(n={hostname:"cognito-identity.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Ar.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:wr.replace("{region}",e),partition:"aws"})}return Promise.resolve(It({signingService:"cognito-identity"},n))},serviceId:"Cognito Identity",urlParser:function(e){var t,n=new URL(e),r=n.hostname,i=n.pathname,o=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.split("&")),o=i.next();!o.done;o=i.next()){var a=Tr(o.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:o?parseInt(o):void 0,protocol:a,path:i,query:t}}},Ir=It(It({},Cr),{runtime:"browser",base64Decoder:er,base64Encoder:tr,bodyLengthChecker:function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0},credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:function(e){var t=e.serviceId,n=e.clientVersion;return function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e,r,i,o,a,s,u,c,l;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(f){return e=(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?mr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(o=null==e?void 0:e.os)||void 0===o?void 0:o.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser",(null!==(u=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown")+"_"+(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}}({serviceId:Cr.serviceId,clientVersion:"3.6.1"}),maxAttempts:3,region:("Region is missing",function(){return Promise.reject("Region is missing")}),requestHandler:new Vn,sha256:Bn.Sha256,streamCollector:function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return qn(this,void 0,void 0,(function(){var t,n;return Kn(this,(function(r){switch(r.label){case 0:return[4,nr(e)];case 1:return t=r.sent(),n=er(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return qn(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return Kn(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=u.sent(),o=i.done,(a=i.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=o,[3,1];case 3:return[2,t]}}))}))}(e)},utf8Decoder:br.fromUtf8,utf8Encoder:br.toUtf8}),Pr=function(){return Pr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pr.apply(this,arguments)};var Or=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var i=Promise.resolve(t);return function(){return i}}return t},kr=function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t,n,r,i,o;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(a){switch(a.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=a.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(i=(null!==(o=a.sent())&&void 0!==o?o:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+i)]}}))}))},Rr=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Lr=function(){return Lr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Lr.apply(this,arguments)};var Nr="content-length",Dr={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Mr=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t,i,o,a,s;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(u){return t=r.request,zt.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map((function(e){return e.toLowerCase()})).indexOf(Nr)&&void 0!==(a=e(i))&&(t.headers=Lr(Lr({},t.headers),((s={})[Nr]=String(a),s)))),[2,n(Lr(Lr({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),Dr)}}};var jr={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Ur=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,i;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(o){return zt.isInstance(n.request)?(r=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),jr)}}};var Fr=function(){return function(e,t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(d){switch(d.label){case 0:return r=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(c,["$metadata"]),a.info({clientName:r,commandName:i,input:o(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}},zr={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Br=function(){return Br=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Br.apply(this,arguments)};var qr=function(){return qr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qr.apply(this,arguments)};function Kr(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Hr(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Gr(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vr(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}for(var $r={},Wr={},Yr=0;Yr<256;Yr++){var Zr=Yr.toString(16).toLowerCase();1===Zr.length&&(Zr="0"+Zr),$r[Yr]=Zr,Wr[Zr]=Yr}function Jr(e){for(var t="",n=0;n<e.byteLength;n++)t+=$r[e[n]];return t}var Xr="X-Amz-Date",Qr="X-Amz-Signature",ei="X-Amz-Security-Token",ti="authorization",ni=Xr.toLowerCase(),ri=[ti,ni,"date"],ii=Qr.toLowerCase(),oi="x-amz-content-sha256",ai=ei.toLowerCase(),si={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},ui=/^proxy-/,ci=/^sec-/,li="AWS4-HMAC-SHA256",fi="AWS4-HMAC-SHA256-PAYLOAD",di="aws4_request",hi={},pi=[];function vi(e,t,n){return e+"/"+t+"/"+n+"/"+di}function yi(e,t,n){var r=new e(t);return r.update(n),r.digest()}function gi(e,t,n){var r,i,o=e.headers,a={};try{for(var s=Gr(Object.keys(o).sort()),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.toLowerCase();(l in si||(null==t?void 0:t.has(l))||ui.test(l)||ci.test(l))&&(!n||n&&!n.has(l))||(a[l]=o[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a}function mi(e,t){var n=e.headers,r=e.body;return Kr(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return Hr(this,(function(l){switch(l.label){case 0:try{for(e=Gr(Object.keys(n)),i=e.next();!i.done;i=e.next())if((o=i.value).toLowerCase()===oi)return[2,n[o]]}catch(e){u={error:e}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=Jr,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function bi(e){var t=e.headers,n=e.query,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["headers","query"]);return qr(qr({},r),{headers:qr({},t),query:n?wi(n):void 0})}function wi(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return qr(qr({},t),((r={})[n]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Vr(arguments[t]));return e}(i):i,r))}),{})}function Si(e){var t,n;e="function"==typeof e.clone?e.clone():bi(e);try{for(var r=Gr(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;ri.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}var Ei=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=Ai(r),this.credentialProvider=Ti(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Kr(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A;return Hr(this,(function(T){switch(T.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=T.sent(),null==c?[3,2]:(h=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=T.sent(),T.label=4;case 4:return d=h,p=_i(r),v=p.longDate,y=p.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(g=vi(y,d,null!=l?l:this.service),m=function(e,t){var n,r,i;void 0===t&&(t={});var o="function"==typeof e.clone?e.clone():bi(e),a=o.headers,s=o.query,u=void 0===s?{}:s;try{for(var c=Gr(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return qr(qr({},e),{headers:a,query:u})}(Si(e),{unhoistableHeaders:s}),f.sessionToken&&(m.query[ei]=f.sessionToken),m.query["X-Amz-Algorithm"]=li,m.query["X-Amz-Credential"]=f.accessKeyId+"/"+g,m.query[Xr]=v,m.query["X-Amz-Expires"]=o.toString(10),b=gi(m,a,u),m.query["X-Amz-SignedHeaders"]=xi(b),w=m.query,S=Qr,E=this.getSignature,_=[v,g,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,A=[m,b],[4,mi(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,A.concat([T.sent()]))]))];case 6:return w[S]=T.sent(),[2,m]}}))}))},e.prototype.sign=function(e,t){return Kr(this,void 0,void 0,(function(){return Hr(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return Kr(this,void 0,void 0,(function(){var e,t,i,c,l,f,d,h,p,v,y;return Hr(this,(function(g){switch(g.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=g.sent(),g.label=3;case 3:return e=t,i=_i(o),c=i.shortDate,l=i.longDate,f=vi(c,e,null!=u?u:this.service),[4,mi({headers:{},body:r},this.sha256)];case 4:return d=g.sent(),(h=new this.sha256).update(n),v=Jr,[4,h.digest()];case 5:return p=v.apply(void 0,[g.sent()]),y=[fi,l,f,a,p,d].join("\n"),[2,this.signString(y,{signingDate:o,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,a=n.signingService;return Kr(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return Hr(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=_i(i).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=Jr,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return Kr(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,h,p,v,y;return Hr(this,(function(g){switch(g.label){case 0:return[4,this.credentialProvider()];case 1:return t=g.sent(),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=g.sent(),g.label=4;case 4:return n=r,c=Si(e),l=_i(i),f=l.longDate,d=l.shortDate,h=vi(d,n,null!=u?u:this.service),c.headers[ni]=f,t.sessionToken&&(c.headers[ai]=t.sessionToken),[4,mi(c,this.sha256)];case 5:return p=g.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=Gr(Object.keys(t)),o=i.next();!o.done;o=i.next())if(e===o.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(oi,c.headers)&&this.applyChecksum&&(c.headers[oi]=p),v=gi(c,a,o),[4,this.getSignature(f,h,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,p))];case 6:return y=g.sent(),c.headers[ti]=li+" Credential="+t.accessKeyId+"/"+h+", SignedHeaders="+xi(v)+", Signature="+y,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],a={},s=function(e){if(e.toLowerCase()===ii)return"continue";o.push(e);var t=i[e];"string"==typeof t?a[e]=Hn(e)+"="+Hn(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([Hn(e)+"="+Hn(n)])}),[]).join("&"))};try{for(var u=Gr(Object.keys(i).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return Kr(this,void 0,void 0,(function(){var r,i;return Hr(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,li+"\n"+e+"\n"+t+"\n"+Jr(i)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return Kr(this,void 0,void 0,(function(){var i,o,a,s,u;return Hr(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(o=new(s.apply(a,[void 0,c.sent()]))).update(i),u=Jr,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){return Kr(void 0,void 0,void 0,(function(){var o,a,s,u,c,l,f,d,h;return Hr(this,(function(p){switch(p.label){case 0:return[4,yi(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=p.sent(),(a=n+":"+r+":"+i+":"+Jr(o)+":"+t.sessionToken)in hi)return[2,hi[a]];for(pi.push(a);pi.length>50;)delete hi[pi.shift()];s="AWS4"+t.secretAccessKey,p.label=2;case 2:p.trys.push([2,7,8,9]),u=Gr([n,r,i,di]),c=u.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,yi(e,s,l)]);case 4:s=p.sent(),p.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=p.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,hi[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),_i=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},xi=function(e){return Object.keys(e).sort().join(";")},Ai=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Ti=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function Ci(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}var Ii=function(){return Ii=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ii.apply(this,arguments)};function Pi(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Oi(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Pi(arguments[t]));return e}var ki="user-agent",Ri=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Li=function(e){var t=Pi(e,2),n=t[0],r=t[1],i=n.indexOf("/"),o=n.substring(0,i),a=n.substring(i+1);return"api"===o&&(a=a.toLowerCase()),[o,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(Ri,"_")})).join("/")},Ni={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Di=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var i,o,a,s,u,c,l,f;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(d){switch(d.label){case 0:return i=r.request,zt.isInstance(i)?(o=i.headers,a=(null===(l=null==t?void 0:t.userAgent)||void 0===l?void 0:l.map(Li))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=d.sent().map(Li),u=(null===(f=null==n?void 0:n.customUserAgent)||void 0===f?void 0:f.map(Li))||[],o["x-amz-user-agent"]=Oi(s,a,u).join(" "),c=Oi(s.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&c&&(o[ki]=o[ki]?o[ki]+" "+c:c),[2,e(Ii(Ii({},r),{request:i}))]}}))}))}}),Ni)}}},Mi=function(e){function t(t){var n,r,i,o=this,a=function(e){if(!e.region)throw new Error("Region is missing");return Pr(Pr({},e),{region:Rr(e.region)})}(It(It({},Ir),t)),s=function(e){var t;return Pr(Pr({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?Or(e):function(){return kr(e)},isCustomEndpoint:!!e.endpoint})}(a),u=function(e){var t,n=this,r=Ci(e.credentials||e.credentialDefaultProvider(e)),i=e.signingEscapePath,o=void 0===i||i,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?Ci(e.signer):function(){return Ci(e.region)().then((function(t){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(n,void 0,void 0,(function(){return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t,2),i=n[0],a=n[1],s=i.signingRegion,c=i.signingService;return e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId,new Ei({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o})}))},Br(Br({},e),{systemClockOffset:s,signingEscapePath:o,credentials:r,signer:t})}(s),c=function(e){return Ii(Ii({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}((r=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}((n=u).maxAttempts),rr(rr({},n),{maxAttempts:r,retryStrategy:n.retryStrategy||new yr(r)})));return(o=e.call(this,c)||this).config=c,o.middlewareStack.use((i=o.config,{applyToStack:function(e){e.add(function(e){return function(t,n){return function(r){return ir(void 0,void 0,void 0,(function(){var i;return or(this,(function(o){return(null===(i=null==e?void 0:e.retryStrategy)||void 0===i?void 0:i.mode)&&(n.userAgent=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ar(arguments[t]));return e}(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(i),sr)}})),o.middlewareStack.use(Mr(o.config)),o.middlewareStack.use(Ur(o.config)),o.middlewareStack.use((o.config,{applyToStack:function(e){e.add(Fr(),zr)}})),o.middlewareStack.use(Di(o.config)),o}return xe(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Tn);function ji(e){var t=new Mi({region:e.region,customUserAgent:te()});return t.middlewareStack.add((function(e,t){return function(t){return e(function(e){return(0,i.__assign)((0,i.__assign)({},e),{request:(0,i.__assign)((0,i.__assign)({},e.request),{headers:(0,i.__assign)((0,i.__assign)({},e.request.headers),{"cache-control":"no-store"})})})}(t))}}),{step:"build",name:"cacheControlMiddleWare"}),t}var Ui,Fi,zi,Bi,qi,Ki,Hi,Gi,Vi,$i,Wi,Yi,Zi,Ji,Xi,Qi,eo,to,no,ro,io,oo,ao,so,uo,co,lo,fo,ho,po,vo,yo,go,mo,bo,wo,So,Eo,_o,xo,Ao,To,Co,Io,Po,Oo,ko,Ro,Lo,No,Do,Mo,jo,Uo,Fo,zo,Bo,qo,Ko,Ho,Go,Vo,$o,Wo,Yo,Zo,Jo,Xo,Qo,ea,ta,na,ra,ia,oa,aa,sa,ua,ca,la,fa,da,ha,pa,va,ya,ga,ma,ba,wa,Sa,Ea,_a,xa,Aa,Ta,Ca,Ia,Pa,Oa,ka,Ra,La,Na,Da,Ma,ja,Ua,Fa,za,Ba,qa,Ka,Ha,Ga,Va,$a,Wa,Ya,Za,Ja,Xa,Qa,es,ts,ns,rs,is,os,as,ss,us=new c("Credentials"),cs="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",ls=function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=me.refreshGoogleToken,this._refreshHandlers.facebook=be.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=(0,i.__assign)((0,i.__assign)({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new ie).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),_.dispatch("core",{event:"credentials_configured",data:null,message:"Credentials has been configured successfully"},"Credentials",cs),this._config},e.prototype.get=function(){return us.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(e){return"CognitoIdentityId-"+e},e.prototype._pickupCredentials=function(){return us.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?us.debug("getting old cred promise"):(us.debug("getting new cred promise"),this._gettingCredPromise=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,i=e.then((function(e){return r=!0,t=!1,e}),(function(e){throw n=!0,t=!1,e}));return i.isFullfilled=function(){return r},i.isPending=function(){return t},i.isRejected=function(){return n},i}(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,o,a,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(us.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return us.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(us.debug("need to get a new credential or refresh the existing one"),t=this.Auth,!(n=void 0===t?d.Auth:t)||"function"!=typeof n.currentUserCredentials)return[2,this._setCredentialsForGuest()];if(this._isExpired(e)||!this._isPastTTL())return[3,6];us.debug("ttl has passed but token is not yet expired"),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return r=i.sent(),[4,n.currentSession()];case 3:return o=i.sent(),a=o.refreshToken,[4,new Promise((function(e,t){r.refreshSession(a,(function(n,r){return n?t(n):e(r)}))}))];case 4:return i.sent(),[3,6];case 5:return s=i.sent(),us.debug("Error attempting to refreshing the session",s),[3,6];case 6:return[2,n.currentUserCredentials()]}}))}))},e.prototype.refreshFederatedToken=function(e){us.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,i=e.identity_id,o=e.expires_at;o=1970===new Date(o).getFullYear()?1e3*o:o;var a=this;return us.debug("checking if federated jwt token expired"),o>(new Date).getTime()?(us.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:i,expires_at:o})):a._refreshHandlers[t]&&"function"==typeof a._refreshHandlers[t]?(us.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:a._refreshHandlers[t],provider:t,user:n})):(us.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,r=e.provider,i=e.user;return fe(n,[],1e4).then((function(e){return us.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:r,token:e.token,user:i,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){return"string"==typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),us.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)}))},e.prototype._isExpired=function(e){if(!e)return us.debug("no credentials for expiration check"),!0;us.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){var e;return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,a,s,u,c,l,f,d=this;return(0,i.__generator)(this,(function(h){switch(h.label){case 0:return us.debug("setting credentials for guest"),(null===(e=this._config)||void 0===e?void 0:e.identityPoolId)||(this._config=Object.assign({},this._config,A(this._config||{}).Auth)),t=this._config,n=t.identityPoolId,r=t.region,o=t.mandatorySignIn,a=t.identityPoolRegion,o?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:n?a||r?(u=this,[4,this._getGuestIdentityId()]):(us.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(us.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return s=u._identityId=h.sent(),c=ji({region:a||r}),l=void 0,s?l=Dn({identityId:s,client:c})():(f=function(){return(0,i.__awaiter)(d,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,c.send(new Mn({IdentityPoolId:n}))];case 1:return e=t.sent().IdentityId,this._identityId=e,[2,Dn({client:c,identityId:e})()]}}))}))},l=f().catch((function(e){return(0,i.__awaiter)(d,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){throw e}))}))}))),[2,this._loadCredentials(l,"guest",!1,null).then((function(e){return e})).catch((function(e){return(0,i.__awaiter)(d,void 0,void 0,(function(){var t,r=this;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:return"ResourceNotFoundException"!==e.name||e.message!=="Identity '"+s+"' not found."?[3,2]:(us.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]);case 1:return o.sent(),t=function(){return(0,i.__awaiter)(r,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,c.send(new Mn({IdentityPoolId:n}))];case 1:return e=t.sent().IdentityId,this._identityId=e,[2,Dn({client:c,identityId:e})()]}}))}))},l=t().catch((function(e){return(0,i.__awaiter)(r,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){throw e}))}))})),[2,this._loadCredentials(l,"guest",!1,null)];case 2:return[2,e]}}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,r=e.identity_id,i={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t;if(!i)return Promise.reject("You must specify a federated provider");var o={};o[i]=n;var a=this._config,s=a.identityPoolId,u=a.region,c=a.identityPoolRegion;if(!s)return us.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!c&&!u)return us.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var l=ji({region:c||u}),f=void 0;return f=r?Dn({identityId:r,logins:o,client:l})():function(e){var t=this,n=e.accountId,r=e.cache,i=void 0===r?"object"==typeof self&&self.indexedDB?new Un:"object"==typeof window&&window.localStorage?window.localStorage:zn:r,o=e.client,a=e.customRoleArn,s=e.identityPoolId,u=e.logins,c=e.userIdentifier,l=void 0===c?u&&0!==Object.keys(u).length?void 0:"ANONYMOUS":c,f=l?"aws:cognito-identity-credentials:"+s+":"+l:void 0,d=function(){return Se(t,void 0,void 0,(function(){var e,t,r,c,l,h,p,v,y;return Ee(this,(function(g){switch(g.label){case 0:return(t=f)?[4,i.getItem(f)]:[3,2];case 1:t=g.sent(),g.label=2;case 2:return(e=t)?[3,7]:(h=(l=o).send,p=Mn.bind,y={AccountId:n,IdentityPoolId:s},u?[4,Nn(u)]:[3,4]);case 3:return v=g.sent(),[3,5];case 4:v=void 0,g.label=5;case 5:return[4,h.apply(l,[new(p.apply(Mn,[void 0,(y.Logins=v,y)]))])];case 6:r=g.sent().IdentityId,c=void 0===r?function(){throw new Ln("Response from Amazon Cognito contained no identity ID")}():r,e=c,f&&Promise.resolve(i.setItem(f,e)).catch((function(){})),g.label=7;case 7:return[2,(d=Dn({client:o,customRoleArn:a,logins:u,identityId:e}))()]}}))}))};return function(){return d().catch((function(e){return Se(t,void 0,void 0,(function(){return Ee(this,(function(t){throw f&&Promise.resolve(i.removeItem(f)).catch((function(){})),e}))}))}))}}({logins:o,identityPoolId:s,client:l})(),this._loadCredentials(f,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;us.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,o=r.region,a=r.userPoolId,s=r.identityPoolId,u=r.identityPoolRegion;if(!s)return us.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!u&&!o)return us.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c={};c["cognito-idp."+o+".amazonaws.com/"+a]=n;var l=ji({region:u||o}),f=(0,i.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r,o,a,u,f,d,h;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this._getGuestIdentityId()];case 1:return(e=i.sent())?[3,3]:[4,l.send(new Mn({IdentityPoolId:s,Logins:c}))];case 2:n=i.sent().IdentityId,t=n,i.label=3;case 3:return[4,l.send(new Rn({IdentityId:e||t,Logins:c}))];case 4:return r=i.sent(),o=r.Credentials,a=o.AccessKeyId,u=o.Expiration,f=o.SecretKey,d=o.SessionToken,h=r.IdentityId,this._identityId=h,e?(us.debug("The guest identity "+e+" has been successfully linked to the logins"),e===h&&us.debug("The guest identity "+e+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:i.sent(),i.label=6;case 6:return[2,{accessKeyId:a,secretAccessKey:f,sessionToken:d,expiration:u,identityId:h}]}}))})).catch((function(e){return(0,i.__awaiter)(t,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){throw e}))}))}));return this._loadCredentials(f,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var o=this,a=this;return new Promise((function(s,u){e.then((function(e){return(0,i.__awaiter)(o,void 0,void 0,(function(){var o,u,c,l,f;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(us.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),a._credentials=e,a._credentials.authenticated=n,a._credentials_source=t,a._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){o=Object.assign({id:this._credentials.identityId},r.user),u=r.provider,c=r.token,l=r.expires_at,f=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:u,token:c,user:o,expires_at:l,identity_id:f}))}catch(e){us.debug("Failed to put federated info into auth storage",e)}}return"guest"!==t?[3,2]:[4,this._setGuestIdentityId(e.identityId)];case 1:i.sent(),i.label=2;case 2:return s(a._credentials),[2]}}))}))})).catch((function(t){if(t)return us.debug("Failed to load credentials",e),us.debug("Error loading credentials",t),void u(t)}))}))},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(us.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){return this._credentials=null,this._credentials_source=null,us.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]}))}))},e.prototype._getGuestIdentityId=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:e=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=n.sent(),us.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}}))}))},e.prototype._setGuestIdentityId=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:t=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return n=r.sent(),us.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}}))}))},e.prototype._removeGuestIdentityId=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(t){return e=this._config.identityPoolId,us.debug("removing "+this._getCognitoIdentityIdStorageKey(e)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}(),fs=new ls(null);d.register(fs),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ui||(Ui={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Fi||(Fi={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(zi||(zi={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Bi||(Bi={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(qi||(qi={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ki||(Ki={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Hi||(Hi={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Gi||(Gi={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Vi||(Vi={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}($i||($i={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Wi||(Wi={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Yi||(Yi={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Zi||(Zi={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ji||(Ji={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Xi||(Xi={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Qi||(Qi={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(eo||(eo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(to||(to={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(no||(no={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ro||(ro={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(io||(io={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(oo||(oo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ao||(ao={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(so||(so={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(uo||(uo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(co||(co={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(lo||(lo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(fo||(fo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ho||(ho={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(po||(po={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(vo||(vo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(yo||(yo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(go||(go={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(mo||(mo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(bo||(bo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(wo||(wo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(So||(So={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Eo||(Eo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(_o||(_o={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(xo||(xo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ao||(Ao={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(To||(To={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Co||(Co={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Io||(Io={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Po||(Po={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Oo||(Oo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ko||(ko={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ro||(Ro={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Lo||(Lo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(No||(No={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Do||(Do={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Mo||(Mo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(jo||(jo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Uo||(Uo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Fo||(Fo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(zo||(zo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Bo||(Bo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(qo||(qo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ko||(Ko={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ho||(Ho={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Go||(Go={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Vo||(Vo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}($o||($o={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Wo||(Wo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Yo||(Yo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Zo||(Zo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Jo||(Jo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Xo||(Xo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Qo||(Qo={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ea||(ea={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ta||(ta={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(na||(na={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ra||(ra={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ia||(ia={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(oa||(oa={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(aa||(aa={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(sa||(sa={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ua||(ua={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ca||(ca={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(la||(la={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(fa||(fa={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(da||(da={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ha||(ha={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(pa||(pa={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(va||(va={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ya||(ya={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ga||(ga={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ma||(ma={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ba||(ba={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(wa||(wa={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Sa||(Sa={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ea||(Ea={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(_a||(_a={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(xa||(xa={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Aa||(Aa={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ta||(Ta={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ca||(Ca={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ia||(Ia={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Pa||(Pa={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Oa||(Oa={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ka||(ka={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ra||(Ra={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(La||(La={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Na||(Na={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Da||(Da={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ma||(Ma={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ja||(ja={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ua||(Ua={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Fa||(Fa={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(za||(za={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ba||(Ba={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(qa||(qa={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ka||(Ka={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ha||(Ha={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ga||(Ga={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Va||(Va={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}($a||($a={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Wa||(Wa={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ya||(Ya={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Za||(Za={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ja||(Ja={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Xa||(Xa={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Qa||(Qa={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(es||(es={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ts||(ts={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ns||(ns={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(rs||(rs={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(is||(is={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(os||(os={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(as||(as={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ss||(ss={}));var ds=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),hs=function(){return hs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},hs.apply(this,arguments)};function ps(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var vs=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(hs(hs({},this),{headers:hs({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return hs(hs({},e),((r={})[n]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ps(arguments[t]));return e}(i):i,r))}),{}))),n},e}(),ys=function(){return ys=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ys.apply(this,arguments)};function gs(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function ms(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(gs(arguments[t]));return e}var bs=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,ys({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,ys({},e))})),n},i=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,ms(i(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,ms(i(e)))})),t},o={add:function(t,r){void 0===r&&(r={});var i=r.name,o=r.override,a=ys({step:"initialize",priority:"normal",middleware:t},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var s=e.findIndex((function(e){return e.name===i})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'+i+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");e.splice(s,1)}n.add(i)}e.push(a)},addRelativeTo:function(e,r){var i=r.name,o=r.override,a=ys({middleware:e},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var s=t.findIndex((function(e){return e.name===i})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'+i+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');t.splice(s,1)}n.add(i)}t.push(a)},clone:function(){return r(bs())},use:function(e){e.applyToStack(o)},remove:function(r){return"string"==typeof r?function(r){var i=!1,o=function(e){return!e.name||e.name!==r||(i=!0,n.delete(r),!1)};return e=e.filter(o),t=t.filter(o),i}(r):function(r){var i=!1,o=function(e){return e.middleware!==r||(i=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),i}(r)},removeByTag:function(r){var i=!1,o=function(e){var t=e.tags,o=e.name;return!t||!t.includes(r)||(o&&n.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:function(e){var t=r(bs());return t.use(e),t},applyToStack:r,resolve:function(n,r){var o,a;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(){var n=[],r=[],o={};e.forEach((function(e){var t=ys(ys({},e),{before:[],after:[]});t.name&&(o[t.name]=t),n.push(t)})),t.forEach((function(e){var t=ys(ys({},e),{before:[],after:[]});t.name&&(o[t.name]=t),r.push(t)})),r.forEach((function(e){if(e.toMiddleware){var t=o[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var a,s=(a=n,a.sort((function(e,t){return ws[t.step]-ws[e.step]||Ss[t.priority||"normal"]-Ss[e.priority||"normal"]}))).map(i).reduce((function(e,t){return e.push.apply(e,ms(t)),e}),[]);return s.map((function(e){return e.middleware}))}().reverse()),u=s.next();!u.done;u=s.next())n=(0,u.value)(n,r)}catch(e){o={error:e}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return n}};return o},ws={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Ss={high:3,normal:2,low:1},Es=function(){function e(e){this.middlewareStack=bs(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),_s=function(){this.middlewareStack=bs()};function xs(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}var As=function(e,t){return As=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},As(e,t)};function Ts(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Cs(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ts(arguments[t]));return e}var Is=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Cs([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};Is.prototype=Object.create(String.prototype,{constructor:{value:Is,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(Is,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){function n(){this.constructor=e}As(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(Is);var Ps=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v;return kt(this,(function(y){switch(y.label){case 0:return r=[It({},e)],v={},[4,Xs(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(v.body=y.sent(),v)])),o="UnknownError",o=Qs(e,n.body)){case"BadRequestException":case"com.amazonaws.pinpoint#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.pinpoint#ForbiddenException":return[3,4];case"InternalServerErrorException":case"com.amazonaws.pinpoint#InternalServerErrorException":return[3,6];case"MethodNotAllowedException":case"com.amazonaws.pinpoint#MethodNotAllowedException":return[3,8];case"NotFoundException":case"com.amazonaws.pinpoint#NotFoundException":return[3,10];case"PayloadTooLargeException":case"com.amazonaws.pinpoint#PayloadTooLargeException":return[3,12];case"TooManyRequestsException":case"com.amazonaws.pinpoint#TooManyRequestsException":return[3,14]}return[3,16];case 2:return a=[{}],[4,ks(n,t)];case 3:return i=It.apply(void 0,[It.apply(void 0,a.concat([y.sent()])),{name:o,$metadata:Js(e)}]),[3,17];case 4:return s=[{}],[4,Rs(n,t)];case 5:return i=It.apply(void 0,[It.apply(void 0,s.concat([y.sent()])),{name:o,$metadata:Js(e)}]),[3,17];case 6:return u=[{}],[4,Ls(n,t)];case 7:return i=It.apply(void 0,[It.apply(void 0,u.concat([y.sent()])),{name:o,$metadata:Js(e)}]),[3,17];case 8:return c=[{}],[4,Ns(n,t)];case 9:return i=It.apply(void 0,[It.apply(void 0,c.concat([y.sent()])),{name:o,$metadata:Js(e)}]),[3,17];case 10:return l=[{}],[4,Ds(n,t)];case 11:return i=It.apply(void 0,[It.apply(void 0,l.concat([y.sent()])),{name:o,$metadata:Js(e)}]),[3,17];case 12:return f=[{}],[4,Ms(n,t)];case 13:return i=It.apply(void 0,[It.apply(void 0,f.concat([y.sent()])),{name:o,$metadata:Js(e)}]),[3,17];case 14:return d=[{}],[4,js(n,t)];case 15:return i=It.apply(void 0,[It.apply(void 0,d.concat([y.sent()])),{name:o,$metadata:Js(e)}]),[3,17];case 16:h=n.body,o=h.code||h.Code||o,i=It(It({},h),{name:""+o,message:h.message||h.Message||o,$fault:"client",$metadata:Js(e)}),y.label=17;case 17:return p=i.message||i.Message||o,i.message=p,delete i.Message,[2,Promise.reject(Object.assign(new Error(p),i))]}}))}))},Os=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v;return kt(this,(function(y){switch(y.label){case 0:return r=[It({},e)],v={},[4,Xs(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(v.body=y.sent(),v)])),o="UnknownError",o=Qs(e,n.body)){case"BadRequestException":case"com.amazonaws.pinpoint#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.pinpoint#ForbiddenException":return[3,4];case"InternalServerErrorException":case"com.amazonaws.pinpoint#InternalServerErrorException":return[3,6];case"MethodNotAllowedException":case"com.amazonaws.pinpoint#MethodNotAllowedException":return[3,8];case"NotFoundException":case"com.amazonaws.pinpoint#NotFoundException":return[3,10];case"PayloadTooLargeException":case"com.amazonaws.pinpoint#PayloadTooLargeException":return[3,12];case"TooManyRequestsException":case"com.amazonaws.pinpoint#TooManyRequestsException":return[3,14]}return[3,16];case 2:return a=[{}],[4,ks(n,t)];case 3:return i=It.apply(void 0,[It.apply(void 0,a.concat([y.sent()])),{name:o,$metadata:Js(e)}]),[3,17];case 4:return s=[{}],[4,Rs(n,t)];case 5:return i=It.apply(void 0,[It.apply(void 0,s.concat([y.sent()])),{name:o,$metadata:Js(e)}]),[3,17];case 6:return u=[{}],[4,Ls(n,t)];case 7:return i=It.apply(void 0,[It.apply(void 0,u.concat([y.sent()])),{name:o,$metadata:Js(e)}]),[3,17];case 8:return c=[{}],[4,Ns(n,t)];case 9:return i=It.apply(void 0,[It.apply(void 0,c.concat([y.sent()])),{name:o,$metadata:Js(e)}]),[3,17];case 10:return l=[{}],[4,Ds(n,t)];case 11:return i=It.apply(void 0,[It.apply(void 0,l.concat([y.sent()])),{name:o,$metadata:Js(e)}]),[3,17];case 12:return f=[{}],[4,Ms(n,t)];case 13:return i=It.apply(void 0,[It.apply(void 0,f.concat([y.sent()])),{name:o,$metadata:Js(e)}]),[3,17];case 14:return d=[{}],[4,js(n,t)];case 15:return i=It.apply(void 0,[It.apply(void 0,d.concat([y.sent()])),{name:o,$metadata:Js(e)}]),[3,17];case 16:h=n.body,o=h.code||h.Code||o,i=It(It({},h),{name:""+o,message:h.message||h.Message||o,$fault:"client",$metadata:Js(e)}),y.label=17;case 17:return p=i.message||i.Message||o,i.message=p,delete i.Message,[2,Promise.reject(Object.assign(new Error(p),i))]}}))}))},ks=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n;return kt(this,(function(r){return t={name:"BadRequestException",$fault:"client",$metadata:Js(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},Rs=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n;return kt(this,(function(r){return t={name:"ForbiddenException",$fault:"client",$metadata:Js(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},Ls=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n;return kt(this,(function(r){return t={name:"InternalServerErrorException",$fault:"server",$metadata:Js(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},Ns=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n;return kt(this,(function(r){return t={name:"MethodNotAllowedException",$fault:"client",$metadata:Js(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},Ds=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n;return kt(this,(function(r){return t={name:"NotFoundException",$fault:"client",$metadata:Js(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},Ms=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n;return kt(this,(function(r){return t={name:"PayloadTooLargeException",$fault:"client",$metadata:Js(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},js=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n;return kt(this,(function(r){return t={name:"TooManyRequestsException",$fault:"client",$metadata:Js(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},Us=function(e,t){return It(It(It(It(It(It(It(It({},void 0!==e.AppVersion&&null!==e.AppVersion&&{AppVersion:e.AppVersion}),void 0!==e.Locale&&null!==e.Locale&&{Locale:e.Locale}),void 0!==e.Make&&null!==e.Make&&{Make:e.Make}),void 0!==e.Model&&null!==e.Model&&{Model:e.Model}),void 0!==e.ModelVersion&&null!==e.ModelVersion&&{ModelVersion:e.ModelVersion}),void 0!==e.Platform&&null!==e.Platform&&{Platform:e.Platform}),void 0!==e.PlatformVersion&&null!==e.PlatformVersion&&{PlatformVersion:e.PlatformVersion}),void 0!==e.Timezone&&null!==e.Timezone&&{Timezone:e.Timezone})},Fs=function(e,t){return It(It(It(It(It(It({},void 0!==e.City&&null!==e.City&&{City:e.City}),void 0!==e.Country&&null!==e.Country&&{Country:e.Country}),void 0!==e.Latitude&&null!==e.Latitude&&{Latitude:e.Latitude}),void 0!==e.Longitude&&null!==e.Longitude&&{Longitude:e.Longitude}),void 0!==e.PostalCode&&null!==e.PostalCode&&{PostalCode:e.PostalCode}),void 0!==e.Region&&null!==e.Region&&{Region:e.Region})},zs=function(e,t){return It(It({},void 0!==e.UserAttributes&&null!==e.UserAttributes&&{UserAttributes:Gs(e.UserAttributes,t)}),void 0!==e.UserId&&null!==e.UserId&&{UserId:e.UserId})},Bs=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Lt(t,2),i=r[0],o=r[1];return null===o?e:It(It({},e),((n={})[i]=o,n))}),{})},qs=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Lt(t,2),i=r[0],o=r[1];return null===o?e:It(It({},e),((n={})[i]=o,n))}),{})},Ks=function(e,t){return Object.entries(e).reduce((function(e,n){var r,i=Lt(n,2),o=i[0],a=i[1];return null===a?e:It(It({},e),((r={})[o]=function(e,t){return It(It(It(It(It(It(It(It(It(It({},void 0!==e.AppPackageName&&null!==e.AppPackageName&&{AppPackageName:e.AppPackageName}),void 0!==e.AppTitle&&null!==e.AppTitle&&{AppTitle:e.AppTitle}),void 0!==e.AppVersionCode&&null!==e.AppVersionCode&&{AppVersionCode:e.AppVersionCode}),void 0!==e.Attributes&&null!==e.Attributes&&{Attributes:qs(e.Attributes)}),void 0!==e.ClientSdkVersion&&null!==e.ClientSdkVersion&&{ClientSdkVersion:e.ClientSdkVersion}),void 0!==e.EventType&&null!==e.EventType&&{EventType:e.EventType}),void 0!==e.Metrics&&null!==e.Metrics&&{Metrics:Bs(e.Metrics,t)}),void 0!==e.SdkName&&null!==e.SdkName&&{SdkName:e.SdkName}),void 0!==e.Session&&null!==e.Session&&{Session:$s(e.Session,t)}),void 0!==e.Timestamp&&null!==e.Timestamp&&{Timestamp:e.Timestamp})}(a,t),r))}),{})},Hs=function(e,t){return Object.entries(e).reduce((function(e,n){var r,i=Lt(n,2),o=i[0],a=i[1];return null===a?e:It(It({},e),((r={})[o]=function(e,t){return It(It({},void 0!==e.Endpoint&&null!==e.Endpoint&&{Endpoint:Vs(e.Endpoint,t)}),void 0!==e.Events&&null!==e.Events&&{Events:Ks(e.Events,t)})}(a,t),r))}),{})},Gs=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Lt(t,2),i=r[0],o=r[1];return null===o?e:It(It({},e),((n={})[i]=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:e}))}(o),n))}),{})},Vs=function(e,t){return It(It(It(It(It(It(It(It(It(It(It({},void 0!==e.Address&&null!==e.Address&&{Address:e.Address}),void 0!==e.Attributes&&null!==e.Attributes&&{Attributes:Gs(e.Attributes,t)}),void 0!==e.ChannelType&&null!==e.ChannelType&&{ChannelType:e.ChannelType}),void 0!==e.Demographic&&null!==e.Demographic&&{Demographic:Us(e.Demographic)}),void 0!==e.EffectiveDate&&null!==e.EffectiveDate&&{EffectiveDate:e.EffectiveDate}),void 0!==e.EndpointStatus&&null!==e.EndpointStatus&&{EndpointStatus:e.EndpointStatus}),void 0!==e.Location&&null!==e.Location&&{Location:Fs(e.Location)}),void 0!==e.Metrics&&null!==e.Metrics&&{Metrics:Bs(e.Metrics,t)}),void 0!==e.OptOut&&null!==e.OptOut&&{OptOut:e.OptOut}),void 0!==e.RequestId&&null!==e.RequestId&&{RequestId:e.RequestId}),void 0!==e.User&&null!==e.User&&{User:zs(e.User,t)})},$s=function(e,t){return It(It(It(It({},void 0!==e.Duration&&null!==e.Duration&&{Duration:e.Duration}),void 0!==e.Id&&null!==e.Id&&{Id:e.Id}),void 0!==e.StartTimestamp&&null!==e.StartTimestamp&&{StartTimestamp:e.StartTimestamp}),void 0!==e.StopTimestamp&&null!==e.StopTimestamp&&{StopTimestamp:e.StopTimestamp})},Ws=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0,StatusCode:void 0!==e.StatusCode&&null!==e.StatusCode?e.StatusCode:void 0}},Ys=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Lt(t,2),i=r[0],o=r[1];return null===o?e:It(It({},e),((n={})[i]=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0,StatusCode:void 0!==e.StatusCode&&null!==e.StatusCode?e.StatusCode:void 0}}(o),n))}),{})},Zs=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Lt(t,2),i=r[0],o=r[1];return null===o?e:It(It({},e),((n={})[i]=function(e,t){return{EndpointItemResponse:void 0!==e.EndpointItemResponse&&null!==e.EndpointItemResponse?Ws(e.EndpointItemResponse):void 0,EventsItemResponse:void 0!==e.EventsItemResponse&&null!==e.EventsItemResponse?Ys(e.EventsItemResponse):void 0}}(o),n))}),{})},Js=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Xs=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Qs=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==i?r(e.headers[i]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},eu=function(){return eu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},eu.apply(this,arguments)};function tu(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function nu(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var ru={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},iu={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function ou(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return tu(void 0,void 0,void 0,(function(){var i,o;return nu(this,(function(a){switch(a.label){case 0:return[4,n(r)];case 1:return i=a.sent().response,[4,t(i,e)];case 2:return o=a.sent(),[2,{response:i,output:o}]}}))}))}}}(e,n),ru),r.add(function(e,t){return function(n,r){return function(r){return tu(void 0,void 0,void 0,(function(){var i;return nu(this,(function(o){switch(o.label){case 0:return[4,t(r.input,e)];case 1:return i=o.sent(),[2,n(eu(eu({},r),{request:i}))]}}))}))}}}(e,t),iu)}}}var au=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(ou(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"PinpointClient",commandName:"PutEventsCommand",inputFilterSensitiveLog:Yo.filterSensitiveLog,outputFilterSensitiveLog:Zo.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:if(n={"content-type":"application/json"},r="/v1/apps/{ApplicationId}/events",void 0===e.ApplicationId)throw new Error("No value provided for input HTTP label: ApplicationId.");if((i=e.ApplicationId).length<=0)throw new Error("Empty value provided for input HTTP label: ApplicationId.");return r=r.replace("{ApplicationId}",xs(i)),void 0!==e.EventsRequest&&(o=function(e,t){return It({},void 0!==e.BatchItem&&null!==e.BatchItem&&{BatchItem:Hs(e.BatchItem,t)})}(e.EventsRequest,t)),void 0===o&&(o={}),o=JSON.stringify(o),[4,t.endpoint()];case 1:return a=f.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new vs({protocol:c,hostname:s,port:l,method:"POST",headers:n,path:r,body:o})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){switch(i.label){case 0:return 202!==e.statusCode&&e.statusCode>=300?[2,Ps(e,t)]:(n={$metadata:Js(e),EventsResponse:void 0},[4,Xs(e.body,t)]);case 1:return r=i.sent(),n.EventsResponse=function(e,t){return{Results:void 0!==e.Results&&null!==e.Results?Zs(e.Results,t):void 0}}(r,t),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(_s),su=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(ou(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"PinpointClient",commandName:"UpdateEndpointCommand",inputFilterSensitiveLog:Ra.filterSensitiveLog,outputFilterSensitiveLog:La.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:if(n={"content-type":"application/json"},r="/v1/apps/{ApplicationId}/endpoints/{EndpointId}",void 0===e.ApplicationId)throw new Error("No value provided for input HTTP label: ApplicationId.");if((i=e.ApplicationId).length<=0)throw new Error("Empty value provided for input HTTP label: ApplicationId.");if(r=r.replace("{ApplicationId}",xs(i)),void 0===e.EndpointId)throw new Error("No value provided for input HTTP label: EndpointId.");if((i=e.EndpointId).length<=0)throw new Error("Empty value provided for input HTTP label: EndpointId.");return r=r.replace("{EndpointId}",xs(i)),void 0!==e.EndpointRequest&&(o=function(e,t){return It(It(It(It(It(It(It(It(It(It(It({},void 0!==e.Address&&null!==e.Address&&{Address:e.Address}),void 0!==e.Attributes&&null!==e.Attributes&&{Attributes:Gs(e.Attributes,t)}),void 0!==e.ChannelType&&null!==e.ChannelType&&{ChannelType:e.ChannelType}),void 0!==e.Demographic&&null!==e.Demographic&&{Demographic:Us(e.Demographic)}),void 0!==e.EffectiveDate&&null!==e.EffectiveDate&&{EffectiveDate:e.EffectiveDate}),void 0!==e.EndpointStatus&&null!==e.EndpointStatus&&{EndpointStatus:e.EndpointStatus}),void 0!==e.Location&&null!==e.Location&&{Location:Fs(e.Location)}),void 0!==e.Metrics&&null!==e.Metrics&&{Metrics:Bs(e.Metrics,t)}),void 0!==e.OptOut&&null!==e.OptOut&&{OptOut:e.OptOut}),void 0!==e.RequestId&&null!==e.RequestId&&{RequestId:e.RequestId}),void 0!==e.User&&null!==e.User&&{User:zs(e.User,t)})}(e.EndpointRequest,t)),void 0===o&&(o={}),o=JSON.stringify(o),[4,t.endpoint()];case 1:return a=f.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new vs({protocol:c,hostname:s,port:l,method:"PUT",headers:n,path:r,body:o})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){switch(i.label){case 0:return 202!==e.statusCode&&e.statusCode>=300?[2,Os(e,t)]:(n={$metadata:Js(e),MessageBody:void 0},[4,Xs(e.body,t)]);case 1:return r=i.sent(),n.MessageBody=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0,RequestID:void 0!==e.RequestID&&null!==e.RequestID?e.RequestID:void 0}}(r),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(_s),uu=n(4391);function cu(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function lu(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var fu=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,du)},du=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()},hu=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var i=new Error("Request aborted");return i.name="AbortError",Promise.reject(i)}var o=e.path;if(e.query){var a=function(e){var t,n,r=[];try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var a=o.value,s=e[a];if(a=fu(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push(a+"="+fu(s[u]));else{var l=a;(s||"string"==typeof s)&&(l+="="+fu(s)),r.push(l)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.join("&")}(e.query);a&&(o+="?"+a)}var s=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(s?":"+s:"")+o,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var f,d=new Request(c,l),h=[fetch(d).then((function(e){var t,n,r=e.headers,i={};try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r.entries()),a=o.next();!a.done;a=o.next()){var s=a.value;i[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new ds({headers:i,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new ds({headers:i,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(h)},e}();function pu(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),a=o>-1?o+1:i.length;t(i.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var vu=function(){return vu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},vu.apply(this,arguments)};function yu(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function gu(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function mu(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var bu={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},wu=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Su=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Eu=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],_u=[500,502,503,504],xu=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||Su.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},Au=n(9755),Tu=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},Cu=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return wu.includes(e.name)}(e)||xu(e)||function(e){var t;return Eu.includes(e.name)||_u.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},Iu=function(){function e(e,t){var n,r,i,o,a,s,u;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:Cu,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:Tu,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:(o=500,a=500,s=function(e){return"TimeoutError"===e.name?10:5},u=function(e){return s(e)<=a},Object.freeze({hasRetryTokens:u,retrieveRetryTokens:function(e){if(!u(e))throw new Error("No retry token available");var t=s(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,o)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return yu(this,void 0,void 0,(function(){var e;return gu(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return yu(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return gu(this,(function(l){switch(l.label){case 0:return r=0,i=0,[4,this.getMaxAttempts()];case 1:o=l.sent(),a=t.request,vs.isInstance(a)&&(a.headers["amz-sdk-invocation-id"]=(0,Au.v4)()),s=function(){var s,c,l,f,d;return gu(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,5]),vs.isInstance(a)&&(a.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+o),[4,e(t)];case 1:return s=h.sent(),c=s.response,l=s.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=i,[2,{value:{response:c,output:l}}];case 2:return f=h.sent(),r++,u.shouldRetry(f,r,o)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(xu(f)?500:100,r),i+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return h.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=i,f;case 5:return[2]}}))},u=this,l.label=2;case 2:return[5,s()];case 3:return"object"==typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}();var Pu=n(8067),Ou="pinpoint.{region}.amazonaws.com",ku=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Ru=new Set(["cn-north-1","cn-northwest-1"]),Lu=new Set(["us-iso-east-1"]),Nu=new Set(["us-isob-east-1"]),Du=new Set(["us-gov-east-1","us-gov-west-1"]);function Mu(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var ju={apiVersion:"2016-12-01",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"pinpoint.ap-northeast-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-northeast-2":n={hostname:"pinpoint.ap-northeast-2.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-south-1":n={hostname:"pinpoint.ap-south-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-southeast-1":n={hostname:"pinpoint.ap-southeast-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-southeast-2":n={hostname:"pinpoint.ap-southeast-2.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ca-central-1":n={hostname:"pinpoint.ca-central-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"eu-central-1":n={hostname:"pinpoint.eu-central-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"eu-west-1":n={hostname:"pinpoint.eu-west-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"eu-west-2":n={hostname:"pinpoint.eu-west-2.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"fips-us-east-1":n={hostname:"pinpoint-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-gov-west-1":n={hostname:"pinpoint-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":n={hostname:"pinpoint-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"us-east-1":n={hostname:"pinpoint.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"us-gov-west-1":n={hostname:"pinpoint.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-west-2":n={hostname:"pinpoint.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;default:ku.has(e)&&(n={hostname:Ou.replace("{region}",e),partition:"aws",signingService:"mobiletargeting"}),Ru.has(e)&&(n={hostname:"pinpoint.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),Lu.has(e)&&(n={hostname:"pinpoint.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),Nu.has(e)&&(n={hostname:"pinpoint.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Du.has(e)&&(n={hostname:"pinpoint.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov",signingService:"mobiletargeting"}),void 0===n&&(n={hostname:Ou.replace("{region}",e),partition:"aws",signingService:"mobiletargeting"})}return Promise.resolve(It({signingService:"mobiletargeting"},n))},serviceId:"Pinpoint",urlParser:function(e){var t,n=new URL(e),r=n.hostname,i=n.pathname,o=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.split("&")),o=i.next();!o.done;o=i.next()){var a=Mu(o.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:o?parseInt(o):void 0,protocol:a,path:i,query:t}}},Uu=It(It({},ju),{runtime:"browser",base64Decoder:er,base64Encoder:tr,bodyLengthChecker:function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0},credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:function(e){var t=e.serviceId,n=e.clientVersion;return function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e,r,i,o,a,s,u,c,l;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(f){return e=(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?mr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(o=null==e?void 0:e.os)||void 0===o?void 0:o.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser",(null!==(u=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown")+"_"+(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}}({serviceId:ju.serviceId,clientVersion:"3.6.1"}),maxAttempts:3,region:function(){return Promise.reject("Region is missing")},requestHandler:new hu,sha256:uu.Sha256,streamCollector:function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return cu(this,void 0,void 0,(function(){var t,n;return lu(this,(function(r){switch(r.label){case 0:return[4,pu(e)];case 1:return t=r.sent(),n=er(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return cu(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return lu(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=u.sent(),o=i.done,(a=i.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=o,[3,1];case 3:return[2,t]}}))}))}(e)},utf8Decoder:Pu.fromUtf8,utf8Encoder:Pu.toUtf8}),Fu=function(){return Fu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Fu.apply(this,arguments)};var zu=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var i=Promise.resolve(t);return function(){return i}}return t},Bu=function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t,n,r,i,o;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(a){switch(a.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=a.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(i=(null!==(o=a.sent())&&void 0!==o?o:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+i)]}}))}))},qu=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Ku=function(){return Ku=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ku.apply(this,arguments)};var Hu="content-length",Gu={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Vu=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t,i,o,a,s;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(u){return t=r.request,vs.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map((function(e){return e.toLowerCase()})).indexOf(Hu)&&void 0!==(a=e(i))&&(t.headers=Ku(Ku({},t.headers),((s={})[Hu]=String(a),s)))),[2,n(Ku(Ku({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),Gu)}}};var $u={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Wu=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,i;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(o){return vs.isInstance(n.request)?(r=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),$u)}}};var Yu=function(){return function(e,t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(d){switch(d.label){case 0:return r=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(c,["$metadata"]),a.info({clientName:r,commandName:i,input:o(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}},Zu={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Ju=function(){return Ju=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ju.apply(this,arguments)};function Xu(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Qu(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var ec=function(){return ec=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ec.apply(this,arguments)};function tc(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function nc(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function rc(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ic(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}for(var oc={},ac={},sc=0;sc<256;sc++){var uc=sc.toString(16).toLowerCase();1===uc.length&&(uc="0"+uc),oc[sc]=uc,ac[uc]=sc}function cc(e){for(var t="",n=0;n<e.byteLength;n++)t+=oc[e[n]];return t}var lc="X-Amz-Date",fc="X-Amz-Signature",dc="X-Amz-Security-Token",hc="authorization",pc=lc.toLowerCase(),vc=[hc,pc,"date"],yc=fc.toLowerCase(),gc="x-amz-content-sha256",mc=dc.toLowerCase(),bc={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},wc=/^proxy-/,Sc=/^sec-/,Ec="AWS4-HMAC-SHA256",_c="AWS4-HMAC-SHA256-PAYLOAD",xc="aws4_request",Ac={},Tc=[];function Cc(e,t,n){return e+"/"+t+"/"+n+"/"+xc}function Ic(e,t,n){var r=new e(t);return r.update(n),r.digest()}function Pc(e,t,n){var r,i,o=e.headers,a={};try{for(var s=rc(Object.keys(o).sort()),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.toLowerCase();(l in bc||(null==t?void 0:t.has(l))||wc.test(l)||Sc.test(l))&&(!n||n&&!n.has(l))||(a[l]=o[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a}function Oc(e,t){var n=e.headers,r=e.body;return tc(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return nc(this,(function(l){switch(l.label){case 0:try{for(e=rc(Object.keys(n)),i=e.next();!i.done;i=e.next())if((o=i.value).toLowerCase()===gc)return[2,n[o]]}catch(e){u={error:e}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=cc,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function kc(e){var t=e.headers,n=e.query,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["headers","query"]);return ec(ec({},r),{headers:ec({},t),query:n?Rc(n):void 0})}function Rc(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return ec(ec({},t),((r={})[n]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ic(arguments[t]));return e}(i):i,r))}),{})}function Lc(e){var t,n;e="function"==typeof e.clone?e.clone():kc(e);try{for(var r=rc(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;vc.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}var Nc=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=jc(r),this.credentialProvider=Uc(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),tc(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A;return nc(this,(function(T){switch(T.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=T.sent(),null==c?[3,2]:(h=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=T.sent(),T.label=4;case 4:return d=h,p=Dc(r),v=p.longDate,y=p.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(g=Cc(y,d,null!=l?l:this.service),m=function(e,t){var n,r,i;void 0===t&&(t={});var o="function"==typeof e.clone?e.clone():kc(e),a=o.headers,s=o.query,u=void 0===s?{}:s;try{for(var c=rc(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return ec(ec({},e),{headers:a,query:u})}(Lc(e),{unhoistableHeaders:s}),f.sessionToken&&(m.query[dc]=f.sessionToken),m.query["X-Amz-Algorithm"]=Ec,m.query["X-Amz-Credential"]=f.accessKeyId+"/"+g,m.query[lc]=v,m.query["X-Amz-Expires"]=o.toString(10),b=Pc(m,a,u),m.query["X-Amz-SignedHeaders"]=Mc(b),w=m.query,S=fc,E=this.getSignature,_=[v,g,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,A=[m,b],[4,Oc(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,A.concat([T.sent()]))]))];case 6:return w[S]=T.sent(),[2,m]}}))}))},e.prototype.sign=function(e,t){return tc(this,void 0,void 0,(function(){return nc(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return tc(this,void 0,void 0,(function(){var e,t,i,c,l,f,d,h,p,v,y;return nc(this,(function(g){switch(g.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=g.sent(),g.label=3;case 3:return e=t,i=Dc(o),c=i.shortDate,l=i.longDate,f=Cc(c,e,null!=u?u:this.service),[4,Oc({headers:{},body:r},this.sha256)];case 4:return d=g.sent(),(h=new this.sha256).update(n),v=cc,[4,h.digest()];case 5:return p=v.apply(void 0,[g.sent()]),y=[_c,l,f,a,p,d].join("\n"),[2,this.signString(y,{signingDate:o,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,a=n.signingService;return tc(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return nc(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=Dc(i).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=cc,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return tc(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,h,p,v,y;return nc(this,(function(g){switch(g.label){case 0:return[4,this.credentialProvider()];case 1:return t=g.sent(),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=g.sent(),g.label=4;case 4:return n=r,c=Lc(e),l=Dc(i),f=l.longDate,d=l.shortDate,h=Cc(d,n,null!=u?u:this.service),c.headers[pc]=f,t.sessionToken&&(c.headers[mc]=t.sessionToken),[4,Oc(c,this.sha256)];case 5:return p=g.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=rc(Object.keys(t)),o=i.next();!o.done;o=i.next())if(e===o.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(gc,c.headers)&&this.applyChecksum&&(c.headers[gc]=p),v=Pc(c,a,o),[4,this.getSignature(f,h,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,p))];case 6:return y=g.sent(),c.headers[hc]=Ec+" Credential="+t.accessKeyId+"/"+h+", SignedHeaders="+Mc(v)+", Signature="+y,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],a={},s=function(e){if(e.toLowerCase()===yc)return"continue";o.push(e);var t=i[e];"string"==typeof t?a[e]=fu(e)+"="+fu(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([fu(e)+"="+fu(n)])}),[]).join("&"))};try{for(var u=rc(Object.keys(i).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return tc(this,void 0,void 0,(function(){var r,i;return nc(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,Ec+"\n"+e+"\n"+t+"\n"+cc(i)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return tc(this,void 0,void 0,(function(){var i,o,a,s,u;return nc(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(o=new(s.apply(a,[void 0,c.sent()]))).update(i),u=cc,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){return tc(void 0,void 0,void 0,(function(){var o,a,s,u,c,l,f,d,h;return nc(this,(function(p){switch(p.label){case 0:return[4,Ic(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=p.sent(),(a=n+":"+r+":"+i+":"+cc(o)+":"+t.sessionToken)in Ac)return[2,Ac[a]];for(Tc.push(a);Tc.length>50;)delete Ac[Tc.shift()];s="AWS4"+t.secretAccessKey,p.label=2;case 2:p.trys.push([2,7,8,9]),u=rc([n,r,i,xc]),c=u.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,Ic(e,s,l)]);case 4:s=p.sent(),p.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=p.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,Ac[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),Dc=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},Mc=function(e){return Object.keys(e).sort().join(";")},jc=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Uc=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function Fc(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}function zc(e){return function(t,n){return function(r){return Xu(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d;return Qu(this,(function(h){switch(h.label){case 0:return vs.isInstance(r.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(r)];case 1:return o=h.sent(),[3,3];case 2:o=e.signer,h.label=3;case 3:return i=o,s=t,u=[Ju({},r)],d={},[4,i.sign(r.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,s.apply(void 0,[Ju.apply(void 0,u.concat([(d.request=h.sent(),d)]))])];case 5:return a=h.sent(),c=a.response.headers,(l=c&&(c.date||c.Date))&&(p=f=Date.parse(l),v=e.systemClockOffset,Math.abs(function(e){return new Date(Date.now()+e)}(v).getTime()-p)>=3e5&&(e.systemClockOffset=f-Date.now())),[2,a]}var p,v}))}))}}}var Bc={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},qc=function(){return qc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qc.apply(this,arguments)};function Kc(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Hc(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Kc(arguments[t]));return e}var Gc="user-agent",Vc=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,$c=function(e){var t=Kc(e,2),n=t[0],r=t[1],i=n.indexOf("/"),o=n.substring(0,i),a=n.substring(i+1);return"api"===o&&(a=a.toLowerCase()),[o,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(Vc,"_")})).join("/")},Wc={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Yc=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var i,o,a,s,u,c,l,f;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(d){switch(d.label){case 0:return i=r.request,vs.isInstance(i)?(o=i.headers,a=(null===(l=null==t?void 0:t.userAgent)||void 0===l?void 0:l.map($c))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=d.sent().map($c),u=(null===(f=null==n?void 0:n.customUserAgent)||void 0===f?void 0:f.map($c))||[],o["x-amz-user-agent"]=Hc(s,a,u).join(" "),c=Hc(s.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&c&&(o[Gc]=o[Gc]?o[Gc]+" "+c:c),[2,e(qc(qc({},r),{request:i}))]}}))}))}}),Wc)}}},Zc=function(e){function t(t){var n,r,i,o=this,a=function(e){if(!e.region)throw new Error("Region is missing");return Fu(Fu({},e),{region:qu(e.region)})}(It(It({},Uu),t)),s=function(e){var t;return Fu(Fu({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?zu(e):function(){return Bu(e)},isCustomEndpoint:!!e.endpoint})}(a),u=function(e){var t,n=this,r=Fc(e.credentials||e.credentialDefaultProvider(e)),i=e.signingEscapePath,o=void 0===i||i,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?Fc(e.signer):function(){return Fc(e.region)().then((function(t){return Xu(n,void 0,void 0,(function(){return Qu(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t,2),i=n[0],a=n[1],s=i.signingRegion,c=i.signingService;return e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId,new Nc({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o})}))},Ju(Ju({},e),{systemClockOffset:s,signingEscapePath:o,credentials:r,signer:t})}(s),c=function(e){return qc(qc({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}((r=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}((n=u).maxAttempts),vu(vu({},n),{maxAttempts:r,retryStrategy:n.retryStrategy||new Iu(r)})));return(o=e.call(this,c)||this).config=c,o.middlewareStack.use((i=o.config,{applyToStack:function(e){e.addRelativeTo(zc(i),Bc)}})),o.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return yu(void 0,void 0,void 0,(function(){var i;return gu(this,(function(o){return(null===(i=null==e?void 0:e.retryStrategy)||void 0===i?void 0:i.mode)&&(n.userAgent=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(mu(arguments[t]));return e}(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),bu)}}}(o.config)),o.middlewareStack.use(Vu(o.config)),o.middlewareStack.use(Wu(o.config)),o.middlewareStack.use((o.config,{applyToStack:function(e){e.add(Yu(),Zu)}})),o.middlewareStack.use(Yc(o.config)),o}return xe(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Es),Jc=function(e,t){return Jc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Jc(e,t)},Xc={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:(new ie).getStorage()};function Qc(e){var t=0;t=e.length;for(var n=e.length;n>=0;n-=1){var r=e.charCodeAt(n);r>127&&r<=2047?t+=1:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&(n-=1)}return t}function el(){return(new Date).getTime()}function tl(e){return Number.isInteger?Number.isInteger(e):function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}var nl={},rl=(function(){function e(){}e.clear=function(){nl={}},e.getItem=function(e){return nl[e]||null},e.setItem=function(e,t){nl[e]=t},e.removeItem=function(e){delete nl[e]}}(),new c("StorageCache")),il=function(){function e(e){this.config=Object.assign({},e),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){tl(this.config.capacityInBytes)||(rl.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=Xc.capacityInBytes),tl(this.config.itemMaxSize)||(rl.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=Xc.itemMaxSize),tl(this.config.defaultTTL)||(rl.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=Xc.defaultTTL),tl(this.config.defaultPriority)||(rl.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=Xc.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(rl.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=Xc.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(rl.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=Xc.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(rl.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=Xc.warningThreshold),this.config.capacityInBytes>5242880&&(rl.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=Xc.capacityInBytes)},e.prototype.fillCacheItem=function(e,t,n){var r={key:e,data:t,timestamp:el(),visitedTime:el(),priority:n.priority,expires:n.expires,type:typeof t,byteSize:0};return r.byteSize=Qc(JSON.stringify(r)),r.byteSize=Qc(JSON.stringify(r)),r},e.prototype.configure=function(e){return e?(e.keyPrefix&&rl.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,e,e.Cache),this.checkConfig(),this.config):this.config},e}(),ol=new c("Cache"),al=function(e){function t(t){var n=this,r=t?Object.assign({},Xc,t):Xc;return(n=e.call(this,r)||this).config.storage=r.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return function(e,t){function n(){this.constructor=e}Jc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._decreaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t-e).toString())},t.prototype._increaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t+e).toString())},t.prototype._refreshItem=function(e,t){return e.visitedTime=el(),this.config.storage.setItem(t,JSON.stringify(e)),e},t.prototype._isExpired=function(e){var t=this.config.storage.getItem(e),n=JSON.parse(t);return el()>=n.expires},t.prototype._removeItem=function(e,t){var n=t||JSON.parse(this.config.storage.getItem(e)).byteSize;this._decreaseCurSizeInBytes(n),this.config.storage.removeItem(e)},t.prototype._setItem=function(e,t){this._increaseCurSizeInBytes(t.byteSize);try{this.config.storage.setItem(e,JSON.stringify(t))}catch(e){this._decreaseCurSizeInBytes(t.byteSize),ol.error("Failed to set item "+e)}},t.prototype._sizeToPop=function(e){var t=this.getCacheCurSize()+e-this.config.capacityInBytes,n=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>n?t:n},t.prototype._isCacheFull=function(e){return e+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var e=[],t=[],n=0;n<this.config.storage.length;n+=1)t.push(this.config.storage.key(n));for(n=0;n<t.length;n+=1){var r=t[n];0===r.indexOf(this.config.keyPrefix)&&r!==this.cacheCurSizeKey&&(this._isExpired(r)?this._removeItem(r):e.push(r))}return e},t.prototype._popOutItems=function(e,t){for(var n=[],r=t,i=0;i<e.length;i+=1){var o=this.config.storage.getItem(e[i]);if(null!=o){var a=JSON.parse(o);n.push(a)}}for(n.sort((function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.visitedTime<t.visitedTime?-1:1})),i=0;i<n.length;i+=1)if(this._removeItem(n[i].key,n[i].byteSize),(r-=n[i].byteSize)<=0)return},t.prototype.setItem=function(e,t,n){ol.log("Set item: key is "+e+", value is "+t+" with options: "+n);var r=this.config.keyPrefix+e;if(r!==this.config.keyPrefix&&r!==this.cacheCurSizeKey)if(void 0!==t){var i={priority:n&&void 0!==n.priority?n.priority:this.config.defaultPriority,expires:n&&void 0!==n.expires?n.expires:this.config.defaultTTL+el()};if(i.priority<1||i.priority>5)ol.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");else{var o=this.fillCacheItem(r,t,i);if(o.byteSize>this.config.itemMaxSize)ol.warn("Item with key: "+e+" you are trying to put into is too big!");else try{var a=this.config.storage.getItem(r);if(a&&this._removeItem(r,JSON.parse(a).byteSize),this._isCacheFull(o.byteSize)){var s=this._findValidKeys();if(this._isCacheFull(o.byteSize)){var u=this._sizeToPop(o.byteSize);this._popOutItems(s,u)}}this._setItem(r,o)}catch(e){ol.warn("setItem failed! "+e)}}}else ol.warn("The value of item should not be undefined!");else ol.warn("Invalid key: should not be empty or 'CurSize'")},t.prototype.getItem=function(e,t){ol.log("Get item: key is "+e+" with options "+t);var n=null,r=this.config.keyPrefix+e;if(r===this.config.keyPrefix||r===this.cacheCurSizeKey)return ol.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(null!=(n=this.config.storage.getItem(r))){if(!this._isExpired(r)){var i=JSON.parse(n);return(i=this._refreshItem(i,r)).data}this._removeItem(r,JSON.parse(n).byteSize),n=null}if(t&&void 0!==t.callback){var o=t.callback();return null!==o&&this.setItem(e,o,t),o}return null}catch(e){return ol.warn("getItem failed! "+e),null}},t.prototype.removeItem=function(e){ol.log("Remove item: key is "+e);var t=this.config.keyPrefix+e;if(t!==this.config.keyPrefix&&t!==this.cacheCurSizeKey)try{var n=this.config.storage.getItem(t);n&&this._removeItem(t,JSON.parse(n).byteSize)}catch(e){ol.warn("removeItem failed! "+e)}},t.prototype.clear=function(){ol.log("Clear Cache");for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&e.push(n)}try{for(t=0;t<e.length;t+=1)this.config.storage.removeItem(e[t])}catch(e){ol.warn("clear failed! "+e)}},t.prototype.getAllKeys=function(){for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&n!==this.cacheCurSizeKey&&e.push(n.substring(this.config.keyPrefix.length))}return e},t.prototype.getCacheCurSize=function(){var e=this.config.storage.getItem(this.cacheCurSizeKey);return e||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),e="0"),Number(e)},t.prototype.createInstance=function(e){return e.keyPrefix&&e.keyPrefix!==Xc.keyPrefix||(ol.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=el.toString()),new t(e)},t}(il),sl=new al;d.register(sl);var ul=n(5885),cl=new c("EventsBuffer"),ll=[429,500],fl=[202],dl=function(){function e(e,t){this._pause=!1,this._flush=!1,cl.debug("Instantiating buffer with config:",t),this._buffer=[],this._client=e,this._config=t,this._sendBatch=this._sendBatch.bind(this),this._startLoop()}return e.prototype.push=function(e){var t;if(this._buffer.length>=this._config.bufferSize)return cl.debug("Exceeded analytics events buffer size"),e.handlers.reject(new Error("Exceeded the size of analytics events buffer"));var n=((t={})[e.params.event.eventId]=e,t);this._buffer.push(n)},e.prototype.pause=function(){this._pause=!0},e.prototype.resume=function(){this._pause=!1},e.prototype.updateClient=function(e){this._client=e},e.prototype.flush=function(){this._flush=!0},e.prototype._startLoop=function(){this._interval&&clearInterval(this._interval);var e=this._config.flushInterval;this._interval=setInterval(this._sendBatch,e)},e.prototype._sendBatch=function(){var e=this._buffer.length;if(this._flush&&!e&&clearInterval(this._interval),!this._pause&&e){var t=this._config.flushSize,n=Math.min(t,e),r=this._buffer.splice(0,n);this._putEvents(r)}},e.prototype._putEvents=function(e){return y(this,void 0,void 0,(function(){var t,n,r,i,o;return g(this,(function(a){switch(a.label){case 0:t=this._bufferToMap(e),n=this._generateBatchEventParams(t),a.label=1;case 1:return a.trys.push([1,3,,4]),r=new au(n),[4,this._client.send(r)];case 2:return i=a.sent(),this._processPutEventsSuccessResponse(i,t),[3,4];case 3:return o=a.sent(),[2,this._handlePutEventsFailure(o,t)];case 4:return[2]}}))}))},e.prototype._generateBatchEventParams=function(e){var t={ApplicationId:"",EventsRequest:{BatchItem:{}}};return Object.values(e).forEach((function(e){var n=e.params,r=n.event,i=n.timestamp,o=n.config,a=r.name,s=r.attributes,u=r.metrics,c=r.eventId,l=r.session,f=o.appId,d=o.endpointId,h=t.EventsRequest.BatchItem;t.ApplicationId=t.ApplicationId||f,h[d]||(h[d]={Endpoint:{},Events:{}}),h[d].Events[c]={EventType:a,Timestamp:new Date(i).toISOString(),Attributes:s,Metrics:u,Session:l}})),t},e.prototype._handlePutEventsFailure=function(e,t){cl.debug("_putEvents Failed: ",e);var n=e.$metadata&&e.$metadata.httpStatusCode;if(ll.includes(n)){var r=Object.values(t);this._retry(r)}},e.prototype._processPutEventsSuccessResponse=function(e,t){var n=e.EventsResponse.Results,r=[];Object.entries(n).forEach((function(e){var n=m(e,2),i=n[0],o=n[1].EventsItemResponse;Object.entries(o).forEach((function(e){var n,o,a=m(e,2),s=a[0],u=a[1],c=u.StatusCode,l=u.Message,f=t[s],d={EventsResponse:{Results:(n={},n[i]={EventsItemResponse:(o={},o[s]={StatusCode:c,Message:l},o)},n)}};if(fl.includes(c))f.handlers.resolve(d);else{if(!ll.includes(c)){var h=f.params.event.name;return cl.error("event "+s+" : "+h+" failed with error: "+l),f.handlers.reject(d)}r.push(f)}}))})),r.length&&this._retry(r)},e.prototype._retry=function(e){var t,n=[];e.forEach((function(e){var t,r=e.params,i=r.event,o=i.eventId,a=i.name;if(r.resendLimit-- >0)return cl.debug("resending event "+o+" : "+a+" with "+r.resendLimit+" retry attempts remaining"),void n.push((t={},t[o]=e,t));cl.debug("no retry attempts remaining for event "+o+" : "+a)})),(t=this._buffer).unshift.apply(t,b(n))},e.prototype._bufferToMap=function(e){return e.reduce((function(e,t){var n=m(Object.entries(t),1),r=m(n[0],2),i=r[0],o=r[1];return e[i]=o,e}),{})},e}();const hl=dl;var pl="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",vl=function(e,t){_.dispatch("analytics",{event:e,data:t},"Analytics",pl)},yl=new c("AWSPinpointProvider"),gl=[429,500],ml=[202],bl="_update_endpoint",wl="_session.stop",Sl="undefined"!=typeof navigator&&navigator&&"function"==typeof navigator.sendBeacon,El=function(){function e(e){this._endpointGenerating=!0,this._endpointUpdateInProgress=!1,this._buffer=null,this._endpointBuffer=[],this._config=e||{},this._config.bufferSize=this._config.bufferSize||1e3,this._config.flushSize=this._config.flushSize||100,this._config.flushInterval=this._config.flushInterval||5e3,this._config.resendLimit=this._config.resendLimit||5,this._clientInfo=C.clientInfo()}return e.prototype.getCategory=function(){return e.category},e.prototype.getProviderName=function(){return e.providerName},e.prototype.configure=function(e){var t=this;yl.debug("configure Analytics",e);var n=e||{};if(this._config=Object.assign({},this._config,n),this._endpointGenerating=!!e.autoSessionRecord,this._config.appId&&!this._config.disabled)if(this._config.endpointId)vl("pinpointProvider_configured",null);else{var r=this.getProviderName()+"_"+this._config.appId;this._getEndpointId(r).then((function(e){yl.debug("setting endpoint id from the cache",e),t._config.endpointId=e,vl("pinpointProvider_configured",null)})).catch((function(e){yl.debug("Failed to generate endpointId",e)}))}else this._flushBuffer();return this._config},e.prototype.record=function(e,t){return y(this,void 0,void 0,(function(){var n,r;return g(this,(function(i){switch(i.label){case 0:return yl.debug("_public record",e),[4,this._getCredentials()];case 1:return(n=i.sent())&&this._config.appId&&this._config.region?(this._initClients(n),r=(new Date).getTime(),this._generateSession(e),e.event.eventId=(0,ul.v1)(),Object.assign(e,{timestamp:r,config:this._config}),e.event.immediate?[2,this._send(e,t)]:(this._putToBuffer(e,t),[2])):(yl.debug("cannot send events without credentials, applicationId or region"),[2,t.reject(new Error("No credentials, applicationId or region"))])}}))}))},e.prototype._sendEndpointUpdate=function(e){return y(this,void 0,void 0,(function(){var t;return g(this,(function(n){switch(n.label){case 0:return this._endpointUpdateInProgress?(this._endpointBuffer.push(e),[2]):(this._endpointUpdateInProgress=!0,[4,this._updateEndpoint(e)]);case 1:return n.sent(),t=this._endpointBuffer.shift(),this._endpointUpdateInProgress=!1,t&&this._sendEndpointUpdate(t),[2]}}))}))},e.prototype._putToBuffer=function(e,t){e.event.name!==bl?this._buffer&&this._buffer.push({params:e,handlers:t}):this._sendEndpointUpdate({params:e,handlers:t})},e.prototype._generateSession=function(e){this._sessionId=this._sessionId||(0,ul.v1)();var t=e.event;switch(t.name){case"_session.start":this._sessionStartTimestamp=(new Date).getTime(),this._sessionId=(0,ul.v1)(),t.session={Id:this._sessionId,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString()};break;case wl:var n=(new Date).getTime();this._sessionStartTimestamp=this._sessionStartTimestamp||(new Date).getTime(),this._sessionId=this._sessionId||(0,ul.v1)(),t.session={Id:this._sessionId,Duration:n-this._sessionStartTimestamp,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString(),StopTimestamp:new Date(n).toISOString()},this._sessionId=void 0,this._sessionStartTimestamp=void 0;break;default:this._sessionStartTimestamp=this._sessionStartTimestamp||(new Date).getTime(),this._sessionId=this._sessionId||(0,ul.v1)(),t.session={Id:this._sessionId,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString()}}},e.prototype._send=function(e,t){return y(this,void 0,void 0,(function(){return g(this,(function(n){switch(e.event.name){case bl:return[2,this._updateEndpoint({params:e,handlers:t})];case wl:return[2,this._pinpointSendStopSession(e,t)];default:return[2,this._pinpointPutEvents(e,t)]}return[2]}))}))},e.prototype._generateBatchItemContext=function(e){var t,n=e.event,r=e.timestamp,i=e.config,o=n.name,a=n.attributes,s=n.metrics,u=n.eventId,c=n.session,l=i.appId,f=i.endpointId,d={ApplicationId:l,EventsRequest:{BatchItem:{}}},h={Endpoint:{}};return h.Events=((t={})[u]={EventType:o,Timestamp:new Date(r).toISOString(),Attributes:a,Metrics:s,Session:c},t),d.EventsRequest.BatchItem[f]=h,d},e.prototype._pinpointPutEvents=function(e,t){return y(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d;return g(this,(function(h){switch(h.label){case 0:n=e.event.eventId,r=e.config.endpointId,i=this._generateBatchItemContext(e),o=new au(i),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.pinpointClient.send(o)];case 2:return a=h.sent(),s=r,u=n,c=a.EventsResponse.Results[s].EventsItemResponse[u],l=c.StatusCode,f=c.Message,ml.includes(l)?(yl.debug("record event success. ",a),[2,t.resolve(a)]):gl.includes(l)?(this._retry(e,t),[3,4]):(yl.error("Event "+n+" is not accepted, the error is "+f),[2,t.reject(a)]);case 3:return d=h.sent(),this._eventError(d),[2,t.reject(d)];case 4:return[2]}}))}))},e.prototype._pinpointSendStopSession=function(e,t){if(Sl){var n=this._generateBatchItemContext(e),r=this._config.region,i=n.ApplicationId,o=n.EventsRequest,a={secret_key:this._config.credentials.secretAccessKey,access_key:this._config.credentials.accessKeyId,session_token:this._config.credentials.sessionToken},s="https://pinpoint."+r+".amazonaws.com/v1/apps/"+i+"/events/legacy",u=JSON.stringify(o),c={url:s,body:u,method:"POST"},l={region:r,service:"mobiletargeting"},f=$.signUrl(c,a,l,null);return navigator.sendBeacon(f,u)?t.resolve("sendBeacon success"):t.reject("sendBeacon failure")}this._pinpointPutEvents(e,t)},e.prototype._retry=function(e,t){var n=e.config.resendLimit;e.resendLimit="number"==typeof e.resendLimit?e.resendLimit:n,e.resendLimit-- >0?(yl.debug("resending event "+e.eventName+" with "+e.resendLimit+" retry times left"),this._pinpointPutEvents(e,t)):yl.debug("retry times used up for event "+e.eventName)},e.prototype._updateEndpoint=function(e){return y(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,d;return g(this,(function(h){switch(h.label){case 0:t=e.params,n=e.handlers,r=t.config,i=t.event,o=r.appId,a=r.endpointId,s=this._endpointRequest(r,Z(i,[],["attributes","userAttributes","Attributes","UserAttributes"])),u={ApplicationId:o,EndpointId:a,EndpointRequest:s},h.label=1;case 1:return h.trys.push([1,3,,4]),c=new su(u),[4,this.pinpointClient.send(c)];case 2:return l=h.sent(),yl.debug("updateEndpoint success",l),this._endpointGenerating=!1,this._resumeBuffer(),n.resolve(l),[2];case 3:return f=h.sent(),d={err:f,update_params:u,endpointObject:e},[2,this._handleEndpointUpdateFailure(d)];case 4:return[2]}}))}))},e.prototype._handleEndpointUpdateFailure=function(e){return y(this,void 0,void 0,(function(){var t,n,r;return g(this,(function(i){return t=e.err,n=e.endpointObject,r=t.$metadata&&t.$metadata.httpStatusCode,yl.debug("updateEndpoint error",t),403===r?[2,this._handleEndpointUpdateForbidden(e)]:gl.includes(r)?[2,this._retryEndpointUpdate(n,!0)]:(yl.error("updateEndpoint failed",t),n.handlers.reject(t),[2])}))}))},e.prototype._handleEndpointUpdateForbidden=function(e){var t=e.err,n=e.endpointObject,r=t.code,i=t.retryable;if("ExpiredTokenException"!==r&&!i)return n.handlers.reject(t);this._retryEndpointUpdate(n)},e.prototype._retryEndpointUpdate=function(e,t){void 0===t&&(t=!1),yl.debug("_retryEndpointUpdate",e);var n=e.params,r=n.config.resendLimit;if(n.resendLimit="number"==typeof n.resendLimit?n.resendLimit:r,n.resendLimit-- >0)return yl.debug("resending endpoint update "+n.event.eventId+" with "+n.resendLimit+" retry attempts remaining"),void(this._endpointBuffer.length?this._endpointBuffer.unshift(e):this._updateEndpoint(e));yl.warn("resending endpoint update "+n.event.eventId+" failed after "+n.config.resendLimit+" attempts"),this._endpointGenerating&&yl.error("Initial endpoint update failed. ")},e.prototype._initClients=function(e){return y(this,void 0,void 0,(function(){var t,n;return g(this,(function(r){return yl.debug("init clients"),this.pinpointClient&&this._config.credentials&&this._config.credentials.sessionToken===e.sessionToken&&this._config.credentials.identityId===e.identityId?(yl.debug("no change for aws credentials, directly return from init"),[2]):(t=this._config.credentials?this._config.credentials.identityId:null,this._config.credentials=e,n=this._config.region,yl.debug("init clients with credentials",e),this.pinpointClient=new Zc({region:n,credentials:e,customUserAgent:te()}),this.pinpointClient.middlewareStack.addRelativeTo((function(e){return function(t){return delete t.request.headers["amz-sdk-invocation-id"],delete t.request.headers["amz-sdk-request"],e(t)}}),{step:"finalizeRequest",relation:"after",toMiddleware:"retryMiddleware"}),this._bufferExists()&&t===e.identityId?this._updateBufferClient():this._initBuffer(),this._customizePinpointClientReq(),[2])}))}))},e.prototype._bufferExists=function(){return this._buffer&&this._buffer instanceof hl},e.prototype._initBuffer=function(){this._bufferExists()&&this._flushBuffer(),this._buffer=new hl(this.pinpointClient,this._config),this._endpointGenerating&&this._buffer.pause()},e.prototype._updateBufferClient=function(){this._bufferExists()&&this._buffer.updateClient(this.pinpointClient)},e.prototype._flushBuffer=function(){this._bufferExists()&&(this._buffer.flush(),this._buffer=null)},e.prototype._resumeBuffer=function(){this._bufferExists()&&this._buffer.resume()},e.prototype._customizePinpointClientReq=function(){},e.prototype._getEndpointId=function(e){return y(this,void 0,void 0,(function(){var t,n;return g(this,(function(r){switch(r.label){case 0:return[4,sl.getItem(e)];case 1:return t=r.sent(),yl.debug("endpointId from cache",t,"type",typeof t),t||(t=(0,ul.v1)(),n=(new Date).getTime()+31536e8,sl.setItem(e,t,{expires:n,priority:1})),[2,t]}}))}))},e.prototype._endpointRequest=function(e,t){var n=e.credentials,r=this._clientInfo||{},i=e.clientContext||{},o=e.endpoint||{},a={appVersion:r.appVersion,make:r.make,model:r.model,modelVersion:r.version,platform:r.platform},s=(i.clientId,i.appTitle,i.appVersionName,i.appVersionCode,i.appPackageName,v(i,["clientId","appTitle","appVersionName","appVersionCode","appPackageName"])),u=t.address?"android"===r.platform?"GCM":"APNS":void 0,c=p(p(p({channelType:u,requestId:(0,ul.v1)(),effectiveDate:(new Date).toISOString()},o),t),{attributes:p(p({},o.attributes),t.attributes),demographic:p(p(p(p({},a),s),o.demographic),t.demographic),location:p(p({},o.location),t.location),metrics:p(p({},o.metrics),t.metrics),user:{userId:t.userId||o.userId||n.identityId,userAttributes:p(p({},o.userAttributes),t.userAttributes)}}),l=(c.userId,c.userAttributes,c.name,c.session,c.eventId,c.immediate,v(c,["userId","userAttributes","name","session","eventId","immediate"]));return J(l,[],["metrics","userAttributes","attributes"])},e.prototype._eventError=function(e){yl.error("record event failed.",e),yl.warn('Please ensure you have updated your Pinpoint IAM Policy with the Action: "mobiletargeting:PutEvents" in order to record events')},e.prototype._getCredentials=function(){return y(this,void 0,void 0,(function(){var e,t;return g(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,fs.get()];case 1:return(e=n.sent())?(yl.debug("set credentials for analytics",e),[2,fs.shear(e)]):[2,null];case 2:return t=n.sent(),yl.debug("ensure credentials error",t),[2,null];case 3:return[2]}}))}))},e.category="Analytics",e.providerName="AWSPinpoint",e}(),_l=[],xl=function(){function e(e,t){this.context=e,this.methodName=t,this._originalMethod=e[t].bind(e)}return e.add=function(e,t,n){Al(e,t).set(n)},e.remove=function(e,t){Al(e,t).remove()},e.prototype.set=function(e){var t=this;this.context[this.methodName]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t._originalMethod.apply(t,b(n)))}},e.prototype.remove=function(){this.context[this.methodName]=this._originalMethod},e}();function Al(e,t){var n=_l.filter((function(n){return n.context===e&&n.methodName===t}))[0];return n||(n=new xl(e,t),_l.push(n)),n}var Tl=new c("PageViewTracker"),Cl="aws-amplify-analytics-prevUrl",Il={enable:!1,provider:"AWSPinpoint",getUrl:function(){return Y().isBrowser?window.location.origin+window.location.pathname:""}},Pl=function(){function e(e,t){Tl.debug("initialize pageview tracker with opts",t),this._config=Object.assign({},Il,t),this._tracker=e,this._hasEnabled=!1,this._trackFunc=this._trackFunc.bind(this),"SPA"===this._config.type?this._pageViewTrackSPA():this._pageViewTrackDefault()}return e.prototype.configure=function(e){return Object.assign(this._config,e),"SPA"===this._config.type&&this._pageViewTrackSPA(),this._config},e.prototype._isSameUrl=function(){return sessionStorage.getItem(Cl)===this._config.getUrl()&&(Tl.debug("the url is same"),!0)},e.prototype._pageViewTrackDefault=function(){return y(this,void 0,void 0,(function(){var e,t,n,r;return g(this,(function(i){switch(i.label){case 0:return Y().isBrowser&&window.addEventListener&&window.sessionStorage?(e=this._config.getUrl(),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]):(Tl.debug("not in the supported web enviroment"),[2]);case 1:return n=i.sent(),[3,3];case 2:n=this._config.attributes,i.label=3;case 3:return t=n,r=Object.assign({url:e},t),this._config.enable&&!this._isSameUrl()&&(this._tracker({name:this._config.eventName||"pageView",attributes:r},this._config.provider).catch((function(e){Tl.debug("Failed to record the page view event",e)})),sessionStorage.setItem(Cl,e)),[2]}}))}))},e.prototype._trackFunc=function(){return y(this,void 0,void 0,(function(){var e,t,n,r;return g(this,(function(i){switch(i.label){case 0:return Y().isBrowser&&window.addEventListener&&history.pushState&&window.sessionStorage?(e=this._config.getUrl(),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]):(Tl.debug("not in the supported web enviroment"),[2]);case 1:return n=i.sent(),[3,3];case 2:n=this._config.attributes,i.label=3;case 3:return t=n,r=Object.assign({url:e},t),this._isSameUrl()||(this._tracker({name:this._config.eventName||"pageView",attributes:r},this._config.provider).catch((function(e){Tl.debug("Failed to record the page view event",e)})),sessionStorage.setItem(Cl,e)),[2]}}))}))},e.prototype._pageViewTrackSPA=function(){Y().isBrowser&&window.addEventListener&&history.pushState?this._config.enable&&!this._hasEnabled?(xl.add(history,"pushState",this._trackFunc),xl.add(history,"replaceState",this._trackFunc),window.addEventListener("popstate",this._trackFunc),this._trackFunc(),this._hasEnabled=!0):(xl.remove(history,"pushState"),xl.remove(history,"replaceState"),window.removeEventListener("popstate",this._trackFunc),this._hasEnabled=!1):Tl.debug("not in the supported web enviroment")},e}(),Ol=Y().isBrowser&&window.Element?window.Element.prototype:null,kl=Ol?Ol.matches||Ol.matchesSelector||Ol.webkitMatchesSelector||Ol.mozMatchesSelector||Ol.msMatchesSelector||Ol.oMatchesSelector:null;function Rl(e,t){if(e&&1===e.nodeType&&t){if("string"==typeof t||1===t.nodeType)return e===t||Ll(e,t);if("length"in t)for(var n=0,r=void 0;r=t[n];n++)if(e===r||Ll(e,r))return!0}return!1}function Ll(e,t){if("string"!=typeof t)return!1;if(kl)return kl.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0,i=void 0;i=n[r];r++)if(i===e)return!0;return!1}var Nl,Dl,Ml,jl,Ul,Fl,zl,Bl,ql,Kl,Hl,Gl,Vl,$l,Wl,Yl,Zl,Jl,Xl,Ql,ef,tf,nf,rf,of,af,sf,uf,cf,lf,ff,df,hf,pf,vf,yf,gf,mf,bf,wf,Sf,Ef,_f,xf,Af,Tf,Cf,If,Pf,Of,kf,Rf,Lf,Nf,Df,Mf,jf,Uf,Ff,zf,Bf,qf,Kf,Hf,Gf,Vf,$f,Wf,Yf,Zf,Jf,Xf,Qf,ed,td,nd,rd,id,od,ad,sd,ud,cd=new c("EventTracker"),ld={enable:!1,events:["click"],selectorPrefix:"data-amplify-analytics-",provider:"AWSPinpoint"},fd=function(){function e(e,t){Y().isBrowser&&window.addEventListener?(this._config=Object.assign({},ld,t),this._tracker=e,this._delegates={},this._trackFunc=this._trackFunc.bind(this),cd.debug("initialize pageview tracker with opts",this._config),this.configure(this._config)):cd.debug("not in the supported web environment")}return e.prototype.configure=function(e){var t=this;if(Object.assign(this._config,e),this._config.enable){if(this._config.enable&&0===Object.keys(this._delegates).length){var n="["+this._config.selectorPrefix+"on]";this._config.events.forEach((function(e){t._delegates[e]=function(e,t,n,r,i){void 0===i&&(i={});var o=function(e){var t;if(i.composed&&"function"==typeof e.composedPath)for(var o=e.composedPath(),a=0,s=void 0;s=o[a];a++)1===s.nodeType&&Rl(s,n)&&(t=s);else t=function(e,t,n){if(void 0===n&&(n=!1),e&&1===e.nodeType&&t)for(var r,i=(n?[e]:[]).concat(function(e){for(var t=[],n=e;n&&n.parentNode&&1===n.parentNode.nodeType;)n=n.parentNode,t.push(n);return t}(e)),o=0;r=i[o];o++)if(Rl(r,t))return r}(e.target,n,!0);t&&r.call(t,e,t)};return e.addEventListener(t,o,i.useCapture),{destroy:function(){e.removeEventListener(t,o,i.useCapture)}}}(document,e,n,t._trackFunc,{composed:!0,useCapture:!0})}))}}else Object.keys(this._delegates).forEach((function(e){"function"==typeof t._delegates[e].destroy&&t._delegates[e].destroy()})),this._delegates={};return this._config},e.prototype._trackFunc=function(e,t){return y(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return g(this,(function(c){switch(c.label){case 0:return n={},r=t.getAttribute(this._config.selectorPrefix+"on").split(/\s*,\s*/),i=t.getAttribute(this._config.selectorPrefix+"name"),(o=t.getAttribute(this._config.selectorPrefix+"attrs"))&&o.split(/\s*,\s*/).forEach((function(e){var t=e.trim().split(/\s*:\s*/);n[t[0]]=t[1]})),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()];case 1:return s=c.sent(),[3,3];case 2:s=this._config.attributes,c.label=3;case 3:return a=s,u=Object.assign({type:e.type,target:e.target.localName+" with id "+e.target.id},a,n),cd.debug("events needed to be recorded",r),cd.debug("attributes needed to be attached",n),r.indexOf(e.type)<0?(cd.debug("event "+e.type+" is not selected to be recorded"),[2]):(this._tracker({name:i||"event",attributes:u},this._config.provider).catch((function(t){cd.debug("Failed to record the "+e.type+" event', "+t)})),[2])}}))}))},e}(),dd=new c("SessionTracker"),hd={enable:!1,provider:"AWSPinpoint"},pd=!1,vd=function(){function e(e,t){this._config=Object.assign({},hd,t),this._tracker=e,this._hasEnabled=!1,this._trackFunc=this._trackFunc.bind(this),this._trackBeforeUnload=this._trackBeforeUnload.bind(this),this.configure(this._config)}return e.prototype._envCheck=function(){if(!Y().isBrowser)return!1;if(!document||!document.addEventListener)return dd.debug("not in the supported web environment"),!1;if(void 0!==document.hidden)this._hidden="hidden",this._visibilityChange="visibilitychange";else if(void 0!==document.msHidden)this._hidden="msHidden",this._visibilityChange="msvisibilitychange";else{if(void 0===document.webkitHidden)return dd.debug("not in the supported web environment"),!1;this._hidden="webkitHidden",this._visibilityChange="webkitvisibilitychange"}return!0},e.prototype._trackFunc=function(){return y(this,void 0,void 0,(function(){var e,t,n;return g(this,(function(r){switch(r.label){case 0:return"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()];case 1:return t=r.sent(),[3,3];case 2:t=this._config.attributes,r.label=3;case 3:return e=t,n=Object.assign({},e),document.visibilityState===this._hidden?this._tracker({name:"_session.stop",attributes:n},this._config.provider).catch((function(e){dd.debug("record session stop event failed.",e)})):this._tracker({name:"_session.start",attributes:n},this._config.provider).catch((function(e){dd.debug("record session start event failed.",e)})),[2]}}))}))},e.prototype._trackBeforeUnload=function(e){var t=this;("function"==typeof this._config.attributes?Promise.resolve(this._config.attributes()):Promise.resolve(this._config.attributes)).then((function(e){var n=Object.assign({},e);t._tracker({name:"_session.stop",attributes:n,immediate:!0},t._config.provider).catch((function(e){dd.debug("record session stop event failed.",e)}))}))},e.prototype._sendInitialEvent=function(){return y(this,void 0,void 0,(function(){var e,t,n;return g(this,(function(r){switch(r.label){case 0:return pd?(dd.debug("the start session has been sent when the page is loaded"),[2]):(pd=!0,"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]);case 1:return t=r.sent(),[3,3];case 2:t=this._config.attributes,r.label=3;case 3:return e=t,n=Object.assign({},e),this._tracker({name:"_session.start",attributes:n},this._config.provider).catch((function(e){dd.debug("record session start event failed.",e)})),[2]}}))}))},e.prototype.configure=function(e){return this._envCheck()?(Object.assign(this._config,e),this._config.enable&&!this._hasEnabled?(this._sendInitialEvent(),document.addEventListener(this._visibilityChange,this._trackFunc,!1),window.addEventListener("beforeunload",this._trackBeforeUnload,!1),this._hasEnabled=!0):!this._config.enable&&this._hasEnabled&&(document.removeEventListener(this._visibilityChange,this._trackFunc,!1),window.removeEventListener("beforeunload",this._trackBeforeUnload,!1),this._hasEnabled=!1),this._config):this._config},e}(),yd=new c("AnalyticsClass"),gd="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",md=function(e,t,n){_.dispatch("analytics",{event:e,data:t,message:n},"Analytics",gd)},bd={pageView:Pl,event:fd,session:vd},wd=null,Sd=function(){function e(){this._config={},this._pluggables=[],this._disabled=!1,this._trackers={},wd=this,this.record=this.record.bind(this),_.listen("auth",Td),_.listen("storage",Td),_.listen("analytics",Td),_.listen("core",Td)}return e.prototype.getModuleName=function(){return"Analytics"},e.prototype.configure=function(e){var t=this;if(!e)return this._config;yd.debug("configure Analytics",e);var n=A(e);return this._config=Object.assign({},this._config,n.Analytics,e),this._config.disabled&&(this._disabled=!0),void 0===this._config.autoSessionRecord&&(this._config.autoSessionRecord=!0),this._pluggables.forEach((function(e){var n="AWSPinpoint"!==e.getProviderName()||t._config.AWSPinpoint?t._config[e.getProviderName()]:t._config;e.configure(p({disabled:t._config.disabled,autoSessionRecord:t._config.autoSessionRecord},n))})),0===this._pluggables.length&&this.addPluggable(new El),md("configured",null,"The Analytics category has been configured successfully"),yd.debug("current configuration",this._config),this._config},e.prototype.addPluggable=function(e){if(e&&"Analytics"===e.getCategory()){this._pluggables.push(e);var t="AWSPinpoint"!==e.getProviderName()||this._config.AWSPinpoint?this._config[e.getProviderName()]:this._config,n=p({disabled:this._config.disabled},t);return e.configure(n),n}},e.prototype.getPluggable=function(e){for(var t=0;t<this._pluggables.length;t+=1){var n=this._pluggables[t];if(n.getProviderName()===e)return n}return yd.debug("No plugin found with providerName",e),null},e.prototype.removePluggable=function(e){for(var t=0;t<this._pluggables.length&&this._pluggables[t].getProviderName()!==e;)t+=1;return t===this._pluggables.length?void yd.debug("No plugin found with providerName",e):void this._pluggables.splice(t,t+1)},e.prototype.disable=function(){this._disabled=!0},e.prototype.enable=function(){this._disabled=!1},e.prototype.startSession=function(e){return y(this,void 0,void 0,(function(){var t,n;return g(this,(function(r){return n={event:t={name:"_session.start"},provider:e},md("record",t,"Recording Analytics session start event"),[2,this._sendEvent(n)]}))}))},e.prototype.stopSession=function(e){return y(this,void 0,void 0,(function(){var t,n;return g(this,(function(r){return n={event:t={name:"_session.stop"},provider:e},md("record",t,"Recording Analytics session stop event"),[2,this._sendEvent(n)]}))}))},e.prototype.record=function(e,t){return y(this,void 0,void 0,(function(){var n;return g(this,(function(r){return md("record",(n={event:e,provider:t}).event,"Recording Analytics event"),[2,this._sendEvent(n)]}))}))},e.prototype.updateEndpoint=function(e,t){return y(this,void 0,void 0,(function(){var n;return g(this,(function(r){return n=p(p({},e),{name:"_update_endpoint"}),[2,this.record(n,t)]}))}))},e.prototype._sendEvent=function(e){var t=this;if(this._disabled)return yd.debug("Analytics has been disabled"),Promise.resolve();var n=e.provider?e.provider:"AWSPinpoint";return new Promise((function(r,i){t._pluggables.forEach((function(t){t.getProviderName()===n&&t.record(e,{resolve:r,reject:i})}))}))},e.prototype.autoTrack=function(e,t){if(bd[e]){"session"===e&&(this._config.autoSessionRecord=t.enable);var n=this._trackers[e];n?n.configure(t):this._trackers[e]=new bd[e](this.record,t)}else yd.debug("invalid tracker type")},e}(),Ed=!1,_d=!1,xd=!1,Ad=!1,Td=function(e){var t=e.channel,n=e.payload;switch(yd.debug("on hub capsule "+t,n),t){case"auth":Id(n);break;case"storage":Cd(n);break;case"analytics":Pd(n);break;case"core":Od(n)}},Cd=function(e){var t=e.data,n=t.attrs,r=t.metrics;n&&xd&&wd.record({name:"Storage",attributes:n,metrics:r}).catch((function(e){yd.debug("Failed to send the storage event automatically",e)}))},Id=function(e){var t=e.event;if(t){var n=function(e){return y(void 0,void 0,void 0,(function(){var t;return g(this,(function(n){switch(n.label){case 0:if(!_d||!xd)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,wd.record({name:"_userauth."+e})];case 2:return[2,n.sent()];case 3:return t=n.sent(),yd.debug("Failed to send the "+e+" event automatically",t),[3,4];case 4:return[2]}}))}))};switch(t){case"signIn":return n("sign_in");case"signUp":return n("sign_up");case"signOut":return n("sign_out");case"signIn_failure":return n("auth_fail");case"configured":_d=!0,xd&&kd()}}},Pd=function(e){var t=e.event;t&&"pinpointProvider_configured"===t&&(xd=!0,(_d||Ad)&&kd())},Od=function(e){var t=e.event;t&&"credentials_configured"===t&&(Ad=!0,xd&&kd())},kd=function(){var e=wd.configure();!Ed&&e.autoSessionRecord&&(wd.updateEndpoint({immediate:!0}).catch((function(e){yd.debug("Failed to update the endpoint",e)})),Ed=!0),wd.autoTrack("session",{enable:e.autoSessionRecord})},Rd=new Sd;d.register(Rd),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Nl||(Nl={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Dl||(Dl={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ml||(Ml={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(jl||(jl={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ul||(Ul={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Fl||(Fl={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(zl||(zl={})),function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING"}(Bl||(Bl={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ql||(ql={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Kl||(Kl={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Hl||(Hl={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Gl||(Gl={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Vl||(Vl={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}($l||($l={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Wl||(Wl={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Yl||(Yl={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Zl||(Zl={})),function(e){e.KMS="KMS",e.NONE="NONE"}(Jl||(Jl={})),function(e){e.ALL="ALL",e.INCOMING_BYTES="IncomingBytes",e.INCOMING_RECORDS="IncomingRecords",e.ITERATOR_AGE_MILLISECONDS="IteratorAgeMilliseconds",e.OUTGOING_BYTES="OutgoingBytes",e.OUTGOING_RECORDS="OutgoingRecords",e.READ_PROVISIONED_THROUGHPUT_EXCEEDED="ReadProvisionedThroughputExceeded",e.WRITE_PROVISIONED_THROUGHPUT_EXCEEDED="WriteProvisionedThroughputExceeded"}(Xl||(Xl={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ql||(Ql={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ef||(ef={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(tf||(tf={})),function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING",e.UPDATING="UPDATING"}(nf||(nf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(rf||(rf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(of||(of={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(af||(af={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(sf||(sf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(uf||(uf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(cf||(cf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(lf||(lf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ff||(ff={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(df||(df={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(hf||(hf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(pf||(pf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(vf||(vf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(yf||(yf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(gf||(gf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(mf||(mf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(bf||(bf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(wf||(wf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Sf||(Sf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ef||(Ef={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(_f||(_f={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(xf||(xf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Af||(Af={})),function(e){e.AFTER_SEQUENCE_NUMBER="AFTER_SEQUENCE_NUMBER",e.AT_SEQUENCE_NUMBER="AT_SEQUENCE_NUMBER",e.AT_TIMESTAMP="AT_TIMESTAMP",e.LATEST="LATEST",e.TRIM_HORIZON="TRIM_HORIZON"}(Tf||(Tf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Cf||(Cf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(If||(If={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Pf||(Pf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Of||(Of={})),function(e){e.AFTER_SHARD_ID="AFTER_SHARD_ID",e.AT_LATEST="AT_LATEST",e.AT_TIMESTAMP="AT_TIMESTAMP",e.AT_TRIM_HORIZON="AT_TRIM_HORIZON",e.FROM_TIMESTAMP="FROM_TIMESTAMP",e.FROM_TRIM_HORIZON="FROM_TRIM_HORIZON"}(kf||(kf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Rf||(Rf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Lf||(Lf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Nf||(Nf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Df||(Df={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Mf||(Mf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(jf||(jf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Uf||(Uf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ff||(Ff={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(zf||(zf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Bf||(Bf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(qf||(qf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Kf||(Kf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Hf||(Hf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Gf||(Gf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Vf||(Vf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}($f||($f={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Wf||(Wf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Yf||(Yf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Zf||(Zf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Jf||(Jf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Xf||(Xf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Qf||(Qf={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ed||(ed={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(td||(td={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(nd||(nd={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(rd||(rd={})),function(e){e.visit=function(e,t){return void 0!==e.SubscribeToShardEvent?t.SubscribeToShardEvent(e.SubscribeToShardEvent):void 0!==e.ResourceNotFoundException?t.ResourceNotFoundException(e.ResourceNotFoundException):void 0!==e.ResourceInUseException?t.ResourceInUseException(e.ResourceInUseException):void 0!==e.KMSDisabledException?t.KMSDisabledException(e.KMSDisabledException):void 0!==e.KMSInvalidStateException?t.KMSInvalidStateException(e.KMSInvalidStateException):void 0!==e.KMSAccessDeniedException?t.KMSAccessDeniedException(e.KMSAccessDeniedException):void 0!==e.KMSNotFoundException?t.KMSNotFoundException(e.KMSNotFoundException):void 0!==e.KMSOptInRequired?t.KMSOptInRequired(e.KMSOptInRequired):void 0!==e.KMSThrottlingException?t.KMSThrottlingException(e.KMSThrottlingException):void 0!==e.InternalFailureException?t.InternalFailureException(e.InternalFailureException):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.SubscribeToShardEvent?{SubscribeToShardEvent:rd.filterSensitiveLog(e.SubscribeToShardEvent)}:void 0!==e.ResourceNotFoundException?{ResourceNotFoundException:Ul.filterSensitiveLog(e.ResourceNotFoundException)}:void 0!==e.ResourceInUseException?{ResourceInUseException:jl.filterSensitiveLog(e.ResourceInUseException)}:void 0!==e.KMSDisabledException?{KMSDisabledException:wf.filterSensitiveLog(e.KMSDisabledException)}:void 0!==e.KMSInvalidStateException?{KMSInvalidStateException:Sf.filterSensitiveLog(e.KMSInvalidStateException)}:void 0!==e.KMSAccessDeniedException?{KMSAccessDeniedException:bf.filterSensitiveLog(e.KMSAccessDeniedException)}:void 0!==e.KMSNotFoundException?{KMSNotFoundException:Ef.filterSensitiveLog(e.KMSNotFoundException)}:void 0!==e.KMSOptInRequired?{KMSOptInRequired:_f.filterSensitiveLog(e.KMSOptInRequired)}:void 0!==e.KMSThrottlingException?{KMSThrottlingException:xf.filterSensitiveLog(e.KMSThrottlingException)}:void 0!==e.InternalFailureException?{InternalFailureException:Of.filterSensitiveLog(e.InternalFailureException)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(id||(id={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.EventStream&&{EventStream:"STREAMING_CONTENT"})}}(od||(od={})),function(e){e.UNIFORM_SCALING="UNIFORM_SCALING"}(ad||(ad={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(sd||(sd={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ud||(ud={}));var Ld=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),Nd=function(){return Nd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Nd.apply(this,arguments)};function Dd(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var Md=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(Nd(Nd({},this),{headers:Nd({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return Nd(Nd({},e),((r={})[n]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Dd(arguments[t]));return e}(i):i,r))}),{}))),n},e}(),jd=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,y,g;return kt(this,(function(m){switch(m.label){case 0:return r=[It({},e)],g={},[4,ah(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(g.body=m.sent(),g)])),o="UnknownError",o=sh(e,n.body)){case"InvalidArgumentException":case"com.amazonaws.kinesis#InvalidArgumentException":return[3,2];case"KMSAccessDeniedException":case"com.amazonaws.kinesis#KMSAccessDeniedException":return[3,4];case"KMSDisabledException":case"com.amazonaws.kinesis#KMSDisabledException":return[3,6];case"KMSInvalidStateException":case"com.amazonaws.kinesis#KMSInvalidStateException":return[3,8];case"KMSNotFoundException":case"com.amazonaws.kinesis#KMSNotFoundException":return[3,10];case"KMSOptInRequired":case"com.amazonaws.kinesis#KMSOptInRequired":return[3,12];case"KMSThrottlingException":case"com.amazonaws.kinesis#KMSThrottlingException":return[3,14];case"ProvisionedThroughputExceededException":case"com.amazonaws.kinesis#ProvisionedThroughputExceededException":return[3,16];case"ResourceNotFoundException":case"com.amazonaws.kinesis#ResourceNotFoundException":return[3,18]}return[3,20];case 2:return a=[{}],[4,Ud(n,t)];case 3:return i=It.apply(void 0,[It.apply(void 0,a.concat([m.sent()])),{name:o,$metadata:ih(e)}]),[3,21];case 4:return s=[{}],[4,Fd(n,t)];case 5:return i=It.apply(void 0,[It.apply(void 0,s.concat([m.sent()])),{name:o,$metadata:ih(e)}]),[3,21];case 6:return u=[{}],[4,zd(n,t)];case 7:return i=It.apply(void 0,[It.apply(void 0,u.concat([m.sent()])),{name:o,$metadata:ih(e)}]),[3,21];case 8:return c=[{}],[4,Bd(n,t)];case 9:return i=It.apply(void 0,[It.apply(void 0,c.concat([m.sent()])),{name:o,$metadata:ih(e)}]),[3,21];case 10:return l=[{}],[4,qd(n,t)];case 11:return i=It.apply(void 0,[It.apply(void 0,l.concat([m.sent()])),{name:o,$metadata:ih(e)}]),[3,21];case 12:return f=[{}],[4,Kd(n,t)];case 13:return i=It.apply(void 0,[It.apply(void 0,f.concat([m.sent()])),{name:o,$metadata:ih(e)}]),[3,21];case 14:return d=[{}],[4,Hd(n,t)];case 15:return i=It.apply(void 0,[It.apply(void 0,d.concat([m.sent()])),{name:o,$metadata:ih(e)}]),[3,21];case 16:return h=[{}],[4,Gd(n,t)];case 17:return i=It.apply(void 0,[It.apply(void 0,h.concat([m.sent()])),{name:o,$metadata:ih(e)}]),[3,21];case 18:return p=[{}],[4,Vd(n,t)];case 19:return i=It.apply(void 0,[It.apply(void 0,p.concat([m.sent()])),{name:o,$metadata:ih(e)}]),[3,21];case 20:v=n.body,o=v.code||v.Code||o,i=It(It({},v),{name:""+o,message:v.message||v.Message||o,$fault:"client",$metadata:ih(e)}),m.label=21;case 21:return y=i.message||i.Message||o,i.message=y,delete i.Message,[2,Promise.reject(Object.assign(new Error(y),i))]}}))}))},Ud=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=Wd(n,t),[2,It({name:"InvalidArgumentException",$fault:"client",$metadata:ih(e)},r)]}))}))},Fd=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=Yd(n,t),[2,It({name:"KMSAccessDeniedException",$fault:"client",$metadata:ih(e)},r)]}))}))},zd=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=Zd(n,t),[2,It({name:"KMSDisabledException",$fault:"client",$metadata:ih(e)},r)]}))}))},Bd=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=Jd(n,t),[2,It({name:"KMSInvalidStateException",$fault:"client",$metadata:ih(e)},r)]}))}))},qd=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=Xd(n,t),[2,It({name:"KMSNotFoundException",$fault:"client",$metadata:ih(e)},r)]}))}))},Kd=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=Qd(n,t),[2,It({name:"KMSOptInRequired",$fault:"client",$metadata:ih(e)},r)]}))}))},Hd=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=eh(n,t),[2,It({name:"KMSThrottlingException",$fault:"client",$metadata:ih(e)},r)]}))}))},Gd=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=th(n,t),[2,It({name:"ProvisionedThroughputExceededException",$fault:"client",$metadata:ih(e)},r)]}))}))},Vd=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=rh(n,t),[2,It({name:"ResourceNotFoundException",$fault:"client",$metadata:ih(e)},r)]}))}))},$d=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return It(It(It({},void 0!==e.Data&&null!==e.Data&&{Data:t.base64Encoder(e.Data)}),void 0!==e.ExplicitHashKey&&null!==e.ExplicitHashKey&&{ExplicitHashKey:e.ExplicitHashKey}),void 0!==e.PartitionKey&&null!==e.PartitionKey&&{PartitionKey:e.PartitionKey})}(e,t)}))},Wd=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Yd=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Zd=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Jd=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Xd=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Qd=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},eh=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},th=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},nh=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ErrorCode:void 0!==e.ErrorCode&&null!==e.ErrorCode?e.ErrorCode:void 0,ErrorMessage:void 0!==e.ErrorMessage&&null!==e.ErrorMessage?e.ErrorMessage:void 0,SequenceNumber:void 0!==e.SequenceNumber&&null!==e.SequenceNumber?e.SequenceNumber:void 0,ShardId:void 0!==e.ShardId&&null!==e.ShardId?e.ShardId:void 0}}(e)}))},rh=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},ih=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},oh=function(e,t,n,r,i){return Ot(void 0,void 0,void 0,(function(){var o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return o=f.sent(),a=o.hostname,s=o.protocol,u=void 0===s?"https":s,c=o.port,l={protocol:u,hostname:a,port:c,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==i&&(l.body=i),[2,new Md(l)]}}))}))},ah=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},sh=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==i?r(e.headers[i]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},uh=function(){return uh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},uh.apply(this,arguments)};function ch(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function lh(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var fh={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},dh={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};var hh=function(){return hh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},hh.apply(this,arguments)};function ph(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function vh(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ph(arguments[t]));return e}var yh=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,hh({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,hh({},e))})),n},i=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,vh(i(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,vh(i(e)))})),t},o={add:function(t,r){void 0===r&&(r={});var i=r.name,o=r.override,a=hh({step:"initialize",priority:"normal",middleware:t},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var s=e.findIndex((function(e){return e.name===i})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'+i+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");e.splice(s,1)}n.add(i)}e.push(a)},addRelativeTo:function(e,r){var i=r.name,o=r.override,a=hh({middleware:e},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var s=t.findIndex((function(e){return e.name===i})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'+i+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');t.splice(s,1)}n.add(i)}t.push(a)},clone:function(){return r(yh())},use:function(e){e.applyToStack(o)},remove:function(r){return"string"==typeof r?function(r){var i=!1,o=function(e){return!e.name||e.name!==r||(i=!0,n.delete(r),!1)};return e=e.filter(o),t=t.filter(o),i}(r):function(r){var i=!1,o=function(e){return e.middleware!==r||(i=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),i}(r)},removeByTag:function(r){var i=!1,o=function(e){var t=e.tags,o=e.name;return!t||!t.includes(r)||(o&&n.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:function(e){var t=r(yh());return t.use(e),t},applyToStack:r,resolve:function(n,r){var o,a;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(){var n=[],r=[],o={};e.forEach((function(e){var t=hh(hh({},e),{before:[],after:[]});t.name&&(o[t.name]=t),n.push(t)})),t.forEach((function(e){var t=hh(hh({},e),{before:[],after:[]});t.name&&(o[t.name]=t),r.push(t)})),r.forEach((function(e){if(e.toMiddleware){var t=o[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var a,s=(a=n,a.sort((function(e,t){return gh[t.step]-gh[e.step]||mh[t.priority||"normal"]-mh[e.priority||"normal"]}))).map(i).reduce((function(e,t){return e.push.apply(e,vh(t)),e}),[]);return s.map((function(e){return e.middleware}))}().reverse()),u=s.next();!u.done;u=s.next())n=(0,u.value)(n,r)}catch(e){o={error:e}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return n}};return o},gh={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},mh={high:3,normal:2,low:1},bh=function(){function e(e){this.middlewareStack=yh(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),wh=function(e,t){return wh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},wh(e,t)};function Sh(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Eh(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Sh(arguments[t]));return e}var _h=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Eh([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};_h.prototype=Object.create(String.prototype,{constructor:{value:_h,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(_h,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){function n(){this.constructor=e}wh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(_h);for(var xh=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){var r,i,o;this.middlewareStack.use((r=t,i=this.serialize,o=this.deserialize,{applyToStack:function(e){e.add(function(e,t){return function(n,r){return function(r){return ch(void 0,void 0,void 0,(function(){var i,o;return lh(this,(function(a){switch(a.label){case 0:return[4,n(r)];case 1:return i=a.sent().response,[4,t(i,e)];case 2:return o=a.sent(),[2,{response:i,output:o}]}}))}))}}}(r,o),fh),e.add(function(e,t){return function(n,r){return function(r){return ch(void 0,void 0,void 0,(function(){var i;return lh(this,(function(o){switch(o.label){case 0:return[4,t(r.input,e)];case 1:return i=o.sent(),[2,n(uh(uh({},r),{request:i}))]}}))}))}}}(r,i),dh)}}));var a=e.concat(this.middlewareStack),s={logger:t.logger,clientName:"KinesisClient",commandName:"PutRecordsCommand",inputFilterSensitiveLog:Vf.filterSensitiveLog,outputFilterSensitiveLog:Wf.filterSensitiveLog},u=t.requestHandler;return a.resolve((function(e){return u.handle(e.request,n||{})}),s)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Kinesis_20131202.PutRecords"},r=JSON.stringify(function(e,t){return It(It({},void 0!==e.Records&&null!==e.Records&&{Records:$d(e.Records,t)}),void 0!==e.StreamName&&null!==e.StreamName&&{StreamName:e.StreamName})}(e,t)),[2,oh(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i;return kt(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,jd(e,t)]:[4,ah(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{EncryptionType:void 0!==e.EncryptionType&&null!==e.EncryptionType?e.EncryptionType:void 0,FailedRecordCount:void 0!==e.FailedRecordCount&&null!==e.FailedRecordCount?e.FailedRecordCount:void 0,Records:void 0!==e.Records&&null!==e.Records?nh(e.Records,t):void 0}}(n,t),i=It({$metadata:ih(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}((function(){this.middlewareStack=yh()})),Ah=n(9594),Th=n(1423),Ch=n(2897),Ih={},Ph={},Oh=0;Oh<256;Oh++){var kh=Oh.toString(16).toLowerCase();1===kh.length&&(kh="0"+kh),Ih[Oh]=kh,Ph[kh]=Oh}function Rh(e){for(var t="",n=0;n<e.byteLength;n++)t+=Ih[e[n]];return t}var Lh=function(){function e(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return e.fromNumber=function(t){if(t>0x8000000000000000||t<-0x8000000000000000)throw new Error(t+" is too large (or, if negative, too small) to represent as an Int64");for(var n=new Uint8Array(8),r=7,i=Math.abs(Math.round(t));r>-1&&i>0;r--,i/=256)n[r]=i;return t<0&&Nh(n),new e(n)},e.prototype.valueOf=function(){var e=this.bytes.slice(0),t=128&e[0];return t&&Nh(e),parseInt(Rh(e),16)*(t?-1:1)},e.prototype.toString=function(){return String(this.valueOf())},e}();function Nh(e){for(var t=0;t<8;t++)e[t]^=255;for(t=7;t>-1&&(e[t]++,0===e[t]);t--);}var Dh,Mh=function(){function e(e,t){this.toUtf8=e,this.fromUtf8=t}return e.prototype.format=function(e){var t,n,r,i,o=[];try{for(var a=(0,Ch.__values)(Object.keys(e)),s=a.next();!s.done;s=a.next()){var u=s.value,c=this.fromUtf8(u);o.push(Uint8Array.from([c.byteLength]),c,this.formatHeaderValue(e[u]))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}var l=new Uint8Array(o.reduce((function(e,t){return e+t.byteLength}),0)),f=0;try{for(var d=(0,Ch.__values)(o),h=d.next();!h.done;h=d.next()){var p=h.value;l.set(p,f),f+=p.byteLength}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return l},e.prototype.formatHeaderValue=function(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":var t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":var n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":var r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":var i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);var o=new Uint8Array(i.buffer);return o.set(e.value,3),o;case"string":var a=this.fromUtf8(e.value),s=new DataView(new ArrayBuffer(3+a.byteLength));s.setUint8(0,7),s.setUint16(1,a.byteLength,!1);var u=new Uint8Array(s.buffer);return u.set(a,3),u;case"timestamp":var c=new Uint8Array(9);return c[0]=8,c.set(Lh.fromNumber(e.value.valueOf()).bytes,1),c;case"uuid":if(!Vh.test(e.value))throw new Error("Invalid UUID received: "+e.value);var l=new Uint8Array(17);return l[0]=9,l.set(function(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2){var r=e.substr(n,2).toLowerCase();if(!(r in Ph))throw new Error("Cannot decode unrecognized sequence "+r+" as hexadecimal");t[n/2]=Ph[r]}return t}(e.value.replace(/\-/g,"")),1),l}},e.prototype.parse=function(e){for(var t={},n=0;n<e.byteLength;){var r=e.getUint8(n++),i=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,r));switch(n+=r,e.getUint8(n++)){case 0:t[i]={type:jh,value:!0};break;case 1:t[i]={type:jh,value:!1};break;case 2:t[i]={type:Uh,value:e.getInt8(n++)};break;case 3:t[i]={type:Fh,value:e.getInt16(n,!1)},n+=2;break;case 4:t[i]={type:zh,value:e.getInt32(n,!1)},n+=4;break;case 5:t[i]={type:Bh,value:new Lh(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:var o=e.getUint16(n,!1);n+=2,t[i]={type:qh,value:new Uint8Array(e.buffer,e.byteOffset+n,o)},n+=o;break;case 7:var a=e.getUint16(n,!1);n+=2,t[i]={type:Kh,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,a))},n+=a;break;case 8:t[i]={type:Hh,value:new Date(new Lh(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:var s=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[i]={type:Gh,value:Rh(s.subarray(0,4))+"-"+Rh(s.subarray(4,6))+"-"+Rh(s.subarray(6,8))+"-"+Rh(s.subarray(8,10))+"-"+Rh(s.subarray(10))};break;default:throw new Error("Unrecognized header type tag")}}return t},e}();!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(Dh||(Dh={}));var jh="boolean",Uh="byte",Fh="short",zh="integer",Bh="long",qh="binary",Kh="string",Hh="timestamp",Gh="uuid",Vh=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,$h=function(){function e(e,t){this.headerMarshaller=new Mh(e,t)}return e.prototype.marshall=function(e){var t=e.headers,n=e.body,r=this.headerMarshaller.format(t),i=r.byteLength+n.byteLength+16,o=new Uint8Array(i),a=new DataView(o.buffer,o.byteOffset,o.byteLength),s=new Th.Crc32;return a.setUint32(0,i,!1),a.setUint32(4,r.byteLength,!1),a.setUint32(8,s.update(o.subarray(0,8)).digest(),!1),o.set(r,12),o.set(n,r.byteLength+12),a.setUint32(i-4,s.update(o.subarray(8,i-4)).digest(),!1),o},e.prototype.unmarshall=function(e){var t=function(e){var t=e.byteLength,n=e.byteOffset,r=e.buffer;if(t<16)throw new Error("Provided message too short to accommodate event stream message overhead");var i=new DataView(r,n,t),o=i.getUint32(0,!1);if(t!==o)throw new Error("Reported message length does not match received message length");var a=i.getUint32(4,!1),s=i.getUint32(8,!1),u=i.getUint32(t-4,!1),c=(new Th.Crc32).update(new Uint8Array(r,n,8));if(s!==c.digest())throw new Error("The prelude checksum specified in the message ("+s+") does not match the calculated CRC32 checksum ("+c.digest()+")");if(c.update(new Uint8Array(r,n+8,t-12)),u!==c.digest())throw new Error("The message checksum ("+c.digest()+") did not match the expected value of "+u);return{headers:new DataView(r,n+8+4,a),body:new Uint8Array(r,n+8+4+a,o-a-16)}}(e),n=t.headers,r=t.body;return{headers:this.headerMarshaller.parse(n),body:r}},e.prototype.formatHeaders=function(e){return this.headerMarshaller.format(e)},e}();function Wh(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Yh(e){return this instanceof Yh?(this.v=e,this):new Yh(e)}function Zh(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof Yh?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(i[e](t))}catch(e){l(o[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function Jh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}var Xh=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new $h(t,n),this.utfEncoder=t}return e.prototype.deserialize=function(e,t){var n=function(e){var t,n=0,r=0,i=null,o=null,a=function(e){if("number"!=typeof e)throw new Error("Attempted to allocate an event message where size was not a number: "+e);n=e,r=4,i=new Uint8Array(e),new DataView(i.buffer).setUint32(0,e,!1)};return(t={})[Symbol.asyncIterator]=function(){return Zh(this,arguments,(function(){var t,s,u,c,l,f,d,h;return Wh(this,(function(p){switch(p.label){case 0:t=e[Symbol.asyncIterator](),p.label=1;case 1:return[4,Yh(t.next())];case 2:return s=p.sent(),u=s.value,s.done?n?[3,4]:[4,Yh(void 0)]:[3,10];case 3:return[2,p.sent()];case 4:return n!==r?[3,7]:[4,Yh(i)];case 5:return[4,p.sent()];case 6:return p.sent(),[3,8];case 7:throw new Error("Truncated event message received.");case 8:return[4,Yh(void 0)];case 9:return[2,p.sent()];case 10:c=u.length,l=0,p.label=11;case 11:if(!(l<c))return[3,15];if(!i){if(f=c-l,o||(o=new Uint8Array(4)),d=Math.min(4-r,f),o.set(u.slice(l,l+d),r),l+=d,(r+=d)<4)return[3,15];a(new DataView(o.buffer).getUint32(0,!1)),o=null}return h=Math.min(n-r,c-l),i.set(u.slice(l,l+h),r),r+=h,l+=h,n&&n===r?[4,Yh(i)]:[3,14];case 12:return[4,p.sent()];case 13:p.sent(),i=null,n=0,r=0,p.label=14;case 14:return[3,11];case 15:return[3,1];case 16:return[2]}}))}))},t}(e),r=function(e,t){var n;return(n={})[Symbol.asyncIterator]=function(){return Zh(this,arguments,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m;return Wh(this,(function(b){switch(b.label){case 0:b.trys.push([0,12,13,18]),n=Jh(e),b.label=1;case 1:return[4,Yh(n.next())];case 2:if((r=b.sent()).done)return[3,11];if(i=r.value,o=t.eventMarshaller.unmarshall(i),"error"!==(a=o.headers[":message-type"].value))return[3,3];throw(s=new Error(o.headers[":error-message"].value||"UnknownError")).name=o.headers[":error-code"].value,s;case 3:return"exception"!==a?[3,5]:(u=o.headers[":exception-type"].value,(v={})[u]=o,c=v,[4,Yh(t.deserializer(c))]);case 4:if((l=b.sent()).$unknown)throw(f=new Error(t.toUtf8(o.body))).name=u,f;throw l[u];case 5:return"event"!==a?[3,9]:((y={})[o.headers[":event-type"].value]=o,d=y,[4,Yh(t.deserializer(d))]);case 6:return(h=b.sent()).$unknown?[3,10]:[4,Yh(h)];case 7:return[4,b.sent()];case 8:return b.sent(),[3,10];case 9:throw Error("Unrecognizable event type: "+o.headers[":event-type"].value);case 10:return[3,1];case 11:return[3,18];case 12:return p=b.sent(),g={error:p},[3,18];case 13:return b.trys.push([13,,16,17]),r&&!r.done&&(m=n.return)?[4,Yh(m.call(n))]:[3,15];case 14:b.sent(),b.label=15;case 15:return[3,17];case 16:if(g)throw g.error;return[7];case 17:return[7];case 18:return[2]}}))}))},n}(n,{eventMarshaller:this.eventMarshaller,deserializer:t,toUtf8:this.utfEncoder});return r},e.prototype.serialize=function(e,t){var n,r=this;return(n={})[Symbol.asyncIterator]=function(){return Zh(this,arguments,(function(){var n,i,o,a,s,u;return Wh(this,(function(c){switch(c.label){case 0:c.trys.push([0,7,8,13]),n=Jh(e),c.label=1;case 1:return[4,Yh(n.next())];case 2:return(i=c.sent()).done?[3,6]:(o=i.value,[4,Yh(r.eventMarshaller.marshall(t(o)))]);case 3:return[4,c.sent()];case 4:c.sent(),c.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return a=c.sent(),s={error:a},[3,13];case 8:return c.trys.push([8,,11,12]),i&&!i.done&&(u=n.return)?[4,Yh(u.call(n))]:[3,10];case 9:c.sent(),c.label=10;case 10:return[3,12];case 11:if(s)throw s.error;return[7];case 12:return[7];case 13:return[4,Yh(new Uint8Array(0))];case 14:return[4,c.sent()];case 15:return c.sent(),[2]}}))}))},n},e}();function Qh(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function ep(e){return this instanceof ep?(this.v=e,this):new ep(e)}function tp(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof ep?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(i[e](t))}catch(e){l(o[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}var np=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new $h(t,n),this.universalMarshaller=new Xh({utf8Decoder:n,utf8Encoder:t})}return e.prototype.deserialize=function(e,t){var n=rp(e)?function(e){var t;return(t={})[Symbol.asyncIterator]=function(){return tp(this,arguments,(function(){var t,n,r,i;return Qh(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,ep(t.read())];case 3:return n=o.sent(),r=n.done,i=n.value,r?[4,ep(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,ep(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))},t}(e):e;return this.universalMarshaller.deserialize(n,t)},e.prototype.serialize=function(e,t){var n,r=this.universalMarshaller.serialize(e,t);return"function"==typeof ReadableStream?(n=r[Symbol.asyncIterator](),new ReadableStream({pull:function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var t,r,i;return Qh(this,(function(o){switch(o.label){case 0:return[4,n.next()];case 1:return t=o.sent(),r=t.done,i=t.value,r?[2,e.close()]:(e.enqueue(i),[2])}}))}))}})):r},e}(),rp=function(e){return"function"==typeof ReadableStream&&e instanceof ReadableStream},ip=function(e){return new np(e)};function op(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function ap(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var sp=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,up)},up=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()},cp=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var i=new Error("Request aborted");return i.name="AbortError",Promise.reject(i)}var o=e.path;if(e.query){var a=function(e){var t,n,r=[];try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var a=o.value,s=e[a];if(a=sp(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push(a+"="+sp(s[u]));else{var l=a;(s||"string"==typeof s)&&(l+="="+sp(s)),r.push(l)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.join("&")}(e.query);a&&(o+="?"+a)}var s=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(s?":"+s:"")+o,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var f,d=new Request(c,l),h=[fetch(d).then((function(e){var t,n,r=e.headers,i={};try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r.entries()),a=o.next();!a.done;a=o.next()){var s=a.value;i[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new Ld({headers:i,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new Ld({headers:i,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(h)},e}();function lp(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),a=o>-1?o+1:i.length;t(i.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var fp=function(){return fp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fp.apply(this,arguments)};function dp(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function hp(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function pp(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var vp={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},yp=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],gp=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],mp=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],bp=[500,502,503,504],wp=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||gp.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},Sp=n(9263),Ep=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},_p=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return yp.includes(e.name)}(e)||wp(e)||function(e){var t;return mp.includes(e.name)||bp.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},xp=function(){function e(e,t){var n,r,i,o,a,s,u;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:_p,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:Ep,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:(o=500,a=500,s=function(e){return"TimeoutError"===e.name?10:5},u=function(e){return s(e)<=a},Object.freeze({hasRetryTokens:u,retrieveRetryTokens:function(e){if(!u(e))throw new Error("No retry token available");var t=s(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,o)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return dp(this,void 0,void 0,(function(){var e;return hp(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return dp(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return hp(this,(function(l){switch(l.label){case 0:return r=0,i=0,[4,this.getMaxAttempts()];case 1:o=l.sent(),a=t.request,Md.isInstance(a)&&(a.headers["amz-sdk-invocation-id"]=(0,Sp.v4)()),s=function(){var s,c,l,f,d;return hp(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,5]),Md.isInstance(a)&&(a.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+o),[4,e(t)];case 1:return s=h.sent(),c=s.response,l=s.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=i,[2,{value:{response:c,output:l}}];case 2:return f=h.sent(),r++,u.shouldRetry(f,r,o)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(wp(f)?500:100,r),i+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return h.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=i,f;case 5:return[2]}}))},u=this,l.label=2;case 2:return[5,s()];case 3:return"object"==typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}();var Ap=n(4190),Tp="kinesis.{region}.amazonaws.com",Cp=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Ip=new Set(["cn-north-1","cn-northwest-1"]),Pp=new Set(["us-iso-east-1"]),Op=new Set(["us-isob-east-1"]),kp=new Set(["us-gov-east-1","us-gov-west-1"]);function Rp(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var Lp={apiVersion:"2013-12-02",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"kinesis.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"kinesis.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"kinesis.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"kinesis.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"kinesis.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"kinesis.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"kinesis.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"kinesis.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"kinesis.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"kinesis.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"kinesis.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"kinesis.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"kinesis.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"kinesis.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"kinesis.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"kinesis.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"kinesis-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"kinesis-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-west-1":n={hostname:"kinesis-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":n={hostname:"kinesis-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":n={hostname:"kinesis.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":n={hostname:"kinesis.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"kinesis.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"kinesis.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"kinesis.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"us-gov-west-1":n={hostname:"kinesis.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-iso-east-1":n={hostname:"kinesis.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"kinesis.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"kinesis.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"kinesis.us-west-2.amazonaws.com",partition:"aws"};break;default:Cp.has(e)&&(n={hostname:Tp.replace("{region}",e),partition:"aws"}),Ip.has(e)&&(n={hostname:"kinesis.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),Pp.has(e)&&(n={hostname:"kinesis.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),Op.has(e)&&(n={hostname:"kinesis.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),kp.has(e)&&(n={hostname:"kinesis.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:Tp.replace("{region}",e),partition:"aws"})}return Promise.resolve(It({signingService:"kinesis"},n))},serviceId:"Kinesis",urlParser:function(e){var t,n=new URL(e),r=n.hostname,i=n.pathname,o=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.split("&")),o=i.next();!o.done;o=i.next()){var a=Rp(o.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:o?parseInt(o):void 0,protocol:a,path:i,query:t}}},Np=It(It({},Lp),{runtime:"browser",base64Decoder:er,base64Encoder:tr,bodyLengthChecker:function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0},credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:function(e){var t=e.serviceId,n=e.clientVersion;return function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e,r,i,o,a,s,u,c,l;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(f){return e=(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?mr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(o=null==e?void 0:e.os)||void 0===o?void 0:o.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser",(null!==(u=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown")+"_"+(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}}({serviceId:Lp.serviceId,clientVersion:"3.6.1"}),eventStreamSerdeProvider:ip,maxAttempts:3,region:function(){return Promise.reject("Region is missing")},requestHandler:new cp,sha256:Ah.Sha256,streamCollector:function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return op(this,void 0,void 0,(function(){var t,n;return ap(this,(function(r){switch(r.label){case 0:return[4,lp(e)];case 1:return t=r.sent(),n=er(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return op(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return ap(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=u.sent(),o=i.done,(a=i.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=o,[3,1];case 3:return[2,t]}}))}))}(e)},utf8Decoder:Ap.fromUtf8,utf8Encoder:Ap.toUtf8}),Dp=function(){return Dp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Dp.apply(this,arguments)};var Mp=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var i=Promise.resolve(t);return function(){return i}}return t},jp=function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t,n,r,i,o;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(a){switch(a.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=a.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(i=(null!==(o=a.sent())&&void 0!==o?o:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+i)]}}))}))},Up=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Fp=function(){return Fp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Fp.apply(this,arguments)},zp=function(e){return Fp(Fp({},e),{eventStreamMarshaller:e.eventStreamSerdeProvider(e)})},Bp=function(){return Bp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Bp.apply(this,arguments)};var qp="content-length",Kp={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Hp=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t,i,o,a,s;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(u){return t=r.request,Md.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map((function(e){return e.toLowerCase()})).indexOf(qp)&&void 0!==(a=e(i))&&(t.headers=Bp(Bp({},t.headers),((s={})[qp]=String(a),s)))),[2,n(Bp(Bp({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),Kp)}}};var Gp={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Vp=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,i;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(o){return Md.isInstance(n.request)?(r=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),Gp)}}};var $p=function(){return function(e,t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(d){switch(d.label){case 0:return r=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(c,["$metadata"]),a.info({clientName:r,commandName:i,input:o(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}},Wp={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Yp=function(){return Yp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Yp.apply(this,arguments)};function Zp(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Jp(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Xp=function(){return Xp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Xp.apply(this,arguments)};function Qp(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function ev(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function tv(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function nv(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}for(var rv={},iv={},ov=0;ov<256;ov++){var av=ov.toString(16).toLowerCase();1===av.length&&(av="0"+av),rv[ov]=av,iv[av]=ov}function sv(e){for(var t="",n=0;n<e.byteLength;n++)t+=rv[e[n]];return t}var uv="X-Amz-Date",cv="X-Amz-Signature",lv="X-Amz-Security-Token",fv="authorization",dv=uv.toLowerCase(),hv=[fv,dv,"date"],pv=cv.toLowerCase(),vv="x-amz-content-sha256",yv=lv.toLowerCase(),gv={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},mv=/^proxy-/,bv=/^sec-/,wv="AWS4-HMAC-SHA256",Sv="AWS4-HMAC-SHA256-PAYLOAD",Ev="aws4_request",_v={},xv=[];function Av(e,t,n){return e+"/"+t+"/"+n+"/"+Ev}function Tv(e,t,n){var r=new e(t);return r.update(n),r.digest()}function Cv(e,t,n){var r,i,o=e.headers,a={};try{for(var s=tv(Object.keys(o).sort()),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.toLowerCase();(l in gv||(null==t?void 0:t.has(l))||mv.test(l)||bv.test(l))&&(!n||n&&!n.has(l))||(a[l]=o[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a}function Iv(e,t){var n=e.headers,r=e.body;return Qp(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return ev(this,(function(l){switch(l.label){case 0:try{for(e=tv(Object.keys(n)),i=e.next();!i.done;i=e.next())if((o=i.value).toLowerCase()===vv)return[2,n[o]]}catch(e){u={error:e}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=sv,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function Pv(e){var t=e.headers,n=e.query,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["headers","query"]);return Xp(Xp({},r),{headers:Xp({},t),query:n?Ov(n):void 0})}function Ov(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return Xp(Xp({},t),((r={})[n]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(nv(arguments[t]));return e}(i):i,r))}),{})}function kv(e){var t,n;e="function"==typeof e.clone?e.clone():Pv(e);try{for(var r=tv(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;hv.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}var Rv=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=Dv(r),this.credentialProvider=Mv(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Qp(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A;return ev(this,(function(T){switch(T.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=T.sent(),null==c?[3,2]:(h=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=T.sent(),T.label=4;case 4:return d=h,p=Lv(r),v=p.longDate,y=p.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(g=Av(y,d,null!=l?l:this.service),m=function(e,t){var n,r,i;void 0===t&&(t={});var o="function"==typeof e.clone?e.clone():Pv(e),a=o.headers,s=o.query,u=void 0===s?{}:s;try{for(var c=tv(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return Xp(Xp({},e),{headers:a,query:u})}(kv(e),{unhoistableHeaders:s}),f.sessionToken&&(m.query[lv]=f.sessionToken),m.query["X-Amz-Algorithm"]=wv,m.query["X-Amz-Credential"]=f.accessKeyId+"/"+g,m.query[uv]=v,m.query["X-Amz-Expires"]=o.toString(10),b=Cv(m,a,u),m.query["X-Amz-SignedHeaders"]=Nv(b),w=m.query,S=cv,E=this.getSignature,_=[v,g,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,A=[m,b],[4,Iv(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,A.concat([T.sent()]))]))];case 6:return w[S]=T.sent(),[2,m]}}))}))},e.prototype.sign=function(e,t){return Qp(this,void 0,void 0,(function(){return ev(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return Qp(this,void 0,void 0,(function(){var e,t,i,c,l,f,d,h,p,v,y;return ev(this,(function(g){switch(g.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=g.sent(),g.label=3;case 3:return e=t,i=Lv(o),c=i.shortDate,l=i.longDate,f=Av(c,e,null!=u?u:this.service),[4,Iv({headers:{},body:r},this.sha256)];case 4:return d=g.sent(),(h=new this.sha256).update(n),v=sv,[4,h.digest()];case 5:return p=v.apply(void 0,[g.sent()]),y=[Sv,l,f,a,p,d].join("\n"),[2,this.signString(y,{signingDate:o,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,a=n.signingService;return Qp(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return ev(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=Lv(i).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=sv,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return Qp(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,h,p,v,y;return ev(this,(function(g){switch(g.label){case 0:return[4,this.credentialProvider()];case 1:return t=g.sent(),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=g.sent(),g.label=4;case 4:return n=r,c=kv(e),l=Lv(i),f=l.longDate,d=l.shortDate,h=Av(d,n,null!=u?u:this.service),c.headers[dv]=f,t.sessionToken&&(c.headers[yv]=t.sessionToken),[4,Iv(c,this.sha256)];case 5:return p=g.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=tv(Object.keys(t)),o=i.next();!o.done;o=i.next())if(e===o.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(vv,c.headers)&&this.applyChecksum&&(c.headers[vv]=p),v=Cv(c,a,o),[4,this.getSignature(f,h,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,p))];case 6:return y=g.sent(),c.headers[fv]=wv+" Credential="+t.accessKeyId+"/"+h+", SignedHeaders="+Nv(v)+", Signature="+y,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],a={},s=function(e){if(e.toLowerCase()===pv)return"continue";o.push(e);var t=i[e];"string"==typeof t?a[e]=sp(e)+"="+sp(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([sp(e)+"="+sp(n)])}),[]).join("&"))};try{for(var u=tv(Object.keys(i).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return Qp(this,void 0,void 0,(function(){var r,i;return ev(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,wv+"\n"+e+"\n"+t+"\n"+sv(i)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return Qp(this,void 0,void 0,(function(){var i,o,a,s,u;return ev(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(o=new(s.apply(a,[void 0,c.sent()]))).update(i),u=sv,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){return Qp(void 0,void 0,void 0,(function(){var o,a,s,u,c,l,f,d,h;return ev(this,(function(p){switch(p.label){case 0:return[4,Tv(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=p.sent(),(a=n+":"+r+":"+i+":"+sv(o)+":"+t.sessionToken)in _v)return[2,_v[a]];for(xv.push(a);xv.length>50;)delete _v[xv.shift()];s="AWS4"+t.secretAccessKey,p.label=2;case 2:p.trys.push([2,7,8,9]),u=tv([n,r,i,Ev]),c=u.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,Tv(e,s,l)]);case 4:s=p.sent(),p.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=p.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,_v[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),Lv=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},Nv=function(e){return Object.keys(e).sort().join(";")},Dv=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Mv=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function jv(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}function Uv(e){return function(t,n){return function(r){return Zp(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d;return Jp(this,(function(h){switch(h.label){case 0:return Md.isInstance(r.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(r)];case 1:return o=h.sent(),[3,3];case 2:o=e.signer,h.label=3;case 3:return i=o,s=t,u=[Yp({},r)],d={},[4,i.sign(r.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,s.apply(void 0,[Yp.apply(void 0,u.concat([(d.request=h.sent(),d)]))])];case 5:return a=h.sent(),c=a.response.headers,(l=c&&(c.date||c.Date))&&(p=f=Date.parse(l),v=e.systemClockOffset,Math.abs(function(e){return new Date(Date.now()+e)}(v).getTime()-p)>=3e5&&(e.systemClockOffset=f-Date.now())),[2,a]}var p,v}))}))}}}var Fv={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},zv=function(){return zv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zv.apply(this,arguments)};function Bv(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function qv(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Bv(arguments[t]));return e}var Kv="user-agent",Hv=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Gv=function(e){var t=Bv(e,2),n=t[0],r=t[1],i=n.indexOf("/"),o=n.substring(0,i),a=n.substring(i+1);return"api"===o&&(a=a.toLowerCase()),[o,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(Hv,"_")})).join("/")},Vv={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},$v=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var i,o,a,s,u,c,l,f;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(d){switch(d.label){case 0:return i=r.request,Md.isInstance(i)?(o=i.headers,a=(null===(l=null==t?void 0:t.userAgent)||void 0===l?void 0:l.map(Gv))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=d.sent().map(Gv),u=(null===(f=null==n?void 0:n.customUserAgent)||void 0===f?void 0:f.map(Gv))||[],o["x-amz-user-agent"]=qv(s,a,u).join(" "),c=qv(s.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&c&&(o[Kv]=o[Kv]?o[Kv]+" "+c:c),[2,e(zv(zv({},r),{request:i}))]}}))}))}}),Vv)}}},Wv=function(e){function t(t){var n,r,i,o=this,a=function(e){if(!e.region)throw new Error("Region is missing");return Dp(Dp({},e),{region:Up(e.region)})}(It(It({},Np),t)),s=function(e){var t;return Dp(Dp({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?Mp(e):function(){return jp(e)},isCustomEndpoint:!!e.endpoint})}(a),u=function(e){var t,n=this,r=jv(e.credentials||e.credentialDefaultProvider(e)),i=e.signingEscapePath,o=void 0===i||i,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?jv(e.signer):function(){return jv(e.region)().then((function(t){return Zp(n,void 0,void 0,(function(){return Jp(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t,2),i=n[0],a=n[1],s=i.signingRegion,c=i.signingService;return e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId,new Rv({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o})}))},Yp(Yp({},e),{systemClockOffset:s,signingEscapePath:o,credentials:r,signer:t})}(s),c=function(e){return zv(zv({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}((r=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}((n=u).maxAttempts),fp(fp({},n),{maxAttempts:r,retryStrategy:n.retryStrategy||new xp(r)}))),l=zp(c);return(o=e.call(this,l)||this).config=l,o.middlewareStack.use((i=o.config,{applyToStack:function(e){e.addRelativeTo(Uv(i),Fv)}})),o.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return dp(void 0,void 0,void 0,(function(){var i;return hp(this,(function(o){return(null===(i=null==e?void 0:e.retryStrategy)||void 0===i?void 0:i.mode)&&(n.userAgent=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pp(arguments[t]));return e}(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),vp)}}}(o.config)),o.middlewareStack.use(Hp(o.config)),o.middlewareStack.use(Vp(o.config)),o.middlewareStack.use((o.config,{applyToStack:function(e){e.add($p(),Wp)}})),o.middlewareStack.use($v(o.config)),o}return xe(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(bh),Yv=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},Zv=new c("AWSKinesisProvider"),Jv=function(){function e(e){this._buffer=[],this._config=e||{},this._config.bufferSize=this._config.bufferSize||1e3,this._config.flushSize=this._config.flushSize||100,this._config.flushInterval=this._config.flushInterval||5e3,this._config.resendLimit=this._config.resendLimit||5,this._setupTimer()}return e.prototype._setupTimer=function(){var e=this;this._timer&&clearInterval(this._timer);var t=this._config,n=t.flushSize,r=t.flushInterval;this._timer=setInterval((function(){for(var t=e._buffer.length<n?e._buffer.length:n,r=[],i=0;i<t;i+=1){var o=e._buffer.shift();r.push(o)}e._sendFromBuffer(r)}),r)},e.prototype.getCategory=function(){return"Analytics"},e.prototype.getProviderName=function(){return"AWSKinesis"},e.prototype.configure=function(e){Zv.debug("configure Analytics",e);var t=e||{};return this._config=Object.assign({},this._config,t),this._setupTimer(),this._config},e.prototype.record=function(e){var t;return y(this,void 0,void 0,(function(){var n;return g(this,(function(r){switch(r.label){case 0:return[4,this._getCredentials()];case 1:return(n=r.sent())?(Object.assign(e,{config:this._config,credentials:n}),(null===(t=e.event)||void 0===t?void 0:t.immediate)?(this._sendEvents([e]),[2,Promise.resolve(!0)]):[2,this._putToBuffer(e)]):[2,Promise.resolve(!1)]}}))}))},e.prototype.updateEndpoint=function(){return Zv.debug("updateEndpoint is not implemented in Kinesis provider"),Promise.resolve(!0)},e.prototype._putToBuffer=function(e){return this._buffer.length<1e3?(this._buffer.push(e),Promise.resolve(!0)):(Zv.debug("exceed analytics events buffer size"),Promise.reject(!1))},e.prototype._sendFromBuffer=function(e){for(var t=this,n=[],r=null,i=[],o=0;o<e.length;o+=1){var a=e[o].credentials;0===o?(i.push(e[o]),r=a):a.sessionToken===r.sessionToken&&a.identityId===r.identityId?(Zv.debug("no change for cred, put event in the same group"),i.push(e[o])):(n.push(i),(i=[]).push(e[o]),r=a)}n.push(i),n.map((function(e){t._sendEvents(e)}))},e.prototype._sendEvents=function(e){var t=this;if(0!==e.length){var n=e[0],r=n.config,i=n.credentials;if(!this._init(r,i))return!1;var o={};e.map((function(e){var t=e.event,n=t.streamName;void 0===o[n]&&(o[n]=[]);var r=t.data&&"string"!=typeof t.data?JSON.stringify(t.data):t.data,a={Data:Yv(r),PartitionKey:t.partitionKey||"partition-"+i.identityId};o[n].push(a)})),Object.keys(o).map((function(e){return y(t,void 0,void 0,(function(){var t,n;return g(this,(function(r){switch(r.label){case 0:Zv.debug("putting records to kinesis with records",o[e]),r.label=1;case 1:return r.trys.push([1,3,,4]),t=new xh({Records:o[e],StreamName:e}),[4,this._kinesis.send(t)];case 2:return r.sent(),Zv.debug("Upload records to stream",e),[3,4];case 3:return n=r.sent(),Zv.debug("Failed to upload records to Kinesis",n),[3,4];case 4:return[2]}}))}))}))}},e.prototype._init=function(e,t){if(Zv.debug("init clients"),this._kinesis&&this._config.credentials&&this._config.credentials.sessionToken===t.sessionToken&&this._config.credentials.identityId===t.identityId)return Zv.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=t;var n=e.region,r=e.endpoint;return this._initKinesis(n,r,t)},e.prototype._initKinesis=function(e,t,n){return Zv.debug("initialize kinesis with credentials",n),this._kinesis=new Wv({region:e,credentials:n,customUserAgent:te(),endpoint:t}),!0},e.prototype._getCredentials=function(){var e=this;return fs.get().then((function(t){return t?(Zv.debug("set credentials for analytics",e._config.credentials),fs.shear(t)):null})).catch((function(e){return Zv.debug("ensure credentials error",e),null}))},e}(),Xv=function(){return Xv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Xv.apply(this,arguments)};function Qv(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function ey(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Qv(arguments[t]));return e}var ty=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,Xv({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,Xv({},e))})),n},i=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,ey(i(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,ey(i(e)))})),t},o={add:function(t,r){void 0===r&&(r={});var i=r.name,o=r.override,a=Xv({step:"initialize",priority:"normal",middleware:t},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var s=e.findIndex((function(e){return e.name===i})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'+i+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");e.splice(s,1)}n.add(i)}e.push(a)},addRelativeTo:function(e,r){var i=r.name,o=r.override,a=Xv({middleware:e},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var s=t.findIndex((function(e){return e.name===i})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'+i+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');t.splice(s,1)}n.add(i)}t.push(a)},clone:function(){return r(ty())},use:function(e){e.applyToStack(o)},remove:function(r){return"string"==typeof r?function(r){var i=!1,o=function(e){return!e.name||e.name!==r||(i=!0,n.delete(r),!1)};return e=e.filter(o),t=t.filter(o),i}(r):function(r){var i=!1,o=function(e){return e.middleware!==r||(i=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),i}(r)},removeByTag:function(r){var i=!1,o=function(e){var t=e.tags,o=e.name;return!t||!t.includes(r)||(o&&n.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:function(e){var t=r(ty());return t.use(e),t},applyToStack:r,resolve:function(n,r){var o,a;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(){var n=[],r=[],o={};e.forEach((function(e){var t=Xv(Xv({},e),{before:[],after:[]});t.name&&(o[t.name]=t),n.push(t)})),t.forEach((function(e){var t=Xv(Xv({},e),{before:[],after:[]});t.name&&(o[t.name]=t),r.push(t)})),r.forEach((function(e){if(e.toMiddleware){var t=o[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var a,s=(a=n,a.sort((function(e,t){return ny[t.step]-ny[e.step]||ry[t.priority||"normal"]-ry[e.priority||"normal"]}))).map(i).reduce((function(e,t){return e.push.apply(e,ey(t)),e}),[]);return s.map((function(e){return e.middleware}))}().reverse()),u=s.next();!u.done;u=s.next())n=(0,u.value)(n,r)}catch(e){o={error:e}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return n}};return o},ny={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},ry={high:3,normal:2,low:1},iy=function(){function e(e){this.middlewareStack=ty(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),oy=function(e,t){return oy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},oy(e,t)};function ay(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function sy(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ay(arguments[t]));return e}var uy=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,sy([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};uy.prototype=Object.create(String.prototype,{constructor:{value:uy,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(uy,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){function n(){this.constructor=e}oy(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(uy);var cy,ly,fy,dy,hy,py,vy,yy,gy,my,by,wy,Sy,Ey,_y,xy,Ay,Ty,Cy,Iy,Py,Oy,ky,Ry,Ly,Ny,Dy,My,jy,Uy,Fy,zy,By,qy,Ky,Hy,Gy,Vy,$y,Wy,Yy,Zy,Jy,Xy,Qy,eg,tg,ng,rg,ig,og,ag,sg,ug,cg,lg,fg,dg,hg,pg,vg,yg,gg,mg,bg,wg,Sg,Eg,_g,xg,Ag,Tg,Cg,Ig,Pg,Og,kg,Rg,Lg,Ng,Dg,Mg,jg,Ug,Fg,zg,Bg,qg,Kg,Hg,Gg,Vg,$g,Wg,Yg,Zg,Jg,Xg,Qg,em,tm,nm="***SensitiveInformation***";!function(e){e.filterSensitiveLog=function(e){return It({},e)}}(cy||(cy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ly||(ly={})),function(e){e.GZIP="GZIP",e.HADOOP_SNAPPY="HADOOP_SNAPPY",e.SNAPPY="Snappy",e.UNCOMPRESSED="UNCOMPRESSED",e.ZIP="ZIP"}(fy||(fy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(dy||(dy={})),function(e){e.GZIP="GZIP",e.NONE="NONE"}(hy||(hy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(py||(py={})),function(e){e.AWS_OWNED_CMK="AWS_OWNED_CMK",e.CUSTOMER_MANAGED_CMK="CUSTOMER_MANAGED_CMK"}(vy||(vy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(yy||(yy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(gy||(gy={})),function(e){e.BUFFER_INTERVAL_IN_SECONDS="BufferIntervalInSeconds",e.BUFFER_SIZE_IN_MB="BufferSizeInMBs",e.LAMBDA_ARN="LambdaArn",e.LAMBDA_NUMBER_OF_RETRIES="NumberOfRetries",e.ROLE_ARN="RoleArn"}(my||(my={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(by||(by={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(wy||(wy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Sy||(Sy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ey||(Ey={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(_y||(_y={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(xy||(xy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ay||(Ay={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ty||(Ty={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Cy||(Cy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Iy||(Iy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Py||(Py={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Oy||(Oy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ky||(ky={})),function(e){e.NONE="NONE",e.SNAPPY="SNAPPY",e.ZLIB="ZLIB"}(Ry||(Ry={})),function(e){e.V0_11="V0_11",e.V0_12="V0_12"}(Ly||(Ly={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ny||(Ny={})),function(e){e.GZIP="GZIP",e.SNAPPY="SNAPPY",e.UNCOMPRESSED="UNCOMPRESSED"}(Dy||(Dy={})),function(e){e.V1="V1",e.V2="V2"}(My||(My={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(jy||(jy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Uy||(Uy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Fy||(Fy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(zy||(zy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(By||(By={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(qy||(qy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ky||(Ky={})),function(e){e.filterSensitiveLog=function(e){return It(It(It({},e),e.Url&&{Url:nm}),e.AccessKey&&{AccessKey:nm})}}(Hy||(Hy={})),function(e){e.filterSensitiveLog=function(e){return It(It(It({},e),e.AttributeName&&{AttributeName:nm}),e.AttributeValue&&{AttributeValue:nm})}}(Gy||(Gy={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.CommonAttributes&&{CommonAttributes:e.CommonAttributes.map((function(e){return Gy.filterSensitiveLog(e)}))})}}(Vy||(Vy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}($y||($y={})),function(e){e.filterSensitiveLog=function(e){return It(It(It({},e),e.EndpointConfiguration&&{EndpointConfiguration:Hy.filterSensitiveLog(e.EndpointConfiguration)}),e.RequestConfiguration&&{RequestConfiguration:Vy.filterSensitiveLog(e.RequestConfiguration)})}}(Wy||(Wy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Yy||(Yy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Zy||(Zy={})),function(e){e.filterSensitiveLog=function(e){return It(It(It({},e),e.Username&&{Username:nm}),e.Password&&{Password:nm})}}(Jy||(Jy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Xy||(Xy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Qy||(Qy={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(eg||(eg={})),function(e){e.filterSensitiveLog=function(e){return It(It(It({},e),e.RedshiftDestinationConfiguration&&{RedshiftDestinationConfiguration:Jy.filterSensitiveLog(e.RedshiftDestinationConfiguration)}),e.HttpEndpointDestinationConfiguration&&{HttpEndpointDestinationConfiguration:Wy.filterSensitiveLog(e.HttpEndpointDestinationConfiguration)})}}(tg||(tg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ng||(ng={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(rg||(rg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ig||(ig={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(og||(og={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ag||(ag={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(sg||(sg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ug||(ug={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(cg||(cg={})),function(e){e.CREATE_ENI_FAILED="CREATE_ENI_FAILED",e.CREATE_KMS_GRANT_FAILED="CREATE_KMS_GRANT_FAILED",e.DELETE_ENI_FAILED="DELETE_ENI_FAILED",e.DISABLED_KMS_KEY="DISABLED_KMS_KEY",e.ENI_ACCESS_DENIED="ENI_ACCESS_DENIED",e.INVALID_KMS_KEY="INVALID_KMS_KEY",e.KMS_ACCESS_DENIED="KMS_ACCESS_DENIED",e.KMS_KEY_NOT_FOUND="KMS_KEY_NOT_FOUND",e.KMS_OPT_IN_REQUIRED="KMS_OPT_IN_REQUIRED",e.RETIRE_KMS_GRANT_FAILED="RETIRE_KMS_GRANT_FAILED",e.SECURITY_GROUP_ACCESS_DENIED="SECURITY_GROUP_ACCESS_DENIED",e.SECURITY_GROUP_NOT_FOUND="SECURITY_GROUP_NOT_FOUND",e.SUBNET_ACCESS_DENIED="SUBNET_ACCESS_DENIED",e.SUBNET_NOT_FOUND="SUBNET_NOT_FOUND",e.UNKNOWN_ERROR="UNKNOWN_ERROR"}(lg||(lg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(fg||(fg={})),function(e){e.DISABLED="DISABLED",e.DISABLING="DISABLING",e.DISABLING_FAILED="DISABLING_FAILED",e.ENABLED="ENABLED",e.ENABLING="ENABLING",e.ENABLING_FAILED="ENABLING_FAILED"}(dg||(dg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(hg||(hg={})),function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.CREATING_FAILED="CREATING_FAILED",e.DELETING="DELETING",e.DELETING_FAILED="DELETING_FAILED"}(pg||(pg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(vg||(vg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(yg||(yg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(gg||(gg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(mg||(mg={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.Url&&{Url:nm})}}(bg||(bg={})),function(e){e.filterSensitiveLog=function(e){return It(It(It({},e),e.EndpointConfiguration&&{EndpointConfiguration:bg.filterSensitiveLog(e.EndpointConfiguration)}),e.RequestConfiguration&&{RequestConfiguration:Vy.filterSensitiveLog(e.RequestConfiguration)})}}(wg||(wg={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.Username&&{Username:nm})}}(Sg||(Sg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Eg||(Eg={})),function(e){e.filterSensitiveLog=function(e){return It(It(It({},e),e.RedshiftDestinationDescription&&{RedshiftDestinationDescription:Sg.filterSensitiveLog(e.RedshiftDestinationDescription)}),e.HttpEndpointDestinationDescription&&{HttpEndpointDestinationDescription:wg.filterSensitiveLog(e.HttpEndpointDestinationDescription)})}}(_g||(_g={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(xg||(xg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ag||(Ag={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.Destinations&&{Destinations:e.Destinations.map((function(e){return _g.filterSensitiveLog(e)}))})}}(Tg||(Tg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Cg||(Cg={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.DeliveryStreamDescription&&{DeliveryStreamDescription:Tg.filterSensitiveLog(e.DeliveryStreamDescription)})}}(Ig||(Ig={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Pg||(Pg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Og||(Og={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(kg||(kg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Rg||(Rg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Lg||(Lg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ng||(Ng={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Dg||(Dg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Mg||(Mg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(jg||(jg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ug||(Ug={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Fg||(Fg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(zg||(zg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Bg||(Bg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(qg||(qg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Kg||(Kg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Hg||(Hg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Gg||(Gg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Vg||(Vg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}($g||($g={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Wg||(Wg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Yg||(Yg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Zg||(Zg={})),function(e){e.filterSensitiveLog=function(e){return It(It(It({},e),e.EndpointConfiguration&&{EndpointConfiguration:Hy.filterSensitiveLog(e.EndpointConfiguration)}),e.RequestConfiguration&&{RequestConfiguration:Vy.filterSensitiveLog(e.RequestConfiguration)})}}(Jg||(Jg={})),function(e){e.filterSensitiveLog=function(e){return It(It(It({},e),e.Username&&{Username:nm}),e.Password&&{Password:nm})}}(Xg||(Xg={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Qg||(Qg={})),function(e){e.filterSensitiveLog=function(e){return It(It(It({},e),e.RedshiftDestinationUpdate&&{RedshiftDestinationUpdate:Xg.filterSensitiveLog(e.RedshiftDestinationUpdate)}),e.HttpEndpointDestinationUpdate&&{HttpEndpointDestinationUpdate:Jg.filterSensitiveLog(e.HttpEndpointDestinationUpdate)})}}(em||(em={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(tm||(tm={}));var rm=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),im=function(){return im=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},im.apply(this,arguments)};function om(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var am=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(im(im({},this),{headers:im({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return im(im({},e),((r={})[n]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(om(arguments[t]));return e}(i):i,r))}),{}))),n},e}(),sm=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d;return kt(this,(function(h){switch(h.label){case 0:return r=[It({},e)],d={},[4,Sm(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(d.body=h.sent(),d)])),o="UnknownError",o=Em(e,n.body)){case"InvalidArgumentException":case"com.amazonaws.firehose#InvalidArgumentException":return[3,2];case"InvalidKMSResourceException":case"com.amazonaws.firehose#InvalidKMSResourceException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.firehose#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.firehose#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return a=[{}],[4,um(n,t)];case 3:return i=It.apply(void 0,[It.apply(void 0,a.concat([h.sent()])),{name:o,$metadata:bm(e)}]),[3,11];case 4:return s=[{}],[4,cm(n,t)];case 5:return i=It.apply(void 0,[It.apply(void 0,s.concat([h.sent()])),{name:o,$metadata:bm(e)}]),[3,11];case 6:return u=[{}],[4,lm(n,t)];case 7:return i=It.apply(void 0,[It.apply(void 0,u.concat([h.sent()])),{name:o,$metadata:bm(e)}]),[3,11];case 8:return c=[{}],[4,fm(n,t)];case 9:return i=It.apply(void 0,[It.apply(void 0,c.concat([h.sent()])),{name:o,$metadata:bm(e)}]),[3,11];case 10:l=n.body,o=l.code||l.Code||o,i=It(It({},l),{name:""+o,message:l.message||l.Message||o,$fault:"client",$metadata:bm(e)}),h.label=11;case 11:return f=i.message||i.Message||o,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}}))}))},um=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=pm(n,t),[2,It({name:"InvalidArgumentException",$fault:"client",$metadata:bm(e)},r)]}))}))},cm=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=vm(n,t),[2,It({name:"InvalidKMSResourceException",$fault:"client",$metadata:bm(e)},r)]}))}))},lm=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=gm(n,t),[2,It({name:"ResourceNotFoundException",$fault:"client",$metadata:bm(e)},r)]}))}))},fm=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=mm(n,t),[2,It({name:"ServiceUnavailableException",$fault:"server",$metadata:bm(e)},r)]}))}))},dm=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:hm(e,t)}))},hm=function(e,t){return It({},void 0!==e.Data&&null!==e.Data&&{Data:t.base64Encoder(e.Data)})},pm=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},vm=function(e,t){return{code:void 0!==e.code&&null!==e.code?e.code:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0}},ym=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ErrorCode:void 0!==e.ErrorCode&&null!==e.ErrorCode?e.ErrorCode:void 0,ErrorMessage:void 0!==e.ErrorMessage&&null!==e.ErrorMessage?e.ErrorMessage:void 0,RecordId:void 0!==e.RecordId&&null!==e.RecordId?e.RecordId:void 0}}(e)}))},gm=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},mm=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},bm=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},wm=function(e,t,n,r,i){return Ot(void 0,void 0,void 0,(function(){var o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return o=f.sent(),a=o.hostname,s=o.protocol,u=void 0===s?"https":s,c=o.port,l={protocol:u,hostname:a,port:c,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==i&&(l.body=i),[2,new am(l)]}}))}))},Sm=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Em=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==i?r(e.headers[i]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},_m=function(){return _m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_m.apply(this,arguments)};function xm(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Am(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Tm={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Cm={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};var Im=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){var r,i,o;this.middlewareStack.use((r=t,i=this.serialize,o=this.deserialize,{applyToStack:function(e){e.add(function(e,t){return function(n,r){return function(r){return xm(void 0,void 0,void 0,(function(){var i,o;return Am(this,(function(a){switch(a.label){case 0:return[4,n(r)];case 1:return i=a.sent().response,[4,t(i,e)];case 2:return o=a.sent(),[2,{response:i,output:o}]}}))}))}}}(r,o),Tm),e.add(function(e,t){return function(n,r){return function(r){return xm(void 0,void 0,void 0,(function(){var i;return Am(this,(function(o){switch(o.label){case 0:return[4,t(r.input,e)];case 1:return i=o.sent(),[2,n(_m(_m({},r),{request:i}))]}}))}))}}}(r,i),Cm)}}));var a=e.concat(this.middlewareStack),s={logger:t.logger,clientName:"FirehoseClient",commandName:"PutRecordBatchCommand",inputFilterSensitiveLog:zg.filterSensitiveLog,outputFilterSensitiveLog:qg.filterSensitiveLog},u=t.requestHandler;return a.resolve((function(e){return u.handle(e.request,n||{})}),s)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Firehose_20150804.PutRecordBatch"},r=JSON.stringify(function(e,t){return It(It({},void 0!==e.DeliveryStreamName&&null!==e.DeliveryStreamName&&{DeliveryStreamName:e.DeliveryStreamName}),void 0!==e.Records&&null!==e.Records&&{Records:dm(e.Records,t)})}(e,t)),[2,wm(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i;return kt(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,sm(e,t)]:[4,Sm(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{Encrypted:void 0!==e.Encrypted&&null!==e.Encrypted?e.Encrypted:void 0,FailedPutCount:void 0!==e.FailedPutCount&&null!==e.FailedPutCount?e.FailedPutCount:void 0,RequestResponses:void 0!==e.RequestResponses&&null!==e.RequestResponses?ym(e.RequestResponses,t):void 0}}(n,t),i=It({$metadata:bm(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}((function(){this.middlewareStack=ty()})),Pm=n(4298);function Om(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function km(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Rm=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,Lm)},Lm=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()},Nm=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var i=new Error("Request aborted");return i.name="AbortError",Promise.reject(i)}var o=e.path;if(e.query){var a=function(e){var t,n,r=[];try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var a=o.value,s=e[a];if(a=Rm(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push(a+"="+Rm(s[u]));else{var l=a;(s||"string"==typeof s)&&(l+="="+Rm(s)),r.push(l)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.join("&")}(e.query);a&&(o+="?"+a)}var s=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(s?":"+s:"")+o,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var f,d=new Request(c,l),h=[fetch(d).then((function(e){var t,n,r=e.headers,i={};try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r.entries()),a=o.next();!a.done;a=o.next()){var s=a.value;i[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new rm({headers:i,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new rm({headers:i,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(h)},e}();function Dm(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),a=o>-1?o+1:i.length;t(i.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var Mm=function(){return Mm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mm.apply(this,arguments)};function jm(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Um(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Fm(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var zm={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Bm=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],qm=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Km=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],Hm=[500,502,503,504],Gm=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||qm.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},Vm=n(5477),$m=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},Wm=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return Bm.includes(e.name)}(e)||Gm(e)||function(e){var t;return Km.includes(e.name)||Hm.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},Ym=function(){function e(e,t){var n,r,i,o,a,s,u;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:Wm,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:$m,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:(o=500,a=500,s=function(e){return"TimeoutError"===e.name?10:5},u=function(e){return s(e)<=a},Object.freeze({hasRetryTokens:u,retrieveRetryTokens:function(e){if(!u(e))throw new Error("No retry token available");var t=s(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,o)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return jm(this,void 0,void 0,(function(){var e;return Um(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return jm(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Um(this,(function(l){switch(l.label){case 0:return r=0,i=0,[4,this.getMaxAttempts()];case 1:o=l.sent(),a=t.request,am.isInstance(a)&&(a.headers["amz-sdk-invocation-id"]=(0,Vm.v4)()),s=function(){var s,c,l,f,d;return Um(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,5]),am.isInstance(a)&&(a.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+o),[4,e(t)];case 1:return s=h.sent(),c=s.response,l=s.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=i,[2,{value:{response:c,output:l}}];case 2:return f=h.sent(),r++,u.shouldRetry(f,r,o)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(Gm(f)?500:100,r),i+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return h.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=i,f;case 5:return[2]}}))},u=this,l.label=2;case 2:return[5,s()];case 3:return"object"==typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}();var Zm=n(9778),Jm="firehose.{region}.amazonaws.com",Xm=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Qm=new Set(["cn-north-1","cn-northwest-1"]),eb=new Set(["us-iso-east-1"]),tb=new Set(["us-isob-east-1"]),nb=new Set(["us-gov-east-1","us-gov-west-1"]);function rb(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var ib={apiVersion:"2015-08-04",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"firehose.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"firehose.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"firehose.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"firehose.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"firehose.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"firehose.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"firehose.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"firehose.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"firehose.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"firehose.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"firehose.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"firehose.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"firehose.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"firehose.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"firehose.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"firehose.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"firehose-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"firehose-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-east-1":n={hostname:"firehose-fips.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"fips-us-gov-west-1":n={hostname:"firehose-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-1":n={hostname:"firehose-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":n={hostname:"firehose-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":n={hostname:"firehose.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":n={hostname:"firehose.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"firehose.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"firehose.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"firehose.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":n={hostname:"firehose.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":n={hostname:"firehose.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"firehose.us-west-2.amazonaws.com",partition:"aws"};break;default:Xm.has(e)&&(n={hostname:Jm.replace("{region}",e),partition:"aws"}),Qm.has(e)&&(n={hostname:"firehose.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),eb.has(e)&&(n={hostname:"firehose.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),tb.has(e)&&(n={hostname:"firehose.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),nb.has(e)&&(n={hostname:"firehose.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:Jm.replace("{region}",e),partition:"aws"})}return Promise.resolve(It({signingService:"firehose"},n))},serviceId:"Firehose",urlParser:function(e){var t,n=new URL(e),r=n.hostname,i=n.pathname,o=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.split("&")),o=i.next();!o.done;o=i.next()){var a=rb(o.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:o?parseInt(o):void 0,protocol:a,path:i,query:t}}},ob=It(It({},ib),{runtime:"browser",base64Decoder:er,base64Encoder:tr,bodyLengthChecker:function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0},credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:function(e){var t=e.serviceId,n=e.clientVersion;return function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e,r,i,o,a,s,u,c,l;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(f){return e=(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?mr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(o=null==e?void 0:e.os)||void 0===o?void 0:o.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser",(null!==(u=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown")+"_"+(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}}({serviceId:ib.serviceId,clientVersion:"3.6.1"}),maxAttempts:3,region:function(){return Promise.reject("Region is missing")},requestHandler:new Nm,sha256:Pm.Sha256,streamCollector:function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return Om(this,void 0,void 0,(function(){var t,n;return km(this,(function(r){switch(r.label){case 0:return[4,Dm(e)];case 1:return t=r.sent(),n=er(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return Om(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return km(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=u.sent(),o=i.done,(a=i.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=o,[3,1];case 3:return[2,t]}}))}))}(e)},utf8Decoder:Zm.fromUtf8,utf8Encoder:Zm.toUtf8}),ab=function(){return ab=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ab.apply(this,arguments)};var sb=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var i=Promise.resolve(t);return function(){return i}}return t},ub=function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t,n,r,i,o;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(a){switch(a.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=a.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(i=(null!==(o=a.sent())&&void 0!==o?o:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+i)]}}))}))},cb=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},lb=function(){return lb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},lb.apply(this,arguments)};var fb="content-length",db={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},hb=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t,i,o,a,s;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(u){return t=r.request,am.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map((function(e){return e.toLowerCase()})).indexOf(fb)&&void 0!==(a=e(i))&&(t.headers=lb(lb({},t.headers),((s={})[fb]=String(a),s)))),[2,n(lb(lb({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),db)}}};var pb={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},vb=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,i;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(o){return am.isInstance(n.request)?(r=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),pb)}}};var yb=function(){return function(e,t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(d){switch(d.label){case 0:return r=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(c,["$metadata"]),a.info({clientName:r,commandName:i,input:o(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}},gb={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},mb=function(){return mb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mb.apply(this,arguments)};function bb(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function wb(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Sb=function(){return Sb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Sb.apply(this,arguments)};function Eb(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function _b(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function xb(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ab(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}for(var Tb={},Cb={},Ib=0;Ib<256;Ib++){var Pb=Ib.toString(16).toLowerCase();1===Pb.length&&(Pb="0"+Pb),Tb[Ib]=Pb,Cb[Pb]=Ib}function Ob(e){for(var t="",n=0;n<e.byteLength;n++)t+=Tb[e[n]];return t}var kb="X-Amz-Date",Rb="X-Amz-Signature",Lb="X-Amz-Security-Token",Nb="authorization",Db=kb.toLowerCase(),Mb=[Nb,Db,"date"],jb=Rb.toLowerCase(),Ub="x-amz-content-sha256",Fb=Lb.toLowerCase(),zb={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Bb=/^proxy-/,qb=/^sec-/,Kb="AWS4-HMAC-SHA256",Hb="AWS4-HMAC-SHA256-PAYLOAD",Gb="aws4_request",Vb={},$b=[];function Wb(e,t,n){return e+"/"+t+"/"+n+"/"+Gb}function Yb(e,t,n){var r=new e(t);return r.update(n),r.digest()}function Zb(e,t,n){var r,i,o=e.headers,a={};try{for(var s=xb(Object.keys(o).sort()),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.toLowerCase();(l in zb||(null==t?void 0:t.has(l))||Bb.test(l)||qb.test(l))&&(!n||n&&!n.has(l))||(a[l]=o[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a}function Jb(e,t){var n=e.headers,r=e.body;return Eb(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return _b(this,(function(l){switch(l.label){case 0:try{for(e=xb(Object.keys(n)),i=e.next();!i.done;i=e.next())if((o=i.value).toLowerCase()===Ub)return[2,n[o]]}catch(e){u={error:e}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=Ob,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function Xb(e){var t=e.headers,n=e.query,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["headers","query"]);return Sb(Sb({},r),{headers:Sb({},t),query:n?Qb(n):void 0})}function Qb(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return Sb(Sb({},t),((r={})[n]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ab(arguments[t]));return e}(i):i,r))}),{})}function ew(e){var t,n;e="function"==typeof e.clone?e.clone():Xb(e);try{for(var r=xb(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;Mb.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}var tw=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=iw(r),this.credentialProvider=ow(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Eb(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A;return _b(this,(function(T){switch(T.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=T.sent(),null==c?[3,2]:(h=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=T.sent(),T.label=4;case 4:return d=h,p=nw(r),v=p.longDate,y=p.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(g=Wb(y,d,null!=l?l:this.service),m=function(e,t){var n,r,i;void 0===t&&(t={});var o="function"==typeof e.clone?e.clone():Xb(e),a=o.headers,s=o.query,u=void 0===s?{}:s;try{for(var c=xb(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return Sb(Sb({},e),{headers:a,query:u})}(ew(e),{unhoistableHeaders:s}),f.sessionToken&&(m.query[Lb]=f.sessionToken),m.query["X-Amz-Algorithm"]=Kb,m.query["X-Amz-Credential"]=f.accessKeyId+"/"+g,m.query[kb]=v,m.query["X-Amz-Expires"]=o.toString(10),b=Zb(m,a,u),m.query["X-Amz-SignedHeaders"]=rw(b),w=m.query,S=Rb,E=this.getSignature,_=[v,g,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,A=[m,b],[4,Jb(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,A.concat([T.sent()]))]))];case 6:return w[S]=T.sent(),[2,m]}}))}))},e.prototype.sign=function(e,t){return Eb(this,void 0,void 0,(function(){return _b(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return Eb(this,void 0,void 0,(function(){var e,t,i,c,l,f,d,h,p,v,y;return _b(this,(function(g){switch(g.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=g.sent(),g.label=3;case 3:return e=t,i=nw(o),c=i.shortDate,l=i.longDate,f=Wb(c,e,null!=u?u:this.service),[4,Jb({headers:{},body:r},this.sha256)];case 4:return d=g.sent(),(h=new this.sha256).update(n),v=Ob,[4,h.digest()];case 5:return p=v.apply(void 0,[g.sent()]),y=[Hb,l,f,a,p,d].join("\n"),[2,this.signString(y,{signingDate:o,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,a=n.signingService;return Eb(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return _b(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=nw(i).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=Ob,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return Eb(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,h,p,v,y;return _b(this,(function(g){switch(g.label){case 0:return[4,this.credentialProvider()];case 1:return t=g.sent(),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=g.sent(),g.label=4;case 4:return n=r,c=ew(e),l=nw(i),f=l.longDate,d=l.shortDate,h=Wb(d,n,null!=u?u:this.service),c.headers[Db]=f,t.sessionToken&&(c.headers[Fb]=t.sessionToken),[4,Jb(c,this.sha256)];case 5:return p=g.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=xb(Object.keys(t)),o=i.next();!o.done;o=i.next())if(e===o.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(Ub,c.headers)&&this.applyChecksum&&(c.headers[Ub]=p),v=Zb(c,a,o),[4,this.getSignature(f,h,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,p))];case 6:return y=g.sent(),c.headers[Nb]=Kb+" Credential="+t.accessKeyId+"/"+h+", SignedHeaders="+rw(v)+", Signature="+y,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],a={},s=function(e){if(e.toLowerCase()===jb)return"continue";o.push(e);var t=i[e];"string"==typeof t?a[e]=Rm(e)+"="+Rm(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([Rm(e)+"="+Rm(n)])}),[]).join("&"))};try{for(var u=xb(Object.keys(i).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return Eb(this,void 0,void 0,(function(){var r,i;return _b(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,Kb+"\n"+e+"\n"+t+"\n"+Ob(i)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return Eb(this,void 0,void 0,(function(){var i,o,a,s,u;return _b(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(o=new(s.apply(a,[void 0,c.sent()]))).update(i),u=Ob,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){return Eb(void 0,void 0,void 0,(function(){var o,a,s,u,c,l,f,d,h;return _b(this,(function(p){switch(p.label){case 0:return[4,Yb(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=p.sent(),(a=n+":"+r+":"+i+":"+Ob(o)+":"+t.sessionToken)in Vb)return[2,Vb[a]];for($b.push(a);$b.length>50;)delete Vb[$b.shift()];s="AWS4"+t.secretAccessKey,p.label=2;case 2:p.trys.push([2,7,8,9]),u=xb([n,r,i,Gb]),c=u.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,Yb(e,s,l)]);case 4:s=p.sent(),p.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=p.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,Vb[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),nw=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},rw=function(e){return Object.keys(e).sort().join(";")},iw=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},ow=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function aw(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}function sw(e){return function(t,n){return function(r){return bb(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d;return wb(this,(function(h){switch(h.label){case 0:return am.isInstance(r.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(r)];case 1:return o=h.sent(),[3,3];case 2:o=e.signer,h.label=3;case 3:return i=o,s=t,u=[mb({},r)],d={},[4,i.sign(r.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,s.apply(void 0,[mb.apply(void 0,u.concat([(d.request=h.sent(),d)]))])];case 5:return a=h.sent(),c=a.response.headers,(l=c&&(c.date||c.Date))&&(p=f=Date.parse(l),v=e.systemClockOffset,Math.abs(function(e){return new Date(Date.now()+e)}(v).getTime()-p)>=3e5&&(e.systemClockOffset=f-Date.now())),[2,a]}var p,v}))}))}}}var uw={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},cw=function(){return cw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},cw.apply(this,arguments)};function lw(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function fw(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(lw(arguments[t]));return e}var dw,hw,pw,vw,yw,gw,mw,bw,ww="user-agent",Sw=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Ew=function(e){var t=lw(e,2),n=t[0],r=t[1],i=n.indexOf("/"),o=n.substring(0,i),a=n.substring(i+1);return"api"===o&&(a=a.toLowerCase()),[o,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(Sw,"_")})).join("/")},_w={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},xw=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var i,o,a,s,u,c,l,f;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(d){switch(d.label){case 0:return i=r.request,am.isInstance(i)?(o=i.headers,a=(null===(l=null==t?void 0:t.userAgent)||void 0===l?void 0:l.map(Ew))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=d.sent().map(Ew),u=(null===(f=null==n?void 0:n.customUserAgent)||void 0===f?void 0:f.map(Ew))||[],o["x-amz-user-agent"]=fw(s,a,u).join(" "),c=fw(s.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&c&&(o[ww]=o[ww]?o[ww]+" "+c:c),[2,e(cw(cw({},r),{request:i}))]}}))}))}}),_w)}}},Aw=function(e){function t(t){var n,r,i,o=this,a=function(e){if(!e.region)throw new Error("Region is missing");return ab(ab({},e),{region:cb(e.region)})}(It(It({},ob),t)),s=function(e){var t;return ab(ab({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?sb(e):function(){return ub(e)},isCustomEndpoint:!!e.endpoint})}(a),u=function(e){var t,n=this,r=aw(e.credentials||e.credentialDefaultProvider(e)),i=e.signingEscapePath,o=void 0===i||i,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?aw(e.signer):function(){return aw(e.region)().then((function(t){return bb(n,void 0,void 0,(function(){return wb(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t,2),i=n[0],a=n[1],s=i.signingRegion,c=i.signingService;return e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId,new tw({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o})}))},mb(mb({},e),{systemClockOffset:s,signingEscapePath:o,credentials:r,signer:t})}(s),c=function(e){return cw(cw({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}((r=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}((n=u).maxAttempts),Mm(Mm({},n),{maxAttempts:r,retryStrategy:n.retryStrategy||new Ym(r)})));return(o=e.call(this,c)||this).config=c,o.middlewareStack.use((i=o.config,{applyToStack:function(e){e.addRelativeTo(sw(i),uw)}})),o.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return jm(void 0,void 0,void 0,(function(){var i;return Um(this,(function(o){return(null===(i=null==e?void 0:e.retryStrategy)||void 0===i?void 0:i.mode)&&(n.userAgent=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Fm(arguments[t]));return e}(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),zm)}}}(o.config)),o.middlewareStack.use(hb(o.config)),o.middlewareStack.use(vb(o.config)),o.middlewareStack.use((o.config,{applyToStack:function(e){e.add(yb(),gb)}})),o.middlewareStack.use(xw(o.config)),o}return xe(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(iy),Tw=new c("AWSKineisFirehoseProvider"),Cw=function(e){function t(t){return e.call(this,t)||this}return function(e,t){function n(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.getProviderName=function(){return"AWSKinesisFirehose"},t.prototype._sendEvents=function(e){var t=this;if(0!==e.length){var n=e[0],r=n.config,i=n.credentials;if(!this._init(r,i))return!1;var o={};e.map((function(e){var t=e.event,n=t.streamName,r=t.data;void 0===o[n]&&(o[n]=[]);var i=r&&"string"!=typeof r?JSON.stringify(r):r,a={Data:Yv(i)};o[n].push(a)})),Object.keys(o).map((function(e){Tw.debug("putting records to kinesis",e,"with records",o[e]),t._kinesisFirehose.send(new Im({Records:o[e],DeliveryStreamName:e})).then((function(t){return Tw.debug("Upload records to stream",e)})).catch((function(e){return Tw.debug("Failed to upload records to Kinesis",e)}))}))}},t.prototype._init=function(e,t){if(Tw.debug("init clients"),this._kinesisFirehose&&this._config.credentials&&this._config.credentials.sessionToken===t.sessionToken&&this._config.credentials.identityId===t.identityId)return Tw.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=t;var n=e.region;return this._initFirehose(n,t)},t.prototype._initFirehose=function(e,t){return Tw.debug("initialize kinesis firehose with credentials",t),this._kinesisFirehose=new Aw({apiVersion:"2015-08-04",region:e,credentials:t}),!0},t}(Jv);!function(e){e.filterSensitiveLog=function(e){return It({},e)}}(dw||(dw={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(hw||(hw={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(pw||(pw={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(vw||(vw={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(yw||(yw={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(gw||(gw={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(mw||(mw={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(bw||(bw={}));var Iw=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),Pw=function(){return Pw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pw.apply(this,arguments)};function Ow(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var kw=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(Pw(Pw({},this),{headers:Pw({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return Pw(Pw({},e),((r={})[n]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ow(arguments[t]));return e}(i):i,r))}),{}))),n},e}(),Rw=function(){return Rw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Rw.apply(this,arguments)};function Lw(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Nw(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Lw(arguments[t]));return e}var Dw=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,Rw({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,Rw({},e))})),n},i=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Nw(i(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Nw(i(e)))})),t},o={add:function(t,r){void 0===r&&(r={});var i=r.name,o=r.override,a=Rw({step:"initialize",priority:"normal",middleware:t},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var s=e.findIndex((function(e){return e.name===i})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'+i+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");e.splice(s,1)}n.add(i)}e.push(a)},addRelativeTo:function(e,r){var i=r.name,o=r.override,a=Rw({middleware:e},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var s=t.findIndex((function(e){return e.name===i})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'+i+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');t.splice(s,1)}n.add(i)}t.push(a)},clone:function(){return r(Dw())},use:function(e){e.applyToStack(o)},remove:function(r){return"string"==typeof r?function(r){var i=!1,o=function(e){return!e.name||e.name!==r||(i=!0,n.delete(r),!1)};return e=e.filter(o),t=t.filter(o),i}(r):function(r){var i=!1,o=function(e){return e.middleware!==r||(i=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),i}(r)},removeByTag:function(r){var i=!1,o=function(e){var t=e.tags,o=e.name;return!t||!t.includes(r)||(o&&n.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:function(e){var t=r(Dw());return t.use(e),t},applyToStack:r,resolve:function(n,r){var o,a;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(){var n=[],r=[],o={};e.forEach((function(e){var t=Rw(Rw({},e),{before:[],after:[]});t.name&&(o[t.name]=t),n.push(t)})),t.forEach((function(e){var t=Rw(Rw({},e),{before:[],after:[]});t.name&&(o[t.name]=t),r.push(t)})),r.forEach((function(e){if(e.toMiddleware){var t=o[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var a,s=(a=n,a.sort((function(e,t){return Mw[t.step]-Mw[e.step]||jw[t.priority||"normal"]-jw[e.priority||"normal"]}))).map(i).reduce((function(e,t){return e.push.apply(e,Nw(t)),e}),[]);return s.map((function(e){return e.middleware}))}().reverse()),u=s.next();!u.done;u=s.next())n=(0,u.value)(n,r)}catch(e){o={error:e}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return n}};return o},Mw={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},jw={high:3,normal:2,low:1},Uw=function(){function e(e){this.middlewareStack=Dw(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),Fw=function(e,t){return Fw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Fw(e,t)};function zw(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Bw(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zw(arguments[t]));return e}var qw=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Bw([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};qw.prototype=Object.create(String.prototype,{constructor:{value:qw,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(qw,String);var Kw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function n(){this.constructor=e}Fw(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))},t}(qw),Hw=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:return r=[It({},e)],c={},[4,Zw(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(c.body=l.sent(),c)])),o="UnknownError",o=Jw(e,n.body)){case"InvalidInputException":case"com.amazonaws.personalizeevents#InvalidInputException":return[3,2]}return[3,4];case 2:return a=[{}],[4,Gw(n,t)];case 3:return i=It.apply(void 0,[It.apply(void 0,a.concat([l.sent()])),{name:o,$metadata:Ww(e)}]),[3,5];case 4:s=n.body,o=s.code||s.Code||o,i=It(It({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:Ww(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}}))}))},Gw=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n;return kt(this,(function(r){return t={name:"InvalidInputException",$fault:"client",$metadata:Ww(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},Vw=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return It(It(It(It(It(It(It(It({},void 0!==e.eventId&&null!==e.eventId&&{eventId:e.eventId}),void 0!==e.eventType&&null!==e.eventType&&{eventType:e.eventType}),void 0!==e.eventValue&&null!==e.eventValue&&{eventValue:e.eventValue}),void 0!==e.impression&&null!==e.impression&&{impression:$w(e.impression,t)}),void 0!==e.itemId&&null!==e.itemId&&{itemId:e.itemId}),void 0!==e.properties&&null!==e.properties&&{properties:Kw.fromObject(e.properties)}),void 0!==e.recommendationId&&null!==e.recommendationId&&{recommendationId:e.recommendationId}),void 0!==e.sentAt&&null!==e.sentAt&&{sentAt:Math.round(e.sentAt.getTime()/1e3)})}(e,t)}))},$w=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:e}))},Ww=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Yw=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Zw=function(e,t){return function(e,t){return Yw(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Jw=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==i?r(e.headers[i]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},Xw=function(){return Xw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Xw.apply(this,arguments)};function Qw(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function eS(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var tS={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},nS={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};var rS=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){var r,i,o;this.middlewareStack.use((r=t,i=this.serialize,o=this.deserialize,{applyToStack:function(e){e.add(function(e,t){return function(n,r){return function(r){return Qw(void 0,void 0,void 0,(function(){var i,o;return eS(this,(function(a){switch(a.label){case 0:return[4,n(r)];case 1:return i=a.sent().response,[4,t(i,e)];case 2:return o=a.sent(),[2,{response:i,output:o}]}}))}))}}}(r,o),tS),e.add(function(e,t){return function(n,r){return function(r){return Qw(void 0,void 0,void 0,(function(){var i;return eS(this,(function(o){switch(o.label){case 0:return[4,t(r.input,e)];case 1:return i=o.sent(),[2,n(Xw(Xw({},r),{request:i}))]}}))}))}}}(r,i),nS)}}));var a=e.concat(this.middlewareStack),s={logger:t.logger,clientName:"PersonalizeEventsClient",commandName:"PutEventsCommand",inputFilterSensitiveLog:pw.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},u=t.requestHandler;return a.resolve((function(e){return u.handle(e.request,n||{})}),s)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:return n={"content-type":"application/json"},r="/events",i=JSON.stringify(It(It(It(It({},void 0!==e.eventList&&null!==e.eventList&&{eventList:Vw(e.eventList,t)}),void 0!==e.sessionId&&null!==e.sessionId&&{sessionId:e.sessionId}),void 0!==e.trackingId&&null!==e.trackingId&&{trackingId:e.trackingId}),void 0!==e.userId&&null!==e.userId&&{userId:e.userId})),[4,t.endpoint()];case 1:return o=l.sent(),a=o.hostname,s=o.protocol,u=void 0===s?"https":s,c=o.port,[2,new kw({protocol:u,hostname:a,port:c,method:"POST",headers:n,path:r,body:i})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n;return kt(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Hw(e,t)]:(n={$metadata:Ww(e)},[4,Yw(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}((function(){this.middlewareStack=Dw()})),iS=n(4199);function oS(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function aS(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var sS=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,uS)},uS=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()},cS=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var i=new Error("Request aborted");return i.name="AbortError",Promise.reject(i)}var o=e.path;if(e.query){var a=function(e){var t,n,r=[];try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var a=o.value,s=e[a];if(a=sS(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push(a+"="+sS(s[u]));else{var l=a;(s||"string"==typeof s)&&(l+="="+sS(s)),r.push(l)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.join("&")}(e.query);a&&(o+="?"+a)}var s=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(s?":"+s:"")+o,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var f,d=new Request(c,l),h=[fetch(d).then((function(e){var t,n,r=e.headers,i={};try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r.entries()),a=o.next();!a.done;a=o.next()){var s=a.value;i[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new Iw({headers:i,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new Iw({headers:i,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(h)},e}();function lS(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),a=o>-1?o+1:i.length;t(i.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var fS=function(){return fS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fS.apply(this,arguments)};function dS(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function hS(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function pS(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var vS={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},yS=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],gS=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],mS=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],bS=[500,502,503,504],wS=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||gS.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},SS=n(7686),ES=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},_S=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return yS.includes(e.name)}(e)||wS(e)||function(e){var t;return mS.includes(e.name)||bS.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},xS=function(){function e(e,t){var n,r,i,o,a,s,u;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:_S,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:ES,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:(o=500,a=500,s=function(e){return"TimeoutError"===e.name?10:5},u=function(e){return s(e)<=a},Object.freeze({hasRetryTokens:u,retrieveRetryTokens:function(e){if(!u(e))throw new Error("No retry token available");var t=s(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,o)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return dS(this,void 0,void 0,(function(){var e;return hS(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return dS(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return hS(this,(function(l){switch(l.label){case 0:return r=0,i=0,[4,this.getMaxAttempts()];case 1:o=l.sent(),a=t.request,kw.isInstance(a)&&(a.headers["amz-sdk-invocation-id"]=(0,SS.v4)()),s=function(){var s,c,l,f,d;return hS(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,5]),kw.isInstance(a)&&(a.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+o),[4,e(t)];case 1:return s=h.sent(),c=s.response,l=s.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=i,[2,{value:{response:c,output:l}}];case 2:return f=h.sent(),r++,u.shouldRetry(f,r,o)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(wS(f)?500:100,r),i+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return h.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=i,f;case 5:return[2]}}))},u=this,l.label=2;case 2:return[5,s()];case 3:return"object"==typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}();var AS=n(2109),TS="personalize-events.{region}.amazonaws.com",CS=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),IS=new Set(["cn-north-1","cn-northwest-1"]),PS=new Set(["us-iso-east-1"]),OS=new Set(["us-isob-east-1"]),kS=new Set(["us-gov-east-1","us-gov-west-1"]);function RS(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var LS={apiVersion:"2018-03-22",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;return CS.has(e)&&(n={hostname:TS.replace("{region}",e),partition:"aws"}),IS.has(e)&&(n={hostname:"personalize-events.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),PS.has(e)&&(n={hostname:"personalize-events.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),OS.has(e)&&(n={hostname:"personalize-events.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),kS.has(e)&&(n={hostname:"personalize-events.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:TS.replace("{region}",e),partition:"aws"}),Promise.resolve(It({signingService:"personalize"},n))},serviceId:"Personalize Events",urlParser:function(e){var t,n=new URL(e),r=n.hostname,i=n.pathname,o=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.split("&")),o=i.next();!o.done;o=i.next()){var a=RS(o.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:o?parseInt(o):void 0,protocol:a,path:i,query:t}}},NS=It(It({},LS),{runtime:"browser",base64Decoder:er,base64Encoder:tr,bodyLengthChecker:function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0},credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:function(e){var t=e.serviceId,n=e.clientVersion;return function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e,r,i,o,a,s,u,c,l;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(f){return e=(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?mr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(o=null==e?void 0:e.os)||void 0===o?void 0:o.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser",(null!==(u=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown")+"_"+(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}}({serviceId:LS.serviceId,clientVersion:"3.6.1"}),maxAttempts:3,region:function(){return Promise.reject("Region is missing")},requestHandler:new cS,sha256:iS.Sha256,streamCollector:function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return oS(this,void 0,void 0,(function(){var t,n;return aS(this,(function(r){switch(r.label){case 0:return[4,lS(e)];case 1:return t=r.sent(),n=er(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return oS(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return aS(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=u.sent(),o=i.done,(a=i.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=o,[3,1];case 3:return[2,t]}}))}))}(e)},utf8Decoder:AS.fromUtf8,utf8Encoder:AS.toUtf8}),DS=function(){return DS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},DS.apply(this,arguments)};var MS=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var i=Promise.resolve(t);return function(){return i}}return t},jS=function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t,n,r,i,o;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(a){switch(a.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=a.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(i=(null!==(o=a.sent())&&void 0!==o?o:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+i)]}}))}))},US=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},FS=function(){return FS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},FS.apply(this,arguments)};var zS="content-length",BS={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},qS=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t,i,o,a,s;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(u){return t=r.request,kw.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map((function(e){return e.toLowerCase()})).indexOf(zS)&&void 0!==(a=e(i))&&(t.headers=FS(FS({},t.headers),((s={})[zS]=String(a),s)))),[2,n(FS(FS({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),BS)}}};var KS={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},HS=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,i;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(o){return kw.isInstance(n.request)?(r=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),KS)}}};var GS=function(){return function(e,t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(d){switch(d.label){case 0:return r=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(c,["$metadata"]),a.info({clientName:r,commandName:i,input:o(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}},VS={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},$S=function(){return $S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$S.apply(this,arguments)};function WS(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function YS(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var ZS=function(){return ZS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ZS.apply(this,arguments)};function JS(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function XS(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function QS(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function eE(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}for(var tE={},nE={},rE=0;rE<256;rE++){var iE=rE.toString(16).toLowerCase();1===iE.length&&(iE="0"+iE),tE[rE]=iE,nE[iE]=rE}function oE(e){for(var t="",n=0;n<e.byteLength;n++)t+=tE[e[n]];return t}var aE="X-Amz-Date",sE="X-Amz-Signature",uE="X-Amz-Security-Token",cE="authorization",lE=aE.toLowerCase(),fE=[cE,lE,"date"],dE=sE.toLowerCase(),hE="x-amz-content-sha256",pE=uE.toLowerCase(),vE={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},yE=/^proxy-/,gE=/^sec-/,mE="AWS4-HMAC-SHA256",bE="AWS4-HMAC-SHA256-PAYLOAD",wE="aws4_request",SE={},EE=[];function _E(e,t,n){return e+"/"+t+"/"+n+"/"+wE}function xE(e,t,n){var r=new e(t);return r.update(n),r.digest()}function AE(e,t,n){var r,i,o=e.headers,a={};try{for(var s=QS(Object.keys(o).sort()),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.toLowerCase();(l in vE||(null==t?void 0:t.has(l))||yE.test(l)||gE.test(l))&&(!n||n&&!n.has(l))||(a[l]=o[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a}function TE(e,t){var n=e.headers,r=e.body;return JS(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return XS(this,(function(l){switch(l.label){case 0:try{for(e=QS(Object.keys(n)),i=e.next();!i.done;i=e.next())if((o=i.value).toLowerCase()===hE)return[2,n[o]]}catch(e){u={error:e}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=oE,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function CE(e){var t=e.headers,n=e.query,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["headers","query"]);return ZS(ZS({},r),{headers:ZS({},t),query:n?IE(n):void 0})}function IE(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return ZS(ZS({},t),((r={})[n]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(eE(arguments[t]));return e}(i):i,r))}),{})}function PE(e){var t,n;e="function"==typeof e.clone?e.clone():CE(e);try{for(var r=QS(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;fE.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}var OE=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=LE(r),this.credentialProvider=NE(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),JS(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A;return XS(this,(function(T){switch(T.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=T.sent(),null==c?[3,2]:(h=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=T.sent(),T.label=4;case 4:return d=h,p=kE(r),v=p.longDate,y=p.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(g=_E(y,d,null!=l?l:this.service),m=function(e,t){var n,r,i;void 0===t&&(t={});var o="function"==typeof e.clone?e.clone():CE(e),a=o.headers,s=o.query,u=void 0===s?{}:s;try{for(var c=QS(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return ZS(ZS({},e),{headers:a,query:u})}(PE(e),{unhoistableHeaders:s}),f.sessionToken&&(m.query[uE]=f.sessionToken),m.query["X-Amz-Algorithm"]=mE,m.query["X-Amz-Credential"]=f.accessKeyId+"/"+g,m.query[aE]=v,m.query["X-Amz-Expires"]=o.toString(10),b=AE(m,a,u),m.query["X-Amz-SignedHeaders"]=RE(b),w=m.query,S=sE,E=this.getSignature,_=[v,g,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,A=[m,b],[4,TE(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,A.concat([T.sent()]))]))];case 6:return w[S]=T.sent(),[2,m]}}))}))},e.prototype.sign=function(e,t){return JS(this,void 0,void 0,(function(){return XS(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return JS(this,void 0,void 0,(function(){var e,t,i,c,l,f,d,h,p,v,y;return XS(this,(function(g){switch(g.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=g.sent(),g.label=3;case 3:return e=t,i=kE(o),c=i.shortDate,l=i.longDate,f=_E(c,e,null!=u?u:this.service),[4,TE({headers:{},body:r},this.sha256)];case 4:return d=g.sent(),(h=new this.sha256).update(n),v=oE,[4,h.digest()];case 5:return p=v.apply(void 0,[g.sent()]),y=[bE,l,f,a,p,d].join("\n"),[2,this.signString(y,{signingDate:o,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,a=n.signingService;return JS(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return XS(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=kE(i).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=oE,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return JS(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,h,p,v,y;return XS(this,(function(g){switch(g.label){case 0:return[4,this.credentialProvider()];case 1:return t=g.sent(),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=g.sent(),g.label=4;case 4:return n=r,c=PE(e),l=kE(i),f=l.longDate,d=l.shortDate,h=_E(d,n,null!=u?u:this.service),c.headers[lE]=f,t.sessionToken&&(c.headers[pE]=t.sessionToken),[4,TE(c,this.sha256)];case 5:return p=g.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=QS(Object.keys(t)),o=i.next();!o.done;o=i.next())if(e===o.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(hE,c.headers)&&this.applyChecksum&&(c.headers[hE]=p),v=AE(c,a,o),[4,this.getSignature(f,h,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,p))];case 6:return y=g.sent(),c.headers[cE]=mE+" Credential="+t.accessKeyId+"/"+h+", SignedHeaders="+RE(v)+", Signature="+y,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],a={},s=function(e){if(e.toLowerCase()===dE)return"continue";o.push(e);var t=i[e];"string"==typeof t?a[e]=sS(e)+"="+sS(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([sS(e)+"="+sS(n)])}),[]).join("&"))};try{for(var u=QS(Object.keys(i).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return JS(this,void 0,void 0,(function(){var r,i;return XS(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,mE+"\n"+e+"\n"+t+"\n"+oE(i)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return JS(this,void 0,void 0,(function(){var i,o,a,s,u;return XS(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(o=new(s.apply(a,[void 0,c.sent()]))).update(i),u=oE,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){return JS(void 0,void 0,void 0,(function(){var o,a,s,u,c,l,f,d,h;return XS(this,(function(p){switch(p.label){case 0:return[4,xE(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=p.sent(),(a=n+":"+r+":"+i+":"+oE(o)+":"+t.sessionToken)in SE)return[2,SE[a]];for(EE.push(a);EE.length>50;)delete SE[EE.shift()];s="AWS4"+t.secretAccessKey,p.label=2;case 2:p.trys.push([2,7,8,9]),u=QS([n,r,i,wE]),c=u.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,xE(e,s,l)]);case 4:s=p.sent(),p.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=p.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,SE[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),kE=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},RE=function(e){return Object.keys(e).sort().join(";")},LE=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},NE=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function DE(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}function ME(e){return function(t,n){return function(r){return WS(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d;return YS(this,(function(h){switch(h.label){case 0:return kw.isInstance(r.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(r)];case 1:return o=h.sent(),[3,3];case 2:o=e.signer,h.label=3;case 3:return i=o,s=t,u=[$S({},r)],d={},[4,i.sign(r.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,s.apply(void 0,[$S.apply(void 0,u.concat([(d.request=h.sent(),d)]))])];case 5:return a=h.sent(),c=a.response.headers,(l=c&&(c.date||c.Date))&&(p=f=Date.parse(l),v=e.systemClockOffset,Math.abs(function(e){return new Date(Date.now()+e)}(v).getTime()-p)>=3e5&&(e.systemClockOffset=f-Date.now())),[2,a]}var p,v}))}))}}}var jE={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},UE=function(){return UE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},UE.apply(this,arguments)};function FE(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function zE(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(FE(arguments[t]));return e}var BE,qE,KE,HE="user-agent",GE=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,VE=function(e){var t=FE(e,2),n=t[0],r=t[1],i=n.indexOf("/"),o=n.substring(0,i),a=n.substring(i+1);return"api"===o&&(a=a.toLowerCase()),[o,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(GE,"_")})).join("/")},$E={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},WE=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var i,o,a,s,u,c,l,f;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(d){switch(d.label){case 0:return i=r.request,kw.isInstance(i)?(o=i.headers,a=(null===(l=null==t?void 0:t.userAgent)||void 0===l?void 0:l.map(VE))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=d.sent().map(VE),u=(null===(f=null==n?void 0:n.customUserAgent)||void 0===f?void 0:f.map(VE))||[],o["x-amz-user-agent"]=zE(s,a,u).join(" "),c=zE(s.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&c&&(o[HE]=o[HE]?o[HE]+" "+c:c),[2,e(UE(UE({},r),{request:i}))]}}))}))}}),$E)}}},YE=function(e){function t(t){var n,r,i,o=this,a=function(e){if(!e.region)throw new Error("Region is missing");return DS(DS({},e),{region:US(e.region)})}(It(It({},NS),t)),s=function(e){var t;return DS(DS({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?MS(e):function(){return jS(e)},isCustomEndpoint:!!e.endpoint})}(a),u=function(e){var t,n=this,r=DE(e.credentials||e.credentialDefaultProvider(e)),i=e.signingEscapePath,o=void 0===i||i,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?DE(e.signer):function(){return DE(e.region)().then((function(t){return WS(n,void 0,void 0,(function(){return YS(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t,2),i=n[0],a=n[1],s=i.signingRegion,c=i.signingService;return e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId,new OE({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o})}))},$S($S({},e),{systemClockOffset:s,signingEscapePath:o,credentials:r,signer:t})}(s),c=function(e){return UE(UE({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}((r=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}((n=u).maxAttempts),fS(fS({},n),{maxAttempts:r,retryStrategy:n.retryStrategy||new xS(r)})));return(o=e.call(this,c)||this).config=c,o.middlewareStack.use((i=o.config,{applyToStack:function(e){e.addRelativeTo(ME(i),jE)}})),o.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return dS(void 0,void 0,void 0,(function(){var i;return hS(this,(function(o){return(null===(i=null==e?void 0:e.retryStrategy)||void 0===i?void 0:i.mode)&&(n.userAgent=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pS(arguments[t]));return e}(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),vS)}}}(o.config)),o.middlewareStack.use(qS(o.config)),o.middlewareStack.use(HS(o.config)),o.middlewareStack.use((o.config,{applyToStack:function(e){e.add(GS(),VS)}})),o.middlewareStack.use(WE(o.config)),o}return xe(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Uw),ZE=n(8367),JE=n.n(ZE),XE=n(8446),QE=n.n(XE),e_="_awsct_uid",t_="_awsct_sid",n_=(new c("AmazonPersonalizeProvider"),function(){function e(e){void 0===e&&(e=""),this._isBrowser=Y().isBrowser,this._timerKey=(0,ul.v1)().substr(0,15),this._refreshTimer()}return e.prototype._refreshTimer=function(){this._timer&&clearInterval(this._timer);var e=this;this._timer=setInterval((function(){e._timerKey=(0,ul.v1)().substr(0,15)}),3e4)},e.prototype.storeValue=function(e,t){var n=new Date,r=new Date;r.setTime(n.getTime()+6048e5),sl.setItem(this._getCachePrefix(e),t,{expires:r.getTime()})},e.prototype.retrieveValue=function(e){return sl.getItem(this._getCachePrefix(e))},e.prototype._getCachePrefix=function(e){return this._isBrowser?e+"."+window.location.host:"peronslize"},e.prototype.getTimerKey=function(){return this._timerKey},e.prototype.updateSessionInfo=function(e,t){var n=t.userId,r=t.sessionId;if(this._isRequireNewSession(e,n,r)){var i=(0,ul.v1)();this.storeValue(e_,e),this.storeValue(t_,i),t.sessionId=i}else this._isRequireUpdateSessionInfo(e,n,r)&&this.storeValue(e_,e);t.userId=e},e.prototype._isRequireUpdateSessionInfo=function(e,t,n){return!JE()(n)&&JE()(t)&&!JE()(e)},e.prototype.retrieveSessionInfo=function(e){var t={};return t.trackingId=e,t.sessionId=this.retrieveValue(t_),t.userId=this.retrieveValue(e_),JE()(t.sessionId)&&(t.sessionId=(0,ul.v1)(),this.storeValue(t_,t.sessionId)),this.storeValue("_awsct",e),t},e.prototype._isRequireNewSession=function(e,t,n){var r=JE()(n),i=JE()(e)&&!JE()(t),o=!JE()(e)&&!JE()(t)&&!QE()(e,t);return r||i||o},e}());!function(e){e.PLAY="play",e.PAUSE="pause",e.ENDED="Ended"}(BE||(BE={})),function(e){e.IFRAME="IFRAME",e.VIDEO="VIDEO",e.AUDIO="AUDIO"}(qE||(qE={})),function(e){e.PLAY="Play",e.ENDED="Ended",e.PAUSE="Pause",e.TIME_WATCHED="TimeWatched"}(KE||(KE={}));var r_=function(){function e(e,t){var n;this.eventActionMapping=((n={})[KE.ENDED]=this.endedEventAction.bind(this),n[KE.PLAY]=this.playEventAction.bind(this),n[KE.PAUSE]=this.pauseEventAction.bind(this),n);var r=e.eventData;this._params=e,this._mediaElement=document.getElementById(r.properties.domElementId),this._started=!1,this._provider=t,{IFRAME:this._iframeMediaTracker,VIDEO:this._html5MediaTracker,AUDIO:this._html5MediaTracker}[this._mediaElement.tagName].bind(this)(),this._initYoutubeFrame()}return e.prototype._initYoutubeFrame=function(){this._youTubeIframeLoader={src:"https://www.youtube.com/iframe_api",loading:!1,loaded:!1,listeners:[],load:function(e){var t=this;if(this.listeners.push(e),this.loaded)setTimeout((function(){t.done()}));else if(!this.loading){this.loading=!0,window.onYouTubeIframeAPIReady=function(){t.loaded=!0,t.done()};var n=document.createElement("script");n.type="text/javascript",n.src=this.src,document.body.appendChild(n)}},done:function(){for(delete window.onYouTubeIframeAPIReady;this.listeners.length;)this.listeners.pop()(window.YT)}}},e.prototype._iframeMediaTracker=function(){var e=this;setInterval((function(){e._started&&e.recordEvent(qE.IFRAME,KE.TIME_WATCHED)}),3e3),this._youTubeIframeLoader.load((function(t){e._iframePlayer=new t.Player(e._mediaElement.id,{events:{onStateChange:e._onPlayerStateChange.bind(e)}})}))},e.prototype._onPlayerStateChange=function(e){var t={0:KE.ENDED,1:KE.PLAY,2:KE.PAUSE}[e.data];t&&this.eventActionMapping[t](qE.IFRAME)},e.prototype._html5MediaTracker=function(){var e=this;setInterval((function(){e._started&&e.recordEvent(qE.VIDEO,KE.TIME_WATCHED)}),3e3),this._mediaElement.addEventListener(BE.PLAY,(function(){e.eventActionMapping[KE.PLAY](qE.VIDEO)}),!1),this._mediaElement.addEventListener(BE.PAUSE,(function(){e.eventActionMapping[KE.PAUSE](qE.VIDEO)}),!1),this._mediaElement.addEventListener(BE.ENDED,(function(){e.eventActionMapping[KE.ENDED](qE.VIDEO)}),!1)},e.prototype.playEventAction=function(e){this._started=!0,this.recordEvent(e,KE.PLAY)},e.prototype.pauseEventAction=function(e){this._started=!1,this.recordEvent(e,KE.PAUSE)},e.prototype.endedEventAction=function(e){this._started=!1,this.recordEvent(e,KE.ENDED)},e.prototype.recordEvent=function(e,t){var n=Object.assign({},this._params),r=n.eventData;r.eventType=t,e===qE.VIDEO?(r.properties.timestamp=this._mediaElement.currentTime,r.properties.duration=this._mediaElement.duration):(r.properties.timestamp=this._financial(this._iframePlayer.getCurrentTime()),r.properties.duration=this._financial(this._iframePlayer.getDuration()));var i=parseFloat(r.properties.timestamp)/parseFloat(r.properties.duration);r.properties.eventValue=Number(i.toFixed(4)),delete r.properties.domElementId,this._provider.putToBuffer(n)},e.prototype._financial=function(e){return Number.parseFloat(e).toFixed(4)},e}(),i_=n(7361),o_=n.n(i_),a_=new c("AmazonPersonalizeProvider"),s_=function(){function e(e){this._buffer=[],this._config=e||{},this._config.flushSize=this._config.flushSize>0&&this._config.flushSize<=10?this._config.flushSize:5,this._config.flushInterval=this._config.flushInterval||5e3,this._sessionManager=new n_,JE()(this._config.trackingId)||(this._sessionInfo=this._sessionManager.retrieveSessionInfo(this._config.trackingId)),this._isBrowser=Y().isBrowser,this._setupTimer()}return e.prototype._setupTimer=function(){this._timer&&clearInterval(this._timer);var e=this._config.flushInterval,t=this;this._timer=setInterval((function(){t._sendFromBuffer()}),e)},e.prototype.record=function(e){return y(this,void 0,void 0,(function(){var t,n,r,i,o;return g(this,(function(a){switch(a.label){case 0:return[4,this._getCredentials()];case 1:return(t=a.sent())?(Object.assign(e,{config:this._config,credentials:t,sentAt:new Date}),n=e.event,r=n.eventType,i=n.properties,"Identify"===r?(this._sessionManager.updateSessionInfo(i&&i.userId?i.userId:"",this._sessionInfo),[2]):(JE()(e.event.userId)||this._sessionManager.updateSessionInfo(e.event.userId,this._sessionInfo),o=this.generateRequestParams(e,this._sessionInfo),"MediaAutoTrack"!==r?[3,7]:this._isBrowser?JE()(o_()(o,"eventData.properties.domElementId",null))?[3,3]:[4,this.isElementFullyLoaded(this.loadElement,o.eventData.properties.domElementId,500,5)]:[3,5])):[2,Promise.resolve(!1)];case 2:return a.sent()?new r_(o,this):a_.debug("Cannot find the media element."),[3,4];case 3:a_.debug("Missing domElementId field in 'properties' for MediaAutoTrack event type."),a.label=4;case 4:return[3,6];case 5:a_.debug("MediaAutoTrack only for browser"),a.label=6;case 6:return[2];case 7:return[2,this.putToBuffer(o)]}}))}))},e.prototype.loadElement=function(e){return new Promise((function(t,n){return document.getElementById(e)&&document.getElementById(e).clientHeight?t(!0):n(!0)}))},e.prototype.isElementFullyLoaded=function(e,t,n,r){var i=this;return new Promise((function(o,a){return e(t).then(o).catch((function(s){return r-1>0?(u=n,new Promise((function(e){return setTimeout(e,u)}))).then(i.isElementFullyLoaded.bind(null,e,t,n,r-1)).then(o).catch(a):a(s);var u}))}))},e.prototype.getCategory=function(){return"Analytics"},e.prototype.getProviderName=function(){return"AmazonPersonalize"},e.prototype.configure=function(e){a_.debug("configure Analytics",e);var t=e||{};return this._config=Object.assign({},this._config,t),JE()(this._config.trackingId)||(this._sessionInfo=this._sessionManager.retrieveSessionInfo(this._config.trackingId)),this._setupTimer(),this._config},e.prototype.generateRequestParams=function(e,t){var n={},r=e.event,i=r.eventType,o=r.properties;return n.eventData={eventType:i,properties:o},n.sessionInfo=t,n.sentAt=e.sentAt,n.credentials=e.credentials,n.config=e.config,n},e.prototype._sendEvents=function(e){var t=e.length;if(0!==t){var n=e[0],r=n.config,i=n.credentials,o=n.sessionInfo;if(!this._init(r,i))return!1;if(t>0){for(var a=[],s=0;s<t;s+=1){var u=e.shift(),c=this._generateSingleRecordPayload(u,o);a.push(c)}var l={};l.trackingId=o.trackingId,l.sessionId=o.sessionId,l.userId=o.userId,l.eventList=[],a.forEach((function(e){l.eventList.push(e)}));var f=new rS(l);this._personalize.send(f,(function(e){e?a_.debug("Failed to call putEvents in Personalize",e):a_.debug("Put events")}))}}else a_.debug("events array is empty, directly return")},e.prototype.putToBuffer=function(e){return this._buffer.length<this._config.flushSize?this._buffer.push(e):(this._buffer.push(e),this._sendFromBuffer()),Promise.resolve(!0)},e.prototype._sendFromBuffer=function(){var e=this,t=this._buffer.length;if(!(t<=0)){for(var n=[],r=null,i=[],o=0;o<t;o+=1){var a=this._buffer.shift(),s=a.credentials,u=a.sessionInfo;0===o?(i.push(a),r=s):QE()(u,this._sessionInfo)&&s.sessionToken===r.sessionToken&&s.identityId===r.identityId?(a_.debug("no change for cred, put event in the same group"),i.push(a)):(n.push(i),(i=[]).push(a),r=s,this._sessionInfo=u)}n.push(i),n.map((function(t){e._sendEvents(t)}))}},e.prototype._generateSingleRecordPayload=function(e,t){var n=e.eventData,r=e.sentAt,i={};return i.sentAt=r,i.properties=n.properties&&JSON.stringify(n.properties),i.eventId=this._sessionManager.getTimerKey()+t.sessionId,i.eventType=n.eventType,i},e.prototype._init=function(e,t){if(a_.debug("init clients"),this._personalize&&this._config.credentials&&this._config.credentials.sessionToken===t.sessionToken&&this._config.credentials.identityId===t.identityId)return a_.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=t;var n=e.region;return a_.debug("initialize personalize with credentials",t),this._personalize=new YE({region:n,credentials:t,customUserAgent:te()}),!0},e.prototype._getCredentials=function(){var e=this;return fs.get().then((function(t){return t?(a_.debug("set credentials for analytics",e._config.credentials),fs.shear(t)):null})).catch((function(e){return a_.debug("ensure credentials error",e),null}))},e}(),u_=function(e,t){return u_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},u_(e,t)};function c_(e,t){function n(){this.constructor=e}u_(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var l_,f_,d_,h_=function(){return h_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},h_.apply(this,arguments)};function p_(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function v_(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function y_(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g_(e){return e&&!!["provider"].find((function(t){return e.hasOwnProperty(t)}))}function m_(e){return void 0!==e.redirectSignIn}!function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"}(l_||(l_={})),function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError",e.AutoSignInError="autoSignInError"}(f_||(f_={})),function(e){e.API_KEY="API_KEY",e.AWS_IAM="AWS_IAM",e.OPENID_CONNECT="OPENID_CONNECT",e.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",e.AWS_LAMBDA="AWS_LAMBDA"}(d_||(d_={}));var b_=n(6489);function w_(e,t){void 0===t&&(t={});var n=function(e){return e&&"j"===e[0]&&":"===e[1]?e.substr(2):e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(e){}return e}var S_=function(){return S_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},S_.apply(this,arguments)},E_=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"==typeof e?b_.Q(e,t):"object"==typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=b_.Q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),w_(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=w_(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=S_(S_({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=b_.q(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=S_(S_({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=S_({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=b_.q(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();const __=E_;var x_,A_=Y().isBrowser,T_=function(){function e(e){void 0===e&&(e={}),this.cookies=new __,this.store=A_?window.localStorage:Object.create(null),this.cookies=e.req?new __(e.req.headers.cookie):new __,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map((function(t,n){return e.key(n)})).forEach((function(t){return e.removeItem(t)}))},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){switch(this.setLocalItem(e,t),e.split(".").pop()){case"LastAuthUser":case"accessToken":case"refreshToken":case"idToken":A_?this.setUniversalItem(e,t):this.setLocalItem(e,t)}},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t){this.cookies.set(e,t,{path:"/",sameSite:!0,secure:"localhost"!==window.location.hostname})},e}(),C_=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,i=t.Password,o=t.AuthParameters,a=t.ClientMetadata;this.validationData=n||{},this.authParameters=o||{},this.clientMetadata=a||{},this.username=r,this.password=i}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),I_=n(8764);if("undefined"!=typeof window&&window.crypto&&(x_=window.crypto),!x_&&"undefined"!=typeof window&&window.msCrypto&&(x_=window.msCrypto),!x_&&void 0!==n.g&&n.g.crypto&&(x_=n.g.crypto),!x_)try{x_=n(6249)}catch(e){}function P_(){if(x_){if("function"==typeof x_.getRandomValues)try{return x_.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof x_.randomBytes)try{return x_.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}var O_=function(){function e(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length}var t=e.prototype;return t.random=function(t){for(var n=[],r=0;r<t;r+=4)n.push(P_());return new e(n,t)},t.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")}(this)},e}(),k_=n(4626);const R_=L_;function L_(e,t){null!=e&&this.fromString(e,t)}function N_(){return new L_(null)}var D_,M_="undefined"!=typeof navigator;M_&&"Microsoft Internet Explorer"==navigator.appName?(L_.prototype.am=function(e,t,n,r,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,l=s*u+c*a;i=((u=a*u+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+s*c+(i>>>30),n[r++]=1073741823&u}return i},D_=30):M_&&"Netscape"!=navigator.appName?(L_.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},D_=26):(L_.prototype.am=function(e,t,n,r,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,l=s*u+c*a;i=((u=a*u+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+s*c,n[r++]=268435455&u}return i},D_=28),L_.prototype.DB=D_,L_.prototype.DM=(1<<D_)-1,L_.prototype.DV=1<<D_,L_.prototype.FV=Math.pow(2,52),L_.prototype.F1=52-D_,L_.prototype.F2=2*D_-52;var j_,U_,F_=new Array;for(j_="0".charCodeAt(0),U_=0;U_<=9;++U_)F_[j_++]=U_;for(j_="a".charCodeAt(0),U_=10;U_<36;++U_)F_[j_++]=U_;for(j_="A".charCodeAt(0),U_=10;U_<36;++U_)F_[j_++]=U_;function z_(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function B_(e,t){var n=F_[e.charCodeAt(t)];return null==n?-1:n}function q_(e){var t=N_();return t.fromInt(e),t}function K_(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function H_(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function G_(e){return I_.lW.from((new O_).random(e).toString(),"hex")}H_.prototype.convert=function(e){var t=N_();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(L_.ZERO)>0&&this.m.subTo(t,t),t},H_.prototype.revert=function(e){var t=N_();return e.copyTo(t),this.reduce(t),t},H_.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},H_.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},H_.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},L_.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},L_.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},L_.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var a=B_(e,r);a<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=a:o+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=n)>=this.DB&&(o-=this.DB))}this.clamp(),i&&L_.ZERO.subTo(this,this)},L_.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},L_.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},L_.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},L_.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},L_.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},L_.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},L_.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&L_.ZERO.subTo(t,t)},L_.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},L_.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=N_());var o=N_(),a=this.s,s=e.s,u=this.DB-K_(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,l=o[c-1];if(0!=l){var f=l*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),d=this.FV/f,h=(1<<this.F1)/f,p=1<<this.F2,v=n.t,y=v-c,g=null==t?N_():t;for(o.dlShiftTo(y,g),n.compareTo(g)>=0&&(n[n.t++]=1,n.subTo(g,n)),L_.ONE.dlShiftTo(c,g),g.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--y>=0;){var m=n[--v]==l?this.DM:Math.floor(n[v]*d+(n[v-1]+p)*h);if((n[v]+=o.am(0,m,n,y,0,c))<m)for(o.dlShiftTo(y,g),n.subTo(g,n);n[v]<--m;)n.subTo(g,n)}null!=t&&(n.drShiftTo(c,t),a!=s&&L_.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),a<0&&L_.ZERO.subTo(n,n)}}},L_.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},L_.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},L_.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(i=!0,o=z_(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=z_(n));return i?o:"0"},L_.prototype.negate=function(){var e=N_();return L_.ZERO.subTo(this,e),e},L_.prototype.abs=function(){return this.s<0?this.negate():this},L_.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},L_.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+K_(this[this.t-1]^this.s&this.DM)},L_.prototype.mod=function(e){var t=N_();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(L_.ZERO)>0&&e.subTo(t,t),t},L_.prototype.equals=function(e){return 0==this.compareTo(e)},L_.prototype.add=function(e){var t=N_();return this.addTo(e,t),t},L_.prototype.subtract=function(e){var t=N_();return this.subTo(e,t),t},L_.prototype.multiply=function(e){var t=N_();return this.multiplyTo(e,t),t},L_.prototype.divide=function(e){var t=N_();return this.divRemTo(e,t,null),t},L_.prototype.modPow=function(e,t,n){var r,i=e.bitLength(),o=q_(1),a=new H_(t);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6;var s=new Array,u=3,c=r-1,l=(1<<r)-1;if(s[1]=a.convert(this),r>1){var f=N_();for(a.sqrTo(s[1],f);u<=l;)s[u]=N_(),a.mulTo(f,s[u-2],s[u]),u+=2}var d,h,p=e.t-1,v=!0,y=N_();for(i=K_(e[p])-1;p>=0;){for(i>=c?d=e[p]>>i-c&l:(d=(e[p]&(1<<i+1)-1)<<c-i,p>0&&(d|=e[p-1]>>this.DB+i-c)),u=r;0==(1&d);)d>>=1,--u;if((i-=u)<0&&(i+=this.DB,--p),v)s[d].copyTo(o),v=!1;else{for(;u>1;)a.sqrTo(o,y),a.sqrTo(y,o),u-=2;u>0?a.sqrTo(o,y):(h=o,o=y,y=h),a.mulTo(y,s[d],o)}for(;p>=0&&0==(e[p]&1<<i);)a.sqrTo(o,y),h=o,o=y,y=h,--i<0&&(i=this.DB-1,--p)}var g=a.revert(o);return n(null,g),g},L_.ZERO=q_(0),L_.ONE=q_(1);var V_=/^[89a-f]/i,$_=function(){function e(e){this.N=new R_("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new R_("2",16),this.k=new R_(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=I_.lW.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)}))},t.generateRandomSmallA=function(){var e=G_(128).toString("hex");return new R_(e,16)},t.generateRandomString=function(){return G_(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var i=""+e+t+":"+this.randomPassword,o=this.hash(i),a=G_(16).toString("hex");this.SaltToHashDevices=this.padHex(new R_(a,16)),this.g.modPow(new R_(this.hexHash(this.SaltToHashDevices+o),16),this.N,(function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)}))},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,r){e&&t(e,null),r.mod(n.N).equals(R_.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)}))},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new R_(this.UHexHash,16)},t.hash=function(e){var t=new k_.Sha256;t.update(e);var n=t.digestSync(),r=I_.lW.from(n).toString("hex");return new Array(64-r.length).join("0")+r},t.hexHash=function(e){return this.hash(I_.lW.from(e,"hex"))},t.computehkdf=function(e,t){var n=I_.lW.concat([this.infoBits,I_.lW.from(String.fromCharCode(1),"utf8")]),r=new k_.Sha256(t);r.update(e);var i=r.digestSync(),o=new k_.Sha256(i);return o.update(n),o.digestSync().slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,i){var o=this;if(n.mod(this.N).equals(R_.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(R_.ZERO))throw new Error("U cannot be zero.");var a=""+this.poolName+e+":"+t,s=this.hash(a),u=new R_(this.hexHash(this.padHex(r)+s),16);this.calculateS(u,n,(function(e,t){e&&i(e,null);var n=o.computehkdf(I_.lW.from(o.padHex(t),"hex"),I_.lW.from(o.padHex(o.UValue),"hex"));i(null,n)}))},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,(function(i,o){i&&n(i,null),t.subtract(r.k.multiply(o)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,(function(e,t){e&&n(e,null),n(null,t.mod(r.N))}))}))},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof R_))throw new Error("Not a BigInteger");var t=e.compareTo(R_.ZERO)<0,n=e.abs().toString(16);if(n=n.length%2!=0?"0"+n:n,n=V_.test(n)?"00"+n:n,t){var r=n.split("").map((function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)})).join("");(n=new R_(r,16).add(R_.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},e}(),W_=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(I_.lW.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}();function Y_(e,t){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Y_(e,t)}var Z_=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Y_(t,n),r}(W_);function J_(e,t){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J_(e,t)}var X_=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,J_(t,n),r}(W_),Q_=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),ex="aws-amplify/5.0.4",tx={userAgent:ex+" js",product:"",navigator:null,isReactNative:!1};"undefined"!=typeof navigator&&navigator.product&&(tx.product=navigator.product||"",tx.navigator=navigator||null,"ReactNative"===navigator.product?(tx.userAgent=ex+" react-native",tx.isReactNative=!0):(tx.userAgent=ex+" js",tx.isReactNative=!1));var nx=function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,i=t.AccessToken,o=t.ClockDrift;if(null==i||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=i,this.clockDrift=void 0===o?this.calculateClockDrift():o}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),rx=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ix=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ox=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=ix[e.getUTCDay()],n=rx[e.getUTCMonth()],r=e.getUTCDate(),i=e.getUTCHours();i<10&&(i="0"+i);var o=e.getUTCMinutes();o<10&&(o="0"+o);var a=e.getUTCSeconds();return a<10&&(a="0"+a),t+" "+n+" "+r+" "+i+":"+o+":"+a+" UTC "+e.getUTCFullYear()},e}(),ax=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),sx={},ux=function(){function e(){}return e.setItem=function(e,t){return sx[e]=t,sx[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(sx,e)?sx[e]:void 0},e.removeItem=function(e){return delete sx[e]},e.clear=function(){return sx={}},e}(),cx=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=ux}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),lx="undefined"!=typeof navigator?tx.isReactNative?"react-native":navigator.userAgent:"nodejs",fx=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new cx).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),o={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",o,(function(e,r){if(e)return t.onFailure(e);var i=r.ChallengeName,o=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===i?(n.Session=r.Session,t.customChallenge(o)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,r,i=this,o=new $_(this.pool.getUserPoolName()),a=new ox,s={};null!=this.deviceKey&&(s.DEVICE_KEY=this.deviceKey),s.USERNAME=this.username,o.getLargeAValue((function(u,c){u&&t.onFailure(u),s.SRP_A=c.toString(16),"CUSTOM_AUTH"===i.authenticationFlowType&&(s.CHALLENGE_NAME="SRP_A");var l=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),f={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:s,ClientMetadata:l};i.getUserContextData(i.username)&&(f.UserContextData=i.getUserContextData(i.username)),i.client.request("InitiateAuth",f,(function(s,u){if(s)return t.onFailure(s);var c=u.ChallengeParameters;i.username=c.USER_ID_FOR_SRP,i.userDataKey=i.keyPrefix+"."+i.username+".userData",n=new R_(c.SRP_B,16),r=new R_(c.SALT,16),i.getCachedDeviceKeyAndPassword(),o.getPasswordAuthenticationKey(i.username,e.getPassword(),n,r,(function(e,n){e&&t.onFailure(e);var r=a.getNowString(),s=I_.lW.concat([I_.lW.from(i.pool.getUserPoolName(),"utf8"),I_.lW.from(i.username,"utf8"),I_.lW.from(c.SECRET_BLOCK,"base64"),I_.lW.from(r,"utf8")]),f=new k_.Sha256(n);f.update(s);var d=f.digestSync(),h=I_.lW.from(d).toString("base64"),p={};p.USERNAME=i.username,p.PASSWORD_CLAIM_SECRET_BLOCK=c.SECRET_BLOCK,p.TIMESTAMP=r,p.PASSWORD_CLAIM_SIGNATURE=h,null!=i.deviceKey&&(p.DEVICE_KEY=i.deviceKey);var v={ChallengeName:"PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:p,Session:u.Session,ClientMetadata:l};i.getUserContextData()&&(v.UserContextData=i.getUserContextData()),function e(t,n){return i.client.request("RespondToAuthChallenge",t,(function(r,o){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(p.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),e(t,n)):n(r,o)}))}(v,(function(e,n){return e?t.onFailure(e):i.authenticateUserInternal(n,o,t)}))}))}))}))},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var i=new $_(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),a={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData(this.username)&&(a.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",a,(function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,i,t)}))}else t.onFailure(new Error("PASSWORD parameter is required"))},t.authenticateUserInternal=function(e,t,n){var r=this,i=e.ChallengeName,o=e.ChallengeParameters;if("SMS_MFA"===i)return this.Session=e.Session,n.mfaRequired(i,o);if("SELECT_MFA_TYPE"===i)return this.Session=e.Session,n.selectMFAType(i,o);if("MFA_SETUP"===i)return this.Session=e.Session,n.mfaSetup(i,o);if("SOFTWARE_TOKEN_MFA"===i)return this.Session=e.Session,n.totpRequired(i,o);if("CUSTOM_CHALLENGE"===i)return this.Session=e.Session,n.customChallenge(o);if("NEW_PASSWORD_REQUIRED"===i){this.Session=e.Session;var a=null,s=null,u=[],c=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(o&&(a=JSON.parse(e.ChallengeParameters.userAttributes),s=JSON.parse(e.ChallengeParameters.requiredAttributes)),s)for(var l=0;l<s.length;l++)u[l]=s[l].substr(c.length);return n.newPasswordRequired(a,u)}if("DEVICE_SRP_AUTH"===i)return this.Session=e.Session,void this.getDeviceResponse(n);this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=i,this.cacheTokens();var f=e.AuthenticationResult.NewDeviceMetadata;if(null==f)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(i){if(i)return n.onFailure(i);var o={Salt:I_.lW.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:I_.lW.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=o.PasswordVerifier,r.deviceGroupKey=f.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:f.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:lx},(function(t,i){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))},t.completeNewPasswordChallenge=function(e,t,n,r){var i=this;if(!e)return n.onFailure(new Error("New password is required."));var o=new $_(this.pool.getUserPoolName()),a=o.getNewPasswordRequiredChallengeUserAttributePrefix(),s={};t&&Object.keys(t).forEach((function(e){s[a+e]=t[e]})),s.NEW_PASSWORD=e,s.USERNAME=this.username;var u={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:s,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,(function(e,t){return e?n.onFailure(e):i.authenticateUserInternal(t,o,n)}))},t.getDeviceResponse=function(e,t){var n=this,r=new $_(this.deviceGroupKey),i=new ox,o={};o.USERNAME=this.username,o.DEVICE_KEY=this.deviceKey,r.getLargeAValue((function(a,s){a&&e.onFailure(a),o.SRP_A=s.toString(16);var u={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:o,ClientMetadata:t,Session:n.Session};n.getUserContextData()&&(u.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",u,(function(t,o){if(t)return e.onFailure(t);var a=o.ChallengeParameters,s=new R_(a.SRP_B,16),u=new R_(a.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,s,u,(function(t,r){if(t)return e.onFailure(t);var s=i.getNowString(),u=I_.lW.concat([I_.lW.from(n.deviceGroupKey,"utf8"),I_.lW.from(n.deviceKey,"utf8"),I_.lW.from(a.SECRET_BLOCK,"base64"),I_.lW.from(s,"utf8")]),c=new k_.Sha256(r);c.update(u);var l=c.digestSync(),f=I_.lW.from(l).toString("base64"),d={};d.USERNAME=n.username,d.PASSWORD_CLAIM_SECRET_BLOCK=a.SECRET_BLOCK,d.TIMESTAMP=s,d.PASSWORD_CLAIM_SIGNATURE=f,d.DEVICE_KEY=n.deviceKey;var h={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:d,Session:o.Session};n.getUserContextData()&&(h.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",h,(function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))}))}))}))},t.confirmRegistration=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",i,(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,i={};i.USERNAME=this.username,i.ANSWER=e;var o=new $_(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var a={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,o,t)}))},t.sendMFACode=function(e,t,n,r){var i=this,o={};o.USERNAME=this.username,o.SMS_MFA_CODE=e;var a=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===a&&(o.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var s={ChallengeName:a,ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,(function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(i.signInUserSession=i.getCognitoUserSession(n.AuthenticationResult),i.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(i.signInUserSession);var r=new $_(i.pool.getUserPoolName());r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var o={Salt:I_.lW.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:I_.lW.from(r.getVerifierDevices(),"hex").toString("base64")};i.verifierDevices=o.PasswordVerifier,i.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.randomPassword=r.getRandomPassword(),i.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:lx},(function(e,r){return e?t.onFailure(e):(i.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(i.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(i.signInUserSession))}))}))}else i.getDeviceResponse(t)}))},t.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e,n){return e?t(e,null):r.getUserData((function(){return t(null,"SUCCESS",n)}),{bypassCache:!0})}))},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var r=[],i=0;i<n.UserAttributes.length;i++){var o={Name:n.UserAttributes[i].Name,Value:n.UserAttributes[i].Value},a=new ax(o);r.push(a)}return e(null,r)}))},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(n){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,n,e.clientMetadata):n()}))},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible(t).then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(r))}catch(t){return this.clearCachedUserData(),void e(t,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},t.deleteAttributes=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):n.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,(function(t,n){return t?e(t,null):e(null,n)}))},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken",i=n+".accessToken",o=n+".refreshToken",a=n+".clockDrift";if(this.storage.getItem(r)){var s=new X_({IdToken:this.storage.getItem(r)}),u=new Z_({AccessToken:this.storage.getItem(i)}),c=new Q_({RefreshToken:this.storage.getItem(o)}),l=parseInt(this.storage.getItem(a),0)||0,f=new nx({IdToken:s,AccessToken:u,RefreshToken:c,ClockDrift:l});if(f.isValid())return this.signInUserSession=f,e(null,this.signInUserSession);if(!c.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(c,e,t.clientMetadata)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var r=this,i=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,o={};o.REFRESH_TOKEN=e.getToken();var a="CognitoIdentityServiceProvider."+this.pool.getClientId(),s=a+".LastAuthUser";if(this.storage.getItem(s)){this.username=this.storage.getItem(s);var u=a+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(u),o.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:o,ClientMetadata:n};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,(function(t,n){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),i(t,null);if(n){var o=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(o,"RefreshToken")||(o.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(o),r.cacheTokens(),i(null,r.signInUserSession)}}))},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+"."+this.username+".clockDrift",o=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(o,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+".LastAuthUser",o=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(i),this.storage.removeItem(o)},t.getCognitoUserSession=function(e){var t=new X_(e),n=new Z_(e),r=new Q_(e);return new nx({IdToken:t,AccessToken:n,RefreshToken:r})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},t.confirmPassword=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",i,(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess("SUCCESS")}))},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))}))},t.signOut=function(e){var t=this;e&&"function"==typeof e?this.getSession((function(n,r){if(n)return e(n);t.revokeTokens((function(n){t.cleanClientData(),e(n)}))})):this.cleanClientData()},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(new Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(e){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,n=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},(function(e){if(e)return n(e);n()}))},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var i={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",i,(function(r,i){return r?t.onFailure(r):(n.Session=i.Session,"SMS_MFA"===e?t.mfaRequired(i.ChallengeName,i.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(i.ChallengeName,i.ChallengeParameters):void 0)}))},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))}))},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var i={};i.USERNAME=r.username;var o={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:i,Session:r.Session};r.getUserContextData()&&(o.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",o,(function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},e}();function dx(){}n(204),dx.prototype.userAgent=tx.userAgent;const hx=dx;function px(e){var t="function"==typeof Map?new Map:void 0;return px=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return vx(e,arguments,mx(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),gx(r,e)},px(e)}function vx(e,t,n){return vx=yx()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&gx(i,n.prototype),i},vx.apply(null,arguments)}function yx(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function gx(e,t){return gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gx(e,t)}function mx(e){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mx(e)}var bx=function(e){function t(t,n,r,i){var o;return(o=e.call(this,t)||this).code=n,o.name=r,o.statusCode=i,o}return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,gx(n,r),t;var n,r}(px(Error)),wx=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(r,i){n.request(e,t,(function(e,t){e?i(new bx(e.message,e.code,e.name,e.statusCode)):r(t)}))}))},t.requestWithRetry=function(e,t,n){var r,i,o=this;(r=[t],i=5e3,void 0===i&&(i=Ex),Sx((function(t){return new Promise((function(n,r){o.request(e,t,(function(e,t){e?r(e):n(t)}))}))}),r,function(e){return function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}(i))).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))},t.request=function(e,t,n){var r,i={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":hx.prototype.userAgent,"Cache-Control":"no-store"},o=Object.assign({},this.fetchOptions,{headers:i,method:"POST",mode:"cors",body:JSON.stringify(t)});fetch(this.endpoint,o).then((function(e){return r=e,e}),(function(e){if(e instanceof TypeError)throw new Error("Network error");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(r.ok)return n(null,e);var t=(e.__type||e.code).split("#").pop(),i=new Error(e.message||e.Message||null);return i.name=t,i.code=t,n(i)})).catch((function(e){if(r&&r.headers&&r.headers.get("x-amzn-errortype"))try{var t=r.headers.get("x-amzn-errortype").split(":")[0],i=new Error(r.status?r.status.toString():null);return i.code=t,i.name=t,i.statusCode=r.status,n(i)}catch(t){return n(e)}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return n(e)}))},e}();function Sx(e,t,n,r){if(void 0===r&&(r=1),"function"!=typeof e)throw Error("functionToRetry must be a function");return e.name,JSON.stringify(t),e.apply(void 0,t).catch((function(i){if(e.name,(o=i)&&o.nonRetryable)throw e.name,i;var o,a=n(r,t,i);if(e.name,!1!==a)return new Promise((function(e){return setTimeout(e,a)})).then((function(){return Sx(e,t,n,r+1)}));throw i}))}Error;var Ex=3e5,_x=function(){function e(e,t){var n=e||{},r=n.UserPoolId,i=n.ClientId,o=n.endpoint,a=n.fetchOptions,s=n.AdvancedSecurityDataCollectionFlag;if(!r||!i)throw new Error("Both UserPoolId and ClientId are required.");if(r.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw new Error("Invalid UserPoolId format.");var u=r.split("_")[0];this.userPoolId=r,this.clientId=i,this.client=new wx(u,o,a),this.advancedSecurityDataCollectionFlag=!1!==s,this.storage=e.Storage||(new cx).getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,i,o){var a=this,s={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:o};this.getUserContextData(e)&&(s.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",s,(function(t,n){if(t)return i(t,null);var r={Username:e,Pool:a,Storage:a.storage},o={user:new fx(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return i(null,o)}))},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new fx(n)}return null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),xx=n(895),Ax=function(){function e(e){if(!e.domain)throw new Error("The domain of cookieStorage can not be undefined.");if(this.domain=e.domain,e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),xx.set(e,t,n),xx.get(e)},t.getItem=function(e){return xx.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),xx.remove(e,t)},t.clear=function(){for(var e=xx.get(),t=Object.keys(e).length,n=0;n<t;++n)this.removeItem(Object.keys(e)[n]);return{}},e}(),Tx=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},Cx=n(1938),Ix="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Px=function(e,t,n){_.dispatch("auth",{event:e,data:t,message:n},"Auth",Ix)},Ox=new c("OAuth"),kx=function(){function e(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,i=void 0===r?[]:r;if(this._urlOpener=t.urlOpener||Tx,this._config=t,this._cognitoClientId=n,!this.isValidScopes(i))throw Error("scopes must be a String Array");this._scopes=i}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))},e.prototype.oauthSignIn=function(e,t,n,r,i,o){void 0===e&&(e="code"),void 0===i&&(i=l_.Cognito);var a=this._generateState(32),s=o?a+"-"+o.split("").map((function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")})).join(""):a;!function(e){window.sessionStorage.setItem("oauth_state",e)}(s);var u,c=this._generateRandom(128);u=c,window.sessionStorage.setItem("ouath_pkce_key",u);var l=this._generateChallenge(c),f=this._scopes.join(" "),d=Object.entries(h_(h_({redirect_uri:n,response_type:e,client_id:r,identity_provider:i,scope:f,state:s},"code"===e?{code_challenge:l}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map((function(e){var t=y_(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),h="https://"+t+"/oauth2/authorize?"+d;Ox.debug("Redirecting to "+h),this._urlOpener(h,n)},e.prototype._handleCodeFlow=function(e){return p_(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,d,h,p;return v_(this,(function(v){switch(v.label){case 0:return t=((0,N.Qc)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=y_(t,2),i=r[0],o=r[1];return h_(h_({},e),((n={})[i]=o,n))}),{code:void 0}).code,n=(0,N.Qc)(e).pathname||"/",r=(0,N.Qc)(this._config.redirectSignIn).pathname||"/",t&&n===r?(i="https://"+this._config.domain+"/oauth2/token",Px("codeFlow",{},"Retrieving tokens from "+i),o=m_(this._config)?this._cognitoClientId:this._config.clientID,a=m_(this._config)?this._config.redirectSignIn:this._config.redirectUri,y=window.sessionStorage.getItem("ouath_pkce_key"),window.sessionStorage.removeItem("ouath_pkce_key"),u=h_({grant_type:"authorization_code",code:t,client_id:o,redirect_uri:a},(s=y)?{code_verifier:s}:{}),Ox.debug("Calling token endpoint: "+i+" with",u),c=Object.entries(u).map((function(e){var t=y_(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),[4,fetch(i,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c})]):[2];case 1:return[4,v.sent().json()];case 2:if(l=v.sent(),f=l.access_token,d=l.refresh_token,h=l.id_token,p=l.error)throw new Error(p);return[2,{accessToken:f,refreshToken:d,idToken:h}]}var y}))}))},e.prototype._handleImplicitFlow=function(e){return p_(this,void 0,void 0,(function(){var t,n,r;return v_(this,(function(i){return t=((0,N.Qc)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=y_(t,2),i=r[0],o=r[1];return h_(h_({},e),((n={})[i]=o,n))}),{id_token:void 0,access_token:void 0}),n=t.id_token,r=t.access_token,Px("implicitFlow",{},"Got tokens from "+e),Ox.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:r,idToken:n,refreshToken:null}]}))}))},e.prototype.handleAuthResponse=function(e){return p_(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return v_(this,(function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),t=e?h_(h_({},((0,N.Qc)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=y_(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})),((0,N.Qc)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=y_(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})):{},n=t.error,r=t.error_description,n)throw new Error(r);return i=this._validateState(t),Ox.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(o=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,h_.apply(void 0,[h_.apply(void 0,o.concat([u.sent()])),{state:i}])];case 2:return a=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,h_.apply(void 0,[h_.apply(void 0,a.concat([u.sent()])),{state:i}])];case 4:return[3,6];case 5:throw s=u.sent(),Ox.error("Error handling auth response.",s),s;case 6:return[2]}}))}))},e.prototype._validateState=function(e){if(e){var t,n=(t=window.sessionStorage.getItem("oauth_state"),window.sessionStorage.removeItem("oauth_state"),t),r=e.state;if(n&&n!==r)throw new Error("Invalid state in OAuth flow");return r}},e.prototype.signOut=function(){return p_(this,void 0,void 0,(function(){var e,t,n;return v_(this,(function(r){return e="https://"+this._config.domain+"/logout?",t=m_(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=m_(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map((function(e){var t=y_(e,2);return t[0]+"="+t[1]})).join("&"),Px("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),Ox.debug("Signing out from "+e),[2,this._urlOpener(e,n)]}))}))},e.prototype._generateState=function(e){for(var t="",n=e,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)t+=r[Math.round(Math.random()*(r.length-1))];return t},e.prototype._generateChallenge=function(e){var t=new Cx.Sha256;t.update(e);var n=t.digestSync(),r=I_.lW.from(n).toString("base64");return this._base64URL(r)},e.prototype._base64URL=function(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~".length|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<e.byteLength;r+=1){var i=e[r]%t.length;n.push(t[i])}return n.join("")},e}();const Rx=kx;var Lx;!function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",e.AUTOSIGNIN_ERROR="Please use your credentials to sign in"}(Lx||(Lx={}));var Nx=new c("AuthError"),Dx=function(e){function t(n){var r=this,i=jx[n],o=i.message,a=i.log;return(r=e.call(this,o)||this).constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="AuthError",r.log=a||o,Nx.error(r.log),r}return c_(t,e),t}(Error),Mx=function(e){function t(n){var r=e.call(this,n)||this;return r.constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="NoUserPoolError",r}return c_(t,e),t}(Dx),jx={noConfig:{message:Lx.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:Lx.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:Lx.EMPTY_USERNAME},invalidUsername:{message:Lx.INVALID_USERNAME},emptyPassword:{message:Lx.EMPTY_PASSWORD},emptyCode:{message:Lx.EMPTY_CODE},signUpError:{message:Lx.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:Lx.NO_MFA},invalidMFA:{message:Lx.INVALID_MFA},emptyChallengeResponse:{message:Lx.EMPTY_CHALLENGE},noUserSession:{message:Lx.NO_USER_SESSION},deviceConfig:{message:Lx.DEVICE_CONFIG},networkError:{message:Lx.NETWORK_ERROR},autoSignInError:{message:Lx.AUTOSIGNIN_ERROR},default:{message:Lx.DEFAULT_MSG}},Ux=new c("AuthClass"),Fx="aws.cognito.signin.user.admin",zx="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Bx=function(e,t,n){_.dispatch("auth",{event:e,data:t,message:n},"Auth",zx)},qx=function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.inflightSessionPromise=null,this.inflightSessionPromiseCounter=0,this.Credentials=fs,this.wrapRefreshSessionCallback=function(e){return function(t,n){return n?Bx("tokenRefresh",void 0,"New token retrieved"):Bx("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,n)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),_.listen("auth",(function(e){switch(e.payload.event){case"verify":case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}}))}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};Ux.debug("configure Auth");var n=Object.assign({},this._config,A(e).Auth,e);this._config=n;var r=this._config,i=r.userPoolId,o=r.userPoolWebClientId,a=r.cookieStorage,s=r.oauth,u=r.region,c=r.identityPoolId,l=r.mandatorySignIn,f=r.refreshHandlers,d=r.identityPoolRegion,h=r.clientMetadata,p=r.endpoint;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw Ux.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}else this._storage=a?new Ax(a):e.ssr?new T_:(new ie).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),i){var v={UserPoolId:i,ClientId:o,endpoint:p};v.Storage=this._storage,this.userPool=new _x(v,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:l,region:u,userPoolId:i,identityPoolId:c,refreshHandlers:f,storage:this._storage,identityPoolRegion:d});var y=s?m_(this._config.oauth)?s:s.awsCognito:void 0;if(y){var g=Object.assign({cognitoClientId:o,UserPoolId:i,domain:y.domain,scopes:y.scope,redirectSignIn:y.redirectSignIn,redirectSignOut:y.redirectSignOut,responseType:y.responseType,Storage:this._storage,urlOpener:y.urlOpener,clientMetadata:h},y.options);this._oAuthHandler=new Rx({scopes:g.scopes,config:g,cognitoClientId:g.cognitoClientId});var m={};!function(e){if(Y().isBrowser&&window.location)!function(e){var n=e.url;m[n]||(m[n]=!0,t._handleAuthResponse(n))}({url:window.location.href});else if(!Y().isNode)throw new Error("Not supported")}()}return Bx("configured",null,"The Auth category has been configured successfully"),this.autoSignInInitiated||"function"!=typeof this._storage.getItem||(this.isTrueStorageValue("amplify-polling-started")&&(Bx("autoSignIn_failure",null,f_.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started")),this._config},e.prototype.signUp=function(e){for(var t,n,r,i=this,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];if(!this.userPool)return this.rejectNoUserPool();var s,u=null,c=null,l=[],f=null,d={enabled:!1},h={},p={};if(e&&"string"==typeof e){u=e,c=o?o[0]:null;var v=o?o[1]:null,y=o?o[2]:null;v&&l.push(new ax({Name:"email",Value:v})),y&&l.push(new ax({Name:"phone_number",Value:y}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(f_.SignUpError);u=e.username,c=e.password,e&&e.clientMetadata?s=e.clientMetadata:this._config.clientMetadata&&(s=this._config.clientMetadata);var g=e.attributes;g&&Object.keys(g).map((function(e){l.push(new ax({Name:e,Value:g[e]}))}));var m=e.validationData;m&&(f=[],Object.keys(m).map((function(e){f.push(new ax({Name:e,Value:m[e]}))}))),(d=null!==(t=e.autoSignIn)&&void 0!==t?t:{enabled:!1}).enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),h=null!==(n=d.validationData)&&void 0!==n?n:{},p=null!==(r=d.clientMetaData)&&void 0!==r?r:{})}return u?c?(Ux.debug("signUp attrs:",l),Ux.debug("signUp validation data:",f),new Promise((function(e,t){i.userPool.signUp(u,c,l,f,(function(n,r){n?(Bx("signUp_failure",n,u+" failed to signup"),t(n)):(Bx("signUp",r,u+" has signed up successfully"),d.enabled&&i.handleAutoSignIn(u,c,h,p,r),e(r))}),s)}))):this.rejectAuthError(f_.EmptyPassword):this.rejectAuthError(f_.EmptyUsername)},e.prototype.handleAutoSignIn=function(e,t,n,r,i){this.autoSignInInitiated=!0;var o=new C_({Username:e,Password:t,ValidationData:n,ClientMetadata:r});i.userConfirmed?this.signInAfterUserConfirmed(o):"link"===this._config.signUpVerificationMethod?this.handleLinkAutoSignIn(o):this.handleCodeAutoSignIn(o)},e.prototype.handleCodeAutoSignIn=function(e){var t=this,n=function(r){"confirmSignUp"===r.payload.event&&t.signInAfterUserConfirmed(e,n)};_.listen("auth",n)},e.prototype.handleLinkAutoSignIn=function(e){var t=this;this._storage.setItem("amplify-polling-started","true");var n=Date.now(),r=setInterval((function(){Date.now()-n>18e4?(clearInterval(r),Bx("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),t._storage.removeItem("amplify-auto-sign-in")):t.signInAfterUserConfirmed(e,null,r)}),5e3)},e.prototype.signInAfterUserConfirmed=function(e,t,n){return p_(this,void 0,void 0,(function(){var r,i,o=this;return v_(this,(function(a){switch(a.label){case 0:r=this.createCognitoUser(e.getUsername()),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r.authenticateUser(e,this.authCallbacks(r,(function(r){Bx("autoSignIn",r,e.getUsername()+" has signed in successfully"),t&&_.remove("auth",t),n&&(clearInterval(n),o._storage.removeItem("amplify-polling-started")),o._storage.removeItem("amplify-auto-sign-in")}),(function(e){Ux.error(e),o._storage.removeItem("amplify-auto-sign-in")})))];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),Ux.error(i),[3,4];case 4:return[2]}}))}))},e.prototype.confirmSignUp=function(e,t,n){var r=this;if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(f_.EmptyUsername);if(!t)return this.rejectAuthError(f_.EmptyCode);var i,o=this.createCognitoUser(e),a=!n||"boolean"!=typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?i=n.clientMetadata:this._config.clientMetadata&&(i=this._config.clientMetadata),new Promise((function(n,s){o.confirmRegistration(t,a,(function(t,i){t?s(t):(Bx("confirmSignUp",i,e+" has been confirmed successfully"),r.isTrueStorageValue("amplify-auto-sign-in")&&!r.autoSignInInitiated&&(Bx("autoSignIn_failure",null,f_.AutoSignInError),r._storage.removeItem("amplify-auto-sign-in")),n(i))}),i)}))},e.prototype.isTrueStorageValue=function(e){var t=this._storage.getItem(e);return!!t&&"true"===t},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(f_.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(e,r){n.resendConfirmationCode((function(t,n){t?r(t):e(n)}),t)}))},e.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var r=null,i=null,o={};if("string"==typeof e)r=e,i=t;else{if(!e.username)return this.rejectAuthError(f_.InvalidUsername);void 0!==t&&Ux.warn("The password should be defined under the first parameter object!"),r=e.username,i=e.password,o=e.validationData}if(!r)return this.rejectAuthError(f_.EmptyUsername);var a=new C_({Username:r,Password:i,ValidationData:o,ClientMetadata:n});return i?this.signInWithPassword(a):this.signInWithoutPassword(a)},e.prototype.authCallbacks=function(e,t,n){var r=this,i=this;return{onSuccess:function(o){return p_(r,void 0,void 0,(function(){var r,a,s,u;return v_(this,(function(c){switch(c.label){case 0:Ux.debug(o),delete e.challengeName,delete e.challengeParam,c.label=1;case 1:return c.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return c.sent(),[4,this.Credentials.set(o,"session")];case 3:return r=c.sent(),Ux.debug("succeed to get cognito credentials",r),[3,9];case 4:return a=c.sent(),Ux.debug("cannot get cognito credentials",a),[3,9];case 5:return c.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return s=c.sent(),i.user=s,Bx("signIn",s,"A user "+e.getUsername()+" has been signed in"),t(s),[3,8];case 7:return u=c.sent(),Ux.error("Failed to get the signed in user",u),n(u),[3,8];case 8:return[7];case 9:return[2]}}))}))},onFailure:function(t){Ux.debug("signIn failure",t),Bx("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){Ux.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,r){Ux.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){Ux.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){Ux.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){Ux.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){Ux.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise((function(r,i){n.authenticateUser(e,t.authCallbacks(n,(function(e){t.pendingSignIn=null,r(e)}),(function(e){t.pendingSignIn=null,i(e)})))})),this.pendingSignIn},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise((function(r,i){n.initiateAuth(e,t.authCallbacks(n,r,i))}))},e.prototype.getMFAOptions=function(e){return new Promise((function(t,n){e.getMFAOptions((function(e,r){if(e)return Ux.debug("get MFA Options failed",e),void n(e);Ux.debug("get MFA options success",r),t(r)}))}))},e.prototype.getPreferredMFA=function(e,t){var n=this,r=this;return new Promise((function(i,o){var a=n._config.clientMetadata,s=!!t&&t.bypassCache;e.getUserData((function(t,a){return p_(n,void 0,void 0,(function(){var n,s;return v_(this,(function(u){switch(u.label){case 0:if(!t)return[3,5];if(Ux.debug("getting preferred mfa failed",t),!this.isSessionInvalid(t))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return u.sent(),[3,4];case 3:return n=u.sent(),o(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return o(t),[2];case 5:return(s=r._getMfaTypeFromUserData(a))?(i(s),[2]):(o("invalid MFA Type"),[2])}}))}))}),{bypassCache:s,clientMetadata:a})}))},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;r?0===r.length?t="NOMFA":Ux.debug("invalid case for getPreferredMFA",e):t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){var n=this;return new Promise((function(r,i){e.getUserData((function(t,o){return p_(n,void 0,void 0,(function(){var n;return v_(this,(function(a){switch(a.label){case 0:if(!t)return[3,5];if(Ux.debug("getting user data failed",t),!this.isSessionInvalid(t))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return n=a.sent(),i(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return i(t),[2];case 5:r(o),a.label=6;case 6:return[2]}}))}))}),t)}))},e.prototype.setPreferredMFA=function(e,t){return p_(this,void 0,void 0,(function(){var n,r,i,o,a,s,u=this;return v_(this,(function(c){switch(c.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:n})];case 1:switch(r=c.sent(),i=null,o=null,t){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return i={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return a=r.UserMFASettingList,[4,this._getMfaTypeFromUserData(r)];case 5:if("NOMFA"===(s=c.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===s)i={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==s)return[2,this.rejectAuthError(f_.InvalidMFA)];o={PreferredMfa:!1,Enabled:!1}}return a&&0!==a.length&&a.forEach((function(e){"SMS_MFA"===e?i={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(o={PreferredMfa:!1,Enabled:!1})})),[3,7];case 6:return Ux.debug("no validmfa method provided"),[2,this.rejectAuthError(f_.NoMFA)];case 7:return[2,new Promise((function(t,r){e.setUserMfaPreference(i,o,(function(i,o){if(i)return Ux.debug("Set user mfa preference error",i),r(i);Ux.debug("Set user mfa success",o),Ux.debug("Caching the latest user data into local"),e.getUserData((function(n,i){return p_(u,void 0,void 0,(function(){var i;return v_(this,(function(a){switch(a.label){case 0:if(!n)return[3,5];if(Ux.debug("getting user data failed",n),!this.isSessionInvalid(n))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),r(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,r(n)];case 5:return[2,t(o)]}}))}))}),{bypassCache:!0,clientMetadata:n})}))}))]}}))}))},e.prototype.disableSMS=function(e){return new Promise((function(t,n){e.disableMFA((function(e,r){if(e)return Ux.debug("disable mfa failed",e),void n(e);Ux.debug("disable mfa succeed",r),t(r)}))}))},e.prototype.enableSMS=function(e){return new Promise((function(t,n){e.enableMFA((function(e,r){if(e)return Ux.debug("enable mfa failed",e),void n(e);Ux.debug("enable mfa succeed",r),t(r)}))}))},e.prototype.setupTOTP=function(e){return new Promise((function(t,n){e.associateSoftwareToken({onFailure:function(e){Ux.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){Ux.debug("associateSoftwareToken sucess",e),t(e)}})}))},e.prototype.verifyTotpToken=function(e,t){return Ux.debug("verification totp token",e,t),new Promise((function(n,r){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){Ux.debug("verifyTotpToken failed",e),r(e)},onSuccess:function(t){Bx("signIn",e,"A user "+e.getUsername()+" has been signed in"),Bx("verify",e,"A user "+e.getUsername()+" has been verified"),Ux.debug("verifyTotpToken success",t),n(t)}})}))},e.prototype.confirmSignIn=function(e,t,n,r){var i=this;if(void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(f_.EmptyCode);var o=this;return new Promise((function(a,s){e.sendMFACode(t,{onSuccess:function(t){return p_(i,void 0,void 0,(function(){var n,r;return v_(this,(function(i){switch(i.label){case 0:Ux.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return i.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=i.sent(),Ux.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=i.sent(),Ux.debug("cannot get cognito credentials",r),[3,6];case 5:return o.user=e,Bx("signIn",e,"A user "+e.getUsername()+" has been signed in"),a(e),[7];case 6:return[2]}}))}))},onFailure:function(e){Ux.debug("confirm signIn failure",e),s(e)}},n,r)}))},e.prototype.completeNewPassword=function(e,t,n,r){var i=this;if(void 0===n&&(n={}),void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(f_.EmptyPassword);var o=this;return new Promise((function(a,s){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return p_(i,void 0,void 0,(function(){var n,r;return v_(this,(function(i){switch(i.label){case 0:Ux.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return i.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=i.sent(),Ux.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=i.sent(),Ux.debug("cannot get cognito credentials",r),[3,6];case 5:return o.user=e,Bx("signIn",e,"A user "+e.getUsername()+" has been signed in"),a(e),[7];case 6:return[2]}}))}))},onFailure:function(e){Ux.debug("completeNewPassword failure",e),Bx("completeNewPassword_failure",e,i.user+" failed to complete the new password flow"),s(e)},mfaRequired:function(t,n){Ux.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,a(e)},mfaSetup:function(t,n){Ux.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,a(e)},totpRequired:function(t,n){Ux.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,a(e)}},r)}))},e.prototype.sendCustomChallengeAnswer=function(e,t,n){var r=this;return void 0===n&&(n=this._config.clientMetadata),this.userPool?t?new Promise((function(i,o){e.sendCustomChallengeAnswer(t,r.authCallbacks(e,i,o),n)})):this.rejectAuthError(f_.EmptyChallengeResponse):this.rejectNoUserPool()},e.prototype.deleteUserAttributes=function(e,t){var n=this;return new Promise((function(r,i){n.userSession(e).then((function(n){e.deleteAttributes(t,(function(e,t){return e?i(e):r(t)}))}))}))},e.prototype.deleteUser=function(){return p_(this,void 0,void 0,(function(){var e,t,n=this;return v_(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._storageSync];case 1:return r.sent(),[3,3];case 2:throw e=r.sent(),Ux.debug("Failed to sync cache info into memory",e),new Error(e);case 3:return t=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(e,r){return p_(n,void 0,void 0,(function(){var n,i=this;return v_(this,(function(o){if(this.userPool){if(!(n=this.userPool.getCurrentUser()))return Ux.debug("Failed to get user from user pool"),[2,r(new Error("No current user."))];n.getSession((function(o,a){return p_(i,void 0,void 0,(function(){var i,a=this;return v_(this,(function(s){switch(s.label){case 0:if(!o)return[3,5];if(Ux.debug("Failed to get the user session",o),!this.isSessionInvalid(o))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),r(new Error("Session is invalid due to: "+o.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,r(o)];case 5:n.deleteUser((function(i,o){if(i)r(i);else{Bx("userDeleted",o,"The authenticated user has been deleted."),n.signOut(),a.user=null;try{a.cleanCachedItems()}catch(e){Ux.debug("failed to clear cached items")}t?a.oAuthSignOutRedirect(e,r):(Bx("signOut",a.user,"A user has been signed out"),e(o))}})),s.label=6;case 6:return[2]}}))}))}))}else Ux.debug("no Congito User pool"),r(new Error("Cognito User pool does not exist"));return[2]}))}))}))]}}))}))},e.prototype.updateUserAttributes=function(e,t,n){var r=this;void 0===n&&(n=this._config.clientMetadata);var i=[],o=this;return new Promise((function(a,s){o.userSession(e).then((function(o){for(var u in t)if("sub"!==u&&u.indexOf("_verified")<0){var c={Name:u,Value:t[u]};i.push(c)}e.updateAttributes(i,(function(e,n,i){if(e)return Bx("updateUserAttributes_failure",e,"Failed to update attributes"),s(e);var o=r.createUpdateAttributesResultList(t,null==i?void 0:i.CodeDeliveryDetailsList);return Bx("updateUserAttributes",o,"Attributes successfully updated"),a(n)}),n)}))}))},e.prototype.createUpdateAttributesResultList=function(e,t){var n={};return Object.keys(e).forEach((function(e){n[e]={isUpdated:!0};var r=null==t?void 0:t.find((function(t){return t.AttributeName===e}));r&&(n[e].isUpdated=!1,n[e].codeDeliveryDetails=r)})),n},e.prototype.userAttributes=function(e){var t=this;return new Promise((function(n,r){t.userSession(e).then((function(t){e.getUserAttributes((function(e,t){e?r(e):n(t)}))}))}))},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then((function(e){var n=t.attributesToObject(e),r={},i={};return n.email&&(n.email_verified?i.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?i.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:i,unverified:r}}))},e.prototype.isErrorWithMessage=function(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},e.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},e.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},e.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},e.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},e.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},e.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},e.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)},e.prototype.cleanUpInvalidSession=function(e){return p_(this,void 0,void 0,(function(){var t=this;return v_(this,(function(n){switch(n.label){case 0:e.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),Ux.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise((function(e,n){t.oAuthSignOutRedirect(e,n)}))]:(Bx("signOut",this.user,"A user has been signed out"),[2])}}))}))},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise((function(n,r){t._storageSync.then((function(){return p_(t,void 0,void 0,(function(){var t,i,o,a,s,u,c=this;return v_(this,(function(l){switch(l.label){case 0:return this.isOAuthInProgress()?(Ux.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise((function(e){var t=setTimeout((function(){Ux.debug("OAuth signIn in progress timeout"),_.remove("auth",n),e()}),1e4);function n(r){var i=r.payload.event;"cognitoHostedUI"!==i&&"cognitoHostedUI_failure"!==i||(Ux.debug("OAuth signIn resolved: "+i),clearTimeout(t),_.remove("auth",n),e())}_.listen("auth",n)}))]):[3,2];case 1:l.sent(),l.label=2;case 2:if(!(t=this.userPool.getCurrentUser()))return Ux.debug("Failed to get user from user pool"),r("No current user"),[2];l.label=3;case 3:return l.trys.push([3,7,,8]),[4,this._userSession(t)];case 4:return i=l.sent(),(o=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,6];case 5:l.sent(),l.label=6;case 6:return a=this._config.clientMetadata,(void 0===(s=i.getAccessToken().decodePayload().scope)?"":s).split(" ").includes(Fx)?(t.getUserData((function(e,i){return p_(c,void 0,void 0,(function(){var o,a,s,u,c,l,f;return v_(this,(function(d){switch(d.label){case 0:if(!e)return[3,7];if(Ux.debug("getting user data failed",e),!this.isSessionInvalid(e))return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return d.sent(),[3,4];case 3:return o=d.sent(),r(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return r(e),[3,6];case 5:n(t),d.label=6;case 6:return[2];case 7:for(a=i.PreferredMfaSetting||"NOMFA",s=[],u=0;u<i.UserAttributes.length;u++)c={Name:i.UserAttributes[u].Name,Value:i.UserAttributes[u].Value},l=new ax(c),s.push(l);return f=this.attributesToObject(s),Object.assign(t,{attributes:f,preferredMFA:a}),[2,n(t)]}}))}))}),{bypassCache:o,clientMetadata:a}),[3,8]):(Ux.debug("Unable to get the user data because the "+Fx+" is not in the scopes of the access token"),[2,n(t)]);case 7:return u=l.sent(),r(u),[3,8];case 8:return[2]}}))}))})).catch((function(e){return Ux.debug("Failed to sync cache info into memory",e),r(e)}))})):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return p_(this,void 0,void 0,(function(){var t,n,r,i,o;return v_(this,(function(a){switch(a.label){case 0:Ux.debug("getting current authenticated user"),t=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._storageSync];case 2:return a.sent(),[3,4];case 3:throw n=a.sent(),Ux.debug("Failed to sync cache info into memory",n),n;case 4:try{(r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=h_(h_({},r.user),{token:r.token}))}catch(e){Ux.debug("cannot load federated user from auth storage")}return t?(this.user=t,Ux.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:Ux.debug("get current authenticated userpool user"),i=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return i=a.sent(),[3,9];case 8:return"No userPool"===(o=a.sent())&&Ux.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),Ux.debug("The user is not authenticated by the error",o),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=i,[2,this.user]}}))}))},e.prototype.currentSession=function(){var e=this;return Ux.debug("Getting current session"),this.userPool?new Promise((function(t,n){e.currentUserPoolUser().then((function(r){e.userSession(r).then((function(e){t(e)})).catch((function(e){Ux.debug("Failed to get the current session",e),n(e)}))})).catch((function(e){Ux.debug("Failed to get the current user",e),n(e)}))})):Promise.reject(new Error("No User Pool in the configuration."))},e.prototype._userSession=function(e){return p_(this,void 0,void 0,(function(){var t,n,r=this;return v_(this,(function(i){switch(i.label){case 0:if(!e)return Ux.debug("the user is null"),[2,this.rejectAuthError(f_.NoUserSession)];t=this._config.clientMetadata,0===this.inflightSessionPromiseCounter&&(this.inflightSessionPromise=new Promise((function(n,i){e.getSession((function(t,o){return p_(r,void 0,void 0,(function(){var r;return v_(this,(function(a){switch(a.label){case 0:if(!t)return[3,5];if(Ux.debug("Failed to get the session from user",e),!this.isSessionInvalid(t))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return r=a.sent(),i(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+r.message)),[2];case 4:return i(t),[2];case 5:return Ux.debug("Succeed to get the user session",o),n(o),[2]}}))}))}),{clientMetadata:t})}))),this.inflightSessionPromiseCounter++,i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.inflightSessionPromise];case 2:return n=i.sent(),e.signInUserSession=n,[2,n];case 3:return this.inflightSessionPromiseCounter--,[7];case 4:return[2]}}))}))},e.prototype.userSession=function(e){return this._userSession(e)},e.prototype.currentUserCredentials=function(){return p_(this,void 0,void 0,(function(){var e,t,n=this;return v_(this,(function(r){switch(r.label){case 0:Ux.debug("Getting current user credentials"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),Ux.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(e){Ux.debug("failed to get or parse item aws-amplify-federatedInfo",e)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then((function(e){return Ux.debug("getting session success",e),n.Credentials.set(e,"session")})).catch((function(){return Ux.debug("getting guest credentials"),n.Credentials.set(null,"guest")}))]}}))}))},e.prototype.currentCredentials=function(){return Ux.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise((function(r,i){e.getAttributeVerificationCode(t,{onSuccess:function(e){return r(e)},onFailure:function(e){return i(e)}},n)}))},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise((function(r,i){e.verifyAttribute(t,n,{onSuccess:function(e){r(e)},onFailure:function(e){i(e)}})})):this.rejectAuthError(f_.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then((function(n){return t.verifyUserAttribute(n,e)}))},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then((function(r){return n.verifyUserAttributeSubmit(r,e,t)}))},e.prototype.cognitoIdentitySignOut=function(e,t){return p_(this,void 0,void 0,(function(){var n,r,i=this;return v_(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._storageSync];case 1:return o.sent(),[3,3];case 2:throw n=o.sent(),Ux.debug("Failed to sync cache info into memory",n),n;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(n,o){if(e&&e.global){Ux.debug("user global sign out",t);var a=i._config.clientMetadata;t.getSession((function(e,a){return p_(i,void 0,void 0,(function(){var i,a=this;return v_(this,(function(s){switch(s.label){case 0:if(!e)return[3,5];if(Ux.debug("failed to get the user session",e),!this.isSessionInvalid(e))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),o(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,o(e)];case 5:return t.globalSignOut({onSuccess:function(e){if(Ux.debug("global sign out success"),!r)return n();a.oAuthSignOutRedirect(n,o)},onFailure:function(e){return Ux.debug("global sign out failed",e),o(e)}}),[2]}}))}))}),{clientMetadata:a})}else Ux.debug("user sign out",t),t.signOut((function(){if(!r)return n();i.oAuthSignOutRedirect(n,o)}))}))]}}))}))},e.prototype.oAuthSignOutRedirect=function(e,t){Y().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout((function(){return e(Error("Signout timeout fail"))}),3e3)},e.prototype.signOut=function(e){return p_(this,void 0,void 0,(function(){var t;return v_(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),Ux.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,t)]:[3,5]:[3,7];case 4:return n.sent(),[3,6];case 5:Ux.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:Ux.debug("no Cognito User pool"),n.label=8;case 8:return Bx("signOut",this.user,"A user has been signed out"),this.user=null,[2]}}))}))},e.prototype.cleanCachedItems=function(){return p_(this,void 0,void 0,(function(){return v_(this,(function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.changePassword=function(e,t,n,r){var i=this;return void 0===r&&(r=this._config.clientMetadata),new Promise((function(o,a){i.userSession(e).then((function(i){e.changePassword(t,n,(function(e,t){return e?(Ux.debug("change password failure",e),a(e)):o(t)}),r)}))}))},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(f_.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(r,i){n.forgotPassword({onSuccess:function(){r()},onFailure:function(t){Ux.debug("forgot password failure",t),Bx("forgotPassword_failure",t,e+" forgotPassword failed"),i(t)},inputVerificationCode:function(t){Bx("forgotPassword",n,e+" has initiated forgot password flow"),r(t)}},t)}))},e.prototype.forgotPasswordSubmit=function(e,t,n,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(f_.EmptyUsername);if(!t)return this.rejectAuthError(f_.EmptyCode);if(!n)return this.rejectAuthError(f_.EmptyPassword);var i=this.createCognitoUser(e);return new Promise((function(o,a){i.confirmPassword(t,n,{onSuccess:function(t){Bx("forgotPasswordSubmit",i,e+" forgotPasswordSubmit successful"),o(t)},onFailure:function(t){Bx("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),a(t)}},r)}))},e.prototype.currentUserInfo=function(){return p_(this,void 0,void 0,(function(){var e,t,n,r,i,o,a;return v_(this,(function(s){switch(s.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch((function(e){return Ux.error(e)}))];case 1:if(!(a=s.sent()))return[2,null];s.label=2;case 2:return s.trys.push([2,8,,9]),[4,this.userAttributes(a)];case 3:t=s.sent(),n=this.attributesToObject(t),r=null,s.label=4;case 4:return s.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=s.sent(),[3,7];case 6:return i=s.sent(),Ux.debug("Failed to retrieve credentials while getting current user info",i),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:a.getUsername(),attributes:n}];case 8:return o=s.sent(),Ux.error("currentUserInfo error",o),[2,{}];case 9:return"federated"===e?[2,(a=this.user)||{}]:[2]}}))}))},e.prototype.federatedSignIn=function(e,t,n){return p_(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,d,h;return v_(this,(function(p){switch(p.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return g_(e)||(v=e)&&["customProvider"].find((function(e){return v.hasOwnProperty(e)}))||function(e){return e&&!!["customState"].find((function(t){return e.hasOwnProperty(t)}))}(e)||void 0===e?(r=e||{provider:l_.Cognito},s=g_(r)?r.provider:r.customProvider,g_(r),i=r.customState,this._config.userPoolId&&(o=m_(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,a=m_(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,a,o,s,i)),[3,4]):[3,1];case 1:s=e;try{(u=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&Ux.warn("There is already a signed in user: "+u+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(e){}return c=t.token,l=t.identity_id,f=t.expires_at,[4,this.Credentials.set({provider:s,token:c,identity_id:l,user:n,expires_at:f},"federation")];case 2:return d=p.sent(),[4,this.currentAuthenticatedUser()];case 3:return h=p.sent(),Bx("signIn",h,"A user "+h.username+" has been signed in"),Ux.debug("federated sign in credentials",d),[2,d];case 4:return[2]}var v}))}))},e.prototype._handleAuthResponse=function(e){return p_(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,d,h,p;return v_(this,(function(v){switch(v.label){case 0:if(this.oAuthFlowInProgress)return Ux.debug("Skipping URL "+e+" current flow in progress"),[2];v.label=1;case 1:if(v.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(Bx("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(Y().isBrowser?window.location.href:""),n=!!((0,N.Qc)(t).query||"").split("&").map((function(e){return e.split("=")})).find((function(e){var t=y_(e,1)[0];return"code"===t||"error"===t})),r=!!((0,N.Qc)(t).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).find((function(e){var t=y_(e,1)[0];return"access_token"===t||"error"===t})),!n&&!r)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),v.label=2;case 2:return v.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return i=v.sent(),o=i.accessToken,a=i.idToken,s=i.refreshToken,u=i.state,c=new nx({IdToken:new X_({IdToken:a}),RefreshToken:new Q_({RefreshToken:s}),AccessToken:new Z_({AccessToken:o})}),l=void 0,this._config.identityPoolId?[4,this.Credentials.set(c,"session")]:[3,5];case 4:l=v.sent(),Ux.debug("AWS credentials",l),v.label=5;case 5:return f=/-/.test(u),(d=this.createCognitoUser(c.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(c),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),Bx("signIn",d,"A user "+d.getUsername()+" has been signed in"),Bx("cognitoHostedUI",d,"A user "+d.getUsername()+" has been signed in via Cognito Hosted UI"),f&&(h=u.split("-").splice(1).join("-"),Bx("customOAuthState",h.match(/.{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""),"State for user "+d.getUsername())),[2,l];case 6:return p=v.sent(),Ux.debug("Error in cognito hosted auth response",p),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),Bx("signIn_failure",p,"The OAuth response flow failed"),Bx("cognitoHostedUI_failure",p,"A failure occurred when returning to the Cognito Hosted UI"),Bx("customState_failure",p,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}}))}))},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t=this,n={};return e&&e.map((function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?n[e.Name]=t.isTruthyString(e.Value)||!0===e.Value:n[e.Name]=e.Value})),n},e.prototype.isTruthyString=function(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new fx(t);return n&&r.setAuthenticationFlowType(n),r},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?f_.NoConfig:f_.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new Dx(e))},e.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new Mx(e))},e.prototype.rememberDevice=function(){return p_(this,void 0,void 0,(function(){var e,t;return v_(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),Ux.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.setDeviceStatusRemembered({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new Dx(f_.DeviceConfig)):"NetworkError"===e.code?n(new Dx(f_.NetworkError)):n(e)}})}))]}}))}))},e.prototype.forgetDevice=function(){return p_(this,void 0,void 0,(function(){var e,t;return v_(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),Ux.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.forgetDevice({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new Dx(f_.DeviceConfig)):"NetworkError"===e.code?n(new Dx(f_.NetworkError)):n(e)}})}))]}}))}))},e.prototype.fetchDevices=function(){return p_(this,void 0,void 0,(function(){var e,t;return v_(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:throw t=n.sent(),Ux.debug("The user is not authenticated by the error",t),new Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){var r={onSuccess:function(e){var n=e.Devices.map((function(e){var t=e.DeviceAttributes.find((function(e){return"device_name"===e.Name}))||{};return{id:e.DeviceKey,name:t.Value}}));t(n)},onFailure:function(e){"InvalidParameterException"===e.code?n(new Dx(f_.DeviceConfig)):"NetworkError"===e.code?n(new Dx(f_.NetworkError)):n(e)}};e.listDevices(60,null,r)}))]}}))}))},e}(),Kx=new qx(null);d.register(Kx);var Hx=function(){return Hx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Hx.apply(this,arguments)};function Gx(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Vx(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function $x(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Wx(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($x(arguments[t]));return e}var Yx=function(){return Yx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Yx.apply(this,arguments)};function Zx(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Jx(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Zx(arguments[t]));return e}var Xx=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,Yx({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,Yx({},e))})),n},i=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Jx(i(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Jx(i(e)))})),t},o={add:function(t,r){void 0===r&&(r={});var i=r.name,o=r.override,a=Yx({step:"initialize",priority:"normal",middleware:t},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var s=e.findIndex((function(e){return e.name===i})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'+i+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");e.splice(s,1)}n.add(i)}e.push(a)},addRelativeTo:function(e,r){var i=r.name,o=r.override,a=Yx({middleware:e},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var s=t.findIndex((function(e){return e.name===i})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'+i+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');t.splice(s,1)}n.add(i)}t.push(a)},clone:function(){return r(Xx())},use:function(e){e.applyToStack(o)},remove:function(r){return"string"==typeof r?function(r){var i=!1,o=function(e){return!e.name||e.name!==r||(i=!0,n.delete(r),!1)};return e=e.filter(o),t=t.filter(o),i}(r):function(r){var i=!1,o=function(e){return e.middleware!==r||(i=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),i}(r)},removeByTag:function(r){var i=!1,o=function(e){var t=e.tags,o=e.name;return!t||!t.includes(r)||(o&&n.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:function(e){var t=r(Xx());return t.use(e),t},applyToStack:r,resolve:function(n,r){var o,a;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(){var n=[],r=[],o={};e.forEach((function(e){var t=Yx(Yx({},e),{before:[],after:[]});t.name&&(o[t.name]=t),n.push(t)})),t.forEach((function(e){var t=Yx(Yx({},e),{before:[],after:[]});t.name&&(o[t.name]=t),r.push(t)})),r.forEach((function(e){if(e.toMiddleware){var t=o[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var a,s=(a=n,a.sort((function(e,t){return Qx[t.step]-Qx[e.step]||eA[t.priority||"normal"]-eA[e.priority||"normal"]}))).map(i).reduce((function(e,t){return e.push.apply(e,Jx(t)),e}),[]);return s.map((function(e){return e.middleware}))}().reverse()),u=s.next();!u.done;u=s.next())n=(0,u.value)(n,r)}catch(e){o={error:e}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return n}};return o},Qx={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},eA={high:3,normal:2,low:1},tA=function(){function e(e){this.middlewareStack=Xx(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),nA=function(){this.middlewareStack=Xx()};function rA(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}var iA=function(e){return Array.isArray(e)?e:[e]},oA=function(e){var t="#text";for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n][t]?e[n]=e[n][t]:"object"==typeof e[n]&&null!==e[n]&&(e[n]=oA(e[n]));return e},aA=function(e,t){return aA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},aA(e,t)};function sA(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function uA(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(sA(arguments[t]));return e}var cA=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,uA([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};cA.prototype=Object.create(String.prototype,{constructor:{value:cA,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(cA,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){function n(){this.constructor=e}aA(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(cA);var lA=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function dA(e){var t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDay(),i=e.getUTCDate(),o=e.getUTCHours(),a=e.getUTCMinutes(),s=e.getUTCSeconds();return lA[r]+", "+(i<10?"0"+i:""+i)+" "+fA[n]+" "+t+" "+(o<10?"0"+o:""+o)+":"+(a<10?"0"+a:""+a)+":"+(s<10?"0"+s:""+s)+" GMT"}var hA,pA,vA,yA,gA,mA,bA,wA,SA,EA,_A,xA,AA,TA,CA,IA,PA,OA,kA,RA,LA,NA,DA,MA,jA,UA,FA,zA,BA,qA,KA,HA,GA,VA,$A,WA,YA,ZA,JA,XA,QA,eT,tT,nT,rT,iT,oT,aT,sT,uT,cT,lT,fT,dT,hT,pT,vT,yT,gT,mT,bT,wT,ST,ET,_T,xT,AT,TT,CT,IT,PT,OT,kT,RT,LT,NT,DT,MT,jT,UT,FT,zT,BT,qT,KT,HT,GT,VT,$T,WT,YT,ZT,JT,XT,QT,eC,tC,nC,rC,iC,oC,aC,sC,uC,cC,lC,fC,dC,hC,pC,vC,yC,gC,mC,bC,wC,SC,EC,_C,xC,AC,TC,CC,IC,PC,OC,kC,RC,LC,NC,DC,MC,jC,UC,FC,zC,BC,qC,KC,HC,GC,VC,$C,WC,YC,ZC,JC,XC,QC,eI,tI,nI,rI,iI,oI,aI,sI,uI,cI,lI,fI,dI,hI,pI,vI,yI,gI,mI,bI,wI,SI,EI,_I,xI,AI,TI,CI,II,PI,OI,kI,RI,LI,NI,DI,MI,jI,UI,FI,zI,BI,qI,KI,HI,GI,VI,$I,WI,YI,ZI,JI,XI,QI,eP,tP,nP,rP,iP,oP,aP,sP,uP,cP,lP,fP,dP,hP,pP,vP,yP,gP,mP,bP,wP,SP,EP,_P,xP,AP,TP,CP,IP,PP,OP,kP,RP,LP,NP,DP,MP,jP,UP,FP,zP,BP,qP,KP,HP,GP,VP,$P,WP,YP,ZP,JP,XP="***SensitiveInformation***";!function(e){e.filterSensitiveLog=function(e){return It({},e)}}(hA||(hA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(pA||(pA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(vA||(vA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(yA||(yA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(gA||(gA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(mA||(mA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(bA||(bA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(wA||(wA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(SA||(SA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(EA||(EA={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:XP})}}(_A||(_A={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(xA||(xA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(AA||(AA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(TA||(TA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(CA||(CA={})),function(e){e.filterSensitiveLog=function(e){return It(It(It({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:XP}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:XP})}}(IA||(IA={})),function(e){e.filterSensitiveLog=function(e){return It(It(It(It(It({},e),e.SSECustomerKey&&{SSECustomerKey:XP}),e.SSEKMSKeyId&&{SSEKMSKeyId:XP}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:XP}),e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:XP})}}(PA||(PA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(OA||(OA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(kA||(kA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(RA||(RA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(LA||(LA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(NA||(NA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(DA||(DA={})),function(e){e.filterSensitiveLog=function(e){return It(It(It({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:XP}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:XP})}}(MA||(MA={})),function(e){e.filterSensitiveLog=function(e){return It(It(It(It({},e),e.SSECustomerKey&&{SSECustomerKey:XP}),e.SSEKMSKeyId&&{SSEKMSKeyId:XP}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:XP})}}(jA||(jA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(UA||(UA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(FA||(FA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(zA||(zA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(BA||(BA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(qA||(qA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(KA||(KA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(HA||(HA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(GA||(GA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(VA||(VA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}($A||($A={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(WA||(WA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(YA||(YA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ZA||(ZA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(JA||(JA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(XA||(XA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(QA||(QA={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(eT||(eT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(tT||(tT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(nT||(nT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(rT||(rT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(iT||(iT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(oT||(oT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(aT||(aT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(sT||(sT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(uT||(uT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(cT||(cT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(lT||(lT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(fT||(fT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(dT||(dT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(hT||(hT={})),(JP=pT||(pT={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},JP.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:dT.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:hT.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},function(e){e.filterSensitiveLog=function(e){return It({},e)}}(vT||(vT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(yT||(yT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(gT||(gT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(mT||(mT={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.Filter&&{Filter:pT.filterSensitiveLog(e.Filter)})}}(bT||(bT={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.AnalyticsConfiguration&&{AnalyticsConfiguration:bT.filterSensitiveLog(e.AnalyticsConfiguration)})}}(wT||(wT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ST||(ST={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ET||(ET={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(_T||(_T={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(xT||(xT={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.KMSMasterKeyID&&{KMSMasterKeyID:XP})}}(AT||(AT={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:AT.filterSensitiveLog(e.ApplyServerSideEncryptionByDefault)})}}(TT||(TT={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.Rules&&{Rules:e.Rules.map((function(e){return TT.filterSensitiveLog(e)}))})}}(CT||(CT={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:CT.filterSensitiveLog(e.ServerSideEncryptionConfiguration)})}}(IT||(IT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(PT||(PT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(OT||(OT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(kT||(kT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(RT||(RT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(LT||(LT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(NT||(NT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(DT||(DT={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.KeyId&&{KeyId:XP})}}(MT||(MT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(jT||(jT={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.SSEKMS&&{SSEKMS:MT.filterSensitiveLog(e.SSEKMS)})}}(UT||(UT={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.Encryption&&{Encryption:UT.filterSensitiveLog(e.Encryption)})}}(FT||(FT={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.S3BucketDestination&&{S3BucketDestination:FT.filterSensitiveLog(e.S3BucketDestination)})}}(zT||(zT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(BT||(BT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(qT||(qT={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.Destination&&{Destination:zT.filterSensitiveLog(e.Destination)})}}(KT||(KT={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.InventoryConfiguration&&{InventoryConfiguration:KT.filterSensitiveLog(e.InventoryConfiguration)})}}(HT||(HT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(GT||(GT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(VT||(VT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}($T||($T={})),(ZP=WT||(WT={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},ZP.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:dT.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:$T.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},function(e){e.filterSensitiveLog=function(e){return It({},e)}}(YT||(YT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ZT||(ZT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(JT||(JT={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.Filter&&{Filter:WT.filterSensitiveLog(e.Filter)})}}(XT||(XT={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.Rules&&{Rules:e.Rules.map((function(e){return XT.filterSensitiveLog(e)}))})}}(QT||(QT={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(eC||(eC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(tC||(tC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(nC||(nC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(rC||(rC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(iC||(iC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(oC||(oC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(aC||(aC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(sC||(sC={})),(YP=uC||(uC={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},YP.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:dT.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:sC.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.Filter&&{Filter:uC.filterSensitiveLog(e.Filter)})}}(cC||(cC={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.MetricsConfiguration&&{MetricsConfiguration:cC.filterSensitiveLog(e.MetricsConfiguration)})}}(lC||(lC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(fC||(fC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(dC||(dC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(hC||(hC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(pC||(pC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(vC||(vC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(yC||(yC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(gC||(gC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(mC||(mC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(bC||(bC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(wC||(wC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(SC||(SC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(EC||(EC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(_C||(_C={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(xC||(xC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(AC||(AC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(TC||(TC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(CC||(CC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(IC||(IC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(PC||(PC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(OC||(OC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(kC||(kC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(RC||(RC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(LC||(LC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(NC||(NC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(DC||(DC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(MC||(MC={})),(WP=jC||(jC={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},WP.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:dT.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:MC.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},function(e){e.filterSensitiveLog=function(e){return It({},e)}}(UC||(UC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(FC||(FC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(zC||(zC={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.Filter&&{Filter:jC.filterSensitiveLog(e.Filter)})}}(BC||(BC={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.Rules&&{Rules:e.Rules.map((function(e){return BC.filterSensitiveLog(e)}))})}}(qC||(qC={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.ReplicationConfiguration&&{ReplicationConfiguration:qC.filterSensitiveLog(e.ReplicationConfiguration)})}}(KC||(KC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(HC||(HC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(GC||(GC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(VC||(VC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}($C||($C={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(WC||(WC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(YC||(YC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ZC||(ZC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(JC||(JC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(XC||(XC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(QC||(QC={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(eI||(eI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(tI||(tI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(nI||(nI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(rI||(rI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(iI||(iI={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:XP})}}(oI||(oI={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.SSECustomerKey&&{SSECustomerKey:XP})}}(aI||(aI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(sI||(sI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(uI||(uI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(cI||(cI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(lI||(lI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(fI||(fI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(dI||(dI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(hI||(hI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(pI||(pI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(vI||(vI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(yI||(yI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(gI||(gI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(mI||(mI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(bI||(bI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(wI||(wI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(SI||(SI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(EI||(EI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(_I||(_I={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(xI||(xI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(AI||(AI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(TI||(TI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(CI||(CI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(II||(II={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(PI||(PI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(OI||(OI={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:XP})}}(kI||(kI={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.SSECustomerKey&&{SSECustomerKey:XP})}}(RI||(RI={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.AnalyticsConfigurationList&&{AnalyticsConfigurationList:e.AnalyticsConfigurationList.map((function(e){return bT.filterSensitiveLog(e)}))})}}(LI||(LI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(NI||(NI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(DI||(DI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(MI||(MI={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map((function(e){return KT.filterSensitiveLog(e)}))})}}(jI||(jI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(UI||(UI={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.MetricsConfigurationList&&{MetricsConfigurationList:e.MetricsConfigurationList.map((function(e){return cC.filterSensitiveLog(e)}))})}}(FI||(FI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(zI||(zI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(BI||(BI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(qI||(qI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(KI||(KI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(HI||(HI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(GI||(GI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(VI||(VI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}($I||($I={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(WI||(WI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(YI||(YI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ZI||(ZI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(JI||(JI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(XI||(XI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(QI||(QI={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(eP||(eP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(tP||(tP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(nP||(nP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(rP||(rP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(iP||(iP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(oP||(oP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(aP||(aP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(sP||(sP={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.AnalyticsConfiguration&&{AnalyticsConfiguration:bT.filterSensitiveLog(e.AnalyticsConfiguration)})}}(uP||(uP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(cP||(cP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(lP||(lP={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:CT.filterSensitiveLog(e.ServerSideEncryptionConfiguration)})}}(fP||(fP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(dP||(dP={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.InventoryConfiguration&&{InventoryConfiguration:KT.filterSensitiveLog(e.InventoryConfiguration)})}}(hP||(hP={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.Rules&&{Rules:e.Rules.map((function(e){return XT.filterSensitiveLog(e)}))})}}(pP||(pP={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.LifecycleConfiguration&&{LifecycleConfiguration:pP.filterSensitiveLog(e.LifecycleConfiguration)})}}(vP||(vP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(yP||(yP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(gP||(gP={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.MetricsConfiguration&&{MetricsConfiguration:cC.filterSensitiveLog(e.MetricsConfiguration)})}}(mP||(mP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(bP||(bP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(wP||(wP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(SP||(SP={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.ReplicationConfiguration&&{ReplicationConfiguration:qC.filterSensitiveLog(e.ReplicationConfiguration)})}}(EP||(EP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(_P||(_P={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(xP||(xP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(AP||(AP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(TP||(TP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(CP||(CP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(IP||(IP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(PP||(PP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(OP||(OP={})),function(e){e.filterSensitiveLog=function(e){return It(It(It({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:XP}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:XP})}}(kP||(kP={})),function(e){e.filterSensitiveLog=function(e){return It(It(It(It({},e),e.SSECustomerKey&&{SSECustomerKey:XP}),e.SSEKMSKeyId&&{SSEKMSKeyId:XP}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:XP})}}(RP||(RP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(LP||(LP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(NP||(NP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(DP||(DP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(MP||(MP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(jP||(jP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(UP||(UP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(FP||(FP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(zP||(zP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(BP||(BP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(qP||(qP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(KP||(KP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(HP||(HP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(GP||(GP={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(VP||(VP={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.KMSKeyId&&{KMSKeyId:XP})}}($P||($P={}));var QP=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),eO=function(){return eO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},eO.apply(this,arguments)};function tO(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var nO=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(eO(eO({},this),{headers:eO({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return eO(eO({},e),((r={})[n]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(tO(arguments[t]));return e}(i):i,r))}),{}))),n},e}();var rO=function(){function e(e,t){void 0===t&&(t=[]),this.name=e,this.children=t,this.attributes={}}return e.prototype.withName=function(e){return this.name=e,this},e.prototype.addAttribute=function(e,t){return this.attributes[e]=t,this},e.prototype.addChildNode=function(e){return this.children.push(e),this},e.prototype.removeAttribute=function(e){return delete this.attributes[e],this},e.prototype.toString=function(){var e,t,n=Boolean(this.children.length),r="<"+this.name,i=this.attributes;try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(i)),a=o.next();!a.done;a=o.next()){var s=a.value,u=i[s];null!=u&&(r+=" "+s+'="'+(""+u).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")+'"')}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return r+(n?">"+this.children.map((function(e){return e.toString()})).join("")+"</"+this.name+">":"/>")},e}(),iO=function(){function e(e){this.value=e}return e.prototype.toString=function(){return(""+this.value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e}(),oO=n(2649),aO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:return r=[It({},e)],c={},[4,TO(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(c.body=l.sent(),c)])),o="UnknownError",o=CO(e,n.body)){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":return[3,2]}return[3,4];case 2:return a=[{}],[4,bO(n,t)];case 3:return i=It.apply(void 0,[It.apply(void 0,a.concat([l.sent()])),{name:o,$metadata:_O(e)}]),[3,5];case 4:s=n.body,o=s.code||s.Code||o,i=It(It({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:_O(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}}))}))},sO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return r=[It({},e)],u={},[4,TO(e.body,t)];case 1:return n=It.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=CO(e,n.body),a=n.body,o=a.code||a.Code||o,i=It(It({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:_O(e)}),s=i.message||i.Message||o,i.message=s,delete i.Message,[2,Promise.reject(Object.assign(new Error(s),i))]}}))}))},uO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:return r=[It({},e)],c={},[4,TO(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(c.body=l.sent(),c)])),o="UnknownError",o=CO(e,n.body)){case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":return[3,2]}return[3,4];case 2:return a=[{}],[4,wO(n,t)];case 3:return i=It.apply(void 0,[It.apply(void 0,a.concat([l.sent()])),{name:o,$metadata:_O(e)}]),[3,5];case 4:s=n.body,o=s.code||s.Code||o,i=It(It({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:_O(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}}))}))},cO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return r=[It({},e)],u={},[4,TO(e.body,t)];case 1:return n=It.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=CO(e,n.body),a=n.body,o=a.code||a.Code||o,i=It(It({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:_O(e)}),s=i.message||i.Message||o,i.message=s,delete i.Message,[2,Promise.reject(Object.assign(new Error(s),i))]}}))}))},lO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return r=[It({},e)],u={},[4,TO(e.body,t)];case 1:return n=It.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=CO(e,n.body),a=n.body,o=a.code||a.Code||o,i=It(It({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:_O(e)}),s=i.message||i.Message||o,i.message=s,delete i.Message,[2,Promise.reject(Object.assign(new Error(s),i))]}}))}))},fO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return r=[It({},e)],l={},[4,TO(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(l.body=f.sent(),l)])),o="UnknownError",o=CO(e,n.body)){case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":return[3,2];case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":return[3,4]}return[3,6];case 2:return a=[{}],[4,yO(n,t)];case 3:return i=It.apply(void 0,[It.apply(void 0,a.concat([f.sent()])),{name:o,$metadata:_O(e)}]),[3,7];case 4:return s=[{}],[4,mO(n,t)];case 5:return i=It.apply(void 0,[It.apply(void 0,s.concat([f.sent()])),{name:o,$metadata:_O(e)}]),[3,7];case 6:u=n.body,o=u.code||u.Code||o,i=It(It({},u),{name:""+o,message:u.message||u.Message||o,$fault:"client",$metadata:_O(e)}),f.label=7;case 7:return c=i.message||i.Message||o,i.message=c,delete i.Message,[2,Promise.reject(Object.assign(new Error(c),i))]}}))}))},dO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:return r=[It({},e)],c={},[4,TO(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(c.body=l.sent(),c)])),o="UnknownError",o=CO(e,n.body)){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":return[3,2]}return[3,4];case 2:return a=[{}],[4,gO(n,t)];case 3:return i=It.apply(void 0,[It.apply(void 0,a.concat([l.sent()])),{name:o,$metadata:_O(e)}]),[3,5];case 4:s=n.body,o=s.code||s.Code||o,i=It(It({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:_O(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}}))}))},hO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return r=[It({},e)],u={},[4,TO(e.body,t)];case 1:return n=It.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=CO(e,n.body),a=n.body,o=a.code||a.Code||o,i=It(It({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:_O(e)}),s=i.message||i.Message||o,i.message=s,delete i.Message,[2,Promise.reject(Object.assign(new Error(s),i))]}}))}))},pO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return r=[It({},e)],u={},[4,TO(e.body,t)];case 1:return n=It.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=CO(e,n.body),a=n.body,o=a.code||a.Code||o,i=It(It({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:_O(e)}),s=i.message||i.Message||o,i.message=s,delete i.Message,[2,Promise.reject(Object.assign(new Error(s),i))]}}))}))},vO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return r=[It({},e)],u={},[4,TO(e.body,t)];case 1:return n=It.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=CO(e,n.body),a=n.body,o=a.code||a.Code||o,i=It(It({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:_O(e)}),s=i.message||i.Message||o,i.message=s,delete i.Message,[2,Promise.reject(Object.assign(new Error(s),i))]}}))}))},yO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n;return kt(this,(function(r){return t={name:"InvalidObjectState",$fault:"client",$metadata:_O(e),AccessTier:void 0,StorageClass:void 0},void 0!==(n=e.body).AccessTier&&(t.AccessTier=n.AccessTier),void 0!==n.StorageClass&&(t.StorageClass=n.StorageClass),[2,t]}))}))},gO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t;return kt(this,(function(n){return t={name:"NoSuchBucket",$fault:"client",$metadata:_O(e)},e.body,[2,t]}))}))},mO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t;return kt(this,(function(n){return t={name:"NoSuchKey",$fault:"client",$metadata:_O(e)},e.body,[2,t]}))}))},bO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t;return kt(this,(function(n){return t={name:"NoSuchUpload",$fault:"client",$metadata:_O(e)},e.body,[2,t]}))}))},wO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t;return kt(this,(function(n){return t={name:"ObjectNotInActiveTierError",$fault:"client",$metadata:_O(e)},e.body,[2,t]}))}))},SO=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){if(null===e)return null;var t=function(e,t){var n=new rO("CompletedPart");if(void 0!==e.ETag&&null!==e.ETag){var r=new rO("ETag").addChildNode(new iO(e.ETag)).withName("ETag");n.addChildNode(r)}return void 0!==e.PartNumber&&null!==e.PartNumber&&(r=new rO("PartNumber").addChildNode(new iO(String(e.PartNumber))).withName("PartNumber"),n.addChildNode(r)),n}(e);return t.withName("member")}))},EO=function(e,t){var n={DisplayName:void 0,ID:void 0};return void 0!==e.DisplayName&&(n.DisplayName=e.DisplayName),void 0!==e.ID&&(n.ID=e.ID),n},_O=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},xO=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},AO=function(e){return!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size)},TO=function(e,t){return function(e,t){return xO(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){if(e.length){var t=(0,oO.parse)(e,{attributeNamePrefix:"",ignoreAttributes:!1,parseNodeValue:!1,tagValueProcessor:function(e,t){return e.replace(/&amp;/g,"&").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<")}}),n="#text",r=Object.keys(t)[0],i=t[r];return i[n]&&(i[r]=i[n],delete i[n]),oA(i)}return{}}))},CO=function(e,t){return void 0!==t.Code?t.Code:404==e.statusCode?"NotFound":""},IO=function(){return IO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},IO.apply(this,arguments)};function PO(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var OO=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(IO(IO({},this),{headers:IO({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return IO(IO({},e),((r={})[n]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(PO(arguments[t]));return e}(i):i,r))}),{}))),n},e}();var kO=function(e){return"string"==typeof e&&0===e.indexOf("arn:")&&e.split(":").length>=6},RO=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,LO=/(\d+\.){3}\d+/,NO=/\.\./,DO=/\./,MO=/^(.+\.)?s3[.-]([a-z0-9-]+)\./,jO=/^s3(-external-1)?\.amazonaws\.com$/,UO="amazonaws.com",FO=function(e){return BO(e)?e.replace(/fips-|-fips/,""):e},zO=function(e){var t=e.match(MO);return[t[2],e.replace(new RegExp("^"+t[0]),"")]},BO=function(e){return e.startsWith("fips-")||e.endsWith("-fips")},qO=function(e,t){return e===t||FO(e)===t||e===FO(t)},KO=function(e,t){if(void 0===t&&(t={tlsCompatible:!0}),e.length>=64||!/^[a-z0-9][a-z0-9.-]+[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||(null==t?void 0:t.tlsCompatible)&&DO.test(e))throw new Error("Invalid DNS label "+e)},HO=function(e){var t=e.isCustomEndpoint,n=(e.baseHostname,e.dualstackEndpoint),r=e.accelerateEndpoint;if(t){if(n)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(r)throw new Error("Accelerate endpoint is not supported with custom endpoint")}return function(e){return"string"==typeof e.bucketName}(e)?VO(IO(IO({},e),{isCustomEndpoint:t})):GO(IO(IO({},e),{isCustomEndpoint:t}))},GO=function(e){var t,n=e.isCustomEndpoint,r=e.baseHostname,i=PO(n?[e.clientRegion,r]:(t=r,jO.test(t)?[t.replace("."+UO,""),UO]:zO(t)),2),o=i[0],a=i[1],s=e.pathStyleEndpoint,u=e.dualstackEndpoint,c=void 0!==u&&u,l=e.accelerateEndpoint,f=void 0!==l&&l,d=e.tlsCompatible,h=void 0===d||d,p=e.useArnRegion,v=e.bucketName,y=e.clientPartition,g=void 0===y?"aws":y,m=e.clientSigningRegion,b=void 0===m?o:m;!function(e){if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")}({pathStyleEndpoint:s,accelerateEndpoint:f,tlsCompatible:h});var w=v.service,S=v.partition,E=v.accountId,_=v.region,x=v.resource;!function(e){if("s3"!==e&&"s3-outposts"!==e)throw new Error("Expect 's3' or 's3-outposts' in ARN service component")}(w),function(e,t){if(e!==t.clientPartition)throw new Error('Partition in ARN is incompatible, got "'+e+'" but expected "'+t.clientPartition+'"')}(S,{clientPartition:g}),function(e){if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")}(E),function(e,t){if(""===e)throw new Error("ARN region is empty");if(!t.useArnRegion&&!qO(e,t.clientRegion)&&!qO(e,t.clientSigningRegion))throw new Error("Region in ARN is incompatible, got "+e+" but expected "+t.clientRegion);if(t.useArnRegion&&BO(e))throw new Error("Endpoint does not support FIPS region")}(_,{useArnRegion:p,clientRegion:o,clientSigningRegion:b});var A=function(e){var t=e.includes(":")?":":"/",n=PO(e.split(t)),r=n[0],i=n.slice(1);if("accesspoint"===r){if(1!==i.length||""===i[0])throw new Error("Access Point ARN should have one resource accesspoint"+t+"{accesspointname}");return{accesspointName:i[0]}}if("outpost"===r){if(!i[0]||"accesspoint"!==i[1]||!i[2]||3!==i.length)throw new Error("Outpost ARN should have resource outpost"+t+"{outpostId}"+t+"accesspoint"+t+"{accesspointName}");var o=PO(i,3),a=o[0];return o[1],{outpostId:a,accesspointName:o[2]}}throw new Error("ARN resource should begin with 'accesspoint"+t+"' or 'outpost"+t+"'")}(x),T=A.accesspointName,C=A.outpostId;KO(T+"-"+E,{tlsCompatible:h});var I=p?_:o,P=p?_:b;return C?(function(e){if("s3-outposts"!==e)throw new Error("Expect 's3-posts' in Outpost ARN service component")}(w),KO(C,{tlsCompatible:h}),function(e){if(e)throw new Error("Dualstack endpoint is not supported with Outpost")}(c),function(e){if(BO(null!=e?e:""))throw new Error("FIPS region is not supported with Outpost, got "+e)}(I),{bucketEndpoint:!0,hostname:T+"-"+E+"."+C+(n?"":".s3-outposts."+I)+"."+a,signingRegion:P,signingService:"s3-outposts"}):(function(e){if("s3"!==e)throw new Error("Expect 's3' in Accesspoint ARN service component")}(w),{bucketEndpoint:!0,hostname:T+"-"+E+(n?"":".s3-accesspoint"+(c?".dualstack":"")+"."+I)+"."+a,signingRegion:P})},VO=function(e){var t,n=e.accelerateEndpoint,r=void 0!==n&&n,i=e.clientRegion,o=e.baseHostname,a=e.bucketName,s=e.dualstackEndpoint,u=void 0!==s&&s,c=e.pathStyleEndpoint,l=void 0!==c&&c,f=e.tlsCompatible,d=void 0===f||f,h=e.isCustomEndpoint,p=PO(void 0!==h&&h?[i,o]:(t=o,jO.test(t)?["us-east-1",UO]:zO(t)),2),v=p[0],y=p[1];return l||!function(e){return RO.test(e)&&!LO.test(e)&&!NO.test(e)}(a)||d&&DO.test(a)?{bucketEndpoint:!1,hostname:u?"s3.dualstack."+v+"."+y:o}:(r?o="s3-accelerate"+(u?".dualstack":"")+"."+y:u&&(o="s3.dualstack."+v+"."+y),{bucketEndpoint:!0,hostname:a+"."+o})},$O=function(e){return function(t,n){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(E){switch(E.label){case 0:return i=r.input.Bucket,o=e.bucketEndpoint,a=r.request,OO.isInstance(a)?e.bucketEndpoint?(a.hostname=i,[3,7]):[3,1]:[3,8];case 1:return kO(i)?(s=function(e){var t=e.split(":");if(t.length<6||"arn"!==t[0])throw new Error("Malformed ARN");var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t);return{partition:n[1],service:n[2],region:n[3],accountId:n[4],resource:n.slice(5).join(":")}}(i),u=FO,[4,e.region()]):[3,5];case 2:return g=u.apply(void 0,[E.sent()]),[4,e.regionInfoProvider(g)];case 3:return c=E.sent()||{},l=c.partition,f=c.signingRegion,d=void 0===f?g:f,[4,e.useArnRegion()];case 4:return h=E.sent(),p=HO({bucketName:s,baseHostname:a.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===a.protocol,useArnRegion:h,clientPartition:l,clientSigningRegion:d,clientRegion:g,isCustomEndpoint:e.isCustomEndpoint}),w=p.hostname,S=p.bucketEndpoint,v=p.signingRegion,y=p.signingService,v&&v!==d&&(n.signing_region=v),y&&"s3"!==y&&(n.signing_service=y),a.hostname=w,o=S,[3,7];case 5:return m=FO,[4,e.region()];case 6:g=m.apply(void 0,[E.sent()]),b=HO({bucketName:i,clientRegion:g,baseHostname:a.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===a.protocol,isCustomEndpoint:e.isCustomEndpoint}),w=b.hostname,S=b.bucketEndpoint,a.hostname=w,o=S,E.label=7;case 7:o&&(a.path=a.path.replace(/^(\/)?[^\/]+/,""),""===a.path&&(a.path="/")),E.label=8;case 8:return[2,t(IO(IO({},r),{request:a}))]}}))}))}}},WO={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},YO=function(e){return{applyToStack:function(t){t.addRelativeTo($O(e),WO)}}},ZO=function(){return ZO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ZO.apply(this,arguments)};function JO(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function XO(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function QO(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var ek={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},tk=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),nk=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(ZO(ZO({},this),{headers:ZO({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return ZO(ZO({},e),((r={})[n]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(QO(arguments[t]));return e}(i):i,r))}),{}))),n},e}(),rk={step:"build",tags:["USE_REGIONAL_ENDPOINT","S3"],name:"useRegionalEndpointMiddleware",override:!0},ik=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},ok={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},ak=function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t){return function(n){return JO(void 0,void 0,void 0,(function(){var r,i,o,a,s,u,c;return XO(this,(function(l){switch(l.label){case 0:return[4,t(n)];case 1:return r=l.sent(),i=r.response,tk.isInstance(i)?(o=i.statusCode,a=i.body,o<200&&o>=300?[2,r]:[4,ik(a,e)]):[2,r];case 2:return s=l.sent(),[4,(f=s,d=e,ik(f,d).then((function(e){return d.utf8Encoder(e)})))];case 3:if(u=l.sent(),0===s.length)throw(c=new Error("S3 aborted request")).name="InternalError",c;return u&&u.match("<Error>")&&(i.statusCode=400),i.body=s,[2,r]}var f,d}))}))}}}(e),ok)}}},sk=function(){return sk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},sk.apply(this,arguments)};function uk(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function ck(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var lk={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},fk={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function dk(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return uk(void 0,void 0,void 0,(function(){var i,o;return ck(this,(function(a){switch(a.label){case 0:return[4,n(r)];case 1:return i=a.sent().response,[4,t(i,e)];case 2:return o=a.sent(),[2,{response:i,output:o}]}}))}))}}}(e,n),lk),r.add(function(e,t){return function(n,r){return function(r){return uk(void 0,void 0,void 0,(function(){var i;return ck(this,(function(o){switch(o.label){case 0:return[4,t(r.input,e)];case 1:return i=o.sent(),[2,n(sk(sk({},r),{request:i}))]}}))}))}}}(e,t),fk)}}}var hk=function(){return hk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},hk.apply(this,arguments)};var pk={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},vk=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(w){switch(w.label){case 0:t=hk({},r.input),i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}],w.label=1;case 1:w.trys.push([1,6,7,8]),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),a=o.next(),w.label=2;case 2:return a.done?[3,5]:(s=a.value,(u=t[s.target])?(c=ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):"string"==typeof u?e.utf8Decoder(u):new Uint8Array(u),l=e.base64Encoder(c),(f=new e.md5).update(c),d=[hk({},t)],(b={})[s.target]=l,h=s.hash,v=(p=e).base64Encoder,[4,f.digest()]):[3,4]);case 3:t=hk.apply(void 0,d.concat([(b[h]=v.apply(p,[w.sent()]),b)])),w.label=4;case 4:return a=o.next(),[3,2];case 5:return[3,8];case 6:return y=w.sent(),g={error:y},[3,8];case 7:try{a&&!a.done&&(m=o.return)&&m.call(o)}finally{if(g)throw g.error}return[7];case 8:return[2,n(hk(hk({},r),{input:t}))]}}))}))}}}(e),pk)}}},yk=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dk(t,this.serialize,this.deserialize)),this.middlewareStack.use(ak(t)),this.middlewareStack.use(vk(t)),this.middlewareStack.use(YO(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CopyObjectCommand",inputFilterSensitiveLog:PA.filterSensitiveLog,outputFilterSensitiveLog:IA.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:if(n=It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It({},AO(e.ACL)&&{"x-amz-acl":e.ACL}),AO(e.CacheControl)&&{"cache-control":e.CacheControl}),AO(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),AO(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),AO(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),AO(e.ContentType)&&{"content-type":e.ContentType}),AO(e.CopySource)&&{"x-amz-copy-source":e.CopySource}),AO(e.CopySourceIfMatch)&&{"x-amz-copy-source-if-match":e.CopySourceIfMatch}),AO(e.CopySourceIfModifiedSince)&&{"x-amz-copy-source-if-modified-since":dA(e.CopySourceIfModifiedSince).toString()}),AO(e.CopySourceIfNoneMatch)&&{"x-amz-copy-source-if-none-match":e.CopySourceIfNoneMatch}),AO(e.CopySourceIfUnmodifiedSince)&&{"x-amz-copy-source-if-unmodified-since":dA(e.CopySourceIfUnmodifiedSince).toString()}),AO(e.Expires)&&{expires:dA(e.Expires).toString()}),AO(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),AO(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),AO(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),AO(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),AO(e.MetadataDirective)&&{"x-amz-metadata-directive":e.MetadataDirective}),AO(e.TaggingDirective)&&{"x-amz-tagging-directive":e.TaggingDirective}),AO(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),AO(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),AO(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),AO(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),AO(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),AO(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),AO(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),AO(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),AO(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),AO(e.CopySourceSSECustomerAlgorithm)&&{"x-amz-copy-source-server-side-encryption-customer-algorithm":e.CopySourceSSECustomerAlgorithm}),AO(e.CopySourceSSECustomerKey)&&{"x-amz-copy-source-server-side-encryption-customer-key":e.CopySourceSSECustomerKey}),AO(e.CopySourceSSECustomerKeyMD5)&&{"x-amz-copy-source-server-side-encryption-customer-key-md5":e.CopySourceSSECustomerKeyMD5}),AO(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),AO(e.Tagging)&&{"x-amz-tagging":e.Tagging}),AO(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),AO(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),AO(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),AO(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),AO(e.ExpectedSourceBucketOwner)&&{"x-amz-source-expected-bucket-owner":e.ExpectedSourceBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var r;return It(It({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))}),{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",rA(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return rA(e)})).join("/")),o={"x-id":"CopyObject"},[4,t.endpoint()];case 1:return a=f.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new nO({protocol:c,hostname:s,port:l,method:"PUT",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,uO(e,t)]:(n={$metadata:_O(e),BucketKeyEnabled:void 0,CopyObjectResult:void 0,CopySourceVersionId:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-copy-source-version-id"]&&(n.CopySourceVersionId=e.headers["x-amz-copy-source-version-id"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,TO(e.body,t)]);case 1:return r=i.sent(),n.CopyObjectResult=function(e,t){var n={ETag:void 0,LastModified:void 0};return void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),n}(r),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(nA),gk=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dk(t,this.serialize,this.deserialize)),this.middlewareStack.use(vk(t)),this.middlewareStack.use(YO(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"GetObjectCommand",inputFilterSensitiveLog:aI.filterSensitiveLog,outputFilterSensitiveLog:oI.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:if(n=It(It(It(It(It(It(It(It(It(It({},AO(e.IfMatch)&&{"if-match":e.IfMatch}),AO(e.IfModifiedSince)&&{"if-modified-since":dA(e.IfModifiedSince).toString()}),AO(e.IfNoneMatch)&&{"if-none-match":e.IfNoneMatch}),AO(e.IfUnmodifiedSince)&&{"if-unmodified-since":dA(e.IfUnmodifiedSince).toString()}),AO(e.Range)&&{range:e.Range}),AO(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),AO(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),AO(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),AO(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),AO(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",rA(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return rA(e)})).join("/")),o=It(It(It(It(It(It(It(It({"x-id":"GetObject"},void 0!==e.ResponseCacheControl&&{"response-cache-control":e.ResponseCacheControl}),void 0!==e.ResponseContentDisposition&&{"response-content-disposition":e.ResponseContentDisposition}),void 0!==e.ResponseContentEncoding&&{"response-content-encoding":e.ResponseContentEncoding}),void 0!==e.ResponseContentLanguage&&{"response-content-language":e.ResponseContentLanguage}),void 0!==e.ResponseContentType&&{"response-content-type":e.ResponseContentType}),void 0!==e.ResponseExpires&&{"response-expires":(e.ResponseExpires.toISOString().split(".")[0]+"Z").toString()}),void 0!==e.VersionId&&{versionId:e.VersionId}),void 0!==e.PartNumber&&{partNumber:e.PartNumber.toString()}),[4,t.endpoint()];case 1:return a=f.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new nO({protocol:c,hostname:s,port:l,method:"GET",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return 200!==e.statusCode&&e.statusCode>=300?[2,fO(e,t)]:(n={$metadata:_O(e),AcceptRanges:void 0,Body:void 0,BucketKeyEnabled:void 0,CacheControl:void 0,ContentDisposition:void 0,ContentEncoding:void 0,ContentLanguage:void 0,ContentLength:void 0,ContentRange:void 0,ContentType:void 0,DeleteMarker:void 0,ETag:void 0,Expiration:void 0,Expires:void 0,LastModified:void 0,Metadata:void 0,MissingMeta:void 0,ObjectLockLegalHoldStatus:void 0,ObjectLockMode:void 0,ObjectLockRetainUntilDate:void 0,PartsCount:void 0,ReplicationStatus:void 0,RequestCharged:void 0,Restore:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,StorageClass:void 0,TagCount:void 0,VersionId:void 0,WebsiteRedirectLocation:void 0},void 0!==e.headers["x-amz-delete-marker"]&&(n.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers["accept-ranges"]&&(n.AcceptRanges=e.headers["accept-ranges"]),void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-restore"]&&(n.Restore=e.headers["x-amz-restore"]),void 0!==e.headers["last-modified"]&&(n.LastModified=new Date(e.headers["last-modified"])),void 0!==e.headers["content-length"]&&(n.ContentLength=parseInt(e.headers["content-length"],10)),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-missing-meta"]&&(n.MissingMeta=parseInt(e.headers["x-amz-missing-meta"],10)),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["cache-control"]&&(n.CacheControl=e.headers["cache-control"]),void 0!==e.headers["content-disposition"]&&(n.ContentDisposition=e.headers["content-disposition"]),void 0!==e.headers["content-encoding"]&&(n.ContentEncoding=e.headers["content-encoding"]),void 0!==e.headers["content-language"]&&(n.ContentLanguage=e.headers["content-language"]),void 0!==e.headers["content-range"]&&(n.ContentRange=e.headers["content-range"]),void 0!==e.headers["content-type"]&&(n.ContentType=e.headers["content-type"]),void 0!==e.headers.expires&&(n.Expires=new Date(e.headers.expires)),void 0!==e.headers["x-amz-website-redirect-location"]&&(n.WebsiteRedirectLocation=e.headers["x-amz-website-redirect-location"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-storage-class"]&&(n.StorageClass=e.headers["x-amz-storage-class"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),void 0!==e.headers["x-amz-replication-status"]&&(n.ReplicationStatus=e.headers["x-amz-replication-status"]),void 0!==e.headers["x-amz-mp-parts-count"]&&(n.PartsCount=parseInt(e.headers["x-amz-mp-parts-count"],10)),void 0!==e.headers["x-amz-tagging-count"]&&(n.TagCount=parseInt(e.headers["x-amz-tagging-count"],10)),void 0!==e.headers["x-amz-object-lock-mode"]&&(n.ObjectLockMode=e.headers["x-amz-object-lock-mode"]),void 0!==e.headers["x-amz-object-lock-retain-until-date"]&&(n.ObjectLockRetainUntilDate=new Date(e.headers["x-amz-object-lock-retain-until-date"])),void 0!==e.headers["x-amz-object-lock-legal-hold"]&&(n.ObjectLockLegalHoldStatus=e.headers["x-amz-object-lock-legal-hold"]),Object.keys(e.headers).forEach((function(t){void 0===n.Metadata&&(n.Metadata={}),t.startsWith("x-amz-meta-")&&(n.Metadata[t.substring(11)]=e.headers[t])})),r=e.body,n.Body=r,[2,Promise.resolve(n)])}))}))}(e,t)},t}(nA),mk=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dk(t,this.serialize,this.deserialize)),this.middlewareStack.use(YO(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"DeleteObjectCommand",inputFilterSensitiveLog:XA.filterSensitiveLog,outputFilterSensitiveLog:JA.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:if(n=It(It(It(It({},AO(e.MFA)&&{"x-amz-mfa":e.MFA}),AO(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),AO(e.BypassGovernanceRetention)&&{"x-amz-bypass-governance-retention":e.BypassGovernanceRetention.toString()}),AO(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",rA(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return rA(e)})).join("/")),o=It({"x-id":"DeleteObject"},void 0!==e.VersionId&&{versionId:e.VersionId}),[4,t.endpoint()];case 1:return a=f.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new nO({protocol:c,hostname:s,port:l,method:"DELETE",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n;return kt(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,lO(e,t)]:(n={$metadata:_O(e),DeleteMarker:void 0,RequestCharged:void 0,VersionId:void 0},void 0!==e.headers["x-amz-delete-marker"]&&(n.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,xO(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(nA),bk=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dk(t,this.serialize,this.deserialize)),this.middlewareStack.use(YO(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"ListObjectsV2Command",inputFilterSensitiveLog:XI.filterSensitiveLog,outputFilterSensitiveLog:JI.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:if(n=It(It({},AO(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),AO(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");return r=r.replace("{Bucket}",rA(i)),o=It(It(It(It(It(It(It({"list-type":"2"},void 0!==e.Delimiter&&{delimiter:e.Delimiter}),void 0!==e.EncodingType&&{"encoding-type":e.EncodingType}),void 0!==e.MaxKeys&&{"max-keys":e.MaxKeys.toString()}),void 0!==e.Prefix&&{prefix:e.Prefix}),void 0!==e.ContinuationToken&&{"continuation-token":e.ContinuationToken}),void 0!==e.FetchOwner&&{"fetch-owner":e.FetchOwner.toString()}),void 0!==e.StartAfter&&{"start-after":e.StartAfter}),[4,t.endpoint()];case 1:return a=f.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new nO({protocol:c,hostname:s,port:l,method:"GET",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,dO(e,t)]:(n={$metadata:_O(e),CommonPrefixes:void 0,Contents:void 0,ContinuationToken:void 0,Delimiter:void 0,EncodingType:void 0,IsTruncated:void 0,KeyCount:void 0,MaxKeys:void 0,Name:void 0,NextContinuationToken:void 0,Prefix:void 0,StartAfter:void 0},[4,TO(e.body,t)]);case 1:return""===(r=i.sent()).CommonPrefixes&&(n.CommonPrefixes=[]),void 0!==r.CommonPrefixes&&(n.CommonPrefixes=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={Prefix:void 0};return void 0!==e.Prefix&&(n.Prefix=e.Prefix),n}(e)}))}(iA(r.CommonPrefixes))),""===r.Contents&&(n.Contents=[]),void 0!==r.Contents&&(n.Contents=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={Key:void 0,LastModified:void 0,ETag:void 0,Size:void 0,StorageClass:void 0,Owner:void 0};return void 0!==e.Key&&(n.Key=e.Key),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.Size&&(n.Size=parseInt(e.Size)),void 0!==e.StorageClass&&(n.StorageClass=e.StorageClass),void 0!==e.Owner&&(n.Owner=EO(e.Owner,t)),n}(e,t)}))}(iA(r.Contents),t)),void 0!==r.ContinuationToken&&(n.ContinuationToken=r.ContinuationToken),void 0!==r.Delimiter&&(n.Delimiter=r.Delimiter),void 0!==r.EncodingType&&(n.EncodingType=r.EncodingType),void 0!==r.IsTruncated&&(n.IsTruncated="true"==r.IsTruncated),void 0!==r.KeyCount&&(n.KeyCount=parseInt(r.KeyCount)),void 0!==r.MaxKeys&&(n.MaxKeys=parseInt(r.MaxKeys)),void 0!==r.Name&&(n.Name=r.Name),void 0!==r.NextContinuationToken&&(n.NextContinuationToken=r.NextContinuationToken),void 0!==r.Prefix&&(n.Prefix=r.Prefix),void 0!==r.StartAfter&&(n.StartAfter=r.StartAfter),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(nA);var wk=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,Sk)},Sk=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function Ek(e){var t=e.port,n=e.query,r=e.protocol,i=e.path,o=e.hostname;r&&":"!==r.substr(-1)&&(r+=":"),t&&(o+=":"+t),i&&"/"!==i.charAt(0)&&(i="/"+i);var a=n?function(e){var t,n,r=[];try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var a=o.value,s=e[a];if(a=wk(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push(a+"="+wk(s[u]));else{var l=a;(s||"string"==typeof s)&&(l+="="+wk(s)),r.push(l)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.join("&")}(n):"";return a&&"?"!==a[0]&&(a="?"+a),r+"//"+o+i+a}function _k(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function xk(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Ak(e,t){return _k(this,void 0,void 0,(function(){var n,r,i=this;return xk(this,(function(o){switch(o.label){case 0:return n=function(e){return function(e){return _k(i,void 0,void 0,(function(){return xk(this,(function(t){return[2,{output:{request:e.request},response:void 0}]}))}))}},(r=e.middlewareStack.clone()).add(n,{step:"build",priority:"low"}),[4,t.resolveMiddleware(r,e.config,void 0)(t).then((function(e){return e.output.request}))];case 1:return[2,o.sent()]}}))}))}var Tk=function(){return Tk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Tk.apply(this,arguments)};function Ck(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Ik(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Pk(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Ok(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function kk(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Rk(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(kk(arguments[t]));return e}for(var Lk={},Nk={},Dk=0;Dk<256;Dk++){var Mk=Dk.toString(16).toLowerCase();1===Mk.length&&(Mk="0"+Mk),Lk[Dk]=Mk,Nk[Mk]=Dk}function jk(e){for(var t="",n=0;n<e.byteLength;n++)t+=Lk[e[n]];return t}var Uk="X-Amz-Date",Fk="X-Amz-Signature",zk="X-Amz-Security-Token",Bk="authorization",qk=Uk.toLowerCase(),Kk=[Bk,qk,"date"],Hk=Fk.toLowerCase(),Gk="x-amz-content-sha256",Vk=zk.toLowerCase(),$k={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Wk=/^proxy-/,Yk=/^sec-/,Zk="AWS4-HMAC-SHA256",Jk="AWS4-HMAC-SHA256-PAYLOAD",Xk="aws4_request",Qk={},eR=[];function tR(e,t,n){return e+"/"+t+"/"+n+"/"+Xk}function nR(e,t,n){var r=new e(t);return r.update(n),r.digest()}function rR(e,t,n){var r,i,o=e.headers,a={};try{for(var s=Ok(Object.keys(o).sort()),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.toLowerCase();(l in $k||(null==t?void 0:t.has(l))||Wk.test(l)||Yk.test(l))&&(!n||n&&!n.has(l))||(a[l]=o[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a}var iR=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,oR)},oR=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function aR(e,t){var n=e.headers,r=e.body;return Ik(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return Pk(this,(function(l){switch(l.label){case 0:try{for(e=Ok(Object.keys(n)),i=e.next();!i.done;i=e.next())if((o=i.value).toLowerCase()===Gk)return[2,n[o]]}catch(e){u={error:e}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=jk,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function sR(e){var t=e.headers,n=e.query,r=Ck(e,["headers","query"]);return Tk(Tk({},r),{headers:Tk({},t),query:n?uR(n):void 0})}function uR(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return Tk(Tk({},t),((r={})[n]=Array.isArray(i)?Rk(i):i,r))}),{})}function cR(e){var t,n;e="function"==typeof e.clone?e.clone():sR(e);try{for(var r=Ok(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;Kk.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}var lR=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=hR(r),this.credentialProvider=pR(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Ik(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A;return Pk(this,(function(T){switch(T.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=T.sent(),null==c?[3,2]:(h=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=T.sent(),T.label=4;case 4:return d=h,p=fR(r),v=p.longDate,y=p.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(g=tR(y,d,null!=l?l:this.service),m=function(e,t){var n,r,i;void 0===t&&(t={});var o="function"==typeof e.clone?e.clone():sR(e),a=o.headers,s=o.query,u=void 0===s?{}:s;try{for(var c=Ok(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return Tk(Tk({},e),{headers:a,query:u})}(cR(e),{unhoistableHeaders:s}),f.sessionToken&&(m.query[zk]=f.sessionToken),m.query["X-Amz-Algorithm"]=Zk,m.query["X-Amz-Credential"]=f.accessKeyId+"/"+g,m.query[Uk]=v,m.query["X-Amz-Expires"]=o.toString(10),b=rR(m,a,u),m.query["X-Amz-SignedHeaders"]=dR(b),w=m.query,S=Fk,E=this.getSignature,_=[v,g,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,A=[m,b],[4,aR(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,A.concat([T.sent()]))]))];case 6:return w[S]=T.sent(),[2,m]}}))}))},e.prototype.sign=function(e,t){return Ik(this,void 0,void 0,(function(){return Pk(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return Ik(this,void 0,void 0,(function(){var e,t,i,c,l,f,d,h,p,v,y;return Pk(this,(function(g){switch(g.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=g.sent(),g.label=3;case 3:return e=t,i=fR(o),c=i.shortDate,l=i.longDate,f=tR(c,e,null!=u?u:this.service),[4,aR({headers:{},body:r},this.sha256)];case 4:return d=g.sent(),(h=new this.sha256).update(n),v=jk,[4,h.digest()];case 5:return p=v.apply(void 0,[g.sent()]),y=[Jk,l,f,a,p,d].join("\n"),[2,this.signString(y,{signingDate:o,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,a=n.signingService;return Ik(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return Pk(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=fR(i).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=jk,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return Ik(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,h,p,v,y;return Pk(this,(function(g){switch(g.label){case 0:return[4,this.credentialProvider()];case 1:return t=g.sent(),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=g.sent(),g.label=4;case 4:return n=r,c=cR(e),l=fR(i),f=l.longDate,d=l.shortDate,h=tR(d,n,null!=u?u:this.service),c.headers[qk]=f,t.sessionToken&&(c.headers[Vk]=t.sessionToken),[4,aR(c,this.sha256)];case 5:return p=g.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=Ok(Object.keys(t)),o=i.next();!o.done;o=i.next())if(e===o.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(Gk,c.headers)&&this.applyChecksum&&(c.headers[Gk]=p),v=rR(c,a,o),[4,this.getSignature(f,h,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,p))];case 6:return y=g.sent(),c.headers[Bk]=Zk+" Credential="+t.accessKeyId+"/"+h+", SignedHeaders="+dR(v)+", Signature="+y,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],a={},s=function(e){if(e.toLowerCase()===Hk)return"continue";o.push(e);var t=i[e];"string"==typeof t?a[e]=iR(e)+"="+iR(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([iR(e)+"="+iR(n)])}),[]).join("&"))};try{for(var u=Ok(Object.keys(i).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return Ik(this,void 0,void 0,(function(){var r,i;return Pk(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,Zk+"\n"+e+"\n"+t+"\n"+jk(i)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return Ik(this,void 0,void 0,(function(){var i,o,a,s,u;return Pk(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(o=new(s.apply(a,[void 0,c.sent()]))).update(i),u=jk,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){return Ik(void 0,void 0,void 0,(function(){var o,a,s,u,c,l,f,d,h;return Pk(this,(function(p){switch(p.label){case 0:return[4,nR(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=p.sent(),(a=n+":"+r+":"+i+":"+jk(o)+":"+t.sessionToken)in Qk)return[2,Qk[a]];for(eR.push(a);eR.length>50;)delete Qk[eR.shift()];s="AWS4"+t.secretAccessKey,p.label=2;case 2:p.trys.push([2,7,8,9]),u=Ok([n,r,i,Xk]),c=u.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,nR(e,s,l)]);case 4:s=p.sent(),p.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=p.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,Qk[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),fR=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},dR=function(e){return Object.keys(e).sort().join(";")},hR=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},pR=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},vR=function(){function e(e){var t=Tk({service:e.signingName||e.service||"s3",uriEscapePath:e.uriEscapePath||!1},e);this.signer=new lR(t)}return e.prototype.presign=function(e,t){void 0===t&&(t={});var n=t.unsignableHeaders,r=void 0===n?new Set:n,i=t.unhoistableHeaders,o=void 0===i?new Set:i,a=Ck(t,["unsignableHeaders","unhoistableHeaders"]);return Ik(this,void 0,void 0,(function(){return Pk(this,(function(t){return r.add("content-type"),Object.keys(e.headers).map((function(e){return e.toLowerCase()})).filter((function(e){return e.startsWith("x-amz-server-side-encryption")})).forEach((function(e){o.add(e)})),e.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",e.headers.host||(e.headers.host=e.hostname),[2,this.signer.presign(e,Tk({expiresIn:900,unsignableHeaders:r,unhoistableHeaders:o},a))]}))}))},e}();!function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(Tk(Tk({},this),{headers:Tk({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return Tk(Tk({},e),((r={})[n]=Array.isArray(i)?Rk(i):i,r))}),{}))),n}}();var yR,gR,mR,bR=n(6742),wR=n(4073),SR=n(9669),ER=n.n(SR);!function(e){e.NO_CREDENTIALS="No credentials",e.NO_SRC_KEY='source param should be an object with the property "key" with value of type string',e.NO_DEST_KEY='destination param should be an object with the property "key" with value of type string',e.INVALID_BLOB="Object must be an instance of Blob"}(yR||(yR={})),function(e){e.CLEANUP_FAILED="Multipart copy clean up failed",e.NO_OBJECT_FOUND="Object does not exist",e.INVALID_QUEUESIZE="Queue size must be a positive number",e.NO_COPYSOURCE="You must specify a copy source",e.MAX_NUM_PARTS_EXCEEDED="Only a maximum of 10000 parts are allowed"}(gR||(gR={})),function(e){e.UPLOAD_PAUSED_MESSAGE="paused"}(mR||(mR={}));var _R=new c("axios-http-handler"),xR="sendUploadProgress",AR="sendDownloadProgress",TR=function(e,t){var n,r;try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(e)),o=i.next();!o.done;o=i.next()){var a=$x(o.value,2),s=a[0],u=a[1];s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=u,delete e[s])}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},CR=[function(e,t){return"undefined"!=typeof Blob&&e instanceof Blob?(TR(t,"Content-Type"),TR(t,"Accept"),e):ER().defaults.transformRequest[0].call(null,e,t)}],IR=function(){function e(e,t,n){void 0===e&&(e={}),this.httpOptions=e,this.emitter=t,this.cancelTokenSource=n}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=this.httpOptions.requestTimeout,r=t.emitter||this.emitter,i=e.path;if(e.query){var o=(0,wR.I)(e.query);o&&(i+="?"+o)}var a=e.port,s=e.protocol+"//"+e.hostname+(a?":"+a:"")+i,u={};u.url=s,u.method=e.method,u.headers=e.headers,delete u.headers.host,e.body?u.data=e.body:u.headers[Object.keys(u.headers).find((function(e){return"content-type"===e.toLowerCase()}))]&&(u.data=null),r&&(u.onUploadProgress=function(e){r.emit(xR,e),_R.debug(e)},u.onDownloadProgress=function(e){r.emit(AR,e),_R.debug(e)}),this.cancelTokenSource&&(u.cancelToken=this.cancelTokenSource.token),t.cancelTokenSource&&(u.cancelToken=t.cancelTokenSource.token),u.responseType="blob",ee.isReactNative&&(u.transformRequest=CR);var c,l=[ER().request(u).then((function(e){return{response:new bR.Z({headers:e.headers,statusCode:e.status,body:e.data})}})).catch((function(e){var t,n;if(e.message!==mR.UPLOAD_PAUSED_MESSAGE&&_R.error(e.message),ER().isCancel(e)||!function(e){return void 0!==e&&Object.prototype.hasOwnProperty.call(e,"response")&&void 0!==e.response&&Object.prototype.hasOwnProperty.call(e.response,"status")&&"number"==typeof e.response.status}(e))throw e;return{response:new bR.Z({statusCode:e.response.status,body:null===(t=e.response)||void 0===t?void 0:t.data,headers:null===(n=e.response)||void 0===n?void 0:n.headers})}})),(c=n,void 0===c&&(c=0),new Promise((function(e,t){c&&setTimeout((function(){var e=new Error("Request did not complete within "+c+" ms");e.name="TimeoutError",t(e)}),c)})))];return Promise.race(l)},e}();var PR="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",OR="contentLengthMiddleware",kR="__uploadInProgress",RR=function(e,t,n,r,i){if(e){var o={attrs:n};r&&(o.metrics=r),_.dispatch("storage",{event:t,data:o,message:i},"Storage",PR)}},LR=n(8515);function NR(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function DR(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var MR=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,jR)},jR=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()},UR=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var i=new Error("Request aborted");return i.name="AbortError",Promise.reject(i)}var o=e.path;if(e.query){var a=function(e){var t,n,r=[];try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var a=o.value,s=e[a];if(a=MR(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push(a+"="+MR(s[u]));else{var l=a;(s||"string"==typeof s)&&(l+="="+MR(s)),r.push(l)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.join("&")}(e.query);a&&(o+="?"+a)}var s=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(s?":"+s:"")+o,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var f,d=new Request(c,l),h=[fetch(d).then((function(e){var t,n,r=e.headers,i={};try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r.entries()),a=o.next();!a.done;a=o.next()){var s=a.value;i[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new QP({headers:i,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new QP({headers:i,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(h)},e}();function FR(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),a=o>-1?o+1:i.length;t(i.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}function zR(e,t,n){return void 0===n&&(n=1048576),new Promise((function(r,i){var o=new FileReader;o.addEventListener("error",i),o.addEventListener("abort",i);var a=e.size,s=0;function u(){s>=a?r():o.readAsArrayBuffer(e.slice(s,Math.min(a,s+n)))}o.addEventListener("load",(function(e){var n=e.target.result;t(new Uint8Array(n)),s+=n.byteLength,u()})),u()}))}var BR=[1732584193,4023233417,2562383102,271733878],qR=function(){function e(){this.state=Uint32Array.from(BR),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(!function(e){return"string"==typeof e?0===e.length:0===e.byteLength}(e)){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=function(e){return"string"==typeof e?(t=e,"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(t):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(t)):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e);var t}(e),n=0,r=t.byteLength;for(this.bytesHashed+=r;r>0;)this.buffer.setUint8(this.bufferLength++,t[n++]),r--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)}},e.prototype.digest=function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var e,t,n,r,i,o,a;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(s){if(!this.finished){if(t=(e=this).buffer,n=e.bufferLength,r=e.bytesHashed,i=8*r,t.setUint8(this.bufferLength++,128),n%64>=56){for(a=this.bufferLength;a<64;a++)t.setUint8(a,0);this.hashBuffer(),this.bufferLength=0}for(a=this.bufferLength;a<56;a++)t.setUint8(a,0);t.setUint32(56,i>>>0,!0),t.setUint32(60,Math.floor(i/4294967296),!0),this.hashBuffer(),this.finished=!0}for(o=new DataView(new ArrayBuffer(16)),a=0;a<4;a++)o.setUint32(4*a,this.state[a],!0);return[2,new Uint8Array(o.buffer,o.byteOffset,o.byteLength)]}))}))},e.prototype.hashBuffer=function(){var e=this.buffer,t=this.state,n=t[0],r=t[1],i=t[2],o=t[3];n=HR(n,r,i,o,e.getUint32(0,!0),7,3614090360),o=HR(o,n,r,i,e.getUint32(4,!0),12,3905402710),i=HR(i,o,n,r,e.getUint32(8,!0),17,606105819),r=HR(r,i,o,n,e.getUint32(12,!0),22,3250441966),n=HR(n,r,i,o,e.getUint32(16,!0),7,4118548399),o=HR(o,n,r,i,e.getUint32(20,!0),12,1200080426),i=HR(i,o,n,r,e.getUint32(24,!0),17,2821735955),r=HR(r,i,o,n,e.getUint32(28,!0),22,4249261313),n=HR(n,r,i,o,e.getUint32(32,!0),7,1770035416),o=HR(o,n,r,i,e.getUint32(36,!0),12,2336552879),i=HR(i,o,n,r,e.getUint32(40,!0),17,4294925233),r=HR(r,i,o,n,e.getUint32(44,!0),22,2304563134),n=HR(n,r,i,o,e.getUint32(48,!0),7,1804603682),o=HR(o,n,r,i,e.getUint32(52,!0),12,4254626195),i=HR(i,o,n,r,e.getUint32(56,!0),17,2792965006),n=GR(n,r=HR(r,i,o,n,e.getUint32(60,!0),22,1236535329),i,o,e.getUint32(4,!0),5,4129170786),o=GR(o,n,r,i,e.getUint32(24,!0),9,3225465664),i=GR(i,o,n,r,e.getUint32(44,!0),14,643717713),r=GR(r,i,o,n,e.getUint32(0,!0),20,3921069994),n=GR(n,r,i,o,e.getUint32(20,!0),5,3593408605),o=GR(o,n,r,i,e.getUint32(40,!0),9,38016083),i=GR(i,o,n,r,e.getUint32(60,!0),14,3634488961),r=GR(r,i,o,n,e.getUint32(16,!0),20,3889429448),n=GR(n,r,i,o,e.getUint32(36,!0),5,568446438),o=GR(o,n,r,i,e.getUint32(56,!0),9,3275163606),i=GR(i,o,n,r,e.getUint32(12,!0),14,4107603335),r=GR(r,i,o,n,e.getUint32(32,!0),20,1163531501),n=GR(n,r,i,o,e.getUint32(52,!0),5,2850285829),o=GR(o,n,r,i,e.getUint32(8,!0),9,4243563512),i=GR(i,o,n,r,e.getUint32(28,!0),14,1735328473),n=VR(n,r=GR(r,i,o,n,e.getUint32(48,!0),20,2368359562),i,o,e.getUint32(20,!0),4,4294588738),o=VR(o,n,r,i,e.getUint32(32,!0),11,2272392833),i=VR(i,o,n,r,e.getUint32(44,!0),16,1839030562),r=VR(r,i,o,n,e.getUint32(56,!0),23,4259657740),n=VR(n,r,i,o,e.getUint32(4,!0),4,2763975236),o=VR(o,n,r,i,e.getUint32(16,!0),11,1272893353),i=VR(i,o,n,r,e.getUint32(28,!0),16,4139469664),r=VR(r,i,o,n,e.getUint32(40,!0),23,3200236656),n=VR(n,r,i,o,e.getUint32(52,!0),4,681279174),o=VR(o,n,r,i,e.getUint32(0,!0),11,3936430074),i=VR(i,o,n,r,e.getUint32(12,!0),16,3572445317),r=VR(r,i,o,n,e.getUint32(24,!0),23,76029189),n=VR(n,r,i,o,e.getUint32(36,!0),4,3654602809),o=VR(o,n,r,i,e.getUint32(48,!0),11,3873151461),i=VR(i,o,n,r,e.getUint32(60,!0),16,530742520),n=$R(n,r=VR(r,i,o,n,e.getUint32(8,!0),23,3299628645),i,o,e.getUint32(0,!0),6,4096336452),o=$R(o,n,r,i,e.getUint32(28,!0),10,1126891415),i=$R(i,o,n,r,e.getUint32(56,!0),15,2878612391),r=$R(r,i,o,n,e.getUint32(20,!0),21,4237533241),n=$R(n,r,i,o,e.getUint32(48,!0),6,1700485571),o=$R(o,n,r,i,e.getUint32(12,!0),10,2399980690),i=$R(i,o,n,r,e.getUint32(40,!0),15,4293915773),r=$R(r,i,o,n,e.getUint32(4,!0),21,2240044497),n=$R(n,r,i,o,e.getUint32(32,!0),6,1873313359),o=$R(o,n,r,i,e.getUint32(60,!0),10,4264355552),i=$R(i,o,n,r,e.getUint32(24,!0),15,2734768916),r=$R(r,i,o,n,e.getUint32(52,!0),21,1309151649),n=$R(n,r,i,o,e.getUint32(16,!0),6,4149444226),o=$R(o,n,r,i,e.getUint32(44,!0),10,3174756917),i=$R(i,o,n,r,e.getUint32(8,!0),15,718787259),r=$R(r,i,o,n,e.getUint32(36,!0),21,3951481745),t[0]=n+t[0]&4294967295,t[1]=r+t[1]&4294967295,t[2]=i+t[2]&4294967295,t[3]=o+t[3]&4294967295},e}();function KR(e,t,n,r,i,o){return((t=(t+e&4294967295)+(r+o&4294967295)&4294967295)<<i|t>>>32-i)+n&4294967295}function HR(e,t,n,r,i,o,a){return KR(t&n|~t&r,e,t,i,o,a)}function GR(e,t,n,r,i,o,a){return KR(t&r|n&~r,e,t,i,o,a)}function VR(e,t,n,r,i,o,a){return KR(t^n^r,e,t,i,o,a)}function $R(e,t,n,r,i,o,a){return KR(n^(t|~r),e,t,i,o,a)}var WR=function(){return WR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},WR.apply(this,arguments)};function YR(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function ZR(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function JR(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var XR={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},QR=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],eL=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],tL=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],nL=[500,502,503,504],rL=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||eL.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},iL=n(1457),oL=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},aL=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return QR.includes(e.name)}(e)||rL(e)||function(e){var t;return tL.includes(e.name)||nL.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},sL=function(){function e(e,t){var n,r,i,o,a,s,u;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:aL,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:oL,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:(o=500,a=500,s=function(e){return"TimeoutError"===e.name?10:5},u=function(e){return s(e)<=a},Object.freeze({hasRetryTokens:u,retrieveRetryTokens:function(e){if(!u(e))throw new Error("No retry token available");var t=s(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,o)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return YR(this,void 0,void 0,(function(){var e;return ZR(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return YR(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return ZR(this,(function(l){switch(l.label){case 0:return r=0,i=0,[4,this.getMaxAttempts()];case 1:o=l.sent(),a=t.request,nO.isInstance(a)&&(a.headers["amz-sdk-invocation-id"]=(0,iL.v4)()),s=function(){var s,c,l,f,d;return ZR(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,5]),nO.isInstance(a)&&(a.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+o),[4,e(t)];case 1:return s=h.sent(),c=s.response,l=s.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=i,[2,{value:{response:c,output:l}}];case 2:return f=h.sent(),r++,u.shouldRetry(f,r,o)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(rL(f)?500:100,r),i+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return h.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=i,f;case 5:return[2]}}))},u=this,l.label=2;case 2:return[5,s()];case 3:return"object"==typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}();var uL=n(1545),cL="s3.{region}.amazonaws.com",lL=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),fL=new Set(["cn-north-1","cn-northwest-1"]),dL=new Set(["us-iso-east-1"]),hL=new Set(["us-isob-east-1"]),pL=new Set(["us-gov-east-1","us-gov-west-1"]);function vL(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var yL={apiVersion:"2006-03-01",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"s3.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"s3.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"s3.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"s3.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"s3.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"s3.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"s3.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"aws-global":n={hostname:"s3.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"ca-central-1":n={hostname:"s3.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"s3.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"s3.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"s3.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"s3.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"s3.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"s3.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"s3.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"s3.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-gov-west-1":n={hostname:"s3-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"me-south-1":n={hostname:"s3.me-south-1.amazonaws.com",partition:"aws"};break;case"s3-external-1":n={hostname:"s3-external-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"sa-east-1":n={hostname:"s3.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"s3.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"s3.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"s3.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":n={hostname:"s3.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-iso-east-1":n={hostname:"s3.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"s3.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"s3.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"s3.us-west-2.amazonaws.com",partition:"aws"};break;default:lL.has(e)&&(n={hostname:cL.replace("{region}",e),partition:"aws"}),fL.has(e)&&(n={hostname:"s3.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),dL.has(e)&&(n={hostname:"s3.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),hL.has(e)&&(n={hostname:"s3.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),pL.has(e)&&(n={hostname:"s3.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:cL.replace("{region}",e),partition:"aws"})}return Promise.resolve(It({signingService:"s3"},n))},serviceId:"S3",signingEscapePath:!1,urlParser:function(e){var t,n=new URL(e),r=n.hostname,i=n.pathname,o=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.split("&")),o=i.next();!o.done;o=i.next()){var a=vL(o.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:o?parseInt(o):void 0,protocol:a,path:i,query:t}},useArnRegion:!1},gL=It(It({},yL),{runtime:"browser",base64Decoder:er,base64Encoder:tr,bodyLengthChecker:function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0},credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:function(e){var t=e.serviceId,n=e.clientVersion;return function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e,r,i,o,a,s,u,c,l;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(f){return e=(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?mr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(o=null==e?void 0:e.os)||void 0===o?void 0:o.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser",(null!==(u=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown")+"_"+(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}}({serviceId:yL.serviceId,clientVersion:"3.6.1"}),eventStreamSerdeProvider:ip,maxAttempts:3,md5:qR,region:function(){return Promise.reject("Region is missing")},requestHandler:new UR,sha256:LR.Sha256,streamCollector:function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return NR(this,void 0,void 0,(function(){var t,n;return DR(this,(function(r){switch(r.label){case 0:return[4,FR(e)];case 1:return t=r.sent(),n=er(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return NR(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return DR(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=u.sent(),o=i.done,(a=i.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=o,[3,1];case 3:return[2,t]}}))}))}(e)},streamHasher:function(e,t){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var n;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(r){switch(r.label){case 0:return n=new e,[4,zR(t,(function(e){n.update(e)}))];case 1:return r.sent(),[2,n.digest()]}}))}))},utf8Decoder:uL.fromUtf8,utf8Encoder:uL.toUtf8}),mL=function(){return mL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mL.apply(this,arguments)};var bL=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var i=Promise.resolve(t);return function(){return i}}return t},wL=function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t,n,r,i,o;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(a){switch(a.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=a.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(i=(null!==(o=a.sent())&&void 0!==o?o:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+i)]}}))}))},SL=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},EL=function(){return EL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},EL.apply(this,arguments)};var _L="content-length",xL={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},AL=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t,i,o,a,s;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(u){return t=r.request,nO.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map((function(e){return e.toLowerCase()})).indexOf(_L)&&void 0!==(a=e(i))&&(t.headers=EL(EL({},t.headers),((s={})[_L]=String(a),s)))),[2,n(EL(EL({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),xL)}}},TL=function(){return TL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},TL.apply(this,arguments)};function CL(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var IL=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(TL(TL({},this),{headers:TL({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return TL(TL({},e),((r={})[n]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(CL(arguments[t]));return e}(i):i,r))}),{}))),n},e}(),PL={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},OL=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(i){return t=r.request,IL.isInstance(t)&&t.body&&"node"===e.runtime&&(t.headers=TL(TL({},t.headers),{Expect:"100-continue"})),[2,n(TL(TL({},r),{request:t}))]}))}))}}}(e),PL)}}};var kL={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},RL=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,i;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(o){return nO.isInstance(n.request)?(r=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),kL)}}};var LL=function(){return function(e,t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(d){switch(d.label){case 0:return r=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(c,["$metadata"]),a.info({clientName:r,commandName:i,input:o(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}},NL={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},DL=function(){return DL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},DL.apply(this,arguments)};function ML(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function jL(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var UL=function(){return UL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},UL.apply(this,arguments)};function FL(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function zL(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function BL(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qL(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}for(var KL={},HL={},GL=0;GL<256;GL++){var VL=GL.toString(16).toLowerCase();1===VL.length&&(VL="0"+VL),KL[GL]=VL,HL[VL]=GL}function $L(e){for(var t="",n=0;n<e.byteLength;n++)t+=KL[e[n]];return t}var WL="X-Amz-Date",YL="X-Amz-Signature",ZL="X-Amz-Security-Token",JL="authorization",XL=WL.toLowerCase(),QL=[JL,XL,"date"],eN=YL.toLowerCase(),tN="x-amz-content-sha256",nN=ZL.toLowerCase(),rN={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},iN=/^proxy-/,oN=/^sec-/,aN="AWS4-HMAC-SHA256",sN="AWS4-HMAC-SHA256-PAYLOAD",uN="aws4_request",cN={},lN=[];function fN(e,t,n){return e+"/"+t+"/"+n+"/"+uN}function dN(e,t,n){var r=new e(t);return r.update(n),r.digest()}function hN(e,t,n){var r,i,o=e.headers,a={};try{for(var s=BL(Object.keys(o).sort()),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.toLowerCase();(l in rN||(null==t?void 0:t.has(l))||iN.test(l)||oN.test(l))&&(!n||n&&!n.has(l))||(a[l]=o[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a}function pN(e,t){var n=e.headers,r=e.body;return FL(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return zL(this,(function(l){switch(l.label){case 0:try{for(e=BL(Object.keys(n)),i=e.next();!i.done;i=e.next())if((o=i.value).toLowerCase()===tN)return[2,n[o]]}catch(e){u={error:e}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=$L,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function vN(e){var t=e.headers,n=e.query,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["headers","query"]);return UL(UL({},r),{headers:UL({},t),query:n?yN(n):void 0})}function yN(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return UL(UL({},t),((r={})[n]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(qL(arguments[t]));return e}(i):i,r))}),{})}function gN(e){var t,n;e="function"==typeof e.clone?e.clone():vN(e);try{for(var r=BL(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;QL.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}var mN=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=SN(r),this.credentialProvider=EN(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),FL(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A;return zL(this,(function(T){switch(T.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=T.sent(),null==c?[3,2]:(h=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=T.sent(),T.label=4;case 4:return d=h,p=bN(r),v=p.longDate,y=p.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(g=fN(y,d,null!=l?l:this.service),m=function(e,t){var n,r,i;void 0===t&&(t={});var o="function"==typeof e.clone?e.clone():vN(e),a=o.headers,s=o.query,u=void 0===s?{}:s;try{for(var c=BL(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return UL(UL({},e),{headers:a,query:u})}(gN(e),{unhoistableHeaders:s}),f.sessionToken&&(m.query[ZL]=f.sessionToken),m.query["X-Amz-Algorithm"]=aN,m.query["X-Amz-Credential"]=f.accessKeyId+"/"+g,m.query[WL]=v,m.query["X-Amz-Expires"]=o.toString(10),b=hN(m,a,u),m.query["X-Amz-SignedHeaders"]=wN(b),w=m.query,S=YL,E=this.getSignature,_=[v,g,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,A=[m,b],[4,pN(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,A.concat([T.sent()]))]))];case 6:return w[S]=T.sent(),[2,m]}}))}))},e.prototype.sign=function(e,t){return FL(this,void 0,void 0,(function(){return zL(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return FL(this,void 0,void 0,(function(){var e,t,i,c,l,f,d,h,p,v,y;return zL(this,(function(g){switch(g.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=g.sent(),g.label=3;case 3:return e=t,i=bN(o),c=i.shortDate,l=i.longDate,f=fN(c,e,null!=u?u:this.service),[4,pN({headers:{},body:r},this.sha256)];case 4:return d=g.sent(),(h=new this.sha256).update(n),v=$L,[4,h.digest()];case 5:return p=v.apply(void 0,[g.sent()]),y=[sN,l,f,a,p,d].join("\n"),[2,this.signString(y,{signingDate:o,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,a=n.signingService;return FL(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return zL(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=bN(i).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=$L,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return FL(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,h,p,v,y;return zL(this,(function(g){switch(g.label){case 0:return[4,this.credentialProvider()];case 1:return t=g.sent(),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=g.sent(),g.label=4;case 4:return n=r,c=gN(e),l=bN(i),f=l.longDate,d=l.shortDate,h=fN(d,n,null!=u?u:this.service),c.headers[XL]=f,t.sessionToken&&(c.headers[nN]=t.sessionToken),[4,pN(c,this.sha256)];case 5:return p=g.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=BL(Object.keys(t)),o=i.next();!o.done;o=i.next())if(e===o.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(tN,c.headers)&&this.applyChecksum&&(c.headers[tN]=p),v=hN(c,a,o),[4,this.getSignature(f,h,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,p))];case 6:return y=g.sent(),c.headers[JL]=aN+" Credential="+t.accessKeyId+"/"+h+", SignedHeaders="+wN(v)+", Signature="+y,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],a={},s=function(e){if(e.toLowerCase()===eN)return"continue";o.push(e);var t=i[e];"string"==typeof t?a[e]=MR(e)+"="+MR(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([MR(e)+"="+MR(n)])}),[]).join("&"))};try{for(var u=BL(Object.keys(i).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return FL(this,void 0,void 0,(function(){var r,i;return zL(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,aN+"\n"+e+"\n"+t+"\n"+$L(i)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return FL(this,void 0,void 0,(function(){var i,o,a,s,u;return zL(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(o=new(s.apply(a,[void 0,c.sent()]))).update(i),u=$L,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){return FL(void 0,void 0,void 0,(function(){var o,a,s,u,c,l,f,d,h;return zL(this,(function(p){switch(p.label){case 0:return[4,dN(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=p.sent(),(a=n+":"+r+":"+i+":"+$L(o)+":"+t.sessionToken)in cN)return[2,cN[a]];for(lN.push(a);lN.length>50;)delete cN[lN.shift()];s="AWS4"+t.secretAccessKey,p.label=2;case 2:p.trys.push([2,7,8,9]),u=BL([n,r,i,uN]),c=u.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,dN(e,s,l)]);case 4:s=p.sent(),p.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=p.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,cN[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),bN=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},wN=function(e){return Object.keys(e).sort().join(";")},SN=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},EN=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function _N(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}function xN(e){return function(t,n){return function(r){return ML(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d;return jL(this,(function(h){switch(h.label){case 0:return nO.isInstance(r.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(r)];case 1:return o=h.sent(),[3,3];case 2:o=e.signer,h.label=3;case 3:return i=o,s=t,u=[DL({},r)],d={},[4,i.sign(r.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,s.apply(void 0,[DL.apply(void 0,u.concat([(d.request=h.sent(),d)]))])];case 5:return a=h.sent(),c=a.response.headers,(l=c&&(c.date||c.Date))&&(p=f=Date.parse(l),v=e.systemClockOffset,Math.abs(function(e){return new Date(Date.now()+e)}(v).getTime()-p)>=3e5&&(e.systemClockOffset=f-Date.now())),[2,a]}var p,v}))}))}}}var AN={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},TN=function(){return TN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},TN.apply(this,arguments)};function CN(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function IN(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(CN(arguments[t]));return e}var PN,ON,kN,RN,LN,NN,DN,MN,jN,UN,FN,zN,BN,qN,KN,HN,GN,VN,$N,WN,YN,ZN,JN,XN,QN,eD,tD,nD,rD,iD,oD,aD,sD,uD,cD="user-agent",lD=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,fD=function(e){var t=CN(e,2),n=t[0],r=t[1],i=n.indexOf("/"),o=n.substring(0,i),a=n.substring(i+1);return"api"===o&&(a=a.toLowerCase()),[o,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(lD,"_")})).join("/")},dD={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},hD=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var i,o,a,s,u,c,l,f;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(d){switch(d.label){case 0:return i=r.request,nO.isInstance(i)?(o=i.headers,a=(null===(l=null==t?void 0:t.userAgent)||void 0===l?void 0:l.map(fD))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=d.sent().map(fD),u=(null===(f=null==n?void 0:n.customUserAgent)||void 0===f?void 0:f.map(fD))||[],o["x-amz-user-agent"]=IN(s,a,u).join(" "),c=IN(s.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&c&&(o[cD]=o[cD]?o[cD]+" "+c:c),[2,e(TN(TN({},r),{request:i}))]}}))}))}}),dD)}}},pD=function(e){function t(t){var n,r,i,o,a=this,s=function(e){if(!e.region)throw new Error("Region is missing");return mL(mL({},e),{region:SL(e.region)})}(It(It({},gL),t)),u=function(e){var t;return mL(mL({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?bL(e):function(){return wL(e)},isCustomEndpoint:!!e.endpoint})}(s),c=function(e){var t,n=this,r=_N(e.credentials||e.credentialDefaultProvider(e)),i=e.signingEscapePath,o=void 0===i||i,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?_N(e.signer):function(){return _N(e.region)().then((function(t){return ML(n,void 0,void 0,(function(){return jL(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t,2),i=n[0],a=n[1],s=i.signingRegion,c=i.signingService;return e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId,new mN({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o})}))},DL(DL({},e),{systemClockOffset:s,signingEscapePath:o,credentials:r,signer:t})}(u),l=function(e){var t=e.bucketEndpoint,n=void 0!==t&&t,r=e.forcePathStyle,i=void 0!==r&&r,o=e.useAccelerateEndpoint,a=void 0!==o&&o,s=e.useDualstackEndpoint,u=void 0!==s&&s,c=e.useArnRegion,l=void 0!==c&&c;return IO(IO({},e),{bucketEndpoint:n,forcePathStyle:i,useAccelerateEndpoint:a,useDualstackEndpoint:u,useArnRegion:"function"==typeof l?l:function(){return Promise.resolve(l)}})}((r=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}((n=c).maxAttempts),WR(WR({},n),{maxAttempts:r,retryStrategy:n.retryStrategy||new sL(r)}))),f=function(e){return TN(TN({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}(l),d=zp(f);return(a=e.call(this,d)||this).config=d,a.middlewareStack.use((i=a.config,{applyToStack:function(e){e.addRelativeTo(xN(i),AN)}})),a.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return YR(void 0,void 0,void 0,(function(){var i;return ZR(this,(function(o){return(null===(i=null==e?void 0:e.retryStrategy)||void 0===i?void 0:i.mode)&&(n.userAgent=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(JR(arguments[t]));return e}(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),XR)}}}(a.config)),a.middlewareStack.use(AL(a.config)),a.middlewareStack.use(RL(a.config)),a.middlewareStack.use((a.config,{applyToStack:function(e){e.add(LL(),NL)}})),a.middlewareStack.use((a.config,{applyToStack:function(e){e.add(function(){var e=this;return function(t){return function(n){return JO(e,void 0,void 0,(function(){var e,r;return XO(this,(function(i){if("string"==typeof(e=n.input.Bucket)&&!kO(e)&&e.indexOf("/")>=0)throw(r=new Error("Bucket name shouldn't contain '/', received '"+e+"'")).name="InvalidBucketName",r;return[2,t(ZO({},n))]}))}))}}}(),ek)}})),a.middlewareStack.use((o=a.config,{applyToStack:function(e){e.add(function(e){return function(t){return function(n){return JO(void 0,void 0,void 0,(function(){var r,i;return XO(this,(function(o){switch(o.label){case 0:return r=n.request,!nk.isInstance(r)||e.isCustomEndpoint?[2,t(ZO({},n))]:"s3.amazonaws.com"!==r.hostname?[3,1]:(r.hostname="s3.us-east-1.amazonaws.com",[3,3]);case 1:return i="aws-global",[4,e.region()];case 2:i===o.sent()&&(r.hostname="s3.amazonaws.com"),o.label=3;case 3:return[2,t(ZO({},n))]}}))}))}}}(o),rk)}})),a.middlewareStack.use(OL(a.config)),a.middlewareStack.use(hD(a.config)),a}return xe(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(tA),vD=new c("S3ClientUtils"),yD={accessKeyId:"",secretAccessKey:""},gD=function(e){var t=e.credentials,n=e.level,r=e.customPrefix||{},i=e.identityId||t.identityId,o=(void 0!==r.private?r.private:"private/")+i+"/",a=(void 0!==r.protected?r.protected:"protected/")+i+"/",s=void 0!==r.public?r.public:"public/";switch(n){case"private":return o;case"protected":return a;default:return s}},mD=function(e,t){return function(n,r){return function(r){return Gx(void 0,void 0,void 0,(function(){var i,o,a,s;return Vx(this,(function(u){switch(u.label){case 0:return[4,fs.get()];case 1:return i=u.sent(),o=fs.shear(i),a=gD(Hx(Hx({},e),{credentials:o})),s=Object.assign({},r.input),Object.prototype.hasOwnProperty.call(r.input,"Key")?(s.Key=a+t,r.input=s):Object.prototype.hasOwnProperty.call(r.input,"Prefix")&&(s.Prefix=a+t,r.input=s),[2,n(r)]}}))}))}}},bD=function(e){return function(t,n){return function(n){return Gx(void 0,void 0,void 0,(function(){var r,i;return Vx(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t(n)];case 1:return[2,o.sent()];case 2:throw(a=r=o.sent()).ServerTime&&"string"==typeof a.Code&&"RequestTimeTooSkewed"===a.Code&&(i=new Date(r.ServerTime),e.systemClockOffset=i.getTime()-Date.now()),r;case 3:return[2]}var a}))}))}}},wD={step:"finalizeRequest",name:"autoAdjustClockskewMiddleware"},SD={step:"initialize",name:"addPrefixMiddleware"},ED=function(){return Gx(void 0,void 0,void 0,(function(){var e,t,n;return Vx(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,fs.get()];case 1:return(e=r.sent())?(t=fs.shear(e),vD.debug("credentials provider get credentials",t),[2,t]):[2,yD];case 2:return n=r.sent(),vD.warn("credentials provider error",n),[2,yD];case 3:return[2]}}))}))},_D=function(e,t){var n=e.region,r=e.cancelTokenSource,i=e.dangerouslyConnectToHttpEndpointForTesting,o=e.useAccelerateEndpoint,a={};i&&(a={endpoint:"http://localhost:20005",tls:!1,bucketEndpoint:!1,forcePathStyle:!0});var s=new pD(Hx(Hx({region:n,credentials:ED,customUserAgent:te()},a),{requestHandler:new IR({},t,r),useAccelerateEndpoint:o}));return s.middlewareStack.remove(OR),s},xD=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dk(t,this.serialize,this.deserialize)),this.middlewareStack.use(vk(t)),this.middlewareStack.use(YO(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:RP.filterSensitiveLog,outputFilterSensitiveLog:kP.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d;return kt(this,(function(h){switch(h.label){case 0:if(n=It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It({"content-type":"application/octet-stream"},AO(e.ACL)&&{"x-amz-acl":e.ACL}),AO(e.CacheControl)&&{"cache-control":e.CacheControl}),AO(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),AO(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),AO(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),AO(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),AO(e.ContentMD5)&&{"content-md5":e.ContentMD5}),AO(e.ContentType)&&{"content-type":e.ContentType}),AO(e.Expires)&&{expires:dA(e.Expires).toString()}),AO(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),AO(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),AO(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),AO(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),AO(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),AO(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),AO(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),AO(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),AO(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),AO(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),AO(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),AO(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),AO(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),AO(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),AO(e.Tagging)&&{"x-amz-tagging":e.Tagging}),AO(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),AO(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),AO(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),AO(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var r;return It(It({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))}),{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",rA(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return rA(e)})).join("/")),o={"x-id":"PutObject"},void 0!==e.Body&&(s=e.Body,a=s),[4,t.endpoint()];case 1:return u=h.sent(),c=u.hostname,l=u.protocol,f=void 0===l?"https":l,d=u.port,[2,new nO({protocol:f,hostname:c,port:d,method:"PUT",headers:n,path:r,query:o,body:a})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n;return kt(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,pO(e,t)]:(n={$metadata:_O(e),BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,xO(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(nA),AD=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dk(t,this.serialize,this.deserialize)),this.middlewareStack.use(vk(t)),this.middlewareStack.use(YO(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CreateMultipartUploadCommand",inputFilterSensitiveLog:jA.filterSensitiveLog,outputFilterSensitiveLog:MA.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:if(n=It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It(It({},AO(e.ACL)&&{"x-amz-acl":e.ACL}),AO(e.CacheControl)&&{"cache-control":e.CacheControl}),AO(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),AO(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),AO(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),AO(e.ContentType)&&{"content-type":e.ContentType}),AO(e.Expires)&&{expires:dA(e.Expires).toString()}),AO(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),AO(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),AO(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),AO(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),AO(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),AO(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),AO(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),AO(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),AO(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),AO(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),AO(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),AO(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),AO(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),AO(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),AO(e.Tagging)&&{"x-amz-tagging":e.Tagging}),AO(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),AO(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),AO(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),AO(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var r;return It(It({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))}),{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",rA(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return rA(e)})).join("/")),o={uploads:""},[4,t.endpoint()];case 1:return a=f.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new nO({protocol:c,hostname:s,port:l,method:"POST",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,cO(e,t)]:(n={$metadata:_O(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,BucketKeyEnabled:void 0,Key:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,UploadId:void 0},void 0!==e.headers["x-amz-abort-date"]&&(n.AbortDate=new Date(e.headers["x-amz-abort-date"])),void 0!==e.headers["x-amz-abort-rule-id"]&&(n.AbortRuleId=e.headers["x-amz-abort-rule-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,TO(e.body,t)]);case 1:return void 0!==(r=i.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.UploadId&&(n.UploadId=r.UploadId),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(nA);!function(e){e.filterSensitiveLog=function(e){return It({},e)}}(PN||(PN={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.Encryption&&{Encryption:$P.filterSensitiveLog(e.Encryption)})}}(ON||(ON={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.S3&&{S3:ON.filterSensitiveLog(e.S3)})}}(kN||(kN={})),function(e){e.IGNORE="IGNORE",e.NONE="NONE",e.USE="USE"}(RN||(RN={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(LN||(LN={})),function(e){e.DOCUMENT="DOCUMENT",e.LINES="LINES"}(NN||(NN={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(DN||(DN={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(MN||(MN={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(jN||(jN={})),function(e){e.ALWAYS="ALWAYS",e.ASNEEDED="ASNEEDED"}(UN||(UN={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(FN||(FN={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(zN||(zN={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(BN||(BN={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(qN||(qN={})),function(e){e.SELECT="SELECT"}(KN||(KN={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.OutputLocation&&{OutputLocation:kN.filterSensitiveLog(e.OutputLocation)})}}(HN||(HN={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.RestoreRequest&&{RestoreRequest:HN.filterSensitiveLog(e.RestoreRequest)})}}(GN||(GN={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(VN||(VN={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}($N||($N={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(WN||(WN={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(YN||(YN={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ZN||(ZN={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(JN||(JN={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(XN||(XN={})),function(e){e.visit=function(e,t){return void 0!==e.Records?t.Records(e.Records):void 0!==e.Stats?t.Stats(e.Stats):void 0!==e.Progress?t.Progress(e.Progress):void 0!==e.Cont?t.Cont(e.Cont):void 0!==e.End?t.End(e.End):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Records?{Records:ZN.filterSensitiveLog(e.Records)}:void 0!==e.Stats?{Stats:XN.filterSensitiveLog(e.Stats)}:void 0!==e.Progress?{Progress:YN.filterSensitiveLog(e.Progress)}:void 0!==e.Cont?{Cont:VN.filterSensitiveLog(e.Cont)}:void 0!==e.End?{End:$N.filterSensitiveLog(e.End)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(QN||(QN={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.Payload&&{Payload:"STREAMING_CONTENT"})}}(eD||(eD={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(tD||(tD={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(nD||(nD={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.SSECustomerKey&&{SSECustomerKey:XP})}}(rD||(rD={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:XP})}}(iD||(iD={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.SSECustomerKey&&{SSECustomerKey:XP})}}(oD||(oD={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(aD||(aD={})),function(e){e.filterSensitiveLog=function(e){return It(It({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:XP})}}(sD||(sD={})),function(e){e.filterSensitiveLog=function(e){return It(It(It({},e),e.SSECustomerKey&&{SSECustomerKey:XP}),e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:XP})}}(uD||(uD={}));var TD,CD,ID=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dk(t,this.serialize,this.deserialize)),this.middlewareStack.use(vk(t)),this.middlewareStack.use(YO(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"UploadPartCommand",inputFilterSensitiveLog:oD.filterSensitiveLog,outputFilterSensitiveLog:iD.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d;return kt(this,(function(h){switch(h.label){case 0:if(n=It(It(It(It(It(It(It({"content-type":"application/octet-stream"},AO(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),AO(e.ContentMD5)&&{"content-md5":e.ContentMD5}),AO(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),AO(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),AO(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),AO(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),AO(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",rA(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return rA(e)})).join("/")),o=It(It({"x-id":"UploadPart"},void 0!==e.PartNumber&&{partNumber:e.PartNumber.toString()}),void 0!==e.UploadId&&{uploadId:e.UploadId}),void 0!==e.Body&&(s=e.Body,a=s),[4,t.endpoint()];case 1:return u=h.sent(),c=u.hostname,l=u.protocol,f=void 0===l?"https":l,d=u.port,[2,new nO({protocol:f,hostname:c,port:d,method:"PUT",headers:n,path:r,query:o,body:a})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n;return kt(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,vO(e,t)]:(n={$metadata:_O(e),BucketKeyEnabled:void 0,ETag:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0},void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,xO(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(nA),PD=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dk(t,this.serialize,this.deserialize)),this.middlewareStack.use(ak(t)),this.middlewareStack.use(YO(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CompleteMultipartUploadCommand",inputFilterSensitiveLog:TA.filterSensitiveLog,outputFilterSensitiveLog:_A.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d;return kt(this,(function(h){switch(h.label){case 0:if(n=It(It({"content-type":"application/xml"},AO(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),AO(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",rA(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return rA(e)})).join("/")),o=It({},void 0!==e.UploadId&&{uploadId:e.UploadId}),void 0!==e.MultipartUpload&&(s=function(e,t){var n=new rO("CompletedMultipartUpload");return void 0!==e.Parts&&null!==e.Parts&&SO(e.Parts,t).map((function(e){e=e.withName("Part"),n.addChildNode(e)})),n}(e.MultipartUpload,t),a='<?xml version="1.0" encoding="UTF-8"?>',s.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),a+=s.toString()),[4,t.endpoint()];case 1:return u=h.sent(),c=u.hostname,l=u.protocol,f=void 0===l?"https":l,d=u.port,[2,new nO({protocol:f,hostname:c,port:d,method:"POST",headers:n,path:r,query:o,body:a})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,sO(e,t)]:(n={$metadata:_O(e),Bucket:void 0,BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,Key:void 0,Location:void 0,RequestCharged:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,TO(e.body,t)]);case 1:return void 0!==(r=i.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.ETag&&(n.ETag=r.ETag),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.Location&&(n.Location=r.Location),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(nA),OD=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dk(t,this.serialize,this.deserialize)),this.middlewareStack.use(YO(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"AbortMultipartUploadCommand",inputFilterSensitiveLog:vA.filterSensitiveLog,outputFilterSensitiveLog:pA.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:if(n=It(It({},AO(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),AO(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",rA(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return rA(e)})).join("/")),o=It({"x-id":"AbortMultipartUpload"},void 0!==e.UploadId&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return a=f.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new nO({protocol:c,hostname:s,port:l,method:"DELETE",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n;return kt(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,aO(e,t)]:(n={$metadata:_O(e),RequestCharged:void 0},void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,xO(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(nA),kD=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dk(t,this.serialize,this.deserialize)),this.middlewareStack.use(YO(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"ListPartsCommand",inputFilterSensitiveLog:oP.filterSensitiveLog,outputFilterSensitiveLog:iP.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:if(n=It(It({},AO(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),AO(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",rA(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return rA(e)})).join("/")),o=It(It(It({"x-id":"ListParts"},void 0!==e.MaxParts&&{"max-parts":e.MaxParts.toString()}),void 0!==e.PartNumberMarker&&{"part-number-marker":e.PartNumberMarker}),void 0!==e.UploadId&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return a=f.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new nO({protocol:c,hostname:s,port:l,method:"GET",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,hO(e,t)]:(n={$metadata:_O(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,Initiator:void 0,IsTruncated:void 0,Key:void 0,MaxParts:void 0,NextPartNumberMarker:void 0,Owner:void 0,PartNumberMarker:void 0,Parts:void 0,RequestCharged:void 0,StorageClass:void 0,UploadId:void 0},void 0!==e.headers["x-amz-abort-date"]&&(n.AbortDate=new Date(e.headers["x-amz-abort-date"])),void 0!==e.headers["x-amz-abort-rule-id"]&&(n.AbortRuleId=e.headers["x-amz-abort-rule-id"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,TO(e.body,t)]);case 1:return void 0!==(r=i.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.Initiator&&(n.Initiator=function(e,t){var n={ID:void 0,DisplayName:void 0};return void 0!==e.ID&&(n.ID=e.ID),void 0!==e.DisplayName&&(n.DisplayName=e.DisplayName),n}(r.Initiator)),void 0!==r.IsTruncated&&(n.IsTruncated="true"==r.IsTruncated),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.MaxParts&&(n.MaxParts=parseInt(r.MaxParts)),void 0!==r.NextPartNumberMarker&&(n.NextPartNumberMarker=r.NextPartNumberMarker),void 0!==r.Owner&&(n.Owner=EO(r.Owner,t)),void 0!==r.PartNumberMarker&&(n.PartNumberMarker=r.PartNumberMarker),""===r.Part&&(n.Parts=[]),void 0!==r.Part&&(n.Parts=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={PartNumber:void 0,LastModified:void 0,ETag:void 0,Size:void 0};return void 0!==e.PartNumber&&(n.PartNumber=parseInt(e.PartNumber)),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.Size&&(n.Size=parseInt(e.Size)),n}(e)}))}(iA(r.Part))),void 0!==r.StorageClass&&(n.StorageClass=r.StorageClass),void 0!==r.UploadId&&(n.UploadId=r.UploadId),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(nA),RD=n(7187),LD=new c("AWSS3ProviderManagedUpload"),ND=function(){function e(e,t,n){this.minPartSize=5242880,this.queueSize=4,this.body=null,this.params=null,this.opts=null,this.completedParts=[],this.uploadId=null,this.bytesUploaded=0,this.totalBytesToUpload=0,this.emitter=null,this.params=e,this.opts=t,this.emitter=n,this.s3client=this._createNewS3Client(t,n)}return e.prototype.upload=function(){return Gx(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s=this;return Vx(this,(function(u){switch(u.label){case 0:return u.trys.push([0,10,,12]),e=this,[4,this.validateAndSanitizeBody(this.params.Body)];case 1:return e.body=u.sent(),this.totalBytesToUpload=this.byteLength(this.body),this.totalBytesToUpload<=this.minPartSize?(this.params.Body=this.body,t=new xD(this.params),[2,this.s3client.send(t)]):[3,2];case 2:return n=this,[4,this.createMultiPartUpload()];case 3:n.uploadId=u.sent(),r=Math.ceil(this.totalBytesToUpload/this.minPartSize),i=this.createParts(),o=0,u.label=4;case 4:return o<r?[4,this.uploadParts(this.uploadId,i.slice(o,o+this.queueSize))]:[3,7];case 5:u.sent(),u.label=6;case 6:return o+=this.queueSize,[3,4];case 7:return i.map((function(e){s.removeEventListener(e)})),[4,this.finishMultiPartUpload(this.uploadId)];case 8:return[2,u.sent()];case 9:return[3,12];case 10:return a=u.sent(),[4,this.cleanup(this.uploadId)];case 11:throw u.sent(),LD.error("Error. Cancelling the multipart upload."),a;case 12:return[2]}}))}))},e.prototype.createParts=function(){try{for(var e=[],t=0;t<this.totalBytesToUpload;){var n=Math.min(t+this.minPartSize,this.totalBytesToUpload);e.push({bodyPart:this.body.slice(t,n),partNumber:e.length+1,emitter:new RD.EventEmitter,_lastUploadedBytes:0}),t+=this.minPartSize}return e}catch(e){throw LD.error(e),e}},e.prototype.createMultiPartUpload=function(){return Gx(this,void 0,void 0,(function(){var e,t,n;return Vx(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=new AD(this.params),[4,this.s3client.send(e)];case 1:return t=r.sent(),LD.debug(t.UploadId),[2,t.UploadId];case 2:throw n=r.sent(),LD.error(n),n;case 3:return[2]}}))}))},e.prototype.uploadParts=function(e,t){return Gx(this,void 0,void 0,(function(){var n,r,i,o=this;return Vx(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Promise.all(t.map((function(t){return Gx(o,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Vx(this,(function(c){switch(c.label){case 0:return this.setupEventListener(t),n={emitter:t.emitter},r=this.params,i=r.Key,o=r.Bucket,a=r.SSECustomerAlgorithm,s=r.SSECustomerKey,u=r.SSECustomerKeyMD5,[4,this.s3client.send(new ID(Hx(Hx(Hx({PartNumber:t.partNumber,Body:t.bodyPart,UploadId:e,Key:i,Bucket:o},a&&{SSECustomerAlgorithm:a}),s&&{SSECustomerKey:s}),u&&{SSECustomerKeyMD5:u})),n)];case 1:return[2,c.sent()]}}))}))})))];case 1:for(n=a.sent(),r=0;r<n.length;r++)this.completedParts.push({PartNumber:t[r].partNumber,ETag:n[r].ETag});return[3,3];case 2:throw i=a.sent(),LD.error("Error happened while uploading a part. Cancelling the multipart upload"),i;case 3:return[2]}}))}))},e.prototype.finishMultiPartUpload=function(e){return Gx(this,void 0,void 0,(function(){var t,n,r;return Vx(this,(function(i){switch(i.label){case 0:t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e,MultipartUpload:{Parts:this.completedParts}},n=new PD(t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.s3client.send(n)];case 2:return[2,i.sent().Key];case 3:throw r=i.sent(),LD.error("Error happened while finishing the upload."),r;case 4:return[2]}}))}))},e.prototype.cleanup=function(e){return Gx(this,void 0,void 0,(function(){var t,n;return Vx(this,(function(r){switch(r.label){case 0:return this.body=null,this.completedParts=[],this.bytesUploaded=0,this.totalBytesToUpload=0,t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e},[4,this.s3client.send(new OD(t))];case 1:return r.sent(),[4,this.s3client.send(new kD(t))];case 2:if((n=r.sent())&&n.Parts&&n.Parts.length>0)throw new Error("Multipart upload clean up failed.");return[2]}}))}))},e.prototype.removeEventListener=function(e){e.emitter.removeAllListeners(xR),e.emitter.removeAllListeners(AR)},e.prototype.setupEventListener=function(e){var t=this;e.emitter.on(xR,(function(n){t.progressChanged(e.partNumber,n.loaded-e._lastUploadedBytes),e._lastUploadedBytes=n.loaded}))},e.prototype.progressChanged=function(e,t){this.bytesUploaded+=t,this.emitter.emit(xR,{loaded:this.bytesUploaded,total:this.totalBytesToUpload,part:e,key:this.params.Key})},e.prototype.byteLength=function(e){if(null==e)return 0;if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("string"!=typeof e.path)throw new Error("Cannot determine length of "+e)},e.prototype.validateAndSanitizeBody=function(e){return Gx(this,void 0,void 0,(function(){return Vx(this,(function(t){return this.isGenericObject(e)?[2,JSON.stringify(e)]:[2,e]}))}))},e.prototype.isGenericObject=function(e){if(null!==e&&"object"==typeof e)try{return!(this.byteLength(e)>=0)}catch(e){return!0}return!1},e.prototype._createNewS3Client=function(e,t){var n=_D(e,t);return n.middlewareStack.add(mD(this.opts,this.params.Key),SD),n.middlewareStack.add(bD(n.config),wD),n},e}(),DD=new c("AWSS3UploadTask");function MD(e,t){return e.PartNumber-t.PartNumber}!function(e){e[e.INIT=0]="INIT",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.PAUSED=2]="PAUSED",e[e.CANCELLED=3]="CANCELLED",e[e.COMPLETED=4]="COMPLETED"}(TD||(TD={})),function(e){e.CANCEL="cancel",e.UPLOAD_COMPLETE="uploadComplete",e.UPLOAD_PROGRESS="uploadPartProgress",e.ERROR="error"}(CD||(CD={}));var jD=function(){function e(e){var t=e.s3Client,n=e.file,r=e.emitter,i=e.storage,o=e.params,a=e.level,s=e.prefixPromise;this.partSize=5242880,this.queueSize=4,this.inProgress=[],this.completedParts=[],this.queued=[],this.bytesUploaded=0,this.totalBytes=0,this.state=TD.INIT,this.prefixPromise=s,this.s3client=t,this.s3client.middlewareStack.remove(OR),this.storage=i,this.storageSync=Promise.resolve(),"function"==typeof this.storage.sync&&(this.storageSync=this.storage.sync()),this.params=o,this.file=n,this.totalBytes=this.file.size,this.bytesUploaded=0,this.emitter=r,this.queued=[],this.fileId=this._getFileId(a),this._validateParams(),this.emitter.on(CD.ERROR,(function(){}))}return Object.defineProperty(e.prototype,"percent",{get:function(){return this.bytesUploaded/this.totalBytes*100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInProgress",{get:function(){return this.state===TD.IN_PROGRESS},enumerable:!0,configurable:!0}),e.prototype._listSingleFile=function(e){var t=e.key,n=e.bucket;return Gx(this,void 0,void 0,(function(){var e,r,i,o,a;return Vx(this,(function(s){switch(s.label){case 0:return[4,this.s3client.send(new bk({Bucket:n,Prefix:t}))];case 1:return e=s.sent(),r=e.Contents,i=void 0===r?[]:r,[4,this.prefixPromise];case 2:return o=s.sent(),a=i.find((function(e){return e.Key===""+o+t})),[2,a]}}))}))},e.prototype._getFileId=function(e){return function(e){return void 0!==e&&e instanceof File}(this.file)?[this.file.name,this.file.lastModified,this.file.size,this.file.type,this.params.Bucket,e,this.params.Key].join("-"):[this.file.size,this.file.type,this.params.Bucket,e,this.params.Key].join("-")},e.prototype._findCachedUploadParts=function(){return Gx(this,void 0,void 0,(function(){var e,t;return Vx(this,(function(n){switch(n.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return e=n.sent(),0!==Object.keys(e).length&&Object.prototype.hasOwnProperty.call(e,this.fileId)?((t=e[this.fileId]).lastTouched=Date.now(),this.storage.setItem(kR,JSON.stringify(e)),[4,this.s3client.send(new kD({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:t.uploadId}))]):[2,{parts:[],uploadId:null}];case 2:return[2,{parts:n.sent().Parts||[],uploadId:t.uploadId}]}}))}))},e.prototype._emitEvent=function(e,t){this.emitter.emit(e,t)},e.prototype._validateParams=function(){if(this.file.size/this.partSize>1e4)throw new Error("Too many parts. Number of parts is "+this.file.size/this.partSize+", maximum is 10000.")},e.prototype._listCachedUploadTasks=function(){return Gx(this,void 0,void 0,(function(){var e;return Vx(this,(function(t){switch(t.label){case 0:return[4,this.storageSync];case 1:return t.sent(),e=this.storage.getItem(kR)||"{}",[2,JSON.parse(e)]}}))}))},e.prototype._cache=function(e){return Gx(this,void 0,void 0,(function(){var t;return Vx(this,(function(n){switch(n.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return(t=n.sent())[this.fileId]=e,this.storage.setItem(kR,JSON.stringify(t)),[2]}}))}))},e.prototype._isCached=function(){return Gx(this,void 0,void 0,(function(){var e,t;return Vx(this,(function(n){switch(n.label){case 0:return t=(e=Object.prototype.hasOwnProperty).call,[4,this._listCachedUploadTasks()];case 1:return[2,t.apply(e,[n.sent(),this.fileId])]}}))}))},e.prototype._removeFromCache=function(){return Gx(this,void 0,void 0,(function(){var e;return Vx(this,(function(t){switch(t.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return delete(e=t.sent())[this.fileId],this.storage.setItem(kR,JSON.stringify(e)),[2]}}))}))},e.prototype._onPartUploadCompletion=function(e){var t=e.eTag,n=e.partNumber,r=e.chunk;return Gx(this,void 0,void 0,(function(){return Vx(this,(function(e){return this.completedParts.push({ETag:t,PartNumber:n}),this.bytesUploaded+=function(e){if("string"==typeof e)return e.length;if(function(e){return void 0!==e&&e instanceof ArrayBuffer}(e))return e.byteLength;if(function(e){return void 0!==e&&e instanceof Blob}(e))return e.size;throw new Error("Cannot determine byte length of "+e)}(r),this._emitEvent(CD.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes}),this.inProgress=this.inProgress.filter((function(e){return e.uploadPartInput.PartNumber!==n})),this.queued.length&&this.state!==TD.PAUSED&&this._startNextPart(),this._isDone()&&this._completeUpload(),[2]}))}))},e.prototype._completeUpload=function(){return Gx(this,void 0,void 0,(function(){var e;return Vx(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.s3client.send(new PD({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId,MultipartUpload:{Parts:this.completedParts.sort(MD)}}))];case 1:return t.sent(),this._verifyFileSize(),this._emitEvent(CD.UPLOAD_COMPLETE,{key:this.params.Key}),this._removeFromCache(),this.state=TD.COMPLETED,[3,3];case 2:return e=t.sent(),DD.error("error completing upload",e),this._emitEvent(CD.ERROR,e),[3,3];case 3:return[2]}}))}))},e.prototype._makeUploadPartRequest=function(e,t){return Gx(this,void 0,void 0,(function(){var n,r;return Vx(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.s3client.send(new ID(e),{cancelTokenSource:t})];case 1:return n=i.sent(),[4,this._onPartUploadCompletion({eTag:n.ETag,partNumber:e.PartNumber,chunk:e.Body})];case 2:return i.sent(),[3,4];case 3:return r=i.sent(),this.state===TD.PAUSED?DD.log("upload paused"):this.state===TD.CANCELLED?DD.log("upload aborted"):DD.error("error starting next part of upload: ",r),ER().isCancel(r)||r.message===mR.UPLOAD_PAUSED_MESSAGE||(this._emitEvent(CD.ERROR,r),this.pause()),[3,4];case 4:return[2]}}))}))},e.prototype._startNextPart=function(){if(this.queued.length>0&&this.state!==TD.PAUSED){var e=ER().CancelToken.source(),t=this.queued.shift();this.inProgress.push({uploadPartInput:t,s3Request:this._makeUploadPartRequest(t,e),cancel:e.cancel})}},e.prototype._verifyFileSize=function(){return Gx(this,void 0,void 0,(function(){var e,t;return Vx(this,(function(n){switch(n.label){case 0:return[4,this._listSingleFile({key:this.params.Key,bucket:this.params.Bucket})];case 1:if(e=n.sent(),!(t=Boolean(e&&e.Size===this.file.size)))throw new Error("File size does not match between local file and file on s3");return[2,t]}}))}))},e.prototype._isDone=function(){return!this.queued.length&&!this.inProgress.length&&this.bytesUploaded===this.totalBytes},e.prototype._createParts=function(){for(var e=this.file.size,t=[],n=0;n<e;){var r=Math.min(n+this.partSize,e);t.push({Body:this.file.slice(n,r),Key:this.params.Key,Bucket:this.params.Bucket,PartNumber:t.length+1,UploadId:this.uploadId}),n+=this.partSize}return t},e.prototype._initCachedUploadParts=function(e){this.bytesUploaded+=e.reduce((function(e,t){return e+t.Size}),0);var t=new Set(e.map((function(e){return e.PartNumber})));this.queued=this.queued.filter((function(e){return!t.has(e.PartNumber)})),this.completedParts=e.map((function(e){return{PartNumber:e.PartNumber,ETag:e.ETag}})),this._emitEvent(CD.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes})},e.prototype._initMultipartUpload=function(){return Gx(this,void 0,void 0,(function(){var e;return Vx(this,(function(t){switch(t.label){case 0:return[4,this.s3client.send(new AD(this.params))];case 1:return e=t.sent(),this._cache({uploadId:e.UploadId,lastTouched:Date.now(),bucket:this.params.Bucket,key:this.params.Key,fileName:this.file instanceof File?this.file.name:""}),[2,e.UploadId]}}))}))},e.prototype._initializeUploadTask=function(){return Gx(this,void 0,void 0,(function(){var e,t,n,r;return Vx(this,(function(i){switch(i.label){case 0:this.state=TD.IN_PROGRESS,i.label=1;case 1:return i.trys.push([1,7,,8]),[4,this._isCached()];case 2:return i.sent()?[4,this._findCachedUploadParts()]:[3,4];case 3:return e=i.sent(),t=e.parts,n=e.uploadId,this.uploadId=n,this.queued=this._createParts(),this._initCachedUploadParts(t),this._startUpload(),[3,6];case 4:return this.uploadId?[3,6]:[4,this._initMultipartUpload()];case 5:n=i.sent(),this.uploadId=n,this.queued=this._createParts(),this._startUpload(),i.label=6;case 6:return[3,8];case 7:return r=i.sent(),ER().isCancel(r)||DD.error("Error initializing the upload task",r),[3,8];case 8:return[2]}}))}))},e.prototype.resume=function(){this.state===TD.CANCELLED?DD.warn("This task has already been cancelled"):this.state===TD.COMPLETED?DD.warn("This task has already been completed"):this.state===TD.IN_PROGRESS?DD.warn("Upload task already in progress"):this.uploadId?this._startUpload():this._initializeUploadTask()},e.prototype._startUpload=function(){this.state=TD.IN_PROGRESS;for(var e=0;e<this.queueSize;e++)this._startNextPart()},e.prototype._cancel=function(){return Gx(this,void 0,void 0,(function(){var e;return Vx(this,(function(t){switch(t.label){case 0:return this.state!==TD.CANCELLED?[3,1]:(DD.warn("This task has already been cancelled"),[2,!1]);case 1:return this.state!==TD.COMPLETED?[3,2]:(DD.warn("This task has already been completed"),[2,!1]);case 2:this.pause(),this.queued=[],this.completedParts=[],this.bytesUploaded=0,this.state=TD.CANCELLED,t.label=3;case 3:return t.trys.push([3,6,,7]),[4,this.s3client.send(new OD({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId}))];case 4:return t.sent(),[4,this._removeFromCache()];case 5:return t.sent(),[2,!0];case 6:return e=t.sent(),DD.error("Error cancelling upload task",e),[2,!1];case 7:return[2]}}))}))},e.prototype.pause=function(){var e;this.state===TD.CANCELLED?DD.warn("This task has already been cancelled"):this.state===TD.COMPLETED?DD.warn("This task has already been completed"):this.state===TD.PAUSED&&DD.warn("This task is already paused"),this.state=TD.PAUSED;var t=this.inProgress.splice(0,this.inProgress.length);t.forEach((function(e){e.cancel(mR.UPLOAD_PAUSED_MESSAGE)})),(e=this.queued).unshift.apply(e,Wx(t.map((function(e){return e.uploadPartInput}))))},e}(),UD=new c("AWSS3Provider"),FD="public",zD=function(){function e(e){var t=this;this._config=e||{},this._storage=(new ie).getStorage(),_.listen("auth",(function(e){var n=e.payload;"signOut"!==n.event&&"signIn"!==n.event||t._storage.removeItem(kR)})),UD.debug("Storage Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(e){if(UD.debug("configure Storage",e),!e)return this._config;var t=A(e);return this._config=Object.assign({},this._config,t.Storage),this._config.bucket||UD.debug("Do not have bucket yet"),this._config},e.prototype.startResumableUpload=function(e,t){var n=e.s3Client,r=e.emitter,i=e.key,o=e.file,a=e.params,s=t.progressCallback,u=t.completeCallback,c=t.errorCallback,l=t.track,f=void 0!==l&&l;if(!(o instanceof Blob))throw new Error(yR.INVALID_BLOB);r.on(CD.UPLOAD_PROGRESS,(function(e){s&&("function"==typeof s?s(e):UD.warn("progressCallback should be a function, not a "+typeof s))})),r.on(CD.UPLOAD_COMPLETE,(function(e){u&&("function"==typeof u?u(e):UD.warn("completeCallback should be a function, not a "+typeof u))})),r.on(CD.ERROR,(function(e){c&&("function"==typeof c?c(e):UD.warn("errorCallback should be a function, not a "+typeof c))}));var d=fs.get().then((function(e){var n=fs.shear(e);return gD(Hx(Hx({},t),{credentials:n}))})),h=new jD({s3Client:n,file:o,emitter:r,level:t.level,storage:this._storage,params:a,prefixPromise:d});return RR(f,"upload",{method:"put",result:"success"},null,"Upload Task created successfully for "+i),h.resume(),h},e.prototype.copy=function(e,t,n){return Gx(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A,T,C;return Vx(this,(function(I){switch(I.label){case 0:return[4,this._ensureCredentials()];case 1:if(!I.sent()||!this._isWithCredentials(this._config))throw new Error(yR.NO_CREDENTIALS);if(r=Object.assign({},this._config,n),i=r.acl,o=r.bucket,a=r.cacheControl,s=r.expires,u=r.track,c=r.serverSideEncryption,l=r.SSECustomerAlgorithm,f=r.SSECustomerKey,d=r.SSECustomerKeyMD5,h=r.SSEKMSKeyId,p=e.level,v=void 0===p?FD:p,y=e.identityId,g=e.key,m=t.level,b=void 0===m?FD:m,w=t.key,!g||"string"!=typeof g)throw new Error(yR.NO_SRC_KEY);if(!w||"string"!=typeof w)throw new Error(yR.NO_DEST_KEY);"protected"!==v&&y&&UD.warn('You may copy files from another user if the source level is "protected", currently it\'s '+v),S=this._prefix(Hx(Hx(Hx({},r),{level:v}),y&&{identityId:y})),E=this._prefix(Hx(Hx({},r),{level:b})),_=o+"/"+S+g,x=""+E+w,UD.debug("copying "+_+" to "+x),A={Bucket:o,CopySource:_,Key:x,MetadataDirective:"COPY"},a&&(A.CacheControl=a),s&&(A.Expires=s),c&&(A.ServerSideEncryption=c),l&&(A.SSECustomerAlgorithm=l),f&&(A.SSECustomerKey=f),d&&(A.SSECustomerKeyMD5=d),h&&(A.SSEKMSKeyId=h),i&&(A.ACL=i),T=this._createNewS3Client(r),I.label=2;case 2:return I.trys.push([2,4,,5]),[4,T.send(new yk(A))];case 3:return I.sent(),RR(u,"copy",{method:"copy",result:"success"},null,"Copy success from "+g+" to "+w),[2,{key:w}];case 4:throw C=I.sent(),RR(u,"copy",{method:"copy",result:"failed"},null,"Copy failed from "+g+" to "+w),C;case 5:return[2]}}))}))},e.prototype.get=function(e,t){return Gx(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A,T,C,I;return Vx(this,(function(P){switch(P.label){case 0:return[4,this._ensureCredentials()];case 1:if(!P.sent()||!this._isWithCredentials(this._config))throw new Error(yR.NO_CREDENTIALS);if(n=Object.assign({},this._config,t),r=n.bucket,i=n.download,o=n.cacheControl,a=n.contentDisposition,s=n.contentEncoding,u=n.contentLanguage,c=n.contentType,l=n.expires,f=n.track,d=n.SSECustomerAlgorithm,h=n.SSECustomerKey,p=n.SSECustomerKeyMD5,v=n.progressCallback,y=this._prefix(n),g=y+e,m=new RD.EventEmitter,b=this._createNewS3Client(n,m),UD.debug("get "+e+" from "+g),w={Bucket:r,Key:g},o&&(w.ResponseCacheControl=o),a&&(w.ResponseContentDisposition=a),s&&(w.ResponseContentEncoding=s),u&&(w.ResponseContentLanguage=u),c&&(w.ResponseContentType=c),d&&(w.SSECustomerAlgorithm=d),h&&(w.SSECustomerKey=h),p&&(w.SSECustomerKeyMD5=p),!0!==i)return[3,5];S=new gk(w),P.label=2;case 2:return P.trys.push([2,4,,5]),v&&("function"==typeof v?m.on(AR,(function(e){v(e)})):UD.warn("progressCallback should be a function, not a "+typeof v)),[4,b.send(S)];case 3:return E=P.sent(),m.removeAllListeners(AR),RR(f,"download",{method:"get",result:"success"},{fileSize:Number(E.Body.size||E.Body.length)},"Download success for "+e),[2,E];case 4:throw _=P.sent(),RR(f,"download",{method:"get",result:"failed"},null,"Download failed with "+_.message),_;case 5:return P.trys.push([5,8,,9]),x=new vR(Hx({},b.config)),[4,Ak(b,new gk(w))];case 6:return A=P.sent(),C=Ek,[4,x.presign(A,{expiresIn:l||900})];case 7:return T=C.apply(void 0,[P.sent()]),RR(f,"getSignedUrl",{method:"get",result:"success"},null,"Signed URL: "+T),[2,T];case 8:throw I=P.sent(),UD.warn("get signed url error",I),RR(f,"getSignedUrl",{method:"get",result:"failed"},null,"Could not get a signed URL for "+e),I;case 9:return[2]}}))}))},e.prototype.put=function(e,t,n){var r=Object.assign({},this._config,n),i=r.bucket,o=r.track,a=r.progressCallback,s=r.level,u=r.resumable,c=r.contentType,l=r.contentDisposition,f=r.contentEncoding,d=r.cacheControl,h=r.expires,p=r.metadata,v=r.tagging,y=r.acl,g=r.serverSideEncryption,m=r.SSECustomerAlgorithm,b=r.SSECustomerKey,w=r.SSECustomerKeyMD5,S=r.SSEKMSKeyId,E={Bucket:i,Key:e,Body:t,ContentType:c||"binary/octet-stream"};d&&(E.CacheControl=d),l&&(E.ContentDisposition=l),f&&(E.ContentEncoding=f),h&&(E.Expires=h),p&&(E.Metadata=p),v&&(E.Tagging=v),g&&(E.ServerSideEncryption=g),m&&(E.SSECustomerAlgorithm=m),b&&(E.SSECustomerKey=b),w&&(E.SSECustomerKeyMD5=w),S&&(E.SSEKMSKeyId=S);var _=new RD.EventEmitter,x=new ND(E,r,_);if(y&&(E.ACL=y),!0===u){var A=this._createNewS3Client(r);A.middlewareStack.add(mD(r,e),SD);var T={bucket:i,key:e,s3Client:A,file:t,emitter:_,accessLevel:s,params:E};return this.startResumableUpload(T,n)}try{return a&&("function"==typeof a?_.on(xR,(function(e){a(e)})):UD.warn("progressCallback should be a function, not a "+typeof a)),x.upload().then((function(t){return UD.debug("upload result",t),RR(o,"upload",{method:"put",result:"success"},null,"Upload success for "+e),{key:e}}))}catch(t){throw UD.warn("error uploading",t),RR(o,"upload",{method:"put",result:"failed"},null,"Error uploading "+e),t}},e.prototype.remove=function(e,t){return Gx(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return Vx(this,(function(f){switch(f.label){case 0:return[4,this._ensureCredentials()];case 1:if(!f.sent()||!this._isWithCredentials(this._config))throw new Error(yR.NO_CREDENTIALS);n=Object.assign({},this._config,t),r=n.bucket,i=n.track,o=this._prefix(n),a=o+e,s=this._createNewS3Client(n),UD.debug("remove "+e+" from "+a),u=new mk({Bucket:r,Key:a}),f.label=2;case 2:return f.trys.push([2,4,,5]),[4,s.send(u)];case 3:return c=f.sent(),RR(i,"delete",{method:"remove",result:"success"},null,"Deleted "+e+" successfully"),[2,c];case 4:throw l=f.sent(),RR(i,"delete",{method:"remove",result:"failed"},null,"Deletion of "+e+" failed with "+l),l;case 5:return[2]}}))}))},e.prototype._list=function(e,t,n){return Gx(this,void 0,void 0,(function(){var r,i,o,a;return Vx(this,(function(s){switch(s.label){case 0:return r={results:[],hasNextToken:!1},i=this._createNewS3Client(t),o=new bk(Hx({},e)),[4,i.send(o)];case 1:return(a=s.sent())&&a.Contents&&(r.results=a.Contents.map((function(e){return{key:e.Key.substr(n.length),eTag:e.ETag,lastModified:e.LastModified,size:e.Size}})),r.nextToken=a.NextContinuationToken,r.hasNextToken=a.IsTruncated),[2,r]}}))}))},e.prototype.list=function(e,t){return Gx(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v;return Vx(this,(function(y){switch(y.label){case 0:return[4,this._ensureCredentials()];case 1:if(!y.sent()||!this._isWithCredentials(this._config))throw new Error(yR.NO_CREDENTIALS);n=Object.assign({},this._config,t),r=n.bucket,i=n.track,o=n.pageSize,a=n.nextToken,s=this._prefix(n),u=s+e,UD.debug("list "+e+" from "+u),y.label=2;case 2:if(y.trys.push([2,10,,11]),c={results:[],hasNextToken:!1},f=void 0,(d={Bucket:r,Prefix:u,MaxKeys:l=1e3,ContinuationToken:a}).ContinuationToken=a,"ALL"!==o)return[3,7];y.label=3;case 3:return[4,this._list(d,n,s)];case 4:f=y.sent(),(p=c.results).push.apply(p,Wx(f.results)),f.nextToken&&(d.ContinuationToken=f.nextToken),y.label=5;case 5:if(f.nextToken)return[3,3];y.label=6;case 6:return[3,9];case 7:return o&&o<=l&&"number"==typeof o?d.MaxKeys=o:UD.warn("pageSize should be from 0 - "+l+"."),[4,this._list(d,n,s)];case 8:f=y.sent(),(v=c.results).push.apply(v,Wx(f.results)),c.hasNextToken=f.hasNextToken,c.nextToken=f.nextToken,y.label=9;case 9:return RR(i,"list",{method:"list",result:"success"},null,c.results.length+" items returned from list operation"),UD.debug("list",c),[2,c];case 10:throw h=y.sent(),UD.error("list InvalidArgument",h),RR(i,"list",{method:"list",result:"failed"},null,"Listing items failed: "+h.message),h;case 11:return[2]}}))}))},e.prototype._ensureCredentials=function(){return Gx(this,void 0,void 0,(function(){var e,t,n;return Vx(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,fs.get()];case 1:return(e=r.sent())?(t=fs.shear(e),UD.debug("set credentials for storage",t),this._config.credentials=t,[2,!0]):[2,!1];case 2:return n=r.sent(),UD.warn("ensure credentials error",n),[2,!1];case 3:return[2]}}))}))},e.prototype._isWithCredentials=function(e){return"object"==typeof e&&e.hasOwnProperty("credentials")},e.prototype._prefix=function(e){var t=e.credentials,n=e.level,r=e.customPrefix||{},i=e.identityId||t.identityId,o=(void 0!==r.private?r.private:"private/")+i+"/",a=(void 0!==r.protected?r.protected:"protected/")+i+"/",s=void 0!==r.public?r.public:"public/";switch(n){case"private":return o;case"protected":return a;default:return s}},e.prototype._createNewS3Client=function(e,t){var n=_D(e,t);return n.middlewareStack.add(bD(n.config),wD),n},e.CATEGORY="Storage",e.PROVIDER_NAME="AWSS3",e}(),BD=new c("StorageClass"),qD=new c("Storage"),KD="AWSS3",HD=function(){function e(){this._config={},this._pluggables=[],this._cancelTokenSourceMap=new WeakMap,BD.debug("Storage Options",this._config),this.get=this.get.bind(this),this.put=this.put.bind(this),this.remove=this.remove.bind(this),this.list=this.list.bind(this)}return e.prototype.getModuleName=function(){return"Storage"},e.prototype.addPluggable=function(e){if(e&&"Storage"===e.getCategory())return this._pluggables.push(e),e.configure(this._config[e.getProviderName()])},e.prototype.getPluggable=function(e){var t=this._pluggables.find((function(t){return t.getProviderName()===e}));return void 0===t?(BD.debug("No plugin found with providerName",e),null):t},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.configure=function(e){var t,n=this;if(BD.debug("configure Storage"),!e)return this._config;var r=null!==(t=A(e).Storage)&&void 0!==t?t:{},i=["bucket","region","level","track","customPrefix","serverSideEncryption","SSECustomerAlgorithm","SSECustomerKey","SSECustomerKeyMD5","SSEKMSKeyId"];return function(e){return Object.keys(e).find((function(e){return i.includes(e)}))}(r)&&!r[KD]&&(r[KD]={}),Object.entries(r).forEach((function(e){var t=$x(e,2),n=t[0],o=t[1];n&&i.includes(n)&&void 0!==o&&(r[KD][n]=o,delete r[n])})),Object.keys(r).forEach((function(e){"string"!=typeof r[e]&&(n._config[e]=Hx(Hx({},n._config[e]),r[e]))})),this._pluggables.forEach((function(e){e.configure(n._config[e.getProviderName()])})),0===this._pluggables.length&&this.addPluggable(new zD),this._config},e.prototype.getCancellableTokenSource=function(){return ER().CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenSourceMap.set(e,t)},e.prototype.isUploadTask=function(e){return void 0!==e&&"function"==typeof e.pause&&"function"==typeof e.resume},e.prototype.cancel=function(e,t){if(e instanceof jD)return e._cancel();var n=this._cancelTokenSourceMap.get(e);n?n.cancel(t):BD.debug("The request does not map to any cancel token")},e.prototype.copy=function(e,t,n){var r=(null==n?void 0:n.provider)||KD,i=this._pluggables.find((function(e){return e.getProviderName()===r}));if(void 0===i)return BD.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider");var o=this.getCancellableTokenSource();if("function"!=typeof i.copy)return Promise.reject(".copy is not implemented on provider "+i.getProviderName());var a=i.copy(e,t,Hx(Hx({},n),{cancelTokenSource:o}));return this.updateRequestToBeCancellable(a,o),a},e.prototype.get=function(e,t){var n=(null==t?void 0:t.provider)||KD,r=this._pluggables.find((function(e){return e.getProviderName()===n}));if(void 0===r)return BD.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider");var i=this.getCancellableTokenSource(),o=r.get(e,Hx(Hx({},t),{cancelTokenSource:i}));return this.updateRequestToBeCancellable(o,i),o},e.prototype.isCancelError=function(e){return ER().isCancel(e)},e.prototype.put=function(e,t,n){var r=(null==n?void 0:n.provider)||KD,i=this._pluggables.find((function(e){return e.getProviderName()===r}));if(void 0===i)return BD.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider");var o=this.getCancellableTokenSource(),a=i.put(e,t,Hx(Hx({},n),{cancelTokenSource:o}));return this.isUploadTask(a)||this.updateRequestToBeCancellable(a,o),a},e.prototype.remove=function(e,t){var n=(null==t?void 0:t.provider)||KD,r=this._pluggables.find((function(e){return e.getProviderName()===n}));return void 0===r?(BD.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):r.remove(e,t)},e.prototype.list=function(e,t){var n=(null==t?void 0:t.provider)||KD,r=this._pluggables.find((function(e){return e.getProviderName()===n}));return void 0===r?(BD.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):r.list(e,t)},e}(),GD=null,VD=function(){if(GD)return GD;qD.debug("Create Storage Instance, debug"),(GD=new HD).vault=new HD;var e=GD.configure;return GD.configure=function(t){qD.debug("storage configure called");var n=Hx({},e.call(GD,t));Object.keys(n).forEach((function(e){"string"!=typeof n[e]&&(n[e]=Hx(Hx({},n[e]),{level:"private"}))})),qD.debug("storage vault configure called"),GD.vault.configure(n)},GD}();d.register(VD);var $D=function(){return $D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$D.apply(this,arguments)};var WD=function(){return WD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},WD.apply(this,arguments)};function YD(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function ZD(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function JD(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var XD=new c("RestClient"),QD=function(){function e(e){this._region="us-east-1",this._service="execute-api",this._custom_header=void 0,this._cancelTokenMap=null,this.Credentials=fs,this._options=e,XD.debug("API Options",this._options),null==this._cancelTokenMap&&(this._cancelTokenMap=new WeakMap)}return e.prototype.ajax=function(e,t,n){return ZD(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,d,h,p,v,y,g=this;return JD(this,(function(m){switch(m.label){case 0:return XD.debug(t,e),o="us-east-1",a="execute-api",s=void 0,"string"==typeof e?(r=this._parseUrl(e),i=e):(i=e.endpoint,s=e.custom_header,o=e.region,a=e.service,r=this._parseUrl(e.endpoint)),u={method:t,url:i,host:r.host,path:r.path,headers:{},data:null,responseType:"json",timeout:0,cancelToken:null},c={},ee.isReactNative&&(l=ee.userAgent||"aws-amplify/0.1.x",c={"User-Agent":l}),f=Object.assign({},n),d=f.response,f.body&&("function"==typeof FormData&&f.body instanceof FormData?(c["Content-Type"]="multipart/form-data",u.data=f.body):(c["Content-Type"]="application/json; charset=UTF-8",u.data=JSON.stringify(f.body))),f.responseType&&(u.responseType=f.responseType),f.withCredentials&&(u.withCredentials=f.withCredentials),f.timeout&&(u.timeout=f.timeout),f.cancellableToken&&(u.cancelToken=f.cancellableToken.token),u.signerServiceInfo=f.signerServiceInfo,"function"!=typeof s?[3,2]:[4,s()];case 1:return p=m.sent(),[3,3];case 2:p=void 0,m.label=3;case 3:return h=p,u.headers=WD(WD(WD({},c),h),f.headers),(v=(0,N.Qc)(i,!0,!0)).search,y=YD(v,["search"]),u.url=(0,N.WU)(WD(WD({},y),{query:WD(WD({},y.query),f.queryStringParameters||{})})),void 0!==u.headers.Authorization?(u.headers=Object.keys(u.headers).reduce((function(e,t){return u.headers[t]&&(e[t]=u.headers[t]),e}),{}),[2,this._request(u,d)]):[2,this.Credentials.get().then((function(r){return g._signed(WD({},u),r,d,{region:o,service:a}).catch((function(r){if(D.isClockSkewError(r)){var i=r.response.headers,o=i&&(i.date||i.Date),a=new Date(o),s=D.getDateFromHeaderString(u.headers["x-amz-date"]);if(D.isClockSkewed(a))return D.setClockOffset(a.getTime()-s.getTime()),g.ajax(e,t,n)}throw r}))}),(function(e){return XD.debug("No credentials available, the request will be unsigned"),g._request(u,d)}))]}}))}))},e.prototype.get=function(e,t){return this.ajax(e,"GET",t)},e.prototype.put=function(e,t){return this.ajax(e,"PUT",t)},e.prototype.patch=function(e,t){return this.ajax(e,"PATCH",t)},e.prototype.post=function(e,t){return this.ajax(e,"POST",t)},e.prototype.del=function(e,t){return this.ajax(e,"DELETE",t)},e.prototype.head=function(e,t){return this.ajax(e,"HEAD",t)},e.prototype.cancel=function(e,t){var n=this._cancelTokenMap.get(e);return!!n&&(n.cancel(t),!0)},e.prototype.hasCancelToken=function(e){return this._cancelTokenMap.has(e)},e.prototype.isCancel=function(e){return ER().isCancel(e)},e.prototype.getCancellableToken=function(){return ER().CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenMap.set(e,t)},e.prototype.endpoint=function(e){var t=this,n=this._options.endpoints,r="";return Array.isArray(n)?(n.forEach((function(n){n.name===e&&(r=n.endpoint,"string"==typeof n.region?t._region=n.region:"string"==typeof t._options.region&&(t._region=t._options.region),"string"==typeof n.service?t._service=n.service||"execute-api":t._service="execute-api","function"==typeof n.custom_header?t._custom_header=n.custom_header:t._custom_header=void 0)})),r):r},e.prototype._signed=function(e,t,n,r){var i=r.service,o=r.region,a=e.signerServiceInfo,s=YD(e,["signerServiceInfo"]),u=o||this._region||this._options.region,c=i||this._service||this._options.service,l={secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken},f={region:u,service:c},d=Object.assign(f,a),h=$.sign(s,l,d);return h.data&&(h.body=h.data),XD.debug("Signed Request: ",h),delete h.headers.host,ER()(h).then((function(e){return n?e:e.data})).catch((function(e){throw XD.debug(e),e}))},e.prototype._request=function(e,t){return void 0===t&&(t=!1),ER()(e).then((function(e){return t?e:e.data})).catch((function(e){throw XD.debug(e),e}))},e.prototype._parseUrl=function(e){var t=e.split("/");return{host:t[2],path:"/"+t.slice(3).join("/")}},e}(),eM=new c("RestAPI"),tM=function(){function e(e){this._api=null,this.Credentials=fs,this._options=e,eM.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"RestAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,i=YD(t,["API"]),o=WD(WD({},i),r);if(eM.debug("configure Rest API",{opt:o}),o.aws_project_region){if(o.aws_cloud_logic_custom){var a=o.aws_cloud_logic_custom;o.endpoints="string"==typeof a?JSON.parse(a):a}o=Object.assign({},o,{region:o.aws_project_region,header:{}})}return Array.isArray(o.endpoints)?o.endpoints.forEach((function(e){void 0!==e.custom_header&&"function"!=typeof e.custom_header&&(eM.warn("Rest API "+e.name+", custom_header should be a function"),e.custom_header=void 0)})):this._options&&Array.isArray(this._options.endpoints)?o.endpoints=this._options.endpoints:o.endpoints=[],this._options=Object.assign({},this._options,o),this.createInstance(),this._options},e.prototype.createInstance=function(){return eM.debug("create Rest API instance"),this._api=new QD(this._options),this._api.Credentials=this.Credentials,!0},e.prototype.get=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.get(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(e){return Promise.reject(e.message)}},e.prototype.post=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.post(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(e){return Promise.reject(e.message)}},e.prototype.put=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.put(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(e){return Promise.reject(e.message)}},e.prototype.patch=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.patch(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(e){return Promise.reject(e.message)}},e.prototype.del=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.del(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(e){return Promise.reject(e.message)}},e.prototype.head=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.head(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(e){return Promise.reject(e.message)}},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.hasCancelToken=function(e){return this._api.hasCancelToken(e)},e.prototype.endpoint=function(e){return ZD(this,void 0,void 0,(function(){return JD(this,(function(t){return[2,this._api.endpoint(e)]}))}))},e.prototype.getEndpointInfo=function(e,t){var n=this._options.endpoints;if(!Array.isArray(n))throw new Error("API category not configured");var r=n.find((function(t){return t.name===e}));if(!r)throw new Error("API "+e+" does not exist");var i={endpoint:r.endpoint+t};return"string"==typeof r.region?i.region=r.region:"string"==typeof this._options.region&&(i.region=this._options.region),"string"==typeof r.service?i.service=r.service||"execute-api":i.service="execute-api","function"==typeof r.custom_header?i.custom_header=r.custom_header:i.custom_header=void 0,i},e}(),nM=new tM(null);d.register(nM);var rM=function(){return rM=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},rM.apply(this,arguments)};function iM(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function oM(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function aM(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function sM(e){return sM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sM(e)}"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var uM="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function cM(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}function lM(e){return fM(e.source,cM(e.source,e.start))}function fM(e,t){var n=e.locationOffset.column-1,r=hM(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=1===t.line?n:0,u=t.column+s,c="".concat(e.name,":").concat(a,":").concat(u,"\n"),l=r.split(/\r\n|[\n\r]/g),f=l[i];if(f.length>120){for(var d=Math.floor(u/80),h=u%80,p=[],v=0;v<f.length;v+=80)p.push(f.slice(v,v+80));return c+dM([["".concat(a),p[0]]].concat(p.slice(1,d+1).map((function(e){return["",e]})),[[" ",hM(h-1)+"^"],["",p[d+1]]]))}return c+dM([["".concat(a-1),l[i-1]],["".concat(a),f],["",hM(u-1)+"^"],["".concat(a+1),l[i+1]]])}function dM(e){var t=e.filter((function(e){return e[0],void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],i=e[1];return hM(n-(t=r).length)+t+(i?" | "+i:" |")})).join("\n")}function hM(e){return Array(e+1).join(" ")}function pM(e){return pM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pM(e)}function vM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mM(e,t){return!t||"object"!==pM(t)&&"function"!=typeof t?bM(e):t}function bM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wM(e){var t="function"==typeof Map?new Map:void 0;return wM=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return SM(e,arguments,xM(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_M(r,e)},wM(e)}function SM(e,t,n){return SM=EM()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_M(i,n.prototype),i},SM.apply(null,arguments)}function EM(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _M(e,t){return _M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_M(e,t)}function xM(e){return xM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xM(e)}var AM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_M(e,t)}(a,e);var t,n,r,i,o=(t=a,n=EM(),function(){var e,r=xM(t);if(n){var i=xM(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return mM(this,e)});function a(e,t,n,r,i,s,u){var c,l,f,d;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(d=o.call(this,e)).name="GraphQLError",d.originalError=null!=s?s:void 0,d.nodes=TM(Array.isArray(t)?t:t?[t]:void 0);for(var h=[],p=0,v=null!==(y=d.nodes)&&void 0!==y?y:[];p<v.length;p++){var y,g=v[p].loc;null!=g&&h.push(g)}h=TM(h),d.source=null!=n?n:null===(c=h)||void 0===c?void 0:c[0].source,d.positions=null!=r?r:null===(l=h)||void 0===l?void 0:l.map((function(e){return e.start})),d.locations=r&&n?r.map((function(e){return cM(n,e)})):null===(f=h)||void 0===f?void 0:f.map((function(e){return cM(e.source,e.start)})),d.path=null!=i?i:void 0;var m,b=null==s?void 0:s.extensions;return null==u&&"object"==sM(m=b)&&null!==m?d.extensions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vM(Object(n),!0).forEach((function(t){yM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b):d.extensions=null!=u?u:{},Object.defineProperties(bM(d),{message:{enumerable:!0},locations:{enumerable:null!=d.locations},path:{enumerable:null!=d.path},extensions:{enumerable:null!=d.extensions&&Object.keys(d.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=s&&s.stack?(Object.defineProperty(bM(d),"stack",{value:s.stack,writable:!0,configurable:!0}),mM(d)):(Error.captureStackTrace?Error.captureStackTrace(bM(d),a):Object.defineProperty(bM(d),"stack",{value:Error().stack,writable:!0,configurable:!0}),d)}return r=a,(i=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+="\n\n"+lM(i.loc))}else if(e.source&&e.locations)for(var o=0,a=e.locations;o<a.length;o++){var s=a[o];t+="\n\n"+fM(e.source,s)}return t}(this)}},{key:uM,get:function(){return"Object"}}])&&gM(r.prototype,i),a}(wM(Error));function TM(e){return void 0===e||0===e.length?void 0:e}function CM(e,t,n){return new AM("Syntax Error: ".concat(n),void 0,e,[t])}var IM=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});const PM="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function OM(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(0))throw new Error("Unexpected invariant triggered.")}(),e.prototype.inspect=t,PM&&(e.prototype[PM]=t)}var kM=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();OM(kM);var RM=function(){function e(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function LM(e){return null!=e&&"string"==typeof e.kind}OM(RM);var NM=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function DM(e){return DM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DM(e)}function MM(e){return jM(e,[])}function jM(e,t){switch(DM(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(PM)];return"function"==typeof t?t:"function"==typeof e.inspect?e.inspect:void 0}(e);if(void 0!==r){var i=r.call(e);if(i!==e)return"string"==typeof i?i:jM(i,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(jM(e[o],t));return 1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items")),"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);return 0===n.length?"{}":t.length>2?"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]":"{ "+n.map((function(n){return n+": "+jM(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function UM(e,t){if(!Boolean(e))throw new Error(t)}function FM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zM=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||UM(0,"Body must be a string. Received: ".concat(MM(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||UM(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||UM(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n;return t=e,(n=[{key:uM,get:function(){return"Source"}}])&&FM(t.prototype,n),e}(),BM=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function qM(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,r=!0,i=0,o=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:10===e.charCodeAt(a+1)&&++a;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!==(t=o)&&void 0!==t?t:0}(e);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(var i=0;i<t.length&&KM(t[i]);)++i;for(var o=t.length;o>i&&KM(t[o-1]);)--o;return t.slice(i,o).join("\n")}function KM(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}var HM=function(){function e(e){var t=new RM(NM.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==NM.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=VM(this,e)}while(e.kind===NM.COMMENT);return e},e}();function GM(e){return isNaN(e)?NM.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function VM(e,t){for(var n=e.source,r=n.body,i=r.length,o=t.end;o<i;){var a=r.charCodeAt(o),s=e.line,u=1+o-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===r.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new RM(NM.BANG,o,o+1,s,u,t);case 35:return WM(n,o,s,u,t);case 36:return new RM(NM.DOLLAR,o,o+1,s,u,t);case 38:return new RM(NM.AMP,o,o+1,s,u,t);case 40:return new RM(NM.PAREN_L,o,o+1,s,u,t);case 41:return new RM(NM.PAREN_R,o,o+1,s,u,t);case 46:if(46===r.charCodeAt(o+1)&&46===r.charCodeAt(o+2))return new RM(NM.SPREAD,o,o+3,s,u,t);break;case 58:return new RM(NM.COLON,o,o+1,s,u,t);case 61:return new RM(NM.EQUALS,o,o+1,s,u,t);case 64:return new RM(NM.AT,o,o+1,s,u,t);case 91:return new RM(NM.BRACKET_L,o,o+1,s,u,t);case 93:return new RM(NM.BRACKET_R,o,o+1,s,u,t);case 123:return new RM(NM.BRACE_L,o,o+1,s,u,t);case 124:return new RM(NM.PIPE,o,o+1,s,u,t);case 125:return new RM(NM.BRACE_R,o,o+1,s,u,t);case 34:return 34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)?XM(n,o,s,u,t,e):JM(n,o,s,u,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return YM(n,o,a,s,u,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return tj(n,o,s,u,t)}throw CM(n,o,$M(a))}var c=e.line,l=1+o-e.lineStart;return new RM(NM.EOF,i,i,c,l,t)}function $M(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(GM(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(GM(e),".")}function WM(e,t,n,r,i){var o,a=e.body,s=t;do{o=a.charCodeAt(++s)}while(!isNaN(o)&&(o>31||9===o));return new RM(NM.COMMENT,t,s,n,r,i,a.slice(t+1,s))}function YM(e,t,n,r,i,o){var a=e.body,s=n,u=t,c=!1;if(45===s&&(s=a.charCodeAt(++u)),48===s){if((s=a.charCodeAt(++u))>=48&&s<=57)throw CM(e,u,"Invalid number, unexpected digit after 0: ".concat(GM(s),"."))}else u=ZM(e,u,s),s=a.charCodeAt(u);if(46===s&&(c=!0,s=a.charCodeAt(++u),u=ZM(e,u,s),s=a.charCodeAt(u)),69!==s&&101!==s||(c=!0,43!==(s=a.charCodeAt(++u))&&45!==s||(s=a.charCodeAt(++u)),u=ZM(e,u,s),s=a.charCodeAt(u)),46===s||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(s))throw CM(e,u,"Invalid number, expected digit but got: ".concat(GM(s),"."));return new RM(c?NM.FLOAT:NM.INT,t,u,r,i,o,a.slice(t,u))}function ZM(e,t,n){var r=e.body,i=t,o=n;if(o>=48&&o<=57){do{o=r.charCodeAt(++i)}while(o>=48&&o<=57);return i}throw CM(e,i,"Invalid number, expected digit but got: ".concat(GM(o),"."))}function JM(e,t,n,r,i){for(var o=e.body,a=t+1,s=a,u=0,c="";a<o.length&&!isNaN(u=o.charCodeAt(a))&&10!==u&&13!==u;){if(34===u)return c+=o.slice(s,a),new RM(NM.STRING,t,a+1,n,r,i,c);if(u<32&&9!==u)throw CM(e,a,"Invalid character within String: ".concat(GM(u),"."));if(++a,92===u){switch(c+=o.slice(s,a-1),u=o.charCodeAt(a)){case 34:c+='"';break;case 47:c+="/";break;case 92:c+="\\";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+="\n";break;case 114:c+="\r";break;case 116:c+="\t";break;case 117:var l=QM(o.charCodeAt(a+1),o.charCodeAt(a+2),o.charCodeAt(a+3),o.charCodeAt(a+4));if(l<0){var f=o.slice(a+1,a+5);throw CM(e,a,"Invalid character escape sequence: \\u".concat(f,"."))}c+=String.fromCharCode(l),a+=4;break;default:throw CM(e,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(u),"."))}s=++a}}throw CM(e,a,"Unterminated string.")}function XM(e,t,n,r,i,o){for(var a=e.body,s=t+3,u=s,c=0,l="";s<a.length&&!isNaN(c=a.charCodeAt(s));){if(34===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return l+=a.slice(u,s),new RM(NM.BLOCK_STRING,t,s+3,n,r,i,qM(l));if(c<32&&9!==c&&10!==c&&13!==c)throw CM(e,s,"Invalid character within String: ".concat(GM(c),"."));10===c?(++s,++o.line,o.lineStart=s):13===c?(10===a.charCodeAt(s+1)?s+=2:++s,++o.line,o.lineStart=s):92===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(l+=a.slice(u,s)+'"""',u=s+=4):++s}throw CM(e,s,"Unterminated string.")}function QM(e,t,n,r){return ej(e)<<12|ej(t)<<8|ej(n)<<4|ej(r)}function ej(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function tj(e,t,n,r,i){for(var o=e.body,a=o.length,s=t+1,u=0;s!==a&&!isNaN(u=o.charCodeAt(s))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++s;return new RM(NM.NAME,t,s,n,r,i,o.slice(t,s))}function nj(e,t){return new rj(e,t).parseDocument()}var rj=function(){function e(e,t){var n=function(e){return e instanceof zM}(e)?e:new zM(e);this._lexer=new HM(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(NM.NAME);return{kind:IM.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:IM.DOCUMENT,definitions:this.many(NM.SOF,this.parseDefinition,NM.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(NM.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(NM.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(NM.BRACE_L))return{kind:IM.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(NM.NAME)&&(t=this.parseName()),{kind:IM.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(NM.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(NM.PAREN_L,this.parseVariableDefinition,NM.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:IM.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(NM.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(NM.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(NM.DOLLAR),{kind:IM.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:IM.SELECTION_SET,selections:this.many(NM.BRACE_L,this.parseSelection,NM.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(NM.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(NM.COLON)?(e=r,t=this.parseName()):t=r,{kind:IM.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(NM.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(NM.PAREN_L,t,NM.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(NM.COLON),{kind:IM.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:IM.ARGUMENT,name:this.parseName(),value:(this.expectToken(NM.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(NM.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(NM.NAME)?{kind:IM.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:IM.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:IM.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:IM.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case NM.BRACKET_L:return this.parseList(e);case NM.BRACE_L:return this.parseObject(e);case NM.INT:return this._lexer.advance(),{kind:IM.INT,value:t.value,loc:this.loc(t)};case NM.FLOAT:return this._lexer.advance(),{kind:IM.FLOAT,value:t.value,loc:this.loc(t)};case NM.STRING:case NM.BLOCK_STRING:return this.parseStringLiteral();case NM.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:IM.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:IM.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:IM.NULL,loc:this.loc(t)};default:return{kind:IM.ENUM,value:t.value,loc:this.loc(t)}}case NM.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:IM.STRING,value:e.value,block:e.kind===NM.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:IM.LIST,values:this.any(NM.BRACKET_L,(function(){return t.parseValueLiteral(e)}),NM.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:IM.OBJECT,fields:this.any(NM.BRACE_L,(function(){return t.parseObjectField(e)}),NM.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(NM.COLON),{kind:IM.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(NM.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(NM.AT),{kind:IM.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(NM.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(NM.BRACKET_R),e={kind:IM.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(NM.BANG)?{kind:IM.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:IM.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===NM.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(NM.STRING)||this.peek(NM.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(NM.BRACE_L,this.parseOperationTypeDefinition,NM.BRACE_R);return{kind:IM.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(NM.COLON);var n=this.parseNamedType();return{kind:IM.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:IM.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:IM.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(NM.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(NM.AMP)||this.peek(NM.NAME));return t}return this.delimitedMany(NM.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(NM.BRACE_L)&&this._lexer.lookahead().kind===NM.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(NM.BRACE_L,this.parseFieldDefinition,NM.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(NM.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:IM.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(NM.PAREN_L,this.parseInputValueDef,NM.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(NM.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(NM.EQUALS)&&(r=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:IM.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:r,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:IM.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:IM.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(NM.EQUALS)?this.delimitedMany(NM.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:IM.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(NM.BRACE_L,this.parseEnumValueDefinition,NM.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:IM.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:IM.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(NM.BRACE_L,this.parseInputValueDef,NM.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===NM.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(NM.BRACE_L,this.parseOperationTypeDefinition,NM.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:IM.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:IM.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:IM.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:IM.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:IM.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:IM.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:IM.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(NM.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:IM.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(NM.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==BM[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new kM(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw CM(this._lexer.source,t.start,"Expected ".concat(oj(e),", found ").concat(ij(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==NM.NAME||t.value!==e)throw CM(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(ij(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===NM.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return CM(this._lexer.source,t.start,"Unexpected ".concat(ij(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function ij(e){var t=e.value;return oj(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function oj(e){return function(e){return e===NM.BANG||e===NM.DOLLAR||e===NM.AMP||e===NM.PAREN_L||e===NM.PAREN_R||e===NM.SPREAD||e===NM.COLON||e===NM.EQUALS||e===NM.AT||e===NM.BRACKET_L||e===NM.BRACKET_R||e===NM.BRACE_L||e===NM.PIPE||e===NM.BRACE_R}(e)?'"'.concat(e,'"'):e}var aj={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},sj=Object.freeze({});function uj(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}function cj(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:aj,r=void 0,i=Array.isArray(e),o=[e],a=-1,s=[],u=void 0,c=void 0,l=void 0,f=[],d=[],h=e;do{var p=++a===o.length,v=p&&0!==s.length;if(p){if(c=0===d.length?void 0:f[f.length-1],u=l,l=d.pop(),v){if(i)u=u.slice();else{for(var y={},g=0,m=Object.keys(u);g<m.length;g++){var b=m[g];y[b]=u[b]}u=y}for(var w=0,S=0;S<s.length;S++){var E=s[S][0],_=s[S][1];i&&(E-=w),i&&null===_?(u.splice(E,1),w++):u[E]=_}}a=r.index,o=r.keys,s=r.edits,i=r.inArray,r=r.prev}else{if(c=l?i?a:o[a]:void 0,null==(u=l?l[c]:h))continue;l&&f.push(c)}var x,A=void 0;if(!Array.isArray(u)){if(!LM(u))throw new Error("Invalid AST Node: ".concat(MM(u),"."));var T=uj(t,u.kind,p);if(T){if((A=T.call(t,u,c,l,f,d))===sj)break;if(!1===A){if(!p){f.pop();continue}}else if(void 0!==A&&(s.push([c,A]),!p)){if(!LM(A)){f.pop();continue}u=A}}}void 0===A&&v&&s.push([c,u]),p?f.pop():(r={inArray:i,index:a,keys:o,edits:s,prev:r},o=(i=Array.isArray(u))?u:null!==(x=n[u.kind])&&void 0!==x?x:[],a=-1,s=[],l&&d.push(l),l=u)}while(void 0!==r);return 0!==s.length&&(h=s[s.length-1][1]),h}(e,{leave:lj})}var lj={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return dj(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=pj("(",dj(e.variableDefinitions,", "),")"),i=dj(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?dj([t,dj([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+pj(" = ",r)+pj(" ",dj(i," "))},SelectionSet:function(e){return hj(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet,a=pj("",t,": ")+n,s=a+pj("(",dj(r,", "),")");return s.length>80&&(s=a+pj("(\n",vj(dj(r,"\n")),"\n)")),dj([s,dj(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+pj(" ",dj(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return dj(["...",pj("on ",t),dj(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(pj("(",dj(r,", "),")")," ")+"on ".concat(n," ").concat(pj("",dj(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],a="\\"===e[e.length-1],s=!r||o||a||n,u="";return!s||r&&i||(u+="\n"+t),u+=t?e.replace(/\n/g,"\n"+t):e,s&&(u+="\n"),'"""'+u.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+dj(e.values,", ")+"]"},ObjectValue:function(e){return"{"+dj(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+pj("(",dj(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:fj((function(e){var t=e.directives,n=e.operationTypes;return dj(["schema",dj(t," "),hj(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:fj((function(e){return dj(["scalar",e.name,dj(e.directives," ")]," ")})),ObjectTypeDefinition:fj((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return dj(["type",t,pj("implements ",dj(n," & ")),dj(r," "),hj(i)]," ")})),FieldDefinition:fj((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(gj(n)?pj("(\n",vj(dj(n,"\n")),"\n)"):pj("(",dj(n,", "),")"))+": "+r+pj(" ",dj(i," "))})),InputValueDefinition:fj((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return dj([t+": "+n,pj("= ",r),dj(i," ")]," ")})),InterfaceTypeDefinition:fj((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return dj(["interface",t,pj("implements ",dj(n," & ")),dj(r," "),hj(i)]," ")})),UnionTypeDefinition:fj((function(e){var t=e.name,n=e.directives,r=e.types;return dj(["union",t,dj(n," "),r&&0!==r.length?"= "+dj(r," | "):""]," ")})),EnumTypeDefinition:fj((function(e){var t=e.name,n=e.directives,r=e.values;return dj(["enum",t,dj(n," "),hj(r)]," ")})),EnumValueDefinition:fj((function(e){return dj([e.name,dj(e.directives," ")]," ")})),InputObjectTypeDefinition:fj((function(e){var t=e.name,n=e.directives,r=e.fields;return dj(["input",t,dj(n," "),hj(r)]," ")})),DirectiveDefinition:fj((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(gj(n)?pj("(\n",vj(dj(n,"\n")),"\n)"):pj("(",dj(n,", "),")"))+(r?" repeatable":"")+" on "+dj(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return dj(["extend schema",dj(t," "),hj(n)]," ")},ScalarTypeExtension:function(e){return dj(["extend scalar",e.name,dj(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return dj(["extend type",t,pj("implements ",dj(n," & ")),dj(r," "),hj(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return dj(["extend interface",t,pj("implements ",dj(n," & ")),dj(r," "),hj(i)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return dj(["extend union",t,dj(n," "),r&&0!==r.length?"= "+dj(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return dj(["extend enum",t,dj(n," "),hj(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return dj(["extend input",t,dj(n," "),hj(r)]," ")}};function fj(e){return function(t){return dj([t.description,e(t)],"\n")}}function dj(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function hj(e){return pj("{\n",vj(dj(e,"\n")),"\n}")}function pj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function vj(e){return pj("  ",e.replace(/\n/g,"\n  "))}function yj(e){return-1!==e.indexOf("\n")}function gj(e){return null!=e&&e.some(yj)}var mj="undefined"!=typeof Symbol&&"function"==typeof Symbol.for,bj=(mj&&Symbol.for("INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER"),mj?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"),wj=function(e,t){return wj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},wj(e,t)},Sj=function(){return Sj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Sj.apply(this,arguments)};function Ej(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function _j(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var xj=n(9329);const Aj=n.n(xj)();var Tj=n(5408),Cj=new c("I18n"),Ij=function(){function e(e){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},e),this._lang=this._options.language,!this._lang&&"undefined"!=typeof window&&window&&window.navigator&&(this._lang=window.navigator.language),Cj.debug(this._lang)}return e.prototype.setLanguage=function(e){this._lang=e},e.prototype.get=function(e,t){if(void 0===t&&(t=void 0),!this._lang)return void 0!==t?t:e;var n=this._lang,r=this.getByLanguage(e,n);return r||(n.indexOf("-")>0&&(r=this.getByLanguage(e,n.split("-")[0])),r||(void 0!==t?t:e))},e.prototype.getByLanguage=function(e,t,n){if(void 0===n&&(n=null),!t)return n;var r=this._dict[t];return r?r[e]:n},e.prototype.putVocabulariesForLanguage=function(e,t){var n=this._dict[e];n||(n=this._dict[e]={}),Object.assign(n,t)},e.prototype.putVocabularies=function(e){var t=this;Object.keys(e).map((function(n){t.putVocabulariesForLanguage(n,e[n])}))},e}(),Pj=new c("I18n"),Oj=null,kj=null,Rj=function(){function e(){}return e.configure=function(t){return Pj.debug("configure I18n"),t?(Oj=Object.assign({},Oj,t.I18n||t),e.createInstance(),Oj):Oj},e.getModuleName=function(){return"I18n"},e.createInstance=function(){Pj.debug("create I18n instance"),kj||(kj=new Ij(Oj))},e.setLanguage=function(t){return e.checkConfig(),kj.setLanguage(t)},e.get=function(t,n){return e.checkConfig()?kj.get(t,n):void 0===n?t:n},e.putVocabulariesForLanguage=function(t,n){return e.checkConfig(),kj.putVocabulariesForLanguage(t,n)},e.putVocabularies=function(t){return e.checkConfig(),kj.putVocabularies(t)},e.checkConfig=function(){return kj||(kj=new Ij(Oj)),!0},e}();d.register(Rj);var Lj,Nj,Dj={userAgent:ee.userAgent},Mj=new c("AbstractPubSubProvider"),jj=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=Sj(Sj({},e),this._config),Mj.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"PubSub"},Object.defineProperty(e.prototype,"options",{get:function(){return Sj({},this._config)},enumerable:!0,configurable:!0}),e}();!function(e){e.CONNECTION_CLOSED="Connection closed",e.CONNECTION_FAILED="Connection failed",e.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",e.SUBSCRIPTION_ACK="Subscription ack",e.TIMEOUT_DISCONNECT="Timeout disconnect"}(Lj||(Lj={})),function(e){e.Connected="Connected",e.ConnectedPendingNetwork="ConnectedPendingNetwork",e.ConnectionDisrupted="ConnectionDisrupted",e.ConnectionDisruptedPendingNetwork="ConnectionDisruptedPendingNetwork",e.Connecting="Connecting",e.ConnectedPendingDisconnect="ConnectedPendingDisconnect",e.Disconnected="Disconnected",e.ConnectedPendingKeepAlive="ConnectedPendingKeepAlive"}(Nj||(Nj={}));var Uj,Fj,zj,Bj=[400,401,403];!function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.GQL_DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error"}(Uj||(Uj={})),function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"}(Fj||(Fj={})),function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"}(zj||(zj={}));var qj="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Kj={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},Hj=3e5,Gj=function(){function e(){}return e.prototype.networkMonitor=function(t){if(Y().isNode)return Aj.from([{online:!0}]);var n=W()?self:window;return new Aj((function(t){t.next({online:n.navigator.onLine});var r=function(){return t.next({online:!0})},i=function(){return t.next({online:!1})};return n.addEventListener("online",r),n.addEventListener("offline",i),e._observers.push(t),function(){n.removeEventListener("online",r),n.removeEventListener("offline",i),e._observers=e._observers.filter((function(e){return e!==t}))}}))},e._observerOverride=function(t){var n,r,o=function(n){if(n.closed)return e._observers=e._observers.filter((function(e){return e!==n})),"continue";n.next(t)};try{for(var a=(0,i.__values)(e._observers),s=a.next();!s.done;s=a.next())o(s.value)}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e._observers=[],e}();const Vj=Gj;var $j,Wj=function(){return(new Vj).networkMonitor()},Yj={KEEP_ALIVE_MISSED:{keepAliveState:"unhealthy"},KEEP_ALIVE:{keepAliveState:"healthy"},CONNECTION_ESTABLISHED:{connectionState:"connected"},CONNECTION_FAILED:{intendedConnectionState:"disconnected",connectionState:"disconnected"},CLOSING_CONNECTION:{intendedConnectionState:"disconnected"},OPENING_CONNECTION:{intendedConnectionState:"connected",connectionState:"connecting"},CLOSED:{connectionState:"disconnected"},ONLINE:{networkState:"connected"},OFFLINE:{networkState:"disconnected"}},Zj=function(){function e(){var e=this;this._networkMonitoringSubscription=void 0,this._linkedConnectionState={networkState:"connected",connectionState:"disconnected",intendedConnectionState:"disconnected",keepAliveState:"healthy"},this._initialNetworkStateSubscription=Wj().subscribe((function(t){var n,r=t.online;e.record(r?Yj.ONLINE:Yj.OFFLINE),null===(n=e._initialNetworkStateSubscription)||void 0===n||n.unsubscribe()})),this._linkedConnectionStateObservable=new Aj((function(t){t.next(e._linkedConnectionState),e._linkedConnectionStateObserver=t}))}return e.prototype.enableNetworkMonitoring=function(){var e,t=this;null===(e=this._initialNetworkStateSubscription)||void 0===e||e.unsubscribe(),void 0===this._networkMonitoringSubscription&&(this._networkMonitoringSubscription=Wj().subscribe((function(e){var n=e.online;t.record(n?Yj.ONLINE:Yj.OFFLINE)})))},e.prototype.disableNetworkMonitoring=function(){var e;null===(e=this._networkMonitoringSubscription)||void 0===e||e.unsubscribe(),this._networkMonitoringSubscription=void 0},Object.defineProperty(e.prototype,"connectionStateObservable",{get:function(){var e,t=this;return this._linkedConnectionStateObservable.map((function(e){return t.connectionStatesTranslator(e)})).filter((function(t){var n=t!==e;return e=t,n}))},enumerable:!0,configurable:!0}),e.prototype.record=function(e){"connected"===e.intendedConnectionState?this.enableNetworkMonitoring():"disconnected"===e.intendedConnectionState&&this.disableNetworkMonitoring();var t=Sj(Sj({},this._linkedConnectionState),e);this._linkedConnectionState=Sj({},t),this._linkedConnectionStateObserver.next(this._linkedConnectionState)},e.prototype.connectionStatesTranslator=function(e){var t=e.connectionState,n=e.networkState,r=e.intendedConnectionState,i=e.keepAliveState;return"connected"===t&&"disconnected"===n?Nj.ConnectedPendingNetwork:"connected"===t&&"disconnected"===r?Nj.ConnectedPendingDisconnect:"disconnected"===t&&"connected"===r&&"disconnected"===n?Nj.ConnectionDisruptedPendingNetwork:"disconnected"===t&&"connected"===r?Nj.ConnectionDisrupted:"connected"===t&&"unhealthy"===i?Nj.ConnectedPendingKeepAlive:"connecting"===t?Nj.Connecting:"disconnected"===t?Nj.Disconnected:Nj.Connected},e}();!function(e){e.START_RECONNECT="START_RECONNECT",e.HALT_RECONNECT="HALT_RECONNECT"}($j||($j={}));var Jj,Xj=function(){function e(){this.reconnectObservers=[]}return e.prototype.addObserver=function(e){this.reconnectObservers.push(e)},e.prototype.record=function(e){var t=this;e===$j.START_RECONNECT&&void 0===this.reconnectSetTimeoutId&&void 0===this.reconnectIntervalId&&(this.reconnectSetTimeoutId=setTimeout((function(){t._triggerReconnect(),t.reconnectIntervalId=setInterval((function(){t._triggerReconnect()}),6e4)}),5e3)),e===$j.HALT_RECONNECT&&(this.reconnectIntervalId&&(clearInterval(this.reconnectIntervalId),this.reconnectIntervalId=void 0),this.reconnectSetTimeoutId&&(clearTimeout(this.reconnectSetTimeoutId),this.reconnectSetTimeoutId=void 0))},e.prototype.close=function(){this.reconnectObservers.forEach((function(e){var t;null===(t=e.complete)||void 0===t||t.call(e)}))},e.prototype._triggerReconnect=function(){this.reconnectObservers.forEach((function(e){var t;null===(t=e.next)||void 0===t||t.call(e)}))},e}(),Qj=new c("AWSAppSyncRealTimeProvider"),eU=function(e,t,n){_.dispatch("api",{event:e,data:t,message:n},"PubSub",qj)},tU=/^https:\/\/\w{26}\.appsync\-api\.\w{2}(?:(?:\-\w{2,})+)\-\d\.amazonaws.com(?:\.cn)?\/graphql$/i,nU=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.socketStatus=zj.CLOSED,n.keepAliveTimeout=Hj,n.subscriptionObserverMap=new Map,n.promiseArray=[],n.connectionStateMonitor=new Zj,n.reconnectionMonitor=new Xj,n.connectionStateMonitorSubscription=n.connectionStateMonitor.connectionStateObservable.subscribe((function(e){eU("ConnectionStateChange",{provider:n,connectionState:e},"Connection state is "+e),n.connectionState=e,e===Nj.ConnectionDisrupted&&n.reconnectionMonitor.record($j.START_RECONNECT),[Nj.Connected,Nj.ConnectedPendingDisconnect,Nj.ConnectedPendingKeepAlive,Nj.ConnectedPendingNetwork,Nj.ConnectedPendingNetwork,Nj.ConnectionDisruptedPendingNetwork,Nj.Disconnected].includes(e)&&n.reconnectionMonitor.record($j.HALT_RECONNECT)})),n}return function(e,t){function n(){this.constructor=e}wj(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.close=function(){this.socketStatus=zj.CLOSED,this.connectionStateMonitor.record(Yj.CONNECTION_FAILED),this.connectionStateMonitorSubscription.unsubscribe(),this.reconnectionMonitor.close()},t.prototype.getNewWebSocket=function(e,t){return new WebSocket(e,t)},t.prototype.getProviderName=function(){return"AWSAppSyncRealTimeProvider"},t.prototype.newClient=function(){throw new Error("Not used here")},t.prototype.publish=function(e,t,n){return Ej(this,void 0,void 0,(function(){return _j(this,(function(e){throw new Error("Operation not supported")}))}))},t.prototype.isCustomDomain=function(e){return null===e.match(tU)},t.prototype.subscribe=function(e,t){var n=this,r=null==t?void 0:t.appSyncGraphqlEndpoint;return new Aj((function(e){if(t&&r){var i,o=!1,a=(0,Tj.v4)(),s=function(){o||(o=!0,n._startSubscriptionWithAWSAppSyncRealTime({options:t,observer:e,subscriptionId:a}).catch((function(e){Qj.debug(Lj.REALTIME_SUBSCRIPTION_INIT_ERROR+": "+e),n.connectionStateMonitor.record(Yj.CLOSED)})).finally((function(){o=!1})))};return i=new Aj((function(e){n.reconnectionMonitor.addObserver(e)})).subscribe((function(){s()})),s(),function(){return Ej(n,void 0,void 0,(function(){var e,t;return _j(this,(function(n){switch(n.label){case 0:null==i||i.unsubscribe(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,this._waitForSubscriptionToBeConnected(a)];case 2:if(n.sent(),!(e=(this.subscriptionObserverMap.get(a)||{}).subscriptionState))return[2];if(e!==Fj.CONNECTED)throw new Error("Subscription never connected");return this._sendUnsubscriptionMessage(a),[3,5];case 3:return t=n.sent(),Qj.debug("Error while unsubscribing "+t),[3,5];case 4:return this._removeSubscriptionObserver(a),[7];case 5:return[2]}}))}))}}e.error({errors:[Sj({},new AM("Subscribe only available for AWS AppSync endpoint"))]}),e.complete()}))},Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype._startSubscriptionWithAWSAppSyncRealTime=function(e){var t,n=e.options,r=e.observer,i=e.subscriptionId;return Ej(this,void 0,void 0,(function(){var e,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A,T,C=this;return _j(this,(function(I){switch(I.label){case 0:return e=n.appSyncGraphqlEndpoint,o=n.authenticationType,a=n.query,s=n.variables,u=n.apiKey,c=n.region,l=n.graphql_headers,f=void 0===l?function(){return{}}:l,d=n.additionalHeaders,h=void 0===d?{}:d,p=Fj.PENDING,v={query:a,variables:s},this.subscriptionObserverMap.set(i,{observer:r,query:null!=a?a:"",variables:null!=s?s:{},subscriptionState:p,startAckTimeoutId:void 0}),y=JSON.stringify(v),m=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:u,appSyncGraphqlEndpoint:e,authenticationType:o,payload:y,canonicalUri:"",region:c,additionalHeaders:h})];case 1:return b=[Sj.apply(void 0,m.concat([I.sent()]))],[4,f()];case 2:g=Sj.apply(void 0,[Sj.apply(void 0,[Sj.apply(void 0,b.concat([I.sent()])),h]),(T={},T["x-amz-user-agent"]=Dj.userAgent,T)]),w={id:i,payload:{data:y,extensions:{authorization:Sj({},g)}},type:Uj.GQL_START},S=JSON.stringify(w),I.label=3;case 3:return I.trys.push([3,5,,6]),this.connectionStateMonitor.record(Yj.OPENING_CONNECTION),[4,this._initializeWebSocketConnection({apiKey:u,appSyncGraphqlEndpoint:e,authenticationType:o,region:c,additionalHeaders:h})];case 4:return I.sent(),[3,6];case 5:return E=I.sent(),this._logStartSubscriptionError(i,r,E),[2];case 6:return _=null!==(t=this.subscriptionObserverMap.get(i))&&void 0!==t?t:{},x=_.subscriptionFailedCallback,A=_.subscriptionReadyCallback,this.subscriptionObserverMap.set(i,{observer:r,subscriptionState:p,query:null!=a?a:"",variables:null!=s?s:{},subscriptionReadyCallback:A,subscriptionFailedCallback:x,startAckTimeoutId:setTimeout((function(){C._timeoutStartSubscriptionAck.call(C,i)}),15e3)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(S),[2]}}))}))},t.prototype._logStartSubscriptionError=function(e,t,n){var r;Qj.debug({err:n});var i=null!==(r=n.message)&&void 0!==r?r:"";if(Promise.resolve(this.connectionStateMonitor.record(Yj.CLOSED)),this.connectionState!==Nj.ConnectionDisruptedPendingNetwork){se(n)?t.error({errors:[Sj({},new AM(Lj.CONNECTION_FAILED+": "+i))]}):Qj.debug(Lj.CONNECTION_FAILED+": "+i);var o=(this.subscriptionObserverMap.get(e)||{}).subscriptionFailedCallback;"function"==typeof o&&o()}},t.prototype._waitForSubscriptionToBeConnected=function(e){return Ej(this,void 0,void 0,(function(){var t,n=this;return _j(this,(function(r){return(t=this.subscriptionObserverMap.get(e))&&t.subscriptionState===Fj.PENDING?[2,new Promise((function(r,i){var o=t.observer,a=t.subscriptionState,s=t.variables,u=t.query;n.subscriptionObserverMap.set(e,{observer:o,subscriptionState:a,variables:s,query:u,subscriptionReadyCallback:r,subscriptionFailedCallback:i})}))]:[2]}))}))},t.prototype._sendUnsubscriptionMessage=function(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===zj.READY){var t={id:e,type:Uj.GQL_STOP},n=JSON.stringify(t);this.awsRealTimeSocket.send(n)}}catch(e){Qj.debug({err:e})}},t.prototype._removeSubscriptionObserver=function(e){this.subscriptionObserverMap.delete(e),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},t.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0))if(this.awsRealTimeSocket)if(this.connectionStateMonitor.record(Yj.CLOSING_CONNECTION),this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{Qj.debug("closing WebSocket..."),this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId);var e=this.awsRealTimeSocket;e.onclose=null,e.onerror=null,e.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=zj.CLOSED,this.connectionStateMonitor.record(Yj.CLOSED)}else this.socketStatus=zj.CLOSED},t.prototype._handleIncomingSubscriptionMessage=function(e){var t=this;Qj.debug("subscription message from AWS AppSync RealTime: "+e.data);var n=JSON.parse(e.data),r=n.id,i=void 0===r?"":r,o=n.payload,a=n.type,s=this.subscriptionObserverMap.get(i)||{},u=s.observer,c=void 0===u?null:u,l=s.query,f=void 0===l?"":l,d=s.variables,h=void 0===d?{}:d,p=s.startAckTimeoutId,v=s.subscriptionReadyCallback,y=s.subscriptionFailedCallback;if(Qj.debug({id:i,observer:c,query:f,variables:h}),a===Uj.GQL_DATA&&o&&o.data)c?c.next(o):Qj.debug("observer not found for id: "+i);else{if(a===Uj.GQL_START_ACK){Qj.debug("subscription ready for "+JSON.stringify({query:f,variables:h})),"function"==typeof v&&v(),p&&clearTimeout(p),eU(Lj.SUBSCRIPTION_ACK,{query:f,variables:h},"Connection established for subscription");var g=Fj.CONNECTED;return c&&this.subscriptionObserverMap.set(i,{observer:c,query:f,variables:h,startAckTimeoutId:void 0,subscriptionState:g,subscriptionReadyCallback:v,subscriptionFailedCallback:y}),void this.connectionStateMonitor.record(Yj.CONNECTION_ESTABLISHED)}if(a===Uj.GQL_CONNECTION_KEEP_ALIVE)return this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId),this.keepAliveTimeoutId=setTimeout((function(){return t._errorDisconnect(Lj.TIMEOUT_DISCONNECT)}),this.keepAliveTimeout),this.keepAliveAlertTimeoutId=setTimeout((function(){t.connectionStateMonitor.record(Yj.KEEP_ALIVE_MISSED)}),65e3),void this.connectionStateMonitor.record(Yj.KEEP_ALIVE);a===Uj.GQL_ERROR&&(g=Fj.FAILED,c&&(this.subscriptionObserverMap.set(i,{observer:c,query:f,variables:h,startAckTimeoutId:p,subscriptionReadyCallback:v,subscriptionFailedCallback:y,subscriptionState:g}),Qj.debug(Lj.CONNECTION_FAILED+": "+JSON.stringify(o)),c.error({errors:[Sj({},new AM(Lj.CONNECTION_FAILED+": "+JSON.stringify(o)))]}),p&&clearTimeout(p),"function"==typeof y&&y()))}},t.prototype._errorDisconnect=function(e){Qj.debug("Disconnect error: "+e),this.awsRealTimeSocket&&(this.connectionStateMonitor.record(Yj.CLOSED),this.awsRealTimeSocket.close()),this.socketStatus=zj.CLOSED},t.prototype._timeoutStartSubscriptionAck=function(e){var t=this.subscriptionObserverMap.get(e);if(t){var n=t.observer,r=t.query,i=t.variables;if(!n)return;this.subscriptionObserverMap.set(e,{observer:n,query:r,variables:i,subscriptionState:Fj.FAILED}),this.connectionStateMonitor.record(Yj.CLOSED),Qj.debug("timeoutStartSubscription",JSON.stringify({query:r,variables:i}))}},t.prototype._initializeWebSocketConnection=function(e){var t=this,n=e.appSyncGraphqlEndpoint,r=e.authenticationType,i=e.apiKey,o=e.region,a=e.additionalHeaders;if(this.socketStatus!==zj.READY)return new Promise((function(e,s){return Ej(t,void 0,void 0,(function(){var t,u,c,l,f,d,h,p,v,y;return _j(this,(function(g){switch(g.label){case 0:if(this.promiseArray.push({res:e,rej:s}),this.socketStatus!==zj.CLOSED)return[3,5];g.label=1;case 1:return g.trys.push([1,4,,5]),this.socketStatus=zj.CONNECTING,t="{}",l=(c=JSON).stringify,[4,this._awsRealTimeHeaderBasedAuth({authenticationType:r,payload:t,canonicalUri:"/connect",apiKey:i,appSyncGraphqlEndpoint:n,region:o,additionalHeaders:a})];case 2:return u=l.apply(c,[g.sent()]),f=I_.lW.from(u).toString("base64"),d=I_.lW.from(t).toString("base64"),h=null!=n?n:"",h=this.isCustomDomain(h)?h.concat("/realtime"):h.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta"),p=this.isSSLEnabled?"wss://":"ws://",h=h.replace("https://",p).replace("http://",p),v=h+"?header="+f+"&payload="+d,[4,this._initializeRetryableHandshake(v)];case 3:return g.sent(),this.promiseArray.forEach((function(e){var t=e.res;Qj.debug("Notifying connection successful"),t()})),this.socketStatus=zj.READY,this.promiseArray=[],[3,5];case 4:return y=g.sent(),Qj.debug("Connection exited with",y),this.promiseArray.forEach((function(e){return(0,e.rej)(y)})),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=zj.CLOSED,[3,5];case 5:return[2]}}))}))}))},t.prototype._initializeRetryableHandshake=function(e){return Ej(this,void 0,void 0,(function(){return _j(this,(function(t){switch(t.label){case 0:return Qj.debug("Initializaling retryable Handshake"),[4,fe(this._initializeHandshake.bind(this),[e],5e3)];case 1:return t.sent(),[2]}}))}))},t.prototype._initializeHandshake=function(e){return Ej(this,void 0,void 0,(function(){var t,n,r,i,o=this;return _j(this,(function(a){switch(a.label){case 0:Qj.debug("Initializing handshake "+e),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,new Promise((function(t,n){var r=o.getNewWebSocket(e,"graphql-ws");r.onerror=function(){Qj.debug("WebSocket connection error")},r.onclose=function(){n(new Error("Connection handshake error"))},r.onopen=function(){return o.awsRealTimeSocket=r,t()}}))];case 2:return a.sent(),[4,new Promise((function(e,t){if(o.awsRealTimeSocket){var n=!1;o.awsRealTimeSocket.onerror=function(e){Qj.debug("WebSocket error "+JSON.stringify(e))},o.awsRealTimeSocket.onclose=function(e){Qj.debug("WebSocket closed "+e.reason),t(new Error(JSON.stringify(e)))},o.awsRealTimeSocket.onmessage=function(r){Qj.debug("subscription message from AWS AppSyncRealTime: "+r.data+" ");var i=JSON.parse(r.data),a=i.type,s=i.payload,u=(void 0===s?{}:s).connectionTimeoutMs,c=void 0===u?Hj:u;if(a===Uj.GQL_CONNECTION_ACK)return n=!0,o.awsRealTimeSocket&&(o.keepAliveTimeout=c,o.awsRealTimeSocket.onmessage=o._handleIncomingSubscriptionMessage.bind(o),o.awsRealTimeSocket.onerror=function(e){Qj.debug(e),o._errorDisconnect(Lj.CONNECTION_CLOSED)},o.awsRealTimeSocket.onclose=function(e){Qj.debug("WebSocket closed "+e.reason),o._errorDisconnect(Lj.CONNECTION_CLOSED)}),void e("Cool, connected to AWS AppSyncRealTime");if(a===Uj.GQL_CONNECTION_ERROR){var l=i.payload,f=(void 0===l?{}:l).errors,d=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(void 0===f?[]:f,1)[0],h=void 0===d?{}:d,p=h.errorType,v=void 0===p?"":p,y=h.errorCode;t({errorType:v,errorCode:void 0===y?0:y})}};var r={type:Uj.GQL_CONNECTION_INIT};o.awsRealTimeSocket.send(JSON.stringify(r)),setTimeout((function(){n||(o.connectionStateMonitor.record(Yj.CONNECTION_FAILED),t(new Error("Connection timeout: ack from AWSAppSyncRealTime was not received after 15000 ms")))}),15e3)}}))];case 3:return a.sent(),[3,5];case 4:throw t=a.sent(),r=(n=t).errorType,i=n.errorCode,Bj.includes(i)?new ae(r):r?new Error(r):t;case 5:return[2]}}))}))},t.prototype._awsRealTimeHeaderBasedAuth=function(e){var t=e.authenticationType,n=e.payload,r=e.canonicalUri,i=e.appSyncGraphqlEndpoint,o=e.apiKey,a=e.region,s=e.additionalHeaders;return Ej(this,void 0,void 0,(function(){var e,u,c;return _j(this,(function(l){switch(l.label){case 0:return e={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeOPENIDHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeCUPHeader.bind(this),AWS_LAMBDA:this._customAuthHeader},t&&e[t]?[3,1]:(Qj.debug("Authentication type "+t+" not supported"),[2,""]);case 1:return u=e[t],c=N.Qc(null!=i?i:"").host,Qj.debug("Authenticating with "+t),[4,u({payload:n,canonicalUri:r,appSyncGraphqlEndpoint:i,apiKey:o,region:a,host:c,additionalHeaders:s})];case 2:return[2,l.sent()]}}))}))},t.prototype._awsRealTimeCUPHeader=function(e){var t=e.host;return Ej(this,void 0,void 0,(function(){return _j(this,(function(e){switch(e.label){case 0:return[4,Kx.currentSession()];case 1:return[2,{Authorization:e.sent().getAccessToken().getJwtToken(),host:t}]}}))}))},t.prototype._awsRealTimeOPENIDHeader=function(e){var t=e.host;return Ej(this,void 0,void 0,(function(){var e,n,r;return _j(this,(function(i){switch(i.label){case 0:return[4,sl.getItem("federatedInfo")];case 1:return(n=i.sent())?(e=n.token,[3,4]):[3,2];case 2:return[4,Kx.currentAuthenticatedUser()];case 3:(r=i.sent())&&(e=r.token),i.label=4;case 4:if(!e)throw new Error("No federated jwt");return[2,{Authorization:e,host:t}]}}))}))},t.prototype._awsRealTimeApiKeyHeader=function(e){var t=e.apiKey,n=e.host;return Ej(this,void 0,void 0,(function(){var e,r;return _j(this,(function(i){return e=new Date,r=e.toISOString().replace(/[:\-]|\.\d{3}/g,""),[2,{host:n,"x-amz-date":r,"x-api-key":t}]}))}))},t.prototype._awsRealTimeIAMHeader=function(e){var t=e.payload,n=e.canonicalUri,r=e.appSyncGraphqlEndpoint,i=e.region;return Ej(this,void 0,void 0,(function(){var e,o,a;return _j(this,(function(s){switch(s.label){case 0:return e={region:i,service:"appsync"},[4,this._ensureCredentials()];case 1:if(!s.sent())throw new Error("No credentials");return[4,fs.get().then((function(e){var t=e;return{secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken}}))];case 2:return o=s.sent(),a={url:""+r+n,data:t,method:"POST",headers:Sj({},Kj)},[2,$.sign(a,o,e).headers]}}))}))},t.prototype._customAuthHeader=function(e){var t=e.host,n=e.additionalHeaders;if(!n||!n.Authorization)throw new Error("No auth token specified");return{Authorization:n.Authorization,host:t}},t.prototype._ensureCredentials=function(){return fs.get().then((function(e){if(!e)return!1;var t=fs.shear(e);return Qj.debug("set credentials for AWSAppSyncRealTimeProvider",t),!0})).catch((function(e){return Qj.warn("ensure credentials error",e),!1}))},t}(jj),rU=Y().isNode,iU=new c("PubSub"),oU=function(){function e(e){this._options=null!=e?e:{},iU.debug("PubSub Options",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this)}return Object.defineProperty(e.prototype,"awsAppSyncRealTimeProvider",{get:function(){return this._awsAppSyncRealTimeProvider||(this._awsAppSyncRealTimeProvider=new nU(this._options)),this._awsAppSyncRealTimeProvider},enumerable:!0,configurable:!0}),e.prototype.getModuleName=function(){return"PubSub"},e.prototype.configure=function(e){var t=this,n=e?e.PubSub||e:{};return iU.debug("configure PubSub",{opt:n}),this._options=Object.assign({},this._options,n),this._pluggables.map((function(e){return e.configure(t._options)})),this._options},e.prototype.addPluggable=function(e){return Ej(this,void 0,void 0,(function(){return _j(this,(function(t){return e&&"PubSub"===e.getCategory()?(this._pluggables.push(e),[2,e.configure(this._options)]):[2]}))}))},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.getProviderByName=function(e){return e===bj?this.awsAppSyncRealTimeProvider:this._pluggables.find((function(t){return t.getProviderName()===e}))},e.prototype.getProviders=function(e){void 0===e&&(e={});var t=e.provider;if(!t)return this._pluggables;var n=this.getProviderByName(t);if(!n)throw new Error("Could not find provider named "+t);return[n]},e.prototype.publish=function(e,t,n){return Ej(this,void 0,void 0,(function(){return _j(this,(function(r){return[2,Promise.all(this.getProviders(n).map((function(r){return r.publish(e,t,n)})))]}))}))},e.prototype.subscribe=function(e,t){if(rU&&this._options&&this._options.ssr)throw new Error("Subscriptions are not supported for Server-Side Rendering (SSR)");iU.debug("subscribe options",t);var n=this.getProviders(t);return new Aj((function(r){var i=n.map((function(n){return{provider:n,observable:n.subscribe(e,t)}})).map((function(e){var t=e.provider;return e.observable.subscribe({start:console.error,next:function(e){return r.next({provider:t,value:e})},error:function(e){return r.error({provider:t,error:e})}})}));return function(){return i.forEach((function(e){return e.unsubscribe()}))}}))},e}(),aU=new oU;d.register(aU),function(e){e.NO_API_KEY="No api-key configured",e.NO_CURRENT_USER="No current user",e.NO_CREDENTIALS="No credentials",e.NO_FEDERATED_JWT="No federated jwt",e.NO_AUTH_TOKEN="No auth token specified"}(Jj||(Jj={}));var sU=new c("GraphQLAPI"),uU=function(e,t,n,r){return void 0===t&&(t={}),{query:e,variables:t,authToken:n,userAgentSuffix:r}},cU=function(){function e(e){this._api=null,this.Auth=Kx,this.Cache=sl,this.Credentials=fs,this._options=e,sU.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"GraphQLAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["API"]),o=rM(rM({},i),r);return sU.debug("configure GraphQL API",{opt:o}),o.aws_project_region&&(o=Object.assign({},o,{region:o.aws_project_region,header:{}})),void 0!==o.graphql_headers&&"function"!=typeof o.graphql_headers&&(sU.warn("graphql_headers should be a function"),o.graphql_headers=void 0),this._options=Object.assign({},this._options,o),this.createInstance(),this._options},e.prototype.createInstance=function(){return sU.debug("create Rest instance"),this._options?(this._api=new QD(this._options),this._api.Credentials=this.Credentials,!0):Promise.reject("API not configured")},e.prototype._headerBasedAuth=function(e,t){return void 0===t&&(t={}),iM(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return oM(this,(function(l){switch(l.label){case 0:switch(n=this._options,r=n.aws_appsync_authenticationType,i=n.aws_appsync_apiKey,o={},e||r||"AWS_IAM"){case"API_KEY":return[3,1];case"AWS_IAM":return[3,2];case"OPENID_CONNECT":return[3,4];case"AMAZON_COGNITO_USER_POOLS":return[3,11];case"AWS_LAMBDA":return[3,15]}return[3,16];case 1:if(!i)throw new Error(Jj.NO_API_KEY);return o={Authorization:null,"X-Api-Key":i},[3,17];case 2:return[4,this._ensureCredentials()];case 3:if(!l.sent())throw new Error(Jj.NO_CREDENTIALS);return[3,17];case 4:return l.trys.push([4,9,,10]),a=void 0,[4,sl.getItem("federatedInfo")];case 5:return(s=l.sent())?(a=s.token,[3,8]):[3,6];case 6:return[4,Kx.currentAuthenticatedUser()];case 7:(u=l.sent())&&(a=u.token),l.label=8;case 8:if(!a)throw new Error(Jj.NO_FEDERATED_JWT);return o={Authorization:a},[3,10];case 9:throw l.sent(),new Error(Jj.NO_CURRENT_USER);case 10:return[3,17];case 11:return l.trys.push([11,13,,14]),[4,this.Auth.currentSession()];case 12:return c=l.sent(),o={Authorization:c.getAccessToken().getJwtToken()},[3,14];case 13:throw l.sent(),new Error(Jj.NO_CURRENT_USER);case 14:return[3,17];case 15:if(!t.Authorization)throw new Error(Jj.NO_AUTH_TOKEN);return o={Authorization:t.Authorization},[3,17];case 16:return o={Authorization:null},[3,17];case 17:return[2,o]}}))}))},e.prototype.getGraphqlOperationType=function(e){return aM(nj(e).definitions,1)[0].operation},e.prototype.graphql=function(e,t){var n=e.query,r=e.variables,i=void 0===r?{}:r,o=e.authMode,a=e.authToken,s=e.userAgentSuffix,u=nj("string"==typeof n?n:cj(n)),c=aM(u.definitions.filter((function(e){return"OperationDefinition"===e.kind})),1)[0],l=(void 0===c?{}:c).operation,f=t||{};switch(a&&(f.Authorization=a),l){case"query":case"mutation":this.createInstanceIfNotCreated();var d=this._api.getCancellableToken(),h={cancellableToken:d},p=this._graphql({query:u,variables:i,authMode:o,userAgentSuffix:s},f,h);return this._api.updateRequestToBeCancellable(p,d),p;case"subscription":return this._graphqlSubscribe({query:u,variables:i,authMode:o},f);default:throw new Error("invalid operation type: "+l)}},e.prototype._graphql=function(e,t,n){var r=e.query,i=e.variables,o=e.authMode,a=e.userAgentSuffix;return void 0===t&&(t={}),void 0===n&&(n={}),iM(this,void 0,void 0,(function(){var e,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A,T;return oM(this,(function(C){switch(C.label){case 0:return this.createInstanceIfNotCreated(),e=this._options,s=e.aws_appsync_region,u=e.aws_appsync_graphqlEndpoint,c=e.graphql_headers,l=void 0===c?function(){return{}}:c,f=e.graphql_endpoint,d=e.graphql_endpoint_iam_region,p=[{}],(v=!f)?[4,this._headerBasedAuth(o,t)]:[3,2];case 1:v=C.sent(),C.label=2;case 2:return y=[rM.apply(void 0,p.concat([v]))],(g=f)?d?[4,this._headerBasedAuth(o,t)]:[3,4]:[3,6];case 3:return m=C.sent(),[3,5];case 4:m={Authorization:null},C.label=5;case 5:g=m,C.label=6;case 6:return b=[rM.apply(void 0,y.concat([g]))],[4,l({query:r,variables:i})];case 7:if(h=rM.apply(void 0,[rM.apply(void 0,[rM.apply(void 0,b.concat([C.sent()])),t]),!f&&(T={},T["x-amz-user-agent"]=te(a),T)]),w={query:cj(r),variables:i},S=Object.assign({headers:h,body:w,signerServiceInfo:{service:f?"execute-api":"appsync",region:f?d:s}},n),!(E=f||u))throw{data:{},errors:[new AM("No graphql endpoint provided.")]};C.label=8;case 8:return C.trys.push([8,10,,11]),[4,this._api.post(E,S)];case 9:return _=C.sent(),[3,11];case 10:if(x=C.sent(),this._api.isCancel(x))throw x;return _={data:{},errors:[new AM(x.message,null,null,null,null,x)]},[3,11];case 11:if((A=_.errors)&&A.length)throw _;return[2,_]}}))}))},e.prototype.createInstanceIfNotCreated=function(){return iM(this,void 0,void 0,(function(){return oM(this,(function(e){switch(e.label){case 0:return this._api?[3,2]:[4,this.createInstance()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.hasCancelToken=function(e){return this._api.hasCancelToken(e)},e.prototype._graphqlSubscribe=function(e,t){var n=e.query,r=e.variables,i=e.authMode,o=e.authToken;void 0===t&&(t={});var a=this._options,s=a.aws_appsync_region,u=a.aws_appsync_graphqlEndpoint,c=a.aws_appsync_authenticationType,l=a.aws_appsync_apiKey,f=a.graphql_headers,d=void 0===f?function(){return{}}:f,h=i||c||"AWS_IAM";if(aU&&"function"==typeof aU.subscribe)return aU.subscribe("",{provider:bj,appSyncGraphqlEndpoint:u,authenticationType:h,apiKey:l,query:cj(n),region:s,variables:r,graphql_headers:d,additionalHeaders:t,authToken:o});throw sU.debug("No pubsub module applied for subscription"),new Error("No pubsub module applied for subscription")},e.prototype._ensureCredentials=function(){var e=this;return this.Credentials.get().then((function(t){if(!t)return!1;var n=e.Credentials.shear(t);return sU.debug("set credentials for api",n),!0})).catch((function(e){return sU.warn("ensure credentials error",e),!1}))},e}(),lU=new cU(null);d.register(lU);var fU=new c("API"),dU=function(){function e(e){this.Auth=Kx,this.Cache=sl,this.Credentials=fs,this._options=e,this._restApi=new tM(e),this._graphqlApi=new cU(e),fU.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"API"},e.prototype.configure=function(e){this._options=Object.assign({},this._options,e),this._restApi.Credentials=this.Credentials,this._graphqlApi.Auth=this.Auth,this._graphqlApi.Cache=this.Cache,this._graphqlApi.Credentials=this.Credentials;var t=this._restApi.configure(this._options),n=this._graphqlApi.configure(this._options);return $D($D({},t),n)},e.prototype.get=function(e,t,n){return this._restApi.get(e,t,n)},e.prototype.post=function(e,t,n){return this._restApi.post(e,t,n)},e.prototype.put=function(e,t,n){return this._restApi.put(e,t,n)},e.prototype.patch=function(e,t,n){return this._restApi.patch(e,t,n)},e.prototype.del=function(e,t,n){return this._restApi.del(e,t,n)},e.prototype.head=function(e,t,n){return this._restApi.head(e,t,n)},e.prototype.isCancel=function(e){return this._restApi.isCancel(e)},e.prototype.cancel=function(e,t){return this._restApi.hasCancelToken(e)?this._restApi.cancel(e,t):!!this._graphqlApi.hasCancelToken(e)&&this._graphqlApi.cancel(e,t)},e.prototype.endpoint=function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(t){return[2,this._restApi.endpoint(e)]}))}))},e.prototype.getGraphqlOperationType=function(e){return this._graphqlApi.getGraphqlOperationType(e)},e.prototype.graphql=function(e,t){return this._graphqlApi.graphql(e,t)},e}(),hU=new dU(null);function pU(e){var t=new Error(e);return t.source="ulid",t}d.register(hU);var vU="0123456789ABCDEFGHJKMNPQRSTVWXYZ",yU=vU.length,gU=Math.pow(2,48)-1;function mU(e,t,n){return t>e.length-1?e:e.substr(0,t)+n+e.substr(t+1)}function bU(e){var t=Math.floor(e()*yU);return t===yU&&(t=yU-1),vU.charAt(t)}function wU(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(e>gU)throw pU("cannot encode time greater than "+gU);if(e<0)throw pU("time must be positive");if(!1===Number.isInteger(e))throw pU("time must be an integer");for(var n=void 0,r="";t>0;t--)r=vU.charAt(n=e%yU)+r,e=(e-n)/yU;return r}function SU(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];t||(t="undefined"!=typeof window?window:null);var r=t&&(t.crypto||t.msCrypto);if(r)return function(){var e=new Uint8Array(1);return r.getRandomValues(e),e[0]/255};try{var i=n(4788);return function(){return i.randomBytes(1).readUInt8()/255}}catch(e){}if(e){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch(e){}return function(){return Math.random()}}throw pU("secure crypto unusable, insecure Math.random not allowed")}function EU(e){e||(e=SU());var t=0,n=void 0;return function(r){if(isNaN(r)&&(r=Date.now()),r<=t){var i=n=function(e){for(var t=void 0,n=e.length,r=void 0,i=void 0,o=yU-1;!t&&n-- >=0;){if(r=e[n],-1===(i=vU.indexOf(r)))throw pU("incorrectly encoded string");i!==o?t=mU(e,n,vU[i+1]):e=mU(e,n,vU[0])}if("string"==typeof t)return t;throw pU("cannot increment this string")}(n);return wU(t,10)+i}t=r;var o=n=function(e,t){for(var n="";e>0;e--)n=bU(t)+n;return n}(16,e);return wU(r,10)+o}}_U||(_U=SU());var _U,xU,AU=n(8029),TU=function(){function e(){}return e.createPredicateBuilder=function(t){var n=t.name,r=new Set(Object.keys(t.fields)),i=new Proxy({},{get:function(t,i,o){var a=i;if(!r.has(a))throw new Error("Invalid field for model. field: "+a+", model: "+n);return function(t){var n;return null===(n=e.sortPredicateGroupsMap.get(o))||void 0===n||n.push({field:a,sortDirection:t}),o}}});return e.sortPredicateGroupsMap.set(i,[]),i},e.isValidPredicate=function(t){return e.sortPredicateGroupsMap.has(t)},e.getPredicates=function(t,n){if(void 0===n&&(n=!0),n&&!e.isValidPredicate(t))throw new Error("The predicate is not valid");var r=e.sortPredicateGroupsMap.get(t);if(r)return r;throw new Error("Predicate group not found")},e.createFromExisting=function(t,n){if(n&&t)return n(e.createPredicateBuilder(t))},e.sortPredicateGroupsMap=new WeakMap,e}(),CU="id",IU="#",PU="-";!function(e){e.DATASTORE="datastore",e.USER="user",e.SYNC="sync",e.STORAGE="storage"}(xU||(xU={}));var OU=xU.DATASTORE,kU=xU.USER,RU=xU.SYNC,LU=xU.STORAGE,NU="/DataStore",DU=function(e){return void 0===e||null==e},MU=function(e,t,n){var r,i=!1;if(0===n.length)return!0;switch(t){case"not":r="every",i=!0;break;case"and":r="every";break;case"or":r="some";break;default:throw new Error("Invalid "+t)}var o=n[r]((function(t){if(DF(t)){var n=t.field,r=t.operator,i=t.operand,o=e[n];return jU(o,r,i)}if(MF(t)){var a=t.type,s=t.predicates;return MU(e,a,s)}throw new Error("Not a predicate or group")}));return i?!o:o},jU=function(e,t,n){switch(t){case"ne":return e!==n;case"eq":return e===n;case"le":return e<=n;case"lt":return e<n;case"ge":return e>=n;case"gt":return e>n;case"between":var r=Lt(n,2),i=r[0],o=r[1];return e>=i&&e<=o;case"beginsWith":return!DU(e)&&e.startsWith(n);case"contains":return!DU(e)&&e.indexOf(n)>-1;case"notContains":return DU(e)||-1===e.indexOf(n);default:return!1}},UU=function(e){return e&&"function"==typeof e.copyOf};new WeakSet;var FU,zU,BU=new WeakMap,qU=function(e,t,n,r,i){var o=[],a=i(n.name,e).copyOf(t,(function(){}));o.unshift({modelName:e,item:a,instance:a}),BU.has(n)||BU.set(n,Array.from(n.modelTopologicalOrdering.keys()));var s=BU.get(n);return o.sort((function(e,t){return s.indexOf(e.modelName)-s.indexOf(t.modelName)})),o},KU=function(){return(1,I_.lW.from((new O_).random(1).toString(),"hex")).readUInt8(0)/255};function HU(e){var t=EU(KU);return function(){return t(e)}}function GU(){return"undefined"!=typeof performance&&performance&&"function"==typeof performance.now?0|performance.now():Date.now()}function VU(e){return function(t,n){var r,i;try{for(var o=Rt(e),a=o.next();!a.done;a=o.next()){var s=a.value,u=s.field,c=s.sortDirection===nF.ASCENDING?1:-1;if(t[u]<n[u])return-1*c;if(t[u]>n[u])return 1*c}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return 0}}function $U(e,t,n){var r,i;void 0===n&&(n=!1);var o=e,a=t;if(o instanceof Object&&!(a instanceof Object)||!(o instanceof Object)&&a instanceof Object)return!1;if(!(o instanceof Object))return!(!n||!function(e,t){return null==e&&null==t}(o,a))||o===a;if(Array.isArray(o)&&!Array.isArray(a)||Array.isArray(a)&&!Array.isArray(o))return!1;o instanceof Set&&a instanceof Set&&(o=Nt(o),a=Nt(a)),o instanceof Map&&a instanceof Map&&(o=Object.fromEntries(o),a=Object.fromEntries(a));var s=Object.keys(o),u=Object.keys(a);if(s.length!==u.length&&(!n||Array.isArray(o)))return!1;var c=s.length>=u.length?s:u;try{for(var l=Rt(c),f=l.next();!f.done;f=l.next()){var d=f.value;if(!$U(o[d],a[d],n))return!1}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return!0}function WU(e,t){if(t&&e.length>1){if(t.sort){var n=TU.getPredicates(t.sort);if(n.length){var r=VU(n);e.sort(r)}}var i=t.page,o=void 0===i?0:i,a=t.limit,s=void 0===a?0:a,u=Math.max(0,o*s)||0,c=s>0?u+s:e.length;return e.slice(u,c)}return e}function YU(e,t){return Ot(this,void 0,void 0,(function(){var n,r,i,o,a,s;return kt(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,7]),n=Rt(e),r=n.next(),u.label=1;case 1:return r.done?[3,4]:(i=r.value,[4,t(i)]);case 2:if(u.sent())return[2,!0];u.label=3;case 3:return r=n.next(),[3,1];case 4:return[3,7];case 5:return o=u.sent(),a={error:o},[3,7];case 6:try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}return[7];case 7:return[2,!1]}}))}))}function ZU(e,t){return Ot(this,void 0,void 0,(function(){var n,r,i,o,a,s;return kt(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,7]),n=Rt(e),r=n.next(),u.label=1;case 1:return r.done?[3,4]:(i=r.value,[4,t(i)]);case 2:if(!u.sent())return[2,!1];u.label=3;case 3:return r=n.next(),[3,1];case 4:return[3,7];case 5:return o=u.sent(),a={error:o},[3,7];case 6:try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}return[7];case 7:return[2,!0]}}))}))}var JU,XU,QU,eF,tF,nF,rF,iF,oF,aF,sF=function(e){return!!/^\d{4}-\d{2}-\d{2}(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},uF=function(e){return!!/^\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},cF=function(e){return!!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},lF=function(e){return!!/^\d+$/.exec(String(e))},fF=function(e){return!!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.exec(e)},dF=function(e){try{return JSON.parse(e),!0}catch(e){return!1}},hF=function(e){try{return!!new URL(e)}catch(e){return!1}},pF=function(e){return!!/^\+?\d[\d\s-]+$/.exec(e)},vF=function(e){return!!/((^((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))$)|(^((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?$))$/.exec(e)},yF=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},gF=function(){function e(e){this.limitPromise=new yF,this.raceInFlight=!1,this.callback=function(){},this.defaultErrorHandler=function(e){throw void 0===e&&(e="DeferredCallbackResolver error"),new Error(e)},this.callback=e.callback,this.errorHandler=e.errorHandler||this.defaultErrorHandler,this.maxInterval=e.maxInterval||2e3}return e.prototype.startTimer=function(){var e=this;this.timerPromise=new Promise((function(t,n){e.timer=setTimeout((function(){t(UF.TIMER)}),e.maxInterval)}))},e.prototype.racePromises=function(){return Ot(this,void 0,void 0,(function(){var e,t;return kt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),this.raceInFlight=!0,this.startTimer(),[4,Promise.race([this.timerPromise,this.limitPromise.promise])];case 1:return e=n.sent(),this.callback(),[3,4];case 2:return t=n.sent(),this.errorHandler(t),[3,4];case 3:return this.clear(),this.raceInFlight=!1,this.limitPromise=new yF,[2,e];case 4:return[2]}}))}))},e.prototype.start=function(){this.raceInFlight||this.racePromises()},e.prototype.clear=function(){clearTimeout(this.timer)},e.prototype.resolve=function(){this.limitPromise.resolve(UF.LIMIT)},e}(),mF=function(e,t){return e+"_"+t},bF=function(e){var t=function(e){var t;return null===(t=null==e?void 0:e.attributes)||void 0===t?void 0:t.find(OF)}(e);return t&&kF(t)?t.properties.fields:[CU]},wF=function(e,t){return t.map((function(t){return e[t]}))},SF=function(e,t){var n;return e.some((function(e){if(e.modelName===t){var r=_F(e);return n=r&&xF(r),!0}})),n},EF=function(e,t){var n;n=Array.isArray(t)?xF(t):t;var r=e.find((function(e){return Lt(e,1)[0]===n}));return r&&r[0]},_F=function(e){var t=null==e?void 0:e.targetName,n=null==e?void 0:e.targetNames;return Array.isArray(n)?n:"string"==typeof t?[t]:void 0},xF=function(e){return e.reduce((function(e,t,n){return 0===n?t:""+e+PU+t}),"")},AF=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},TF=function(e,t){var n,r;return(null===(r=null===(n=null==e?void 0:e.keys)||void 0===n?void 0:n[t])||void 0===r?void 0:r.primaryKey)||[CU]};function CF(e){return e&&void 0!==e.pluralName}function IF(e){return(null==e?void 0:e.targetName)||(null==e?void 0:e.targetNames)}function PF(e,t){var n,r;return null===(r=null===(n=null==e?void 0:e.fields[t])||void 0===n?void 0:n.association)||void 0===r?void 0:r.connectionType}function OF(e){return"key"===e.type&&e.properties&&e.properties.fields&&e.properties.fields.length>0}function kF(e){return OF(e)&&void 0===e.properties.name}function RF(e){return OF(e)&&void 0!==e.properties.name&&e.properties.fields.length>2}function LF(e){return!(!e||!e.nonModel)}function NF(e,t){var n=bF(t);return"object"==typeof e&&e&&n.every((function(t){return void 0!==e[t]}))}function DF(e){return e&&void 0!==e.field}function MF(e){return e&&void 0!==e.type}function jF(e,t){return Ot(this,void 0,void 0,(function(){return kt(this,(function(n){return[2,{modelConstructor:e,conditionProducer:t}]}))}))}!function(e){e.CUSTOM="custom",e.OWNER="owner",e.GROUPS="groups",e.PRIVATE="private",e.PUBLIC="public"}(JU||(JU={})),function(e){e.FUNCTION="function",e.USER_POOLS="userPools",e.OIDC="oidc",e.IAM="iam",e.API_KEY="apiKey"}(XU||(XU={})),(aF=QU||(QU={}))[aF.ID=0]="ID",aF[aF.String=1]="String",aF[aF.Int=2]="Int",aF[aF.Float=3]="Float",aF[aF.Boolean=4]="Boolean",aF[aF.AWSDate=5]="AWSDate",aF[aF.AWSTime=6]="AWSTime",aF[aF.AWSDateTime=7]="AWSDateTime",aF[aF.AWSTimestamp=8]="AWSTimestamp",aF[aF.AWSEmail=9]="AWSEmail",aF[aF.AWSJSON=10]="AWSJSON",aF[aF.AWSURL=11]="AWSURL",aF[aF.AWSPhone=12]="AWSPhone",aF[aF.AWSIPAddress=13]="AWSIPAddress",function(e){e.getJSType=function(e){switch(e){case"Boolean":return"boolean";case"ID":case"String":case"AWSDate":case"AWSTime":case"AWSDateTime":case"AWSEmail":case"AWSURL":case"AWSPhone":case"AWSIPAddress":return"string";case"Int":case"Float":case"AWSTimestamp":return"number";case"AWSJSON":return"object";default:throw new Error("Invalid scalar type")}},e.getValidationFunction=function(e){switch(e){case"AWSDate":return sF;case"AWSTime":return uF;case"AWSDateTime":return cF;case"AWSTimestamp":return lF;case"AWSEmail":return fF;case"AWSJSON":return dF;case"AWSURL":return hF;case"AWSPhone":return pF;case"AWSIPAddress":return vF;default:return}}}(QU||(QU={})),function(e){e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(eF||(eF={})),function(e){e[e.FIRST=0]="FIRST",e[e.LAST=1]="LAST"}(tF||(tF={})),function(e){e.ASCENDING="ASCENDING",e.DESCENDING="DESCENDING"}(nF||(nF={})),function(e){e.DEFAULT="DEFAULT",e.MULTI_AUTH="MULTI_AUTH"}(rF||(rF={})),function(e){e.CREATE="CREATE",e.READ="READ",e.UPDATE="UPDATE",e.DELETE="DELETE"}(iF||(iF={})),function(e){e.sync="sync",e.mutate="mutate",e.subscribe="subscribe"}(oF||(oF={}));var UF,FF=Symbol("DISCARD");!function(e){e.LIMIT="LIMIT",e.TIMER="TIMER"}(UF||(UF={}));var zF,BF=function(){this.__isPredicateInternalsKeySentinel=!0},qF=function(){function e(){this._state=zF.Open,this.jobs=new Set}return e.prototype.add=function(t,n){var r,i;"string"==typeof t?(r=void 0,i=t):(r=t,i=n);var o=this.closedFailure(i);if(o)return o;if(void 0===r)return this.addHook(i);if("function"==typeof r)return this.addFunction(r,i);if(r instanceof e)return this.addManager(r,i);throw new Error("If `job` is provided, it must be an Observable, Function, or BackgroundProcessManager.")},e.prototype.addCleaner=function(e,t){var n=this,r=this.addHook(t),o=r.resolve,a=function(){return(0,i.__awaiter)(n,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,e()];case 1:return t.sent(),o(),[2]}}))}))};return r.onTerminate.then(a),a},e.prototype.addFunction=function(e,t){var n,r=e(new Promise((function(e){n=e})));return"function"==typeof(null==r?void 0:r.then)&&this.registerPromise(r,n,t),r},e.prototype.addManager=function(e,t){var n=this;this.addCleaner((function(){return(0,i.__awaiter)(n,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.close()];case 1:return[2,t.sent()]}}))}))}),t)},e.prototype.addHook=function(e){var t,n,r,i=new Promise((function(e,r){t=e,n=r})),o=new Promise((function(e){r=e}));return this.registerPromise(i,r,e),{resolve:t,reject:n,onTerminate:o}},e.prototype.registerPromise=function(e,t,n){var r=this,i={promise:e,terminate:t,description:n};this.jobs.add(i),e.then((function(){r.jobs.delete(i)})).catch((function(){r.jobs.delete(i)}))},Object.defineProperty(e.prototype,"length",{get:function(){return this.jobs.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return Array.from(this.jobs).map((function(e){return e.description}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._state===zF.Open},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isClosing",{get:function(){return this._state===zF.Closing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isClosed",{get:function(){return this._state===zF.Closed},enumerable:!0,configurable:!0}),e.prototype.closedFailure=function(e){if(!this.isOpen)return Promise.reject(new KF(["The manager is "+this.state+".",'You tried to add "'+e+'".',"Pending jobs: [\n"+this.pending.map((function(e){return"    "+e})).join(",\n")+"\n]"].join("\n")))},e.prototype.close=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,o;return(0,i.__generator)(this,(function(a){switch(a.label){case 0:if(!this.isOpen)return[3,2];this._state=zF.Closing;try{for(e=(0,i.__values)(Array.from(this.jobs)),t=e.next();!t.done;t=e.next()){n=t.value;try{n.terminate()}catch(e){console.warn("Failed to send termination signal to job. Error: "+e.message,n)}}}catch(e){r={error:e}}finally{try{t&&!t.done&&(o=e.return)&&o.call(e)}finally{if(r)throw r.error}}return this._closingPromise=Promise.allSettled(Array.from(this.jobs).map((function(e){return e.promise}))),[4,this._closingPromise];case 1:a.sent(),this._state=zF.Closed,a.label=2;case 2:return[2,this._closingPromise]}}))}))},e.prototype.open=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return this.isClosing?[4,this.close()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this._state=zF.Open,[2]}}))}))},e}(),KF=function(e){function t(t){return e.call(this,"BackgroundManagerNotOpenError: "+t)||this}return(0,i.__extends)(t,e),t}(Error);function HF(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function GF(e){return!!e&&!!e[kz]}function VF(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Rz}(e)||Array.isArray(e)||!!e[Oz]||!!e.constructor[Oz]||XF(e)||QF(e))}function $F(e,t,n){void 0===n&&(n=!1),0===WF(e)?(n?Object.keys:Lz)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function WF(e){var t=e[kz];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:XF(e)?2:QF(e)?3:0}function YF(e,t){return 2===WF(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ZF(e,t){return 2===WF(e)?e.get(t):e[t]}function JF(e,t,n){var r=WF(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function XF(e){return Tz&&e instanceof Map}function QF(e){return Cz&&e instanceof Set}function ez(e){return e.o||e.t}function tz(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Nz(e);delete t[kz];for(var n=Lz(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function nz(e,t){return void 0===t&&(t=!1),iz(e)||GF(e)||!VF(e)||(WF(e)>1&&(e.set=e.add=e.clear=e.delete=rz),Object.freeze(e),t&&$F(e,(function(e,t){return nz(t,!0)}),!0)),e}function rz(){HF(2)}function iz(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function oz(e){var t=Dz[e];return t||HF(18,e),t}function az(){return xz}function sz(e,t){t&&(oz("Patches"),e.u=[],e.s=[],e.v=t)}function uz(e){cz(e),e.p.forEach(fz),e.p=null}function cz(e){e===xz&&(xz=e.l)}function lz(e){return xz={p:[],l:xz,h:e,m:!0,_:0}}function fz(e){var t=e[kz];0===t.i||1===t.i?t.j():t.O=!0}function dz(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||oz("ES5").S(t,e,r),r?(n[kz].P&&(uz(t),HF(4)),VF(e)&&(e=hz(t,e),t.l||vz(t,e)),t.u&&oz("Patches").M(n[kz],e,t.u,t.s)):e=hz(t,n,[]),uz(t),t.u&&t.v(t.u,t.s),e!==Pz?e:void 0}function hz(e,t,n){if(iz(t))return t;var r=t[kz];if(!r)return $F(t,(function(i,o){return pz(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return vz(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=tz(r.k):r.o;$F(3===r.i?new Set(i):i,(function(t,o){return pz(e,r,i,t,o,n)})),vz(e,i,!1),n&&e.u&&oz("Patches").R(r,n,e.u,e.s)}return r.o}function pz(e,t,n,r,i,o){if(GF(i)){var a=hz(e,i,o&&t&&3!==t.i&&!YF(t.D,r)?o.concat(r):void 0);if(JF(n,r,a),!GF(a))return;e.m=!1}if(VF(i)&&!iz(i)){if(!e.h.F&&e._<1)return;hz(e,i),t&&t.A.l||vz(e,i)}}function vz(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&nz(t,n)}function yz(e,t){var n=e[kz];return(n?ez(n):e)[t]}function gz(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function mz(e){e.P||(e.P=!0,e.l&&mz(e.l))}function bz(e){e.o||(e.o=tz(e.t))}function wz(e,t,n){var r=XF(t)?oz("MapSet").N(t,n):QF(t)?oz("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:az(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=Mz;n&&(i=[r],o=jz);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(t,n):oz("ES5").J(t,n);return(n?n.A:az()).p.push(r),r}function Sz(e){return GF(e)||HF(22,e),function e(t){if(!VF(t))return t;var n,r=t[kz],i=WF(t);if(r){if(!r.P&&(r.i<4||!oz("ES5").K(r)))return r.t;r.I=!0,n=Ez(t,i),r.I=!1}else n=Ez(t,i);return $F(n,(function(t,i){r&&ZF(r.t,t)===i||JF(n,t,e(i))})),3===i?new Set(n):n}(e)}function Ez(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return tz(e)}!function(e){e.Open="Open",e.Closing="Closing",e.Closed="Closed"}(zF||(zF={}));var _z,xz,Az="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Tz="undefined"!=typeof Map,Cz="undefined"!=typeof Set,Iz="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Pz=Az?Symbol.for("immer-nothing"):((_z={})["immer-nothing"]=!0,_z),Oz=Az?Symbol.for("immer-draftable"):"__$immer_draftable",kz=Az?Symbol.for("immer-state"):"__$immer_state",Rz=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Lz="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Nz=Object.getOwnPropertyDescriptors||function(e){var t={};return Lz(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Dz={},Mz={get:function(e,t){if(t===kz)return e;var n=ez(e);if(!YF(n,t))return function(e,t,n){var r,i=gz(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!VF(r)?r:r===yz(e.t,t)?(bz(e),e.o[t]=wz(e.A.h,r,e)):r},has:function(e,t){return t in ez(e)},ownKeys:function(e){return Reflect.ownKeys(ez(e))},set:function(e,t,n){var r=gz(ez(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=yz(ez(e),t),o=null==i?void 0:i[kz];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,i)&&(void 0!==n||YF(e.t,t)))return!0;bz(e),mz(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==yz(e.t,t)||t in e.t?(e.D[t]=!1,bz(e),mz(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=ez(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){HF(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){HF(12)}},jz={};$F(Mz,(function(e,t){jz[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),jz.deleteProperty=function(e,t){return Mz.deleteProperty.call(this,e[0],t)},jz.set=function(e,t,n){return Mz.set.call(this,e[0],t,n,e[0])};var Uz=function(){function e(e){var t=this;this.g=Iz,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&HF(6),void 0!==r&&"function"!=typeof r&&HF(7),VF(e)){var s=lz(t),u=wz(t,e,void 0),c=!0;try{a=n(u),c=!1}finally{c?uz(s):cz(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return sz(s,r),dz(e,s)}),(function(e){throw uz(s),e})):(sz(s,r),dz(a,s))}if(!e||"object"!=typeof e){if((a=n(e))===Pz)return;return void 0===a&&(a=e),t.F&&nz(a,!0),a}HF(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){r=e,i=t})),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){VF(e)||HF(8),GF(e)&&(e=Sz(e));var t=lz(this),n=wz(this,e,void 0);return n[kz].C=!0,cz(t),n},t.finishDraft=function(e,t){var n=(e&&e[kz]).A;return sz(n,t),dz(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Iz&&HF(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=oz("Patches").$;return GF(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}(),Fz=new Uz,zz=(Fz.produce,Fz.produceWithPatches.bind(Fz),Fz.setAutoFreeze.bind(Fz));function Bz(e){return"private"!==e.allow||e.provider?"public"!==e.allow||e.provider?e.provider:XU.API_KEY:XU.USER_POOLS}function qz(e){var t=e.rules,n=e.currentUser,r=new Set;return t.forEach((function(e){switch(e.allow){case JU.CUSTOM:e.provider&&e.provider!==XU.FUNCTION||r.add(d_.AWS_LAMBDA);break;case JU.GROUPS:case JU.OWNER:n&&(e.provider===XU.USER_POOLS?r.add(d_.AMAZON_COGNITO_USER_POOLS):e.provider===XU.OIDC&&r.add(d_.OPENID_CONNECT));break;case JU.PRIVATE:n&&(e.provider&&e.provider!==XU.USER_POOLS?e.provider===XU.IAM&&r.add(d_.AWS_IAM):r.add(d_.AMAZON_COGNITO_USER_POOLS));break;case JU.PUBLIC:e.provider===XU.IAM?r.add(d_.AWS_IAM):e.provider&&e.provider!==XU.API_KEY||r.add(d_.API_KEY)}})),Array.from(r)}Fz.setUseProxies.bind(Fz),Fz.applyPatches.bind(Fz),Fz.createDraft.bind(Fz),Fz.finishDraft.bind(Fz);var Kz=function(){return[]},Hz=new WeakSet;function Gz(e){return Hz.has(e)}var Vz=new Set(["and","or","not"]),$z=new Set(["eq","ne","gt","lt","ge","le","contains","notContains","beginsWith","between"]),Wz=function(e){return Array.isArray(e)?e.every((function(e){return Wz(e)})):1===Object.keys(e).length},Yz=(Symbol("A predicate that matches all records"),function(){function e(){}return Object.defineProperty(e,"ALL",{get:function(){var e=function(e){return e};return Hz.add(e),e},enumerable:!0,configurable:!0}),e}()),Zz=function(){function e(){}return e.createPredicateBuilder=function(t){var n,r=t.name,i=new Set(Object.keys(t.fields)),o=new Proxy({},n={get:function(t,o,a){var s=o;switch(s){case"and":case"or":case"not":return function(t){var r={type:s,predicates:[]},i=new Proxy({},n);return e.predicateGroupsMap.set(i,r),t(i),e.predicateGroupsMap.get(a).predicates.push(r),a}}var u=o;if(!i.has(u))throw new Error("Invalid field for model. field: "+u+", model: "+r);return function(t,n){return e.predicateGroupsMap.get(a).predicates.push({field:u,operator:t,operand:n}),a}}});return e.predicateGroupsMap.set(o,{type:"and",predicates:[]}),o},e.isValidPredicate=function(t){return e.predicateGroupsMap.has(t)},e.getPredicates=function(t,n){if(void 0===n&&(n=!0),n&&!e.isValidPredicate(t))throw new Error("The predicate is not valid");return e.predicateGroupsMap.get(t)},e.createFromExisting=function(t,n){if(n&&t)return n(e.createPredicateBuilder(t))},e.createForSingleField=function(t,n,r){return e.createPredicateBuilder(t)[n]("eq",r)},e.createForPk=function(t,n){var r=bF(t),i=wF(n,r),o=e.createPredicateBuilder(t);return r.forEach((function(e,t){var n=i[t];o=o[e]("eq",n)})),o},e.createFromFlatEqualities=function(t,n){var r,i,o=e.createPredicateBuilder(t);try{for(var a=Rt(Object.entries(n)),s=a.next();!s.done;s=a.next()){var u=Lt(s.value,2),c=u[0],l=u[1];o=o[c]("eq",l)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o},e.createGroupFromExisting=function(t,n,r){var i=e.createPredicateBuilder(t);return i=i[n]((function(t){var n,i,o,a=t;try{for(var s=Rt(r),u=s.next();!u.done;u=s.next()){var c=u.value;"function"==typeof c?a=c(a):null===(o=e.predicateGroupsMap.get(a))||void 0===o||o.predicates.push(e.predicateGroupsMap.get(c))}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a})),i},e.transformGraphQLtoPredicateAST=function(e){var t=this;if(!Wz(e))throw new Error("Invalid QGL AST: "+e);if(function(e){var t=Nt(Object.keys(e));return 1===t.length&&Vz.has(t[0])}(e)){var n=Object.keys(e)[0],r=this.transformGraphQLtoPredicateAST(e[n]);return{type:n,predicates:Array.isArray(r)?r:[r]}}if(function(e){var t=Nt(Object.keys(e));return!Array.isArray(e)&&1===t.length&&$z.has(t[0])}(e)){var i=Object.keys(e)[0];return{operator:i,operand:e[i]}}if(Array.isArray(e))return e.map((function(e){return t.transformGraphQLtoPredicateAST(e)}));var o=Object.keys(e)[0];return It({field:o},this.transformGraphQLtoPredicateAST(e[o]))},e.createFromAST=function(t,n){var r=e.createPredicateBuilder(t);return e.predicateGroupsMap.set(r,this.transformGraphQLtoPredicateAST(n)),r},e.predicateGroupsMap=new WeakMap,e}(),Jz=function(){function e(){this._queue=[],this._pending=!1}return e.prototype.isLocked=function(){return this._pending},e.prototype.acquire=function(){var e=this,t=new Promise((function(t){return e._queue.push(t)}));return this._pending||this._dispatchNext(),t},e.prototype.runExclusive=function(e){return this.acquire().then((function(t){var n;try{n=e()}catch(e){throw t(),e}return Promise.resolve(n).then((function(e){return t(),e}),(function(e){throw t(),e}))}))},e.prototype._dispatchNext=function(){this._queue.length>0?(this._pending=!0,this._queue.shift()(this._dispatchNext.bind(this))):this._pending=!1},e}();const Xz=Jz;var Qz,eB,tB=n(9393),nB=n.n(tB),rB=new c("DataStore");!function(e){e.LIST="query",e.CREATE="mutation",e.UPDATE="mutation",e.DELETE="mutation",e.GET="query"}(Qz||(Qz={})),function(e){e.CREATE="Create",e.UPDATE="Update",e.DELETE="Delete",e.GET="Get"}(eB||(eB={}));var iB=Object.keys({_version:void 0,_lastChangedAt:void 0,_deleted:void 0});function oB(e,t){var n=aB(t),r=function(e,t){var n=[];return Object.values(t.fields).forEach((function(t){var r=t.name,i=t.type;if(LF(i)){var o=e.nonModels[i.nonModel],a=Object.values(aB(o)).map((function(e){return e.name})),s=[];Object.values(o.fields).forEach((function(t){var n=t.type,r=t.name;if(LF(n)){var i=e.nonModels[n.nonModel];s.push(r+" { "+oB(e,i)+" }")}})),n.push(r+" { "+a.join(" ")+" "+s.join(" ")+" }")}})),n}(e,t),i=function(e,t){var n=function(e){var t=[];return function(e){return CF(e)&&void 0!==e.attributes}(e)&&e.attributes.forEach((function(e){if(e.properties&&e.properties.rules){var n=e.properties.rules.find((function(e){return"owner"===e.allow}));n&&n.ownerField&&t.push(n.ownerField)}})),t}(e);return!t.owner&&n.includes("owner")?["owner"]:[]}(t,n),o=Object.values(n).map((function(e){return e.name})).concat(i).concat(r);return CF(t)&&(o=o.concat(iB).concat(function(e,t){var n=[];return Object.values(e.fields).filter((function(e){var t=e.association;return t&&Object.keys(t).length})).forEach((function(r){var i=r.name,o=r.association,a=(o||{}).connectionType;switch(a){case"HAS_ONE":case"HAS_MANY":break;case"BELONGS_TO":if(IF(o))if(o.targetNames&&o.targetNames.length>0){var s=Lt(function(e){var t={},n={};return Object.keys(e.models).forEach((function(r){var i,o;t[r]={indexes:[],relationTypes:[]},n[r]={};var a,s,u=e.models[r];if(Object.keys(u.fields).forEach((function(e){var n=u.fields[e];if("object"==typeof n.type&&"model"in n.type){var i=n.association.connectionType;if(t[r].relationTypes.push({fieldName:n.name,modelName:n.type.model,relationType:i,targetName:n.association.targetName,targetNames:n.association.targetNames,associatedWith:n.association.associatedWith}),"BELONGS_TO"===i){var o=_F(n.association);if(o){var a=xF(o);t[r].indexes.push([a,o])}}}})),u.attributes){n[r].compositeKeys=(a=function(e){return e.reduce((function(e,t){var n=new Set(t);if(0===e.length)return e.push(n),e;var r=e.findIndex((function(e){return Nt(e).some((function(e){return n.has(e)}))}));if(r>-1){var i=new Set(Nt(e[r],n));e[r]=i}else e.push(n);return e}),[])},s=a(u.attributes.filter(RF).map((function(e){return Lt(e.properties.fields).slice(1)}))),a(s));var c=function(e){if(!OF(e))return"continue";var i=e.properties.fields;if(kF(e))return n[r].primaryKey=i,"continue";var o=xF(i),a=t[r].indexes.find((function(e){return Lt(e,1)[0]===o}));a||t[r].indexes.push([o,i])};try{for(var l=Rt(u.attributes),f=l.next();!f.done;f=l.next())c(f.value)}catch(e){i={error:e}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}n[r].primaryKey||(n[r].primaryKey=[CU]),t[r].indexes.push(["byPk",n[r].primaryKey,{unique:!0}])})),[t,n]}(t),1)[0][e.fields[i].type.model].indexes.find((function(e){return"byPk"===Lt(e,1)[0]})),u=s&&s[1],c=null==u?void 0:u.join(" ");n.push(i+" { "+c+" _deleted }")}else n.push(i+" { id _deleted }");break;default:throw new Error("Invalid connection type "+a)}})),n}(t,e))),o.join("\n")}function aB(e){var t=e.fields;return Object.values(t).filter((function(e){return!!((t=e.type)&&void 0!==QU[t]||function(e){return!(!e||!e.enum)}(e.type));var t})).reduce((function(e,t){return e[t.name]=t,e}),{})}function sB(e,t,n){var r,i,o,a,s=oB(e,t),u=t.name,c=t.pluralName;switch(n){case"LIST":r="sync"+c,i="($limit: Int, $nextToken: String, $lastSync: AWSTimestamp, $filter: Model"+u+"FilterInput)",o="(limit: $limit, nextToken: $nextToken, lastSync: $lastSync, filter: $filter)",s="items {\n\t\t\t\t\t\t\t"+s+"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnextToken\n\t\t\t\t\t\tstartedAt";break;case"CREATE":r="create"+u,i="($input: Create"+u+"Input!)",o="(input: $input)",a=eB.CREATE;break;case"UPDATE":r="update"+u,i="($input: Update"+u+"Input!, $condition: Model"+u+"ConditionInput)",o="(input: $input, condition: $condition)",a=eB.UPDATE;break;case"DELETE":r="delete"+u,i="($input: Delete"+u+"Input!, $condition: Model"+u+"ConditionInput)",o="(input: $input, condition: $condition)",a=eB.DELETE;break;case"GET":r="get"+u,i="($id: ID!)",o="(id: $id)",a=eB.GET;break;default:throw new Error("Invalid graphQlOpType "+n)}return[[a,r,Qz[n]+" operation"+i+"{\n\t\t"+r+o+"{\n\t\t\t"+s+"\n\t\t}\n\t}"]]}function uB(e,t,n,r,i,o,a,s,u){var c;switch(n){case eF.INSERT:c=eB.CREATE;break;case eF.UPDATE:c=eB.UPDATE;break;case eF.DELETE:c=eB.DELETE;break;default:throw new Error("Invalid opType "+n)}var l=vB(t,i),f=eF.INSERT&&u?{id:u}:{},d=s(a,It(It({},f),{data:JSON.stringify(i,(function(e,n){return e&&null!==n&&"object"==typeof n&&t.fields[e]&&"AWSJSON"===t.fields[e].type?JSON.stringify(n):n})),modelId:l,model:r.name,operation:c,condition:JSON.stringify(o)}));return d}function cB(e,t){void 0===t&&(t=[]);var n={};if(!e||!Array.isArray(e.predicates))return n;var r=e.type,i=e.predicates,o="and"===r||"or"===r;n[r]=o?[]:{};var a=function(e){return o?n[r].push(e):n[r]=e};if(i.forEach((function(e){var n,r;if(DF(e)){var i=e.field,o=e.operator,s=e.operand;if(t.includes(i))return;var u=((n={})[i]=((r={})[o]=s,r),n);a(u)}else{var c=cB(e,t);Object.keys(c).length>0&&a(c)}})),o){if(0===n[r].length)return{}}else if(0===Object.keys(n[r]).length)return{};return n}function lB(e,t){var n=e[t.groupClaim]||[];if("string"==typeof n){var r=void 0;try{r=JSON.parse(n)}catch(e){r=n}n=[].concat(r)}return n}function fB(e){var t=e.authModeStrategy,n=e.defaultAuthMode,r=e.modelName,i=e.schema;return Ot(this,void 0,void 0,(function(){var e,o,a,s=this;return kt(this,(function(u){switch(u.label){case 0:e=Object.values(iF),o={CREATE:[],READ:[],UPDATE:[],DELETE:[]},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(e.map((function(e){return Ot(s,void 0,void 0,(function(){var a;return kt(this,(function(s){switch(s.label){case 0:return[4,t({schema:i,modelName:r,operation:e})];case 1:return"string"==typeof(a=s.sent())?o[e]=[a]:Array.isArray(a)&&a.length?o[e]=a:o[e]=[n],[2]}}))}))})))];case 2:return u.sent(),[3,4];case 3:return a=u.sent(),rB.debug("Error getting auth modes for model: "+r,a),[3,4];case 4:return[2,o]}}))}))}function dB(e){var t,n=["Request failed with status code 401","Request failed with status code 403"];return e&&e.errors?t=e.errors.find((function(e){return n.includes(e.message)})):e&&e.message&&(t=e),t?t.message:null}function hB(e){var t=Object.values(Jj);return e&&e.message&&t.find((function(t){return e.message.includes(t)}))||null}function pB(e,t){return void 0===t&&(t={}),Ot(this,void 0,void 0,(function(){var n,r,i;return kt(this,(function(o){switch(o.label){case 0:if(e!==d_.AWS_LAMBDA)return[3,6];if(n=t.authProviders,!(r=(void 0===n?{functionAuthProvider:null}:n).functionAuthProvider)||"function"!=typeof r)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,r()];case 2:return[2,o.sent().token];case 3:throw i=o.sent(),new Error("Error retrieving token from `functionAuthProvider`: "+i);case 4:return[3,6];case 5:throw new Error("You must provide a `functionAuthProvider` function to `DataStore.configure` when using "+d_.AWS_LAMBDA);case 6:return[2]}}))}))}function vB(e,t){var n=bF(e).map((function(e){return t[e]})).join(PU);return n}let yB,gB;const mB=new WeakMap,bB=new WeakMap,wB=new WeakMap,SB=new WeakMap,EB=new WeakMap;let _B={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return bB.get(e);if("objectStoreNames"===t)return e.objectStoreNames||wB.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return AB(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function xB(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(gB||(gB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(TB(this),e),AB(mB.get(this))}:function(...e){return AB(t.apply(TB(this),e))}:function(e,...n){const r=t.call(TB(this),e,...n);return wB.set(r,e.sort?e.sort():[e]),AB(r)}:(e instanceof IDBTransaction&&function(e){if(bB.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));bB.set(e,t)}(e),n=e,(yB||(yB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>n instanceof e))?new Proxy(e,_B):e);var t,n}function AB(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(AB(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&mB.set(t,e)})).catch((()=>{})),EB.set(t,e),t}(e);if(SB.has(e))return SB.get(e);const t=xB(e);return t!==e&&(SB.set(e,t),EB.set(t,e)),t}const TB=e=>EB.get(e);function CB(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=AB(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(AB(a.result),e.oldVersion,e.newVersion,AB(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),s}function IB(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(()=>t())),AB(n).then((()=>{}))}const PB=["get","getKey","getAll","getAllKeys","count"],OB=["put","add","delete","clear"],kB=new Map;function RB(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(kB.get(t))return kB.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=OB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!PB.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let a=o.store;r&&(a=a.index(t.shift()));const s=await a[n](...t);return i&&await o.done,s};return kB.set(t,o),o}var LB;LB=_B,_B={...LB,get:(e,t,n)=>RB(e,t)||LB.get(e,t,n),has:(e,t)=>!!RB(e,t)||LB.has(e,t)};var NB=new c("DataStore"),DB="amplify-datastore",MB=function(){function e(){var e=this;this.dbName=DB,this.safariCompatabilityMode=!1,this.canonicalKeyPath=function(t){return e.safariCompatabilityMode?t.length>1?t:t[0]:t}}return e.prototype.getStorenameForModel=function(e){var t=this.namespaceResolver(e),n=e.name;return mF(t,n)},e.prototype.getIndexKeyValuesFromModel=function(e){var t=Object.getPrototypeOf(e).constructor,n=this.namespaceResolver(t),r=TF(this.schema.namespaces[n],t.name);return wF(e,r)},e.prototype.checkPrivate=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return[4,new Promise((function(e){var t,n=(0,AU.v4)(),r=function(){FU=!1,e(!0)},i=function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(r){switch(r.label){case 0:return t&&t.result&&"function"==typeof t.result.close?[4,t.result.close()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[4,indexedDB.deleteDatabase(n)];case 3:return r.sent(),FU=!0,[2,e(!1)]}}))}))};return!0===FU?i():!1===FU||null===indexedDB?r():((t=indexedDB.open(n)).onerror=r,void(t.onsuccess=i))})).then((function(e){return e}))];case 1:return e.sent()?(NB.error("IndexedDB not supported in this browser's private mode"),[2,Promise.reject("IndexedDB not supported in this browser's private mode")]):[2,Promise.resolve()]}}))}))},e.prototype.setSafariCompatabilityMode=function(){return Ot(this,void 0,void 0,(function(){var e;return kt(this,(function(t){switch(t.label){case 0:return e=this,[4,Ot(void 0,void 0,void 0,(function(){var e,t,n,r,i,o;return kt(this,(function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),e=(0,AU.v4)(),t="indexedDBFeatureProbeStore",n="idx",null===indexedDB?[2,!1]:void 0!==zU?[2,zU]:[4,new Promise((function(r){var i=indexedDB.open(e);i.onerror=function(){return r(!1)},i.onsuccess=function(){var e=i.result;r(e)},i.onupgradeneeded=function(e){var i,o=null===(i=null==e?void 0:e.target)||void 0===i?void 0:i.result;o.onerror=function(){return r(!1)},o.createObjectStore(t,{autoIncrement:!0}).createIndex(n,["id"])}}))];case 1:if(!(r=a.sent()))throw new Error("Could not open probe DB");return(i=r.transaction(t,"readwrite")).objectStore(t).add({id:1}),i.commit(),[4,new Promise((function(e){var i=r.transaction(t,"readonly").objectStore(t).index(n).get([1]);i.onerror=function(){return e(!1)},i.onsuccess=function(t){var n;e(null===(n=null==t?void 0:t.target)||void 0===n?void 0:n.result)}}))];case 2:return o=a.sent(),r&&"function"==typeof r.close?[4,r.close()]:[3,4];case 3:a.sent(),a.label=4;case 4:return[4,indexedDB.deleteDatabase(e)];case 5:return a.sent(),zU=void 0===o,[3,7];case 6:return a.sent(),zU=!1,[3,7];case 7:return[2,zU]}}))}))];case 1:return e.safariCompatabilityMode=t.sent(),!0===this.safariCompatabilityMode&&NB.debug("IndexedDB Adapter is running in Safari Compatability Mode"),[2]}}))}))},e.prototype.getNamespaceAndModelFromStorename=function(e){var t=Lt(e.split("_"));return{namespaceName:t[0],modelName:t.slice(1).join("_")}},e.prototype.setUp=function(e,t,n,r,i){return Ot(this,void 0,void 0,(function(){var o,a,s=this;return kt(this,(function(u){switch(u.label){case 0:return[4,this.checkPrivate()];case 1:return u.sent(),[4,this.setSafariCompatabilityMode()];case 2:return u.sent(),this.initPromise?[3,3]:(this.initPromise=new Promise((function(e,t){s.resolve=e,s.reject=t})),[3,5]);case 3:return[4,this.initPromise];case 4:u.sent(),u.label=5;case 5:i&&(this.dbName=DB+"-"+i),this.schema=e,this.namespaceResolver=t,this.modelInstanceCreator=n,this.getModelConstructorByModelName=r,u.label=6;case 6:return u.trys.push([6,9,,10]),this.db?[3,8]:(o=this,[4,CB(this.dbName,3,{upgrade:function(t,n,r,i){return Ot(s,void 0,void 0,(function(){var o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w=this;return kt(this,(function(S){switch(S.label){case 0:if(0===n)return Object.keys(e.namespaces).forEach((function(n){var r=e.namespaces[n];Object.keys(r.models).forEach((function(e){var r=mF(n,e);w.createObjectStoreForModel(t,n,r,e)}))})),[2];if(1!==n&&2!==n||3!==r)return[3,16];S.label=1;case 1:S.trys.push([1,14,,15]),S.label=2;case 2:S.trys.push([2,11,12,13]),o=Rt(i.objectStoreNames),a=o.next(),S.label=3;case 3:return a.done?[3,10]:(s=a.value,u=i.objectStore(s),c="tmp_"+s,u.name=c,l=this.getNamespaceAndModelFromStorename(s),f=l.namespaceName,(d=l.modelName)in this.schema.namespaces[f].models?(h=this.createObjectStoreForModel(t,f,s,d),[4,u.openCursor()]):(t.deleteObjectStore(c),[3,9]));case 4:p=S.sent(),v=0,S.label=5;case 5:return p&&p.value?[4,h.put(p.value)]:[3,8];case 6:return S.sent(),[4,p.continue()];case 7:return p=S.sent(),v++,[3,5];case 8:t.deleteObjectStore(c),NB.debug(v+" "+s+" records migrated"),S.label=9;case 9:return a=o.next(),[3,3];case 10:return[3,13];case 11:return y=S.sent(),m={error:y},[3,13];case 12:try{a&&!a.done&&(b=o.return)&&b.call(o)}finally{if(m)throw m.error}return[7];case 13:return Object.keys(e.namespaces).forEach((function(n){var r=e.namespaces[n],o=new Set(i.objectStoreNames);Object.keys(r.models).map((function(e){return[e,mF(n,e)]})).filter((function(e){var t=Lt(e,2)[1];return!o.has(t)})).forEach((function(e){var r=Lt(e,2),i=r[0],o=r[1];w.createObjectStoreForModel(t,n,o,i)}))})),[3,15];case 14:throw g=S.sent(),NB.error("Error migrating IndexedDB data",g),i.abort(),g;case 15:case 16:return[2]}}))}))}})]);case 7:o.db=u.sent(),this.resolve(),u.label=8;case 8:return[3,10];case 9:return a=u.sent(),this.reject(a),[3,10];case 10:return[2]}}))}))},e.prototype._get=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r;return kt(this,(function(i){switch(i.label){case 0:return"string"==typeof e?(r=e,n=this.db.transaction(r,"readonly").store.index("byPk")):n=e.index("byPk"),[4,n.get(this.canonicalKeyPath(t))];case 1:return[2,i.sent()]}}))}))},e.prototype.save=function(e,t){var n,r;return Ot(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A,T,C,I,P,O,k,R,L,N=this;return kt(this,(function(D){switch(D.label){case 0:return[4,this.checkPrivate()];case 1:return D.sent(),i=Object.getPrototypeOf(e).constructor,o=this.getStorenameForModel(i),a=this.namespaceResolver(i),s=qU(i.name,e,this.schema.namespaces[a],this.modelInstanceCreator,this.getModelConstructorByModelName),u=new Set,c=Object.values(s).map((function(e){var t=e.modelName,n=e.item,r=e.instance,i=mF(a,t);return u.add(i),{storeName:i,item:n,instance:r,keys:TF(N.schema.namespaces[a],t)}})),l=this.db.transaction(Nt([o],Array.from(u.values())),"readwrite"),f=l.objectStore(o),d=this.getIndexKeyValuesFromModel(e),[4,this._get(f,d)];case 2:if(h=D.sent(),t&&h&&(p=Zz.getPredicates(t),y=(v=p||{}).predicates,g=v.type,!MU(h,g,y)))throw m="Conditional update failed",NB.error(m,{model:h,condition:y}),new Error(m);b=[],D.label=3;case 3:D.trys.push([3,11,12,17]),w=Mt(c),D.label=4;case 4:return[4,w.next()];case 5:return(S=D.sent()).done?[3,10]:(E=S.value,_=E.storeName,x=E.item,A=E.instance,T=E.keys,C=l.objectStore(_),I=T.map((function(e){return x[e]})),[4,this._get(C,I)]);case 6:return P=D.sent(),O=void 0===P?eF.INSERT:eF.UPDATE,k=this.getIndexKeyValuesFromModel(e),AF(I,k)||O===eF.INSERT?[4,C.index("byPk").getKey(this.canonicalKeyPath(I))]:[3,9];case 7:return R=D.sent(),[4,C.put(x,R)];case 8:D.sent(),b.push([A,O]),D.label=9;case 9:return[3,4];case 10:return[3,17];case 11:return L=D.sent(),n={error:L},[3,17];case 12:return D.trys.push([12,,15,16]),S&&!S.done&&(r=w.return)?[4,r.call(w)]:[3,14];case 13:D.sent(),D.label=14;case 14:return[3,16];case 15:if(n)throw n.error;return[7];case 16:return[7];case 17:return[4,l.done];case 18:return D.sent(),[2,b]}}))}))},e.prototype.load=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,i,o,a,s=this;return kt(this,(function(u){return r=this.schema.namespaces[e],i=r.relationships[t].relationTypes,o=i.map((function(t){var n=t.modelName;return mF(e,n)})),a=this.getModelConstructorByModelName(e,t),o.length,[2,n.map((function(e){return s.modelInstanceCreator(a,e)}))]}))}))},e.prototype.query=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f=this;return kt(this,(function(d){switch(d.label){case 0:return[4,this.checkPrivate()];case 1:return d.sent(),r=this.getStorenameForModel(e),i=this.namespaceResolver(e),o=t&&Zz.getPredicates(t),a=TF(this.schema.namespaces[i],e.name),s=o&&this.keyValueFromPredicate(o,a),u=n&&n.sort,c=n&&n.limit,[4,Ot(f,void 0,void 0,(function(){var e,t,i;return kt(this,(function(a){switch(a.label){case 0:return s?[4,this.getByKey(r,s)]:[3,2];case 1:return[2,(e=a.sent())?[e]:[]];case 2:return o?[4,this.filterOnPredicate(r,o)]:[3,4];case 3:return t=a.sent(),[2,this.inMemoryPagination(t,n)];case 4:return u?[4,this.getAll(r)]:[3,6];case 5:return i=a.sent(),[2,this.inMemoryPagination(i,n)];case 6:return c?[2,this.enginePagination(r,n)]:[2,this.getAll(r)]}}))}))];case 2:return l=d.sent(),[4,this.load(i,e.name,l)];case 3:return[2,d.sent()]}}))}))},e.prototype.getByKey=function(e,t){return Ot(this,void 0,void 0,(function(){return kt(this,(function(n){switch(n.label){case 0:return[4,this._get(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.getAll=function(e){return Ot(this,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return[4,this.db.getAll(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.keyValueFromPredicate=function(e,t){var n,r,i=e.predicates;if(i.length===t.length){var o=[],a=function(e){var t=i.find((function(t){return DF(t)&&t.field===e&&"eq"===t.operator}));t&&o.push(t.operand)};try{for(var s=Rt(t),u=s.next();!u.done;u=s.next())a(u.value)}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o.length===t.length?o:void 0}},e.prototype.matchingIndex=function(e,t,n){var r,i,o=n.objectStore(e);try{for(var a=Rt(o.indexNames),s=a.next();!s.done;s=a.next()){var u=s.value,c=o.index(u);if(c.keyPath===t)return c}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},e.prototype.filterOnPredicate=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_=this;return kt(this,(function(x){switch(x.label){case 0:for(n=t.predicates,r=t.type;1===n.length&&MF(n[0]);)r=n[0].type,n=n[0].predicates;return o=n.filter((function(e){return DF(e)})),a=this.db.transaction(e),s=o.map((function(t){return{predicate:t,index:_.matchingIndex(e,String(t.field),a)}})),[4,a.done];case 1:return x.sent(),"and"!==r?[3,6]:(u=s.filter((function(e){return e.index&&"eq"===e.predicate.operator})),u.length>0?[4,(d=u[0]).index.getAll(d.predicate.operand)]:[3,3]);case 2:return i=x.sent(),[3,5];case 3:return[4,this.getAll(e)];case 4:i=x.sent(),x.label=5;case 5:return[3,20];case 6:if("or"!==r)return[3,18];if(!(s.length>0&&s.every((function(e){return e.index&&"eq"===e.predicate.operator}))))return[3,15];c=new Map,x.label=7;case 7:x.trys.push([7,12,13,14]),l=Rt(s),f=l.next(),x.label=8;case 8:return f.done?[3,11]:[4,(d=f.value).index.getAll(d.predicate.operand)];case 9:h=x.sent();try{for(S=void 0,p=Rt(h),v=p.next();!v.done;v=p.next())y=v.value,c.set(y.id,y)}catch(e){S={error:e}}finally{try{v&&!v.done&&(E=p.return)&&E.call(p)}finally{if(S)throw S.error}}x.label=10;case 10:return f=l.next(),[3,8];case 11:return[3,14];case 12:return g=x.sent(),b={error:g},[3,14];case 13:try{f&&!f.done&&(w=l.return)&&w.call(l)}finally{if(b)throw b.error}return[7];case 14:return i=Array.from(c.values()),[3,17];case 15:return[4,this.getAll(e)];case 16:i=x.sent(),x.label=17;case 17:return[3,20];case 18:return[4,this.getAll(e)];case 19:i=x.sent(),x.label=20;case 20:return m=n?i.filter((function(e){return MU(e,r,n)})):i,[2,m]}}))}))},e.prototype.inMemoryPagination=function(e,t){return WU(e,t)},e.prototype.enginePagination=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return t?(r=t.page,i=void 0===r?0:r,o=t.limit,a=void 0===o?0:o,s=Math.max(0,i*a)||0,[4,this.db.transaction(e).objectStore(e).openCursor()]):[3,7];case 1:return(u=f.sent())&&s>0?[4,u.advance(s)]:[3,3];case 2:f.sent(),f.label=3;case 3:c=[],l="number"==typeof a&&a>0,f.label=4;case 4:return u&&u.value?(c.push(u.value),l&&c.length===a?[3,6]:[4,u.continue()]):[3,6];case 5:return u=f.sent(),[3,4];case 6:return n=c,[3,9];case 7:return[4,this.db.getAll(e)];case 8:n=f.sent(),f.label=9;case 9:return[2,n]}}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=tF.FIRST),Ot(this,void 0,void 0,(function(){var n,r,i;return kt(this,(function(o){switch(o.label){case 0:return[4,this.checkPrivate()];case 1:return o.sent(),n=this.getStorenameForModel(e),[4,this.db.transaction([n],"readonly").objectStore(n).openCursor(void 0,t===tF.FIRST?"next":"prev")];case 2:return r=o.sent(),[2,(i=r?r.value:void 0)&&this.modelInstanceCreator(e,i)]}}))}))},e.prototype.delete=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b;return kt(this,(function(w){switch(w.label){case 0:return[4,this.checkPrivate()];case 1:return w.sent(),n=[],UU(e)?(a=e,r=this.namespaceResolver(a),u=this.getStorenameForModel(a),[4,this.query(a,t)]):[3,9];case 2:return i=w.sent(),m=this.schema.namespaces[r].relationships[a.name].relationTypes,void 0===t?[3,5]:[4,this.deleteTraverse(m,i,a.name,r,n)];case 3:return w.sent(),[4,this.deleteItem(n)];case 4:return w.sent(),b=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[i,b]];case 5:return[4,this.deleteTraverse(m,i,a.name,r,n)];case 6:return w.sent(),[4,this.db.transaction([u],"readwrite").objectStore(u).clear()];case 7:return w.sent(),b=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[i,b]];case 8:return[3,17];case 9:return o=e,a=Object.getPrototypeOf(o).constructor,s=this.namespaceResolver(a),u=this.getStorenameForModel(a),t?(c=this.db.transaction([u],"readwrite"),l=c.objectStore(u),f=this.getIndexKeyValuesFromModel(o),[4,this._get(l,f)]):[3,13];case 10:if(void 0===(d=w.sent()))return g="Model instance not found in storage",NB.warn(g,{model:o}),[2,[[o],[]]];if(h=Zz.getPredicates(t),v=(p=h).predicates,y=p.type,!MU(d,y,v))throw g="Conditional update failed",NB.error(g,{model:d,condition:v}),new Error(g);return[4,c.done];case 11:return w.sent(),m=this.schema.namespaces[s].relationships[a.name].relationTypes,[4,this.deleteTraverse(m,[o],a.name,s,n)];case 12:return w.sent(),[3,15];case 13:return m=this.schema.namespaces[s].relationships[a.name].relationTypes,[4,this.deleteTraverse(m,[o],a.name,s,n)];case 14:w.sent(),w.label=15;case 15:return[4,this.deleteItem(n)];case 16:return w.sent(),b=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[[o],b]];case 17:return[2]}}))}))},e.prototype.deleteItem=function(e){var t,n,r,i;return Ot(this,void 0,void 0,(function(){var o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w;return kt(this,(function(S){switch(S.label){case 0:o=e.map((function(e){return e.storeName})),a=this.db.transaction(Nt(o),"readwrite"),S.label=1;case 1:S.trys.push([1,22,23,28]),s=Mt(e),S.label=2;case 2:return[4,s.next()];case 3:if((u=S.sent()).done)return[3,21];c=u.value,l=c.storeName,f=c.items,d=a.objectStore(l),S.label=4;case 4:S.trys.push([4,14,15,20]),h=Mt(f),S.label=5;case 5:return[4,h.next()];case 6:return(p=S.sent()).done?[3,13]:(v=p.value)?(y=void 0,"object"!=typeof v?[3,8]:(g=this.getIndexKeyValuesFromModel(v),[4,d.index("byPk").getKey(this.canonicalKeyPath(g))])):[3,12];case 7:return y=S.sent(),[3,10];case 8:return m=v.toString(),[4,d.index("byPk").getKey(m)];case 9:y=S.sent(),S.label=10;case 10:return void 0===y?[3,12]:[4,d.delete(y)];case 11:S.sent(),S.label=12;case 12:return[3,5];case 13:return[3,20];case 14:return b=S.sent(),r={error:b},[3,20];case 15:return S.trys.push([15,,18,19]),p&&!p.done&&(i=h.return)?[4,i.call(h)]:[3,17];case 16:S.sent(),S.label=17;case 17:return[3,19];case 18:if(r)throw r.error;return[7];case 19:return[7];case 20:return[3,2];case 21:return[3,28];case 22:return w=S.sent(),t={error:w},[3,28];case 23:return S.trys.push([23,,26,27]),u&&!u.done&&(n=s.return)?[4,n.call(s)]:[3,25];case 24:S.sent(),S.label=25;case 25:return[3,27];case 26:if(t)throw t.error;return[7];case 27:return[7];case 28:return[2]}}))}))},e.prototype.deleteTraverse=function(e,t,n,r,i){var o,a,s,u,c,l,f,d,h,p,v,y;return Ot(this,void 0,void 0,(function(){var g,m,b,w,S,E,_,x,A,T,C,I,P,O,k,R,L,N,D=this;return kt(this,(function(M){switch(M.label){case 0:M.trys.push([0,38,39,44]),o=Mt(e),M.label=1;case 1:return[4,o.next()];case 2:if((a=M.sent()).done)return[3,37];switch(g=a.value,m=g.relationType,b=g.modelName,w=g.targetName,S=g.targetNames,E=g.associatedWith,_=mF(r,b),m){case"HAS_ONE":return[3,3];case"HAS_MANY":return[3,20];case"BELONGS_TO":return[3,34]}return[3,35];case 3:M.trys.push([3,13,14,19]),s=Mt(t),M.label=4;case 4:return[4,s.next()];case 5:return(u=M.sent()).done?[3,12]:(P=u.value,x="byPk",(null==S?void 0:S.length)?(A=S.filter((function(e){var t;return null!==(t=P[e])&&void 0!==t&&t})).map((function(e){return P[e]})),0===A.length?[3,12]:[4,this.db.transaction(_,"readwrite").objectStore(_).index(x).get(this.canonicalKeyPath(A))]):[3,8]);case 6:return C=M.sent(),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,C?[C]:[],b,r,i)];case 7:return M.sent(),[3,12];case 8:if(O=void 0,A=void 0,w&&w in P){if(O=x,null===(T=P[w]))return[3,12];A=[T]}else O=SF(this.schema.namespaces[r].relationships[b].relationTypes,n),A=this.getIndexKeyValuesFromModel(P);return A&&O?[4,this.db.transaction(_,"readwrite").objectStore(_).index(O).get(this.canonicalKeyPath(A))]:[3,12];case 9:return C=M.sent(),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,C?[C]:[],b,r,i)];case 10:M.sent(),M.label=11;case 11:return[3,4];case 12:return[3,19];case 13:return I=M.sent(),h={error:I},[3,19];case 14:return M.trys.push([14,,17,18]),u&&!u.done&&(p=s.return)?[4,p.call(s)]:[3,16];case 15:M.sent(),M.label=16;case 16:return[3,18];case 17:if(h)throw h.error;return[7];case 18:return[7];case 19:return[3,36];case 20:M.trys.push([20,27,28,33]),c=Mt(t),M.label=21;case 21:return[4,c.next()];case 22:return(l=M.sent()).done?[3,26]:(P=l.value,O=SF(this.schema.namespaces[r].relationships[b].relationTypes,n)||EF(this.schema.namespaces[r].relationships[b].indexes,E),k=this.getIndexKeyValuesFromModel(P),[4,this.db.transaction(_,"readwrite").objectStore(_).index(O).getAll(this.canonicalKeyPath(k))]);case 23:return R=M.sent(),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,R,b,r,i)];case 24:M.sent(),M.label=25;case 25:return[3,21];case 26:return[3,33];case 27:return L=M.sent(),v={error:L},[3,33];case 28:return M.trys.push([28,,31,32]),l&&!l.done&&(y=c.return)?[4,y.call(c)]:[3,30];case 29:M.sent(),M.label=30;case 30:return[3,32];case 31:if(v)throw v.error;return[7];case 32:return[7];case 33:case 34:return[3,36];case 35:throw new Error("Invalid relation type "+m);case 36:return[3,1];case 37:return[3,44];case 38:return N=M.sent(),f={error:N},[3,44];case 39:return M.trys.push([39,,42,43]),a&&!a.done&&(d=o.return)?[4,d.call(o)]:[3,41];case 40:M.sent(),M.label=41;case 41:return[3,43];case 42:if(f)throw f.error;return[7];case 43:return[7];case 44:return i.push({storeName:mF(r,n),items:t.map((function(e){return D.modelInstanceCreator(D.getModelConstructorByModelName(r,n),e)}))}),[2]}}))}))},e.prototype.clear=function(){var e;return Ot(this,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return[4,this.checkPrivate()];case 1:return t.sent(),null===(e=this.db)||void 0===e||e.close(),[4,IB(this.dbName)];case 2:return t.sent(),this.db=void 0,this.initPromise=void 0,[2]}}))}))},e.prototype.batchSave=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p=this;return kt(this,(function(v){switch(v.label){case 0:return 0===t.length?[2,[]]:[4,this.checkPrivate()];case 1:v.sent(),n=[],r=this.getStorenameForModel(e),i=this.db.transaction(r,"readwrite"),o=i.store,a=function(t){var r,i,a,u,c,l,f,d;return kt(this,(function(h){switch(h.label){case 0:return r=s.namespaceResolver(e),i=e.name,a=s.modelInstanceCreator(e,t),u=qU(i,a,s.schema.namespaces[r],s.modelInstanceCreator,s.getModelConstructorByModelName),c=s.getIndexKeyValuesFromModel(a),l=t._deleted,[4,o.index("byPk").getKey(s.canonicalKeyPath(c))];case 1:return f=h.sent(),l?[3,3]:(d=u.find((function(e){var t=e.instance,n=p.getIndexKeyValuesFromModel(t);return AF(n,c)})).instance,n.push([d,f?eF.UPDATE:eF.INSERT]),[4,o.put(d,f)]);case 2:return h.sent(),[3,5];case 3:return n.push([t,eF.DELETE]),f?[4,o.delete(f)]:[3,5];case 4:h.sent(),h.label=5;case 5:return[2]}}))},s=this,v.label=2;case 2:v.trys.push([2,7,8,9]),u=Rt(t),c=u.next(),v.label=3;case 3:return c.done?[3,6]:(l=c.value,[5,a(l)]);case 4:v.sent(),v.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=v.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}return[7];case 9:return[4,i.done];case 10:return v.sent(),[2,n]}}))}))},e.prototype.createObjectStoreForModel=function(e,t,n,r){var i=e.createObjectStore(n,{autoIncrement:!0});return this.schema.namespaces[t].relationships[r].indexes.forEach((function(e){var t=Lt(e,3),n=t[0],r=t[1],o=t[2];i.createIndex(n,r,o)})),i},e}();const jB=new MB;var UB=function(){var e=this;this.db=new Map,this.getAllKeys=function(){return Ot(e,void 0,void 0,(function(){return kt(this,(function(e){return[2,Array.from(this.db.keys())]}))}))},this.multiGet=function(t){return Ot(e,void 0,void 0,(function(){var e=this;return kt(this,(function(n){return[2,t.reduce((function(t,n){return t.push([n,e.db.get(n)]),t}),[])]}))}))},this.multiRemove=function(t,n){return Ot(e,void 0,void 0,(function(){var e=this;return kt(this,(function(r){return t.forEach((function(t){return e.db.delete(t)})),"function"==typeof n&&n(),[2]}))}))},this.multiSet=function(t,n){return Ot(e,void 0,void 0,(function(){var e=this;return kt(this,(function(r){return t.forEach((function(t){var n=Lt(t,2),r=n[0],i=n[1];e.setItem(r,i)})),"function"==typeof n&&n(),[2]}))}))},this.setItem=function(t,n){return Ot(e,void 0,void 0,(function(){return kt(this,(function(e){return[2,this.db.set(t,n)]}))}))},this.removeItem=function(t){return Ot(e,void 0,void 0,(function(){return kt(this,(function(e){return[2,this.db.delete(t)]}))}))},this.getItem=function(t){return Ot(e,void 0,void 0,(function(){return kt(this,(function(e){return[2,this.db.get(t)]}))}))}},FB="@AmplifyDatastore",zB="Data",BB=new Map,qB=function(){function e(){this._collectionInMemoryIndex=new Map,this.storage=new UB}return e.prototype.getCollectionIndex=function(e){return this._collectionInMemoryIndex.has(e)||this._collectionInMemoryIndex.set(e,new Map),this._collectionInMemoryIndex.get(e)},e.prototype.getMonotonicFactory=function(e){return BB.has(e)||BB.set(e,HU()),BB.get(e)},e.prototype.init=function(){return Ot(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b;return kt(this,(function(w){switch(w.label){case 0:return this._collectionInMemoryIndex.clear(),[4,this.storage.getAllKeys()];case 1:e=w.sent(),t=[],w.label=2;case 2:w.trys.push([2,12,13,14]),n=Rt(e),r=n.next(),w.label=3;case 3:return r.done?[3,11]:(i=r.value,o=Lt(i.split("::"),5),a=o[0],s=o[1],u=o[2],c=o[3],l=o[4],a!==FB?[3,10]:u!==zB?[3,9]:(f=void 0,void 0!==l?[3,7]:(d=c,h=this.getMonotonicFactory(s)(),p=this.getLegacyKeyForItem(s,d),v=this.getKeyForItem(s,d,h),[4,this.storage.getItem(p)])));case 4:return y=w.sent(),[4,this.storage.setItem(v,y)];case 5:return w.sent(),[4,this.storage.removeItem(p)];case 6:return w.sent(),f=h,[3,8];case 7:f=c,w.label=8;case 8:return this.getCollectionIndex(s).set(l,f),[3,10];case 9:"Collection"===u&&t.push(i),w.label=10;case 10:return r=n.next(),[3,3];case 11:return[3,14];case 12:return g=w.sent(),m={error:g},[3,14];case 13:try{r&&!r.done&&(b=n.return)&&b.call(n)}finally{if(m)throw m.error}return[7];case 14:return t.length>0?[4,this.storage.multiRemove(t)]:[3,16];case 15:w.sent(),w.label=16;case 16:return[2]}}))}))},e.prototype.save=function(e,t,n,r){var i,o;return Ot(this,void 0,void 0,(function(){var a,s,u;return kt(this,(function(c){switch(c.label){case 0:return a=xF(n),s=(null===(i=this.getCollectionIndex(t))||void 0===i?void 0:i.get(a))||this.getMonotonicFactory(t)(),u=this.getKeyForItem(t,r,s),null===(o=this.getCollectionIndex(t))||void 0===o||o.set(r,s),[4,this.storage.setItem(u,JSON.stringify(e))];case 1:return c.sent(),[2]}}))}))},e.prototype.batchSave=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_=this;return kt(this,(function(x){switch(x.label){case 0:if(0===t.length)return[2,[]];r=[],i=this.getCollectionIndex(e),o=new Set,a=new Set,s=[],u={},c=function(t){var r=n.map((function(e){return t[e]})),c=t._deleted,f=i.get(r.join(IU))||l.getMonotonicFactory(e)(),d=l.getKeyForItem(e,r.join(IU),f);s.push(d),u[d]={ulid:f,model:t},c?o.add(d):a.add(d)},l=this;try{for(f=Rt(t),d=f.next();!d.done;d=f.next())h=d.value,c(h)}catch(e){b={error:e}}finally{try{d&&!d.done&&(w=f.return)&&w.call(f)}finally{if(b)throw b.error}}return[4,this.storage.multiGet(s)];case 1:return p=x.sent(),v=p.filter((function(e){return!!Lt(e,2)[1]})).reduce((function(e,t){var n=Lt(t,1)[0];return e.add(n)}),new Set),[4,new Promise((function(e,t){if(0!==o.size){var r=Array.from(o);r.forEach((function(e){var t=n.map((function(t){return u[e].model[t]})).join(IU);i.delete(t)})),_.storage.multiRemove(r,(function(n){n&&n.length>0?t(n):e()}))}else e()}))];case 2:return x.sent(),[4,new Promise((function(e,t){if(0!==a.size){var r=Array.from(a).map((function(e){return[e,JSON.stringify(u[e].model)]}));a.forEach((function(e){var t=u[e],r=t.model,o=t.ulid,a=n.map((function(e){return r[e]})).join(IU);i.set(a,o)})),_.storage.multiSet(r,(function(n){n&&n.length>0?t(n):e()}))}else e()}))];case 3:x.sent();try{for(y=Rt(s),g=y.next();!g.done;g=y.next())m=g.value,o.has(m)&&v.has(m)?r.push([u[m].model,eF.DELETE]):a.has(m)&&r.push([u[m].model,v.has(m)?eF.UPDATE:eF.INSERT])}catch(e){S={error:e}}finally{try{g&&!g.done&&(E=y.return)&&E.call(y)}finally{if(S)throw S.error}}return[2,r]}}))}))},e.prototype.get=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,i;return kt(this,(function(o){switch(o.label){case 0:return n=this.getCollectionIndex(t).get(e),r=this.getKeyForItem(t,e,n),[4,this.storage.getItem(r)];case 1:return[2,(i=o.sent())&&JSON.parse(i)]}}))}))},e.prototype.getOne=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return n=this.getCollectionIndex(t),r=Lt(e===tF.FIRST?function(){var e,t,r,i,o;try{for(var a=Rt(n),s=a.next();!s.done;s=a.next()){i=(r=Lt(s.value,2))[0],o=r[1];break}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return[i,o]}():function(){var e,t,r,i,o;try{for(var a=Rt(n),s=a.next();!s.done;s=a.next())i=(r=Lt(s.value,2))[0],o=r[1]}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return[i,o]}(),2),i=r[0],o=r[1],a=this.getKeyForItem(t,i,o),(u=a)?[4,this.storage.getItem(a)]:[3,2];case 1:u=c.sent(),c.label=2;case 2:return[2,(s=u)&&JSON.parse(s)||void 0]}}))}))},e.prototype.getAll=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w;return kt(this,(function(S){switch(S.label){case 0:n=this.getCollectionIndex(e),i=(r=t||{}).page,o=void 0===i?0:i,a=r.limit,s=void 0===a?0:a,u=Math.max(0,o*s)||0,c=s>0?u+s:void 0,l=[],f=0;try{for(d=Rt(n),h=d.next();!h.done&&(p=Lt(h.value,2),v=p[0],y=p[1],++f<=u||(l.push(this.getKeyForItem(e,v,y)),f!==c));h=d.next());}catch(e){b={error:e}}finally{try{h&&!h.done&&(w=d.return)&&w.call(d)}finally{if(b)throw b.error}}return[4,this.storage.multiGet(l)];case 1:return g=S.sent(),m=g.filter((function(e){return Lt(e,2)[1]})).map((function(e){var t=Lt(e,2)[1];return JSON.parse(t)})),[2,m]}}))}))},e.prototype.delete=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r;return kt(this,(function(i){switch(i.label){case 0:return n=this.getCollectionIndex(t).get(e),r=this.getKeyForItem(t,e,n),this.getCollectionIndex(t).delete(e),[4,this.storage.removeItem(r)];case 1:return i.sent(),[2]}}))}))},e.prototype.clear=function(){return Ot(this,void 0,void 0,(function(){var e,t;return kt(this,(function(n){switch(n.label){case 0:return[4,this.storage.getAllKeys()];case 1:return e=n.sent(),t=e.filter((function(e){return e.startsWith(FB)})),[4,this.storage.multiRemove(t)];case 2:return n.sent(),this._collectionInMemoryIndex.clear(),[2]}}))}))},e.prototype.getKeyForItem=function(e,t,n){return this.getKeyPrefixForStoreItems(e)+"::"+n+"::"+t},e.prototype.getLegacyKeyForItem=function(e,t){return this.getKeyPrefixForStoreItems(e)+"::"+t},e.prototype.getKeyPrefixForStoreItems=function(e){return FB+"::"+e+"::"+zB},e}();const KB=qB;var HB=new c("DataStore"),GB=function(){function e(){}return e.prototype.getStorenameForModel=function(e){var t=this.namespaceResolver(e),n=e.name;return mF(t,n)},e.prototype.getIndexKeyValuesFromModel=function(e){var t=Object.getPrototypeOf(e).constructor,n=this.namespaceResolver(t),r=TF(this.schema.namespaces[n],t.name);return wF(e,r)},e.prototype.getIndexKeyValuesPath=function(e){return this.getIndexKeyValuesFromModel(e).join(IU)},e.prototype.setUp=function(e,t,n,r){return Ot(this,void 0,void 0,(function(){var i,o=this;return kt(this,(function(a){switch(a.label){case 0:return this.initPromise?[3,1]:(this.initPromise=new Promise((function(e,t){o.resolve=e,o.reject=t})),[3,3]);case 1:return[4,this.initPromise];case 2:return a.sent(),[2];case 3:this.schema=e,this.namespaceResolver=t,this.modelInstanceCreator=n,this.getModelConstructorByModelName=r,a.label=4;case 4:return a.trys.push([4,7,,8]),this.db?[3,6]:(this.db=new KB,[4,this.db.init()]);case 5:a.sent(),this.resolve(),a.label=6;case 6:return[3,8];case 7:return i=a.sent(),this.reject(i),[3,8];case 8:return[2]}}))}))},e.prototype.save=function(e,t){var n,r;return Ot(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A,T,C,I,P,O,k=this;return kt(this,(function(R){switch(R.label){case 0:return i=Object.getPrototypeOf(e).constructor,o=this.getStorenameForModel(i),a=this.namespaceResolver(i),s=qU(i.name,e,this.schema.namespaces[a],this.modelInstanceCreator,this.getModelConstructorByModelName),u=new Set,c=Object.values(s).map((function(e){var t=e.modelName,n=e.item,r=e.instance,i=mF(a,t);return u.add(i),{storeName:i,item:n,instance:r,keys:TF(k.schema.namespaces[a],t)}})),l=this.getIndexKeyValuesPath(e),[4,this.db.get(l,o)];case 1:if(f=R.sent(),t&&f&&(d=Zz.getPredicates(t),p=(h=d).predicates,v=h.type,!MU(f,v,p)))throw y="Conditional update failed",HB.error(y,{model:f,condition:p}),new Error(y);g=[],R.label=2;case 2:R.trys.push([2,9,10,15]),m=Mt(c),R.label=3;case 3:return[4,m.next()];case 4:return(b=R.sent()).done?[3,8]:(w=b.value,S=w.storeName,E=w.item,_=w.instance,x=w.keys,A=x.map((function(e){return E[e]})),T=A.join(IU),[4,this.db.get(T,S)]);case 5:return C=R.sent(),I=C?eF.UPDATE:eF.INSERT,P=this.getIndexKeyValuesFromModel(e),AF(A,P)||I===eF.INSERT?[4,this.db.save(E,S,x,T)]:[3,7];case 6:R.sent(),g.push([_,I]),R.label=7;case 7:return[3,3];case 8:return[3,15];case 9:return O=R.sent(),n={error:O},[3,15];case 10:return R.trys.push([10,,13,14]),b&&!b.done&&(r=m.return)?[4,r.call(m)]:[3,12];case 11:R.sent(),R.label=12;case 12:return[3,14];case 13:if(n)throw n.error;return[7];case 14:return[7];case 15:return[2,g]}}))}))},e.prototype.load=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,i,o,a,s=this;return kt(this,(function(u){return r=this.schema.namespaces[e],i=r.relationships[t].relationTypes,o=i.map((function(t){var n=t.modelName;return mF(e,n)})),a=this.getModelConstructorByModelName(e,t),o.length,[2,n.map((function(e){return s.modelInstanceCreator(a,e)}))]}))}))},e.prototype.query=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f=this;return kt(this,(function(d){switch(d.label){case 0:return r=this.getStorenameForModel(e),i=this.namespaceResolver(e),o=t&&Zz.getPredicates(t),a=TF(this.schema.namespaces[i],e.name),s=o&&this.keyValueFromPredicate(o,a),u=n&&n.sort,c=n&&n.limit,[4,Ot(f,void 0,void 0,(function(){var e,t,i;return kt(this,(function(a){switch(a.label){case 0:return s?[4,this.getByKey(r,s)]:[3,2];case 1:return[2,(e=a.sent())?[e]:[]];case 2:return o?[4,this.filterOnPredicate(r,o)]:[3,4];case 3:return t=a.sent(),[2,this.inMemoryPagination(t,n)];case 4:return u||c?[4,this.getAll(r)]:[3,6];case 5:return i=a.sent(),[2,this.inMemoryPagination(i,n)];case 6:return[2,this.getAll(r)]}}))}))];case 1:return l=d.sent(),[4,this.load(i,e.name,l)];case 2:return[2,d.sent()]}}))}))},e.prototype.getByKey=function(e,t){return Ot(this,void 0,void 0,(function(){return kt(this,(function(n){switch(n.label){case 0:return[4,this.db.get(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.getAll=function(e){return Ot(this,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return[4,this.db.getAll(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.keyValueFromPredicate=function(e,t){var n,r,i=e.predicates;if(i.length===t.length){var o=[],a=function(e){var t=i.find((function(t){return DF(t)&&t.field===e&&"eq"===t.operator}));t&&o.push(t.operand)};try{for(var s=Rt(t),u=s.next();!u.done;u=s.next())a(u.value)}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o.length===t.length?o.join(IU):void 0}},e.prototype.filterOnPredicate=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,i,o;return kt(this,(function(a){switch(a.label){case 0:return n=t.predicates,r=t.type,[4,this.getAll(e)];case 1:return i=a.sent(),o=n?i.filter((function(e){return MU(e,r,n)})):i,[2,o]}}))}))},e.prototype.inMemoryPagination=function(e,t){return WU(e,t)},e.prototype.queryOne=function(e,t){return void 0===t&&(t=tF.FIRST),Ot(this,void 0,void 0,(function(){var n,r;return kt(this,(function(i){switch(i.label){case 0:return n=this.getStorenameForModel(e),[4,this.db.getOne(t,n)];case 1:return[2,(r=i.sent())&&this.modelInstanceCreator(e,r)]}}))}))},e.prototype.delete=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,y;return kt(this,(function(g){switch(g.label){case 0:return n=[],UU(e)?(o=e,a=this.namespaceResolver(o),[4,this.query(o,t)]):[3,8];case 1:return r=g.sent(),v=this.schema.namespaces[a].relationships[o.name].relationTypes,void 0===t?[3,4]:[4,this.deleteTraverse(v,r,o.name,a,n)];case 2:return g.sent(),[4,this.deleteItem(n)];case 3:return g.sent(),y=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[r,y]];case 4:return[4,this.deleteTraverse(v,r,o.name,a,n)];case 5:return g.sent(),[4,this.deleteItem(n)];case 6:return g.sent(),y=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[r,y]];case 7:return[3,15];case 8:return i=e,o=Object.getPrototypeOf(i).constructor,a=this.namespaceResolver(o),s=this.getStorenameForModel(o),t?(u=this.getIndexKeyValuesPath(i),[4,this.db.get(u,s)]):[3,11];case 9:if(void 0===(c=g.sent()))return p="Model instance not found in storage",HB.warn(p,{model:i}),[2,[[i],[]]];if(l=Zz.getPredicates(t),d=(f=l).predicates,h=f.type,!MU(c,h,d))throw p="Conditional update failed",HB.error(p,{model:c,condition:d}),new Error(p);return v=this.schema.namespaces[a].relationships[o.name].relationTypes,[4,this.deleteTraverse(v,[i],o.name,a,n)];case 10:return g.sent(),[3,13];case 11:return v=this.schema.namespaces[a].relationships[o.name].relationTypes,[4,this.deleteTraverse(v,[i],o.name,a,n)];case 12:g.sent(),g.label=13;case 13:return[4,this.deleteItem(n)];case 14:return g.sent(),y=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[[i],y]];case 15:return[2]}}))}))},e.prototype.deleteItem=function(e){var t,n,r,i;return Ot(this,void 0,void 0,(function(){var o,a,s,u,c,l,f,d,h,p,v;return kt(this,(function(y){switch(y.label){case 0:y.trys.push([0,17,18,23]),o=Mt(e),y.label=1;case 1:return[4,o.next()];case 2:if((a=y.sent()).done)return[3,16];s=a.value,u=s.storeName,c=s.items,y.label=3;case 3:y.trys.push([3,9,10,15]),l=Mt(c),y.label=4;case 4:return[4,l.next()];case 5:return(f=y.sent()).done?[3,8]:(d=f.value)?"object"!=typeof d?[3,7]:(h=this.getIndexKeyValuesPath(d),[4,this.db.delete(h,u)]):[3,7];case 6:y.sent(),y.label=7;case 7:return[3,4];case 8:return[3,15];case 9:return p=y.sent(),r={error:p},[3,15];case 10:return y.trys.push([10,,13,14]),f&&!f.done&&(i=l.return)?[4,i.call(l)]:[3,12];case 11:y.sent(),y.label=12;case 12:return[3,14];case 13:if(r)throw r.error;return[7];case 14:return[7];case 15:return[3,1];case 16:return[3,23];case 17:return v=y.sent(),t={error:v},[3,23];case 18:return y.trys.push([18,,21,22]),a&&!a.done&&(n=o.return)?[4,n.call(o)]:[3,20];case 19:y.sent(),y.label=20;case 20:return[3,22];case 21:if(t)throw t.error;return[7];case 22:return[7];case 23:return[2]}}))}))},e.prototype.deleteTraverse=function(e,t,n,r,i){var o,a,s,u,c,l,f,d,h,p,v,y;return Ot(this,void 0,void 0,(function(){var g,m,b,w,S,E,_,x,A,T,C,I,P,O,k,R,L,N,D,M,j,U,F,z,B,q=this;return kt(this,(function(K){switch(K.label){case 0:K.trys.push([0,38,39,44]),o=Mt(e),K.label=1;case 1:return[4,o.next()];case 2:if((a=K.sent()).done)return[3,37];switch(g=a.value,m=g.relationType,b=g.modelName,w=g.targetName,S=g.targetNames,E=g.associatedWith,_=mF(r,b),x=SF(this.schema.namespaces[r].relationships[b].relationTypes,n)||EF(this.schema.namespaces[r].relationships[b].indexes,g.associatedWith),m){case"HAS_ONE":return[3,3];case"HAS_MANY":return[3,20];case"BELONGS_TO":return[3,34]}return[3,35];case 3:K.trys.push([3,13,14,19]),s=Mt(t),K.label=4;case 4:return[4,s.next()];case 5:return(u=K.sent()).done?[3,12]:(D=u.value,S&&(null==S?void 0:S.length)?(x?A=x.split(PU):E&&(A=Array.isArray(E)?E:[E]),T=S.every((function(e){return D.hasOwnProperty(e)})),k=this.getIndexKeyValuesPath(D),I=A===E,C=T&&I?S.filter((function(e){var t;return null!==(t=D[e])&&void 0!==t&&t})).map((function(e){return D[e]})):k.split(IU),0===C.length?[3,12]:[4,this.db.getAll(_)]):[3,8]);case 6:return j=K.sent(),L=void 0,L=T?j.filter((function(e){return A.every((function(t){return C.includes(e[t])}))})):j.filter((function(e){return e[A]===C})),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,L,b,r,i)];case 7:return K.sent(),[3,11];case 8:return P=x||E,O=w in D,k=this.getIndexKeyValuesPath(D),(R=O?D[w]:k)?[4,this.db.getAll(_)]:[3,12];case 9:return j=K.sent(),L=j.filter((function(e){return e[P]===R})),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,L,b,r,i)];case 10:K.sent(),K.label=11;case 11:return[3,4];case 12:return[3,19];case 13:return N=K.sent(),h={error:N},[3,19];case 14:return K.trys.push([14,,17,18]),u&&!u.done&&(p=s.return)?[4,p.call(s)]:[3,16];case 15:K.sent(),K.label=16;case 16:return[3,18];case 17:if(h)throw h.error;return[7];case 18:return[7];case 19:return[3,36];case 20:K.trys.push([20,27,28,33]),c=Mt(t),K.label=21;case 21:return[4,c.next()];case 22:return(l=K.sent()).done?[3,26]:(D=l.value,M=this.getIndexKeyValuesFromModel(D),[4,this.db.getAll(_)]);case 23:return j=K.sent(),U=x.split(PU),F=j.filter((function(e){return U.every((function(t){return M.includes(e[t])}))})),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,F,b,r,i)];case 24:K.sent(),K.label=25;case 25:return[3,21];case 26:return[3,33];case 27:return z=K.sent(),v={error:z},[3,33];case 28:return K.trys.push([28,,31,32]),l&&!l.done&&(y=c.return)?[4,y.call(c)]:[3,30];case 29:K.sent(),K.label=30;case 30:return[3,32];case 31:if(v)throw v.error;return[7];case 32:return[7];case 33:case 34:return[3,36];case 35:throw new Error("Invalid relationType "+m);case 36:return[3,1];case 37:return[3,44];case 38:return B=K.sent(),f={error:B},[3,44];case 39:return K.trys.push([39,,42,43]),a&&!a.done&&(d=o.return)?[4,d.call(o)]:[3,41];case 40:K.sent(),K.label=41;case 41:return[3,43];case 42:if(f)throw f.error;return[7];case 43:return[7];case 44:return i.push({storeName:mF(r,n),items:t.map((function(e){return q.modelInstanceCreator(q.getModelConstructorByModelName(r,n),e)}))}),[2]}}))}))},e.prototype.clear=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return[4,this.db.clear()];case 1:return e.sent(),this.db=void 0,this.initPromise=void 0,[2]}}))}))},e.prototype.batchSave=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p=this;return kt(this,(function(v){switch(v.label){case 0:n=e.name,r=this.namespaceResolver(e),i=mF(r,n),o=TF(this.schema.namespaces[r],n),a=[],s=function(t){var i=u.modelInstanceCreator(e,t),o=qU(n,i,u.schema.namespaces[r],u.modelInstanceCreator,u.getModelConstructorByModelName),s=u.getIndexKeyValuesPath(i),c=o.find((function(e){var t=e.instance,n=p.getIndexKeyValuesPath(t);return AF([n],[s])})).instance;a.push(c)},u=this;try{for(c=Rt(t),l=c.next();!l.done;l=c.next())f=l.value,s(f)}catch(e){d={error:e}}finally{try{l&&!l.done&&(h=c.return)&&h.call(c)}finally{if(d)throw d.error}}return[4,this.db.batchSave(i,a,o)];case 1:return[2,v.sent()]}}))}))},e}();const VB=new GB;var $B=new c("DataStore"),WB=function(){function e(e,t,n,r,i,o){this.schema=e,this.namespaceResolver=t,this.getModelConstructorByModelName=n,this.modelInstanceCreator=r,this.adapter=i,this.sessionId=o,this.adapter=this.adapter||(Y().isBrowser&&window.indexedDB||W()&&self.indexedDB?jB:VB),this.pushStream=new(nB())}return e.getNamespace=function(){return{name:LU,relationships:{},enums:{},models:{},nonModels:{}}},e.prototype.init=function(){return Ot(this,void 0,void 0,(function(){var e,t;return kt(this,(function(n){switch(n.label){case 0:return void 0===this.initialized?[3,2]:[4,this.initialized];case 1:case 3:return n.sent(),[2];case 2:return $B.debug("Starting Storage"),this.initialized=new Promise((function(n,r){e=n,t=r})),this.adapter.setUp(this.schema,this.namespaceResolver,this.modelInstanceCreator,this.getModelConstructorByModelName,this.sessionId).then(e,t),[4,this.initialized]}}))}))},e.prototype.save=function(e,t,n,r){return Ot(this,void 0,void 0,(function(){var i,o=this;return kt(this,(function(a){switch(a.label){case 0:return[4,this.init()];case 1:if(a.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.save(e,t)];case 2:return(i=a.sent()).forEach((function(a){var s,u=Lt(a,2),c=u[0],l=u[1],f=!!n;if(l===eF.UPDATE&&!f&&null===(s=o.getUpdateMutationInput(e,c,r)))return i;var d=s||c,h=Object.getPrototypeOf(c).constructor;o.pushStream.next({model:h,opType:l,element:d,mutator:n,condition:t&&Zz.getPredicates(t,!1)||null,savedElement:c})})),[2,i]}}))}))},e.prototype.delete=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l=this;return kt(this,(function(f){switch(f.label){case 0:return[4,this.init()];case 1:if(f.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.delete(e,t)];case 2:return c=Lt.apply(void 0,[f.sent(),2]),r=c[0],i=c[1],o=UU(e)?e:Object.getPrototypeOf(e||{}).constructor,a=this.namespaceResolver(o),s=this.schema.namespaces[a].models[o.name],u=new Set(r.map((function(e){return vB(s,e)}))),UU(e)||Array.isArray(i)||(i=[i]),i.forEach((function(r){var i,o=Object.getPrototypeOf(r).constructor;if(!UU(e)){var a=vB(s,r);i=u.has(a)?Zz.getPredicates(t,!1):void 0}l.pushStream.next({model:o,opType:eF.DELETE,element:r,mutator:n,condition:i||null})})),[2,[r,i]]}}))}))},e.prototype.query=function(e,t,n){return Ot(this,void 0,void 0,(function(){return kt(this,(function(r){switch(r.label){case 0:return[4,this.init()];case 1:if(r.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.query(e,t,n)];case 2:return[2,r.sent()]}}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=tF.FIRST),Ot(this,void 0,void 0,(function(){return kt(this,(function(n){switch(n.label){case 0:return[4,this.init()];case 1:if(n.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.queryOne(e,t)];case 2:return[2,n.sent()]}}))}))},e.prototype.observe=function(e,t,n){var r=!e,i=t&&Zz.getPredicates(t,!1)||{},o=i.predicates,a=i.type,s=this.pushStream.observable.filter((function(e){var t=e.mutator;return!n||t!==n})).map((function(e){return e.mutator,Pt(e,["mutator"])}));return r||(s=s.filter((function(t){var n=t.model,r=t.element;return e===n&&(!o||!a||MU(r,a,o))}))),s},e.prototype.clear=function(e){return void 0===e&&(e=!0),Ot(this,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:if(this.initialized=void 0,!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.clear()];case 1:return t.sent(),e&&this.pushStream.complete(),[2]}}))}))},e.prototype.batchSave=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,i=this;return kt(this,(function(o){switch(o.label){case 0:return[4,this.init()];case 1:if(o.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.batchSave(e,t)];case 2:return(r=o.sent()).forEach((function(t){var r=Lt(t,2),o=r[0],a=r[1];i.pushStream.next({model:e,opType:a,element:o,mutator:n,condition:null})})),[2,r]}}))}))},e.prototype.getUpdateMutationInput=function(e,t,n){var r,i,o;if(!n||!n.length)return null;var a=Lt(n,2),s=a[0],u=a[1],c={},l=s.map((function(e){return e.path&&e.path[0]})),f=Object.getPrototypeOf(e).constructor,d=this.namespaceResolver(f),h=this.schema.namespaces[d].models[f.name].fields,p=(null===(o=this.schema.namespaces[d].keys)||void 0===o?void 0:o[f.name])||{},v=p.primaryKey,y=p.compositeKeys,g=void 0===y?[]:y;if(l.forEach((function(e){var n,r,i,o,a,s,l,f,d,p,v,y=IF(null===(v=h[e])||void 0===v?void 0:v.association);if(Array.isArray(y))try{for(var m=Rt(y),b=m.next();!b.done;b=m.next()){var w=b.value;if(!$U(u[w],t[w])){c[w]=void 0===t[w]?null:t[w];try{for(var S=(i=void 0,Rt(g)),E=S.next();!E.done;E=S.next())if((P=E.value).has(w))try{for(var _=(a=void 0,Rt(P)),x=_.next();!x.done;x=_.next()){var A=x.value;c[A]=t[A]}}catch(e){a={error:e}}finally{try{x&&!x.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}}catch(e){i={error:e}}finally{try{E&&!E.done&&(o=S.return)&&o.call(S)}finally{if(i)throw i.error}}}}}catch(e){n={error:e}}finally{try{b&&!b.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}else{var T=y||e;if(!$U(u[T],t[T])){c[T]=void 0===t[T]?null:t[T];try{for(var C=Rt(g),I=C.next();!I.done;I=C.next()){var P;if((P=I.value).has(T))try{for(var O=(d=void 0,Rt(P)),k=O.next();!k.done;k=O.next())A=k.value,c[A]=t[A]}catch(e){d={error:e}}finally{try{k&&!k.done&&(p=O.return)&&p.call(O)}finally{if(d)throw d.error}}}}catch(e){l={error:e}}finally{try{I&&!I.done&&(f=C.return)&&f.call(C)}finally{if(l)throw l.error}}}}})),0===Object.keys(c).length)return null;if(v&&v.length)try{for(var m=Rt(v),b=m.next();!b.done;b=m.next()){var w=b.value;c[w]=t[w]}}catch(e){r={error:e}}finally{try{b&&!b.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}var S=t.id,E=t._version,_=t._lastChangedAt,x=t._deleted;return It(It({},c),{id:S,_version:E,_lastChangedAt:_,_deleted:x})},e}(),YB=function(){function e(e,t,n,r,i,o){this.mutex=new Xz,this.storage=new WB(e,t,n,r,i,o)}return e.prototype.runExclusive=function(e){return this.mutex.runExclusive(e.bind(this,this.storage))},e.prototype.save=function(e,t,n,r){return Ot(this,void 0,void 0,(function(){return kt(this,(function(i){return[2,this.runExclusive((function(i){return i.save(e,t,n,r)}))]}))}))},e.prototype.delete=function(e,t,n){return Ot(this,void 0,void 0,(function(){return kt(this,(function(r){return[2,this.runExclusive((function(r){if(UU(e)){var i=e;return r.delete(i,t,n)}var o=e;return r.delete(o,t,n)}))]}))}))},e.prototype.query=function(e,t,n){return Ot(this,void 0,void 0,(function(){return kt(this,(function(r){return[2,this.runExclusive((function(r){return r.query(e,t,n)}))]}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=tF.FIRST),Ot(this,void 0,void 0,(function(){return kt(this,(function(n){return[2,this.runExclusive((function(n){return n.queryOne(e,t)}))]}))}))},e.getNamespace=function(){return WB.getNamespace()},e.prototype.observe=function(e,t,n){return this.storage.observe(e,t,n)},e.prototype.clear=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return[4,this.runExclusive((function(e){return e.clear()}))];case 1:return e.sent(),[2]}}))}))},e.prototype.batchSave=function(e,t){return this.storage.batchSave(e,t)},e.prototype.init=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){return[2,this.storage.init()]}))}))},e}(),ZB=function(){function e(e,t){if(!PF(e.schema,t))throw new Error(e.schema.name+"."+t+" is not a relationship.");this.localModel=e,this._field=t}return e.from=function(e,t){return PF(e.schema,t)?new this(e,t):null},e.allFrom=function(t){var n,r,i=[];try{for(var o=Rt(Object.keys(t.schema.fields)),a=o.next();!a.done;a=o.next()){var s=a.value,u=e.from(t,s);u&&i.push(u)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},Object.defineProperty(e.prototype,"localDefinition",{get:function(){return this.localModel.schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localConstructor",{get:function(){return this.localModel.builder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.localAssocation.connectionType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localAssocation",{get:function(){return this.localDefinition.fields[this.field].association},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localJoinFields",{get:function(){return this.localAssocation.targetName?[this.localAssocation.targetName]:this.localAssocation.targetNames?this.localAssocation.targetNames:this.localPKFields},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localPKFields",{get:function(){return this.localModel.pkField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteDefinition",{get:function(){var e;return null===(e=this.remoteModelType.modelConstructor)||void 0===e?void 0:e.schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteModelType",{get:function(){return this.localDefinition.fields[this.field].type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteModelConstructor",{get:function(){return this.remoteModelType.modelConstructor.builder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remotePKFields",{get:function(){var e;return(null===(e=this.remoteModelType.modelConstructor)||void 0===e?void 0:e.pkField)||["id"]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localAssociatedWith",{get:function(){return"HAS_MANY"===this.localAssocation.connectionType||"HAS_ONE"===this.localAssocation.connectionType?Array.isArray(this.localAssocation.associatedWith)?this.localAssocation.associatedWith:[this.localAssocation.associatedWith]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"explicitRemoteAssociation",{get:function(){var e;if(this.localAssociatedWith)return 1===this.localAssociatedWith.length?null===(e=this.remoteDefinition.fields[this.localAssociatedWith[0]])||void 0===e?void 0:e.association:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteJoinFields",{get:function(){var e,t,n;return(null===(e=this.explicitRemoteAssociation)||void 0===e?void 0:e.targetName)?[this.explicitRemoteAssociation.targetName]:(null===(t=this.explicitRemoteAssociation)||void 0===t?void 0:t.targetNames)?null===(n=this.explicitRemoteAssociation)||void 0===n?void 0:n.targetNames:this.localAssociatedWith?this.localAssociatedWith:this.remotePKFields},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this.localJoinFields.length>0&&this.remoteJoinFields.length>0},enumerable:!0,configurable:!0}),e.prototype.createLocalFKObject=function(e){for(var t={},n=0;n<this.localJoinFields.length;n++)t[this.localJoinFields[n]]=e[this.remoteJoinFields[n]];return t},e.prototype.createRemoteQueryObject=function(e){for(var t={},n=0;n<this.remoteJoinFields.length;n++){if(null==e[this.localJoinFields[n]])return null;t[this.remoteJoinFields[n]]=e[this.localJoinFields[n]]}return t},e}(),JB=(new Vj).networkMonitor(),XB=(new c("DataStore"),function(){function e(){this.connectionStatus={online:!1}}return e.prototype.status=function(){var e=this;if(this.observer)throw new Error("Subscriber already exists");return new Aj((function(t){return e.observer=t,e.subscription=JB.subscribe((function(n){var r=n.online;e.connectionStatus.online=r;var i=It({},e.connectionStatus);t.next(i)})),function(){clearTimeout(e.timeout),e.unsubscribe()}}))},e.prototype.unsubscribe=function(){this.subscription&&(clearTimeout(this.timeout),this.subscription.unsubscribe())},e.prototype.stop=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){return this.unsubscribe(),[2]}))}))},e.prototype.socketDisconnected=function(){var e=this;this.observer&&"function"==typeof this.observer.next&&(this.observer.next({online:!1}),this.timeout=setTimeout((function(){var t=It({},e.connectionStatus);e.observer.next(t)}),5e3))},e}());const QB=XB;var eq=function(){function e(e,t){this.outbox=e,this.ownSymbol=t}return e.prototype.merge=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,i,o,a,s;return kt(this,(function(u){switch(u.label){case 0:return[4,this.outbox.getForModel(e,t,n)];case 1:return i=u.sent(),o=t._deleted,0!==i.length?[3,5]:o?(r=eF.DELETE,[4,e.delete(t,void 0,this.ownSymbol)]):[3,3];case 2:return u.sent(),[3,5];case 3:return[4,e.save(t,void 0,this.ownSymbol)];case 4:a=Lt.apply(void 0,[u.sent(),1]),s=Lt(a[0],2),r=s[1],u.label=5;case 5:return[2,r]}}))}))},e.prototype.mergePage=function(e,t,n,r){return Ot(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f;return kt(this,(function(d){switch(d.label){case 0:i=new Map;try{for(o=Rt(n),a=o.next();!a.done;a=o.next())s=a.value,u=vB(r,s),i.set(u,s)}catch(e){l={error:e}}finally{try{a&&!a.done&&(f=o.return)&&f.call(o)}finally{if(l)throw l.error}}return c=Nt(i.values()),[4,e.batchSave(t,c,this.ownSymbol)];case 1:return[2,d.sent()]}}))}))},e}(),tq=function(){function e(e,t,n,r){this.schema=e,this.MutationEvent=t,this.modelInstanceCreator=n,this.ownSymbol=r}return e.prototype.enqueue=function(e,t){return Ot(this,void 0,void 0,(function(){var n=this;return kt(this,(function(r){switch(r.label){case 0:return[4,e.runExclusive((function(e){return Ot(n,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f=this;return kt(this,(function(d){switch(d.label){case 0:return n=this.schema.namespaces[RU].models.MutationEvent,r=Zz.createFromExisting(n,(function(e){return e.modelId("eq",t.modelId).id("ne",f.inProgressMutationEventId)})),[4,e.query(this.MutationEvent,r)];case 1:return i=Lt.apply(void 0,[d.sent(),1]),void 0!==(o=i[0])?[3,3]:[4,e.save(t,void 0,this.ownSymbol)];case 2:return d.sent(),[2];case 3:return a=t.operation,o.operation!==eB.CREATE?[3,8]:a!==eB.DELETE?[3,5]:[4,e.delete(this.MutationEvent,r)];case 4:return d.sent(),[3,7];case 5:return s=this.mergeUserFields(o,t),[4,e.save(this.MutationEvent.copyOf(o,(function(e){e.data=s.data})),void 0,this.ownSymbol)];case 6:d.sent(),d.label=7;case 7:return[3,12];case 8:return u=t.condition,c=JSON.parse(u),l=void 0,0!==Object.keys(c).length?[3,10]:(l=this.mergeUserFields(o,t),[4,e.delete(this.MutationEvent,r)]);case 9:d.sent(),d.label=10;case 10:return l=l||t,[4,e.save(l,void 0,this.ownSymbol)];case 11:d.sent(),d.label=12;case 12:return[2]}}))}))}))];case 1:return r.sent(),[2]}}))}))},e.prototype.dequeue=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r;return kt(this,(function(i){switch(i.label){case 0:return[4,this.peek(e)];case 1:return r=i.sent(),t?[4,this.syncOutboxVersionsOnDequeue(e,t,r,n)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[4,e.delete(r)];case 4:return i.sent(),this.inProgressMutationEventId=void 0,[2,r]}}))}))},e.prototype.peek=function(e){return Ot(this,void 0,void 0,(function(){var t;return kt(this,(function(n){switch(n.label){case 0:return[4,e.queryOne(this.MutationEvent,tF.FIRST)];case 1:return t=n.sent(),this.inProgressMutationEventId=t?t.id:void 0,[2,t]}}))}))},e.prototype.getForModel=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,i;return kt(this,(function(o){switch(o.label){case 0:return r=this.schema.namespaces[RU].models.MutationEvent,i=vB(n,t),[4,e.query(this.MutationEvent,Zz.createFromExisting(r,(function(e){return e.modelId("eq",i)})))];case 1:return[2,o.sent()]}}))}))},e.prototype.getModelIds=function(e){return Ot(this,void 0,void 0,(function(){var t,n;return kt(this,(function(r){switch(r.label){case 0:return[4,e.query(this.MutationEvent)];case 1:return t=r.sent(),n=new Set,t.forEach((function(e){var t=e.modelId;return n.add(t)})),[2,n]}}))}))},e.prototype.syncOutboxVersionsOnDequeue=function(e,t,n,r){return Ot(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d,h,p,v,y,g=this;return kt(this,(function(m){switch(m.label){case 0:return n.operation!==r?[2]:(i=t._version,o=t._lastChangedAt,t._deleted,a=Pt(t,["_version","_lastChangedAt","_deleted"]),s=this.removeTimestampFields(n.model,a),(u=JSON.parse(n.data))?(u._version,u._lastChangedAt,u._deleted,c=Pt(u,["_version","_lastChangedAt","_deleted"]),l=this.removeTimestampFields(n.model,c),$U(s,l,!0)?(f=this.schema.namespaces[RU].models.MutationEvent,d=this.schema.namespaces.user.models[n.model],h=vB(d,t),p=Zz.createFromExisting(f,(function(e){return e.modelId("eq",h).id("ne",g.inProgressMutationEventId)})),[4,e.query(this.MutationEvent,p)]):[2]):[2]);case 1:return(v=m.sent()).length?(y=v.map((function(e){var t=JSON.parse(e.data),n=It(It({},t),{_version:i,_lastChangedAt:o});return g.MutationEvent.copyOf(e,(function(e){e.data=JSON.stringify(n)}))})),[4,e.delete(this.MutationEvent,p)]):[2];case 2:return m.sent(),[4,Promise.all(y.map((function(t){return Ot(g,void 0,void 0,(function(){return kt(this,(function(n){switch(n.label){case 0:return[4,e.save(t,void 0,this.ownSymbol)];case 1:return[2,n.sent()]}}))}))})))];case 3:return m.sent(),[2]}}))}))},e.prototype.mergeUserFields=function(e,t){var n=JSON.parse(e.data),r=n._version,i=n._lastChangedAt,o=n._deleted,a=Pt(n,["_version","_lastChangedAt","_deleted"]),s=JSON.parse(t.data),u=(s._version,s._lastChangedAt,s._deleted,Pt(s,["_version","_lastChangedAt","_deleted"])),c=JSON.stringify(It(It({_version:r,_lastChangedAt:i,_deleted:o},a),u));return this.modelInstanceCreator(this.MutationEvent,It(It({},t),{data:c}))},e.prototype.removeTimestampFields=function(e,t){var n,r,i="createdAt",o="updatedAt",a=i,s=o,u=null===(n=this.schema.namespaces[kU].models[e].attributes)||void 0===n?void 0:n.find((function(e){return"model"===e.type})),c=null===(r=null==u?void 0:u.properties)||void 0===r?void 0:r.timestamps;return c&&(a=c[i],s=c[o]),delete t[a],delete t[s],t},e}(),nq=function(e){return/^Connection failed: Connection Timeout/.test(e.message)},rq=function(e){return/^Error: Request failed with status code 5\d\d/.test(e.message)},iq={BadModel:function(){return!1},BadRecord:function(e){var t=e.message;return/^Cannot return \w+ for [\w-_]+ type/.test(t)||/^Variable '.+' has coerced Null value for NonNull type/.test(t)},ConfigError:function(){return!1},Transient:function(e){return nq(e)||rq(e)},Unauthorized:function(e){return/^Request failed with status code 401/.test(e.message)}},oq={BadModel:function(){return!1},BadRecord:function(){return!1},ConfigError:function(){return!1},Transient:function(e){var t=sq(e);return nq(t)||rq(t)},Unauthorized:function(e){var t=sq(e);return/Connection failed.+Unauthorized/.test(t.message)}},aq={BadModel:function(){return!1},BadRecord:function(e){return/^Cannot return \w+ for [\w-_]+ type/.test(e.message)},ConfigError:function(){return!1},Transient:function(e){return nq(e)||rq(e)},Unauthorized:function(){return!1}};function sq(e){var t=e.error;return Lt((void 0===t?{errors:[]}:t).errors,1)[0]}function uq(e){return cq(iq,e)}function cq(e,t){var n,r,i=Nt(Object.keys(e));try{for(var o=Rt(i),a=o.next();!a.done;a=o.next()){var s=a.value,u=e[s];if(null==u?void 0:u(t))return s}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return"Unknown"}var lq,fq,dq=new c("DataStore"),hq=function(){function e(e,t,n,r,i,o,a,s,u,c,l){void 0===a&&(a={}),this.schema=e,this.storage=t,this.userClasses=n,this.outbox=r,this.modelInstanceCreator=i,this.MutationEvent=o,this.amplifyConfig=a,this.authModeStrategy=s,this.errorHandler=u,this.conflictHandler=c,this.amplifyContext=l,this.typeQuery=new WeakMap,this.processing=!1,this.runningProcesses=new qF,this.amplifyContext.API=this.amplifyContext.API||hU,this.generateQueries()}return e.prototype.generateQueries=function(){var e=this;Object.values(this.schema.namespaces).forEach((function(t){Object.values(t.models).filter((function(e){return e.syncable})).forEach((function(n){var r=Lt(sB(t,n,"CREATE"),1)[0],i=Lt(sB(t,n,"UPDATE"),1)[0],o=Lt(sB(t,n,"DELETE"),1)[0];e.typeQuery.set(n,[r,i,o])}))}))},e.prototype.isReady=function(){return void 0!==this.observer},e.prototype.start=function(){var e=this;return this.runningProcesses=new qF,new Aj((function(t){e.observer=t;try{e.resume()}catch(e){throw dq.error("mutations processor start error",e),e}return e.runningProcesses.addCleaner((function(){return Ot(e,void 0,void 0,(function(){return kt(this,(function(e){return this.pause(),[2]}))}))}))}))},e.prototype.stop=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return[4,this.runningProcesses.close()];case 1:return e.sent(),[4,this.runningProcesses.open()];case 2:return e.sent(),[2]}}))}))},e.prototype.resume=function(){return Ot(this,void 0,void 0,(function(){var e=this;return kt(this,(function(t){switch(t.label){case 0:return[4,this.runningProcesses.isOpen&&this.runningProcesses.add((function(t){return Ot(e,void 0,void 0,(function(){var e,n,r,i,o,a=this;return kt(this,(function(s){switch(s.label){case 0:if(this.processing||!this.isReady()||!this.runningProcesses.isOpen)return[2];this.processing=!0,n=kU,r=function(){var r,o,s,u,c,l,f,d,h,p,v,y,g,m,b,w;return kt(this,(function(S){switch(S.label){case 0:r=e.model,o=e.operation,s=e.data,u=e.condition,c=i.userClasses[r],l=void 0,f=void 0,d=void 0,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,fB({authModeStrategy:i.authModeStrategy,defaultAuthMode:i.amplifyConfig.aws_appsync_authenticationType,modelName:r,schema:i.schema})];case 2:return h=S.sent(),p=h[o.toUpperCase()],v=0,y=function(){return Ot(a,void 0,void 0,(function(){var i,a;return kt(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,4]),dq.debug("Attempting mutation with authMode: "+p[v]),[4,this.jitteredRetry(n,r,o,s,u,c,this.MutationEvent,e,p[v],t)];case 1:return i=l.sent(),dq.debug("Mutation sent successfully with authMode: "+p[v]),[2,i];case 2:if(a=l.sent(),++v>=p.length)throw dq.debug("Mutation failed with authMode: "+p[v-1]),a;return dq.debug("Mutation failed with authMode: "+p[v-1]+". Retrying with authMode: "+p[v]),[4,y()];case 3:return[2,l.sent()];case 4:return[2]}}))}))},[4,y()];case 3:return w=Lt.apply(void 0,[S.sent(),3]),l=w[0],f=w[1],d=w[2],[3,5];case 4:return"Offline"===(g=S.sent()).message||"RetryMutation"===g.message?[2,"continue"]:[3,5];case 5:return void 0!==l?[3,7]:(dq.debug("done retrying"),[4,i.storage.runExclusive((function(e){return Ot(a,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return[4,this.outbox.dequeue(e)];case 1:return t.sent(),[2]}}))}))}))]);case 6:return S.sent(),[2,"continue"];case 7:return m=l.data[f],b=!1,[4,i.storage.runExclusive((function(e){return Ot(a,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return[4,this.outbox.dequeue(e,m,o)];case 1:return t.sent(),[4,this.outbox.peek(e)];case 2:return b=void 0!==t.sent(),[2]}}))}))}))];case 8:return S.sent(),i.observer.next({operation:o,modelDefinition:d,model:m,hasMore:b}),[2]}}))},i=this,s.label=1;case 1:return(o=this.processing&&this.runningProcesses.isOpen)?[4,this.outbox.peek(this.storage)]:[3,3];case 2:o=void 0!==(e=s.sent()),s.label=3;case 3:return o?[5,r()]:[3,5];case 4:return s.sent(),[3,1];case 5:return this.pause(),[2]}}))}))}),"mutation resume loop")];case 1:return t.sent(),[2]}}))}))},e.prototype.jitteredRetry=function(e,t,n,r,i,o,a,s,u,c){return Ot(this,void 0,void 0,(function(){var l=this;return kt(this,(function(f){switch(f.label){case 0:return[4,ue((function(t,n,r,i,o,a,s){return Ot(l,void 0,void 0,(function(){var c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A,T,C,I,P,O,k,R,L,N;return kt(this,(function(D){switch(D.label){case 0:return c=Lt(this.createQueryVariables(e,t,n,r,i),5),l=c[0],f=c[1],d=c[2],h=c[3],p=c[4],[4,pB(u,this.amplifyConfig)];case 1:v=D.sent(),y={query:l,variables:f,authMode:u,authToken:v,userAgentSuffix:NU},g=0,m=this.opTypeFromTransformerOperation(n),D.label=2;case 2:return D.trys.push([2,4,,17]),[4,this.amplifyContext.API.graphql(y)];case 3:return[2,[D.sent(),h,p]];case 4:if(!((b=D.sent()).errors&&b.errors.length>0))return[3,15];if(w=Lt(b.errors,1),S=w[0],E=S.originalError,_=(void 0===E?{}:E).code,x=void 0===_?null:_,"Unauthorized"===S.errorType)throw new ae("Unauthorized");if("Network Error"===S.message||"ECONNABORTED"===x){if(!this.processing)throw new ae("Offline");throw new Error("Network Error")}return"ConflictUnhandled"!==S.errorType?[3,13]:(g++,A=void 0,g>10?(A=FF,[3,8]):[3,5]);case 5:return D.trys.push([5,7,,8]),[4,this.conflictHandler({modelConstructor:o,localModel:this.modelInstanceCreator(o,f.input),remoteModel:this.modelInstanceCreator(o,S.data),operation:m,attempts:g})];case 6:return A=D.sent(),[3,8];case 7:return T=D.sent(),dq.warn("conflict trycatch",T),[3,17];case 8:return A!==FF?[3,11]:(C=Lt(sB(this.schema.namespaces[e],p,"GET"),1),I=Lt(C[0],3),P=I[1],O=I[2],[4,pB(u,this.amplifyConfig)]);case 9:return k=D.sent(),[4,this.amplifyContext.API.graphql({query:O,variables:{id:f.input.id},authMode:u,authToken:k,userAgentSuffix:NU})];case 10:return[2,[D.sent(),P,p]];case 11:return R=this.schema.namespaces[e],L=uB(R.relationships,p,m,o,A,d,a,this.modelInstanceCreator,s.id),[4,this.storage.save(L)];case 12:throw D.sent(),new ae("RetryMutation");case 13:try{this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:f.input,message:S.message,operation:n,errorType:uq(S),errorInfo:S.errorInfo,process:oF.mutate,cause:S,remoteModel:S.data?this.modelInstanceCreator(o,S.data):null})}catch(e){dq.warn("Mutation error handler failed with:",e)}finally{return[2,S.data?[{data:(N={},N[h]=S.data,N)},h,p]:[]]}D.label=14;case 14:return[3,16];case 15:throw new ae(b);case 16:return[3,17];case 17:if(y)return[3,2];D.label=18;case 18:return[2]}}))}))}),[t,n,r,i,o,a,s],yq,c)];case 1:return[2,f.sent()]}}))}))},e.prototype.createQueryVariables=function(e,t,n,r,i){var o,a,s,u,c,l,f,d,h=this.schema.namespaces[e].models[t],p=this.schema.namespaces[e].keys[t].primaryKey,v=Lt(this.typeQuery.get(h).find((function(e){return Lt(e,1)[0]===n})),3),y=v[1],g=v[2],m=JSON.parse(r),b=m._version,w=Pt(m,["_version"]),S={};if(null==p?void 0:p.length)try{for(var E=Rt(p),_=E.next();!_.done;_=E.next()){var x=_.value;S[x]=w[x]}}catch(e){o={error:e}}finally{try{_&&!_.done&&(a=E.return)&&a.call(E)}finally{if(o)throw o.error}}else S[CU]=w.id;if(n===eB.DELETE)f=S;else{f={};var A=Object.values(h.fields);try{for(var T=Rt(A),C=T.next();!C.done;C=T.next()){var I=C.value,P=I.name,O=I.type,k=I.association;if((d=O)&&d.model){if(IF(k)&&"BELONGS_TO"===k.connectionType){var R=_F(k);if(R)try{for(var L=(c=void 0,Rt(R)),N=L.next();!N.done;N=L.next()){var D=N.value;f[D]=w[D]}}catch(e){c={error:e}}finally{try{N&&!N.done&&(l=L.return)&&l.call(L)}finally{if(c)throw c.error}}}}else(n!==eB.UPDATE||w.hasOwnProperty(P))&&(f[P]=w[P])}}catch(e){s={error:e}}finally{try{C&&!C.done&&(u=T.return)&&u.call(T)}finally{if(s)throw s.error}}}var M=It(It({},f),{_version:b}),j=JSON.parse(i);return[g,It({input:M},n===eB.CREATE?{}:{condition:Object.keys(j).length>0?j:null}),j,y,h]},e.prototype.opTypeFromTransformerOperation=function(e){switch(e){case eB.CREATE:return eF.INSERT;case eB.DELETE:return eF.DELETE;case eB.UPDATE:return eF.UPDATE;case eB.GET:break;default:throw new Error("Invalid operation "+e)}},e.prototype.pause=function(){this.processing=!1},e}(),pq=3e5,vq=le(pq),yq=function(e,t,n){var r=vq(e);return!1===r&&"Network Error"===(null==n?void 0:n.message)?pq:r},gq=new c("DataStore");!function(e){e.CONNECTED="CONNECTED"}(lq||(lq={})),function(e){e[e.none=0]="none",e[e.unauth=1]="unauth",e[e.auth=2]="auth"}(fq||(fq={}));var mq,bq=function(){function e(e,t,n,r,i,o){void 0===n&&(n={}),void 0===o&&(o={Auth:Kx,API:hU,Cache:sl}),this.schema=e,this.syncPredicates=t,this.amplifyConfig=n,this.authModeStrategy=r,this.errorHandler=i,this.amplifyContext=o,this.typeQuery=new WeakMap,this.buffer=[],this.runningProcesses=new qF}return e.prototype.buildSubscription=function(e,t,n,r,i,o,a){var s=this.amplifyConfig.aws_appsync_authenticationType,u=this.getAuthorizationInfo(t,r,s,i,o,a)||{},c=u.isOwner,l=u.ownerField,f=u.ownerValue,d=Lt(function(e,t,n,r,i){var o=oB(e,t),a=t.name,s=(t.pluralName,"on"+n+a),u="",c="";return r&&(u="($"+i+": String!)",c="("+i+": $"+i+")"),[n,s,"subscription operation"+u+"{\n\t\t\t"+s+c+"{\n\t\t\t\t"+o+"\n\t\t\t}\n\t\t}"]}(e,t,n,c,l),3);return{authMode:a,opType:d[0],opName:d[1],query:d[2],isOwner:c,ownerField:l,ownerValue:f}},e.prototype.getAuthorizationInfo=function(e,t,n,r,i,o){void 0===r&&(r={}),void 0===i&&(i={});var a=function(e){var t=([].concat(e.attributes||[]).find((function(e){return e&&"auth"===e.type}))||{}).properties,n=(void 0===t?{}:t).rules,r=[];return(void 0===n?[]:n).forEach((function(t){var n=t.identityClaim,i=void 0===n?"cognito:username":n,o=t.ownerField,a=void 0===o?"owner":o,s=t.operations,u=void 0===s?["create","update","delete","read"]:s,c=t.provider,l=void 0===c?"userPools":c,f=t.groupClaim,d=void 0===f?"cognito:groups":f,h=t.allow,p=void 0===h?"iam":h,v=t.groups,y=void 0===v?[]:v,g="owner"===p;if(u.includes("read")||g){var m={identityClaim:i,ownerField:a,provider:l,groupClaim:d,authStrategy:p,groups:y,areSubscriptionsPublic:!1};if(g){var b=([].concat(e.attributes||[]).find((function(e){return e&&"model"===e.type}))||{}).properties,w=(void 0===b?{}:b).subscriptions,S=(void 0===w?{}:w).level,E=void 0===S?"on":S;m.areSubscriptionsPublic=!u.includes("read")||"public"===E}g?r.push(m):r.unshift(m)}})),r}(e);if(o===d_.AWS_IAM&&a.find((function(e){return"private"===e.authStrategy&&"iam"===e.provider}))&&t===fq.unauth)return null;var s,u=a.filter((function(e){return"groups"===e.authStrategy&&["userPools","oidc"].includes(e.provider)}));return o!==d_.AMAZON_COGNITO_USER_POOLS&&o!==d_.OPENID_CONNECT||!u.find((function(e){return Nt(lB(r,e),lB(i,e)).find((function(t){return e.groups.find((function(e){return e===t}))}))}))?((o===d_.AMAZON_COGNITO_USER_POOLS?a.filter((function(e){return"owner"===e.authStrategy&&"userPools"===e.provider})):[]).forEach((function(e){var t=r[e.identityClaim];t&&(s={authMode:d_.AMAZON_COGNITO_USER_POOLS,isOwner:!e.areSubscriptionsPublic,ownerField:e.ownerField,ownerValue:t})})),s||((o===d_.OPENID_CONNECT?a.filter((function(e){return"owner"===e.authStrategy&&"oidc"===e.provider})):[]).forEach((function(e){var t=i[e.identityClaim];t&&(s={authMode:d_.OPENID_CONNECT,isOwner:!e.areSubscriptionsPublic,ownerField:e.ownerField,ownerValue:t})})),s||{authMode:o||n,isOwner:!1})):{authMode:o,isOwner:!1}},e.prototype.hubQueryCompletionListener=function(e,t){t.payload.event===Lj.SUBSCRIPTION_ACK&&e()},e.prototype.start=function(){var e=this;this.runningProcesses=this.runningProcesses||new qF;var t=new Aj((function(t){var n,r,i=[],o={},a=fq.none;return e.runningProcesses.add((function(){return Ot(e,void 0,void 0,(function(){var e,s,u,c,l,f,d,h,p,v,y=this;return kt(this,(function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,this.amplifyContext.Auth.currentCredentials()];case 1:return e=g.sent(),a=e.authenticated?fq.auth:fq.unauth,[3,3];case 2:return g.sent(),[3,3];case 3:return g.trys.push([3,5,,6]),[4,this.amplifyContext.Auth.currentSession()];case 4:return s=g.sent(),n=s.getIdToken().decodePayload(),[3,6];case 5:return g.sent(),[3,6];case 6:if(g.trys.push([6,11,,12]),u=this.amplifyConfig,c=u.aws_cognito_region,l=u.Auth,!c||l&&!l.region)throw"Auth is not configured";return f=void 0,[4,this.amplifyContext.Cache.getItem("federatedInfo")];case 7:return(d=g.sent())?(f=d.token,[3,10]):[3,8];case 8:return[4,this.amplifyContext.Auth.currentAuthenticatedUser()];case 9:(h=g.sent())&&(f=h.token),g.label=10;case 10:return f&&(p=f.split(".")[1],r=JSON.parse(Buffer.from(p,"base64").toString("utf8"))),[3,12];case 11:return v=g.sent(),gq.debug("error getting OIDC JWT",v),[3,12];case 12:return Object.values(this.schema.namespaces).forEach((function(e){Object.values(e.models).filter((function(e){return e.syncable})).forEach((function(s){return y.runningProcesses.isOpen&&y.runningProcesses.add((function(){return Ot(y,void 0,void 0,(function(){var u,c,l,f,d,h,p,v,y=this;return kt(this,(function(g){switch(g.label){case 0:return[4,fB({authModeStrategy:this.authModeStrategy,defaultAuthMode:this.amplifyConfig.aws_appsync_authenticationType,modelName:s.name,schema:this.schema})];case 1:return u=g.sent(),c=u.READ,o=It(It({},o),((h={})[s.name]=((p={})[eB.CREATE]=[],p[eB.UPDATE]=[],p[eB.DELETE]=[],p),h)),l=[eB.CREATE,eB.UPDATE,eB.DELETE],(v={})[eB.CREATE]=0,v[eB.UPDATE]=0,v[eB.DELETE]=0,f=v,d=function(u){return Ot(y,void 0,void 0,(function(){var l,h,p,v,y,g,m,b,w,S,E,x,A,T=this;return kt(this,(function(C){switch(C.label){case 0:return l=this.buildSubscription(e,s,u,a,n,r,c[f[u]]),h=l.opType,p=l.opName,v=l.query,y=l.isOwner,g=l.ownerField,m=l.ownerValue,[4,pB(b=l.authMode,this.amplifyConfig)];case 1:if(w=C.sent(),S={},y){if(!m)return t.error("Owner field required, sign in is needed in order to perform this operation"),[2];S[g]=m}return gq.debug("Attempting "+u+" subscription with authMode: "+c[f[u]]),E=NU,x=this.amplifyContext.API.graphql(It(It({query:v,variables:S},{authMode:b}),{authToken:w,userAgentSuffix:E})),o[s.name][h].push(x.map((function(e){return e.value})).subscribe({next:function(e){var t=e.data,n=e.errors;if(Array.isArray(n)&&n.length>0){var r=n.map((function(e){return e.message}));return gq.warn("Skipping incoming subscription. Messages: "+r.join("\n")),void T.drainBuffer()}var i=Zz.getPredicates(T.syncPredicates.get(s),!1),o=t[p];T.passesPredicateValidation(o,i)&&T.pushToBuffer(h,s,o),T.drainBuffer()},error:function(e){return Ot(T,void 0,void 0,(function(){var n,r,i,a,l,p;return kt(this,(function(v){switch(v.label){case 0:if(n=e.error,r=Lt((void 0===n?{errors:[]}:n).errors,1),i=r[0],a=(void 0===i?{}:i).message,(l=void 0===a?"":a).includes(Lj.REALTIME_SUBSCRIPTION_INIT_ERROR)||l.includes(Lj.CONNECTION_FAILED)){if(o[s.name][h].forEach((function(e){return e.unsubscribe()})),o[s.name][h]=[],f[u]++,!(f[u]>=c.length))return gq.debug(u+" subscription failed with authMode: "+c[f[u]-1]+". Retrying with authMode: "+c[f[u]]),d(u),[2];gq.debug(u+" subscription failed with authMode: "+c[f[u]-1])}gq.warn("subscriptionError",l),v.label=1;case 1:return v.trys.push([1,3,,4]),[4,this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:null,message:l,model:s.name,operation:u,errorType:(y=e,cq(oq,y)),process:oF.subscribe,remoteModel:null,cause:e})];case 2:return v.sent(),[3,4];case 3:return p=v.sent(),gq.error("Subscription error handler failed with:",p),[3,4];case 4:return"function"==typeof A&&A(),l.includes('"errorType":"Unauthorized"')||l.includes('"errorType":"OperationDisabled"')||t.error(l),[2]}var y}))}))}})),i.push(Ot(T,void 0,void 0,(function(){var e,t=this;return kt(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){A=n,e=t.hubQueryCompletionListener.bind(t,n),_.listen("api",e)}))];case 1:return n.sent(),_.remove("api",e),[2]}}))}))),[2]}}))}))},l.forEach((function(e){return d(e)})),[2]}}))}))}))}))})),this.runningProcesses.isOpen&&this.runningProcesses.add((function(){return Promise.all(i).then((function(){t.next(lq.CONNECTED)}))})),[2]}}))}))}),"subscription processor new subscriber"),e.runningProcesses.addCleaner((function(){return Ot(e,void 0,void 0,(function(){return kt(this,(function(e){return Object.keys(o).forEach((function(e){o[e][eB.CREATE].forEach((function(e){return e.unsubscribe()})),o[e][eB.UPDATE].forEach((function(e){return e.unsubscribe()})),o[e][eB.DELETE].forEach((function(e){return e.unsubscribe()}))})),[2]}))}))}))}));return[t,new Aj((function(t){return e.dataObserver=t,e.drainBuffer(),e.runningProcesses.addCleaner((function(){return Ot(e,void 0,void 0,(function(){return kt(this,(function(e){return this.dataObserver=null,[2]}))}))}))}))]},e.prototype.stop=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return[4,this.runningProcesses.close()];case 1:return e.sent(),[4,this.runningProcesses.open()];case 2:return e.sent(),[2]}}))}))},e.prototype.passesPredicateValidation=function(e,t){if(!t)return!0;var n=t.predicates,r=t.type;return MU(e,r,n)},e.prototype.pushToBuffer=function(e,t,n){this.buffer.push([e,t,n])},e.prototype.drainBuffer=function(){var e=this;this.dataObserver&&(this.buffer.forEach((function(t){return e.dataObserver.next(t)})),this.buffer=[])},e}(),wq={items:[],nextToken:null,startedAt:null},Sq=new c("DataStore"),Eq=function(){function e(e,t,n,r,i,o){void 0===n&&(n={}),this.schema=e,this.syncPredicates=t,this.amplifyConfig=n,this.authModeStrategy=r,this.errorHandler=i,this.amplifyContext=o,this.typeQuery=new WeakMap,this.runningProcesses=new qF,o.API=o.API||hU,this.generateQueries()}return e.prototype.generateQueries=function(){var e=this;Object.values(this.schema.namespaces).forEach((function(t){Object.values(t.models).filter((function(e){return e.syncable})).forEach((function(n){var r=Lt(sB(t,n,"LIST"),1),i=Lt(r[0]).slice(1);e.typeQuery.set(n,i)}))}))},e.prototype.graphqlFilterFromPredicate=function(e){if(!this.syncPredicates)return null;var t=Zz.getPredicates(this.syncPredicates.get(e),!1);return t?cB(t):null},e.prototype.retrievePage=function(e,t,n,r,i,o){return void 0===r&&(r=null),Ot(this,void 0,void 0,(function(){var a,s,u,c,l,f,d,h,p,v,y,g,m,b=this;return kt(this,(function(w){switch(w.label){case 0:return a=Lt(this.typeQuery.get(e),2),s=a[0],u=a[1],c={limit:r,nextToken:n,lastSync:t,filter:i},[4,fB({authModeStrategy:this.authModeStrategy,defaultAuthMode:this.amplifyConfig.aws_appsync_authenticationType,modelName:e.name,schema:this.schema})];case 1:return l=w.sent(),f=l.READ,d=0,h=function(){return Ot(b,void 0,void 0,(function(){var t,n,r,i;return kt(this,(function(a){switch(a.label){case 0:if(!this.runningProcesses.isOpen)throw new Error("sync.retreievePage termination was requested. Exiting.");a.label=1;case 1:return a.trys.push([1,3,,5]),Sq.debug("Attempting sync with authMode: "+f[d]),[4,this.jitteredRetry({query:u,variables:c,opName:s,modelDefinition:e,authMode:f[d],onTerminate:o})];case 2:return t=a.sent(),Sq.debug("Sync successful with authMode: "+f[d]),[2,t];case 3:if(n=a.sent(),++d>=f.length){if(r=f[d-1],Sq.debug("Sync failed with authMode: "+r,n),hB(n)||dB(n))return Sq.warn("User is unauthorized to query "+s+" with auth mode "+r+". No data could be returned."),[2,{data:(i={},i[s]=wq,i)}];throw n}return Sq.debug("Sync failed with authMode: "+f[d-1]+". Retrying with authMode: "+f[d]),[4,h()];case 4:return[2,a.sent()];case 5:return[2]}}))}))},[4,h()];case 2:return p=w.sent().data,v=p[s],y=v.items,g=v.nextToken,m=v.startedAt,[2,{nextToken:g,startedAt:m,items:y}]}}))}))},e.prototype.jitteredRetry=function(e){var t=e.query,n=e.variables,r=e.opName,i=e.modelDefinition,o=e.authMode,a=e.onTerminate;return Ot(this,void 0,void 0,(function(){var e=this;return kt(this,(function(s){switch(s.label){case 0:return[4,fe((function(t,n){return Ot(e,void 0,void 0,(function(){var e,a,s,u,c,l,f,d,h,p,v,y=this;return kt(this,(function(g){switch(g.label){case 0:return g.trys.push([0,3,,6]),[4,pB(o,this.amplifyConfig)];case 1:return e=g.sent(),[4,this.amplifyContext.API.graphql({query:t,variables:n,authMode:o,authToken:e,userAgentSuffix:NU})];case 2:return[2,g.sent()];case 3:if(a=g.sent(),s=hB(a)||dB(a))throw new ae(s);return u=Boolean(null===(h=null===(d=null==a?void 0:a.data)||void 0===d?void 0:d[r])||void 0===h?void 0:h.items),c=(null==a?void 0:a.errors)&&a.errors.some((function(e){return"Unauthorized"===e.errorType})),l=(null==a?void 0:a.errors)&&a.errors.filter((function(e){return"Unauthorized"!==e.errorType})),f=a,u&&(f.data[r].items=f.data[r].items.filter((function(e){return null!==e}))),u&&(null==l?void 0:l.length)?[4,Promise.all(l.map((function(e){return Ot(y,void 0,void 0,(function(){var t;return kt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:null,message:e.message,model:i.name,operation:r,errorType:(o=e,cq(aq,o)),process:oF.sync,remoteModel:null,cause:e})];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),Sq.error("Sync error handler failed with:",t),[3,3];case 3:return[2]}var o}))}))})))]:[3,5];case 4:g.sent(),_.dispatch("datastore",{event:"nonApplicableDataReceived",data:{errors:l,modelName:i.name}}),g.label=5;case 5:if(c)return Sq.warn("queryError","User is unauthorized to query "+r+", some items could not be returned."),f.data=f.data||{},f.data[r]=It(It({},wq),f.data[r]),[2,f];if(null===(v=null===(p=f.data)||void 0===p?void 0:p[r].items)||void 0===v?void 0:v.length)return[2,f];throw a;case 6:return[2]}}))}))}),[t,n],void 0,a)];case 1:return[2,s.sent()]}}))}))},e.prototype.start=function(e){var t=this,n=this.amplifyConfig,r=n.maxRecordsToSync,i=n.syncPageSize,o=new Map,a=new Aj((function(n){var a=Object.values(t.schema.namespaces).reduce((function(t,n){var r,i;try{for(var o=Rt(Array.from(n.modelTopologicalOrdering.keys())),a=o.next();!a.done;a=o.next()){var s=a.value,u=e.get(n.models[s]);t.set(n.models[s],u)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return t}),new Map),s=Array.from(a.entries()).filter((function(e){return Lt(e,1)[0].syncable})).map((function(e){var a=Lt(e,2),s=a[0],u=Lt(a[1],2),c=u[0],l=u[1];return t.runningProcesses.isOpen&&t.runningProcesses.add((function(e){return Ot(t,void 0,void 0,(function(){var t,a,u,f,d,h,p,v,y,g=this;return kt(this,(function(m){switch(m.label){case 0:return t=!1,a=null,u=null,f=null,d=0,h=this.graphqlFilterFromPredicate(s),p=this.schema.namespaces[c].modelTopologicalOrdering.get(s.name),v=p.map((function(e){return o.get(c+"_"+e)})),y=new Promise((function(o){return Ot(g,void 0,void 0,(function(){var p,y;return kt(this,(function(g){switch(g.label){case 0:return[4,Promise.all(v)];case 1:g.sent(),g.label=2;case 2:return this.runningProcesses.isOpen?(p=Math.min(r-d,i),[4,this.retrievePage(s,l,a,p,h,e)]):[2];case 3:y=g.sent(),f=y.items,a=y.nextToken,u=y.startedAt,d+=f.length,t=null===a||d>=r,n.next({namespace:c,modelDefinition:s,items:f,done:t,startedAt:u,isFullSync:!l}),g.label=4;case 4:if(!t)return[3,2];g.label=5;case 5:return o(),[2]}}))}))})),o.set(c+"_"+s.name,y),[4,y];case 1:return m.sent(),[2]}}))}))}),"adding model "+s.name)}));Promise.all(s).then((function(){n.complete()}))}));return a},e.prototype.stop=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return Sq.debug("stopping sync processor"),[4,this.runningProcesses.close()];case 1:return e.sent(),[4,this.runningProcesses.open()];case 2:return e.sent(),Sq.debug("sync processor stopped"),[2]}}))}))},e}(),_q=Y().isNode,xq=new c("DataStore"),Aq=Symbol("sync");!function(e){e.SYNC_ENGINE_STORAGE_SUBSCRIBED="storageSubscribed",e.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED="subscriptionsEstablished",e.SYNC_ENGINE_SYNC_QUERIES_STARTED="syncQueriesStarted",e.SYNC_ENGINE_SYNC_QUERIES_READY="syncQueriesReady",e.SYNC_ENGINE_MODEL_SYNCED="modelSynced",e.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED="outboxMutationEnqueued",e.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED="outboxMutationProcessed",e.SYNC_ENGINE_OUTBOX_STATUS="outboxStatus",e.SYNC_ENGINE_NETWORK_STATUS="networkStatus",e.SYNC_ENGINE_READY="ready"}(mq||(mq={}));var Tq=function(){function e(e,t,n,r,i,o,a,s,u,c,l,f,d){void 0===c&&(c={}),this.schema=e,this.namespaceResolver=t,this.modelClasses=n,this.userModelClasses=r,this.storage=i,this.modelInstanceCreator=o,this.syncPredicates=u,this.amplifyConfig=c,this.authModeStrategy=l,this.amplifyContext=f,this.connectivityMonitor=d,this.online=!1,this.modelSyncedStatus=new WeakMap,this.runningProcesses=new qF;var h=this.modelClasses.MutationEvent;this.outbox=new tq(this.schema,h,o,Aq),this.modelMerger=new eq(this.outbox,Aq),this.syncQueriesProcessor=new Eq(this.schema,this.syncPredicates,this.amplifyConfig,this.authModeStrategy,s,this.amplifyContext),this.subscriptionsProcessor=new bq(this.schema,this.syncPredicates,this.amplifyConfig,this.authModeStrategy,s,this.amplifyContext),this.mutationsProcessor=new hq(this.schema,this.storage,this.userModelClasses,this.outbox,this.modelInstanceCreator,h,this.amplifyConfig,this.authModeStrategy,s,a,this.amplifyContext),this.datastoreConnectivity=this.connectivityMonitor||new QB}return e.prototype.getModelSyncedStatus=function(e){return this.modelSyncedStatus.get(e)},e.prototype.start=function(e){var t=this;return new Aj((function(n){xq.log("starting sync engine...");var r=[];t.runningProcesses.add((function(){return Ot(t,void 0,void 0,(function(){var t,i,o,a=this;return kt(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.setupModels(e)];case 1:return s.sent(),[3,3];case 2:return t=s.sent(),n.error(t),[2];case 3:return i=new Promise((function(e,t){a.datastoreConnectivity.status().subscribe((function(i){var o=i.online;return Ot(a,void 0,void 0,(function(){var i=this;return kt(this,(function(a){return[2,this.runningProcesses.isOpen&&this.runningProcesses.add((function(a){return Ot(i,void 0,void 0,(function(){var i,s,u,c,l,f=this;return kt(this,(function(d){switch(d.label){case 0:return!o||this.online?[3,10]:(this.online=o,n.next({type:mq.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),s=void 0,_q?(xq.warn("Realtime disabled when in a server-side environment"),[3,6]):[3,1]);case 1:l=Lt(this.subscriptionsProcessor.start(),2),i=l[0],s=l[1],d.label=2;case 2:return d.trys.push([2,4,,5]),[4,new Promise((function(e,t){a.then(t);var n=i.subscribe({next:function(t){t===lq.CONNECTED&&e()},error:function(e){t(e),f.disconnectionHandler()(e)}});r.push(n)}))];case 3:return d.sent(),[3,5];case 4:return u=d.sent(),n.error(u),t(),[2];case 5:xq.log("Realtime ready"),n.next({type:mq.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED}),d.label=6;case 6:return d.trys.push([6,8,,9]),[4,new Promise((function(e,t){var i=f.syncQueriesObservable().subscribe({next:function(t){t.type===mq.SYNC_ENGINE_SYNC_QUERIES_READY&&e(),n.next(t)},complete:function(){e()},error:function(e){t(e)}});i&&r.push(i)}))];case 7:return d.sent(),[3,9];case 8:return c=d.sent(),n.error(c),t(),[2];case 9:return r.push(this.mutationsProcessor.start().subscribe((function(e){var t=e.modelDefinition,r=e.model,i=e.hasMore;return f.runningProcesses.add((function(){return Ot(f,void 0,void 0,(function(){var e,o,a=this;return kt(this,(function(s){switch(s.label){case 0:return e=this.userModelClasses[t.name],o=this.modelInstanceCreator(e,r),[4,this.storage.runExclusive((function(e){return a.modelMerger.merge(e,o,t)}))];case 1:return s.sent(),n.next({type:mq.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED,data:{model:e,element:o}}),n.next({type:mq.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!i}}),[2]}}))}))}),"mutation processor event")}))),_q||r.push(s.subscribe((function(e){var t=Lt(e,3),n=(t[0],t[1]),r=t[2];return f.runningProcesses.add((function(){return Ot(f,void 0,void 0,(function(){var e,t,i=this;return kt(this,(function(o){switch(o.label){case 0:return e=this.userModelClasses[n.name],t=this.modelInstanceCreator(e,r),[4,this.storage.runExclusive((function(e){return i.modelMerger.merge(e,t,n)}))];case 1:return o.sent(),[2]}}))}))}),"subscription dataSubsObservable event")}))),[3,11];case 10:o||(this.online=o,n.next({type:mq.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),r.forEach((function(e){return e.unsubscribe()})),r=[]),d.label=11;case 11:return e(),[2]}}))}))}),"datastore connectivity event")]}))}))}))})),this.storage.observe(null,null,Aq).filter((function(e){var t=e.model;return!0===a.getModelDefinition(t).syncable})).subscribe({next:function(e){var t=e.opType,r=e.model,o=e.element,s=e.condition;return Ot(a,void 0,void 0,(function(){var e=this;return kt(this,(function(a){return[2,this.runningProcesses.add((function(){return Ot(e,void 0,void 0,(function(){var e,a,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return e=this.schema.namespaces[this.namespaceResolver(r)],a=this.modelClasses.MutationEvent,u=this.getModelDefinition(r),c=function(e,t){return e&&Array.isArray(e.predicates)?cB(e,bF(t)):{}}(s,u),l=uB(e.relationships,this.getModelDefinition(r),t,r,o,c,a,this.modelInstanceCreator),[4,this.outbox.enqueue(this.storage,l)];case 1:return f.sent(),n.next({type:mq.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED,data:{model:r,element:o}}),n.next({type:mq.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!1}}),[4,i];case 2:return f.sent(),this.online&&this.mutationsProcessor.resume(),[2]}}))}))}),"storage event")]}))}))}}),n.next({type:mq.SYNC_ENGINE_STORAGE_SUBSCRIBED}),[4,this.outbox.peek(this.storage)];case 4:return o=void 0===s.sent(),n.next({type:mq.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:o}}),[4,i];case 5:return s.sent(),n.next({type:mq.SYNC_ENGINE_READY}),[2]}}))}))}),"sync start")}))},e.prototype.getModelsMetadataWithNextFullSync=function(e){return Ot(this,void 0,void 0,(function(){var t,n=this;return kt(this,(function(r){switch(r.label){case 0:return t=Map.bind,[4,this.runningProcesses.add((function(){return n.getModelsMetadata()}),"sync/index getModelsMetadataWithNextFullSync")];case 1:return[2,new(t.apply(Map,[void 0,r.sent().map((function(t){var r=t.namespace,i=t.model,o=t.lastSync,a=t.lastFullSync,s=t.fullSyncInterval,u=(t.lastSyncPredicate,!a||a+s<e?0:o);return[n.schema.namespaces[r].models[i],[r,u]]}))]))]}}))}))},e.prototype.syncQueriesObservable=function(){var e=this;return this.online?new Aj((function(t){var n;e.runningProcesses.isOpen&&e.runningProcesses.add((function(r){return Ot(e,void 0,void 0,(function(){var e,i,o,a=this;return kt(this,(function(s){switch(s.label){case 0:e=!1,i=function(){var i,s,u,c,l,f,d,h,p;return kt(this,(function(v){switch(v.label){case 0:return i=new WeakMap,[4,o.getModelsMetadataWithNextFullSync(Date.now())];case 1:return s=v.sent(),u=new Set(s.keys()),[4,new Promise((function(e,o){a.runningProcesses.isOpen||e(),r.then((function(){return e()})),n=a.syncQueriesProcessor.start(s).subscribe({next:function(r){var o=r.namespace,s=r.modelDefinition,p=r.items,v=r.done,y=r.startedAt,g=r.isFullSync;return Ot(a,void 0,void 0,(function(){var r,a,m,b,w,S,E=this;return kt(this,(function(_){switch(_.label){case 0:return r=this.userModelClasses[s.name],i.has(r)||(i.set(r,{new:0,updated:0,deleted:0}),f=GU(),h=void 0===h?y:Math.max(h,y)),[4,this.storage.runExclusive((function(e){return Ot(E,void 0,void 0,(function(){var t,n,o,a,u,c,l,f,d,h,v,y,g,m,b;return kt(this,(function(w){switch(w.label){case 0:return[4,this.outbox.getModelIds(e)];case 1:t=w.sent(),n=[],o=p.filter((function(e){var r=vB(s,e);return!t.has(r)||(n.push(e),!1)})),a=[],w.label=2;case 2:w.trys.push([2,7,8,9]),u=Rt(n),c=u.next(),w.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,this.modelMerger.merge(e,l,s)]);case 4:void 0!==(f=w.sent())&&a.push([l,f]),w.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return d=w.sent(),m={error:d},[3,9];case 8:try{c&&!c.done&&(b=u.return)&&b.call(u)}finally{if(m)throw m.error}return[7];case 9:return v=(h=a.push).apply,y=[a],[4,this.modelMerger.mergePage(e,r,o,s)];case 10:return v.apply(h,y.concat([Nt.apply(void 0,[w.sent()])])),g=i.get(r),a.forEach((function(e){var t=Lt(e,2)[1];switch(t){case eF.INSERT:g.new++;break;case eF.UPDATE:g.updated++;break;case eF.DELETE:g.deleted++;break;default:throw new Error("Invalid opType "+t)}})),[2]}}))}))}))];case 1:return _.sent(),v?(a=s.name,[4,this.getModelMetadata(o,a)]):[3,4];case 2:return m=_.sent(),b=m.lastFullSync,w=m.fullSyncInterval,l=w,c=void 0===c?b:Math.max(c,g?y:b),m=this.modelClasses.ModelMetadata.copyOf(m,(function(e){e.lastSync=y,e.lastFullSync=g?y:m.lastFullSync})),[4,this.storage.save(m,void 0,Aq)];case 3:_.sent(),S=i.get(r),this.modelSyncedStatus.set(r,!0),t.next({type:mq.SYNC_ENGINE_MODEL_SYNCED,data:{model:r,isFullSync:g,isDeltaSync:!g,counts:S}}),u.delete(s),0===u.size&&(d=GU()-f,e(),t.next({type:mq.SYNC_ENGINE_SYNC_QUERIES_READY}),n.unsubscribe()),_.label=4;case 4:return[2]}}))}))},error:function(e){t.error(e)}}),t.next({type:mq.SYNC_ENGINE_SYNC_QUERIES_STARTED,data:{models:Array.from(u).map((function(e){return e.name}))}})}))];case 2:return v.sent(),p=c+l-(h+d),xq.debug("Next fullSync in "+p/1e3+" seconds. ("+new Date(Date.now()+p)+")"),[4,o.runningProcesses.add((function(t){return Ot(a,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return r=new Promise((function(e){n=e,setTimeout(n,p)})),t.then((function(){e=!0,n()})),[2,r]}))}))}),"syncQueriesObservable sleep")];case 3:return v.sent(),[2]}}))},o=this,s.label=1;case 1:return t.closed||e?[3,3]:[5,i()];case 2:return s.sent(),[3,1];case 3:return[2]}}))}))}),"syncQueriesObservable main")})):Aj.of()},e.prototype.disconnectionHandler=function(){var e=this;return function(t){Lj.CONNECTION_CLOSED!==t&&Lj.TIMEOUT_DISCONNECT!==t||e.datastoreConnectivity.socketDisconnected()}},e.prototype.unsubscribeConnectivity=function(){this.datastoreConnectivity.unsubscribe()},e.prototype.stop=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return xq.debug("stopping sync engine"),this.unsubscribeConnectivity(),[4,this.mutationsProcessor.stop()];case 1:return e.sent(),[4,this.subscriptionsProcessor.stop()];case 2:return e.sent(),[4,this.datastoreConnectivity.stop()];case 3:return e.sent(),[4,this.syncQueriesProcessor.stop()];case 4:return e.sent(),[4,this.runningProcesses.close()];case 5:return e.sent(),[4,this.runningProcesses.open()];case 6:return e.sent(),xq.debug("sync engine stopped and ready to restart"),[2]}}))}))},e.prototype.setupModels=function(e){return Ot(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,d,h,p=this;return kt(this,(function(v){switch(v.label){case 0:t=e.fullSyncInterval,n=this.modelClasses.ModelMetadata,r=[],Object.values(this.schema.namespaces).forEach((function(e){Object.values(e.models).filter((function(e){return e.syncable})).forEach((function(t){if(r.push([e.name,t]),e.name===kU){var n=p.userModelClasses[t.name];p.modelSyncedStatus.set(n,!1)}}))})),o=r.map((function(e){var r=Lt(e,2),o=r[0],a=r[1];return Ot(p,void 0,void 0,(function(){var e,r,s,u,c,l,f,d,h;return kt(this,(function(p){switch(p.label){case 0:return[4,this.getModelMetadata(o,a.name)];case 1:return e=p.sent(),r=Zz.getPredicates(this.syncPredicates.get(a),!1),s=r?JSON.stringify(r):null,void 0!==e?[3,3]:[4,this.storage.save(this.modelInstanceCreator(n,{model:a.name,namespace:o,lastSync:null,fullSyncInterval:t,lastFullSync:null,lastSyncPredicate:s}),void 0,Aq)];case 2:return l=Lt.apply(void 0,[p.sent(),1]),f=Lt(l[0],1),i=f[0],[3,5];case 3:return u=e.lastSyncPredicate?e.lastSyncPredicate:null,c=u!==s,[4,this.storage.save(n.copyOf(e,(function(e){e.fullSyncInterval=t,c&&(e.lastSync=null,e.lastFullSync=null,e.lastSyncPredicate=s)})))];case 4:d=Lt.apply(void 0,[p.sent(),1]),h=Lt(d[0],1),i=h[0],p.label=5;case 5:return[2,i]}}))}))})),a={},v.label=1;case 1:return v.trys.push([1,6,7,8]),[4,Promise.all(o)];case 2:s=Rt.apply(void 0,[v.sent()]),u=s.next(),v.label=3;case 3:if(u.done)return[3,5];c=u.value,l=c.model,a[l]=c,v.label=4;case 4:return u=s.next(),[3,3];case 5:return[3,8];case 6:return f=v.sent(),d={error:f},[3,8];case 7:try{u&&!u.done&&(h=s.return)&&h.call(s)}finally{if(d)throw d.error}return[7];case 8:return[2,a]}}))}))},e.prototype.getModelsMetadata=function(){return Ot(this,void 0,void 0,(function(){var e;return kt(this,(function(t){switch(t.label){case 0:return e=this.modelClasses.ModelMetadata,[4,this.storage.query(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getModelMetadata=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r;return kt(this,(function(i){switch(i.label){case 0:return n=this.modelClasses.ModelMetadata,r=Zz.createFromExisting(this.schema.namespaces[RU].models[n.name],(function(n){return n.namespace("eq",e).model("eq",t)})),[4,this.storage.query(n,r,{page:0,limit:1})];case 1:return[2,Lt.apply(void 0,[i.sent(),1])[0]]}}))}))},e.prototype.getModelDefinition=function(e){var t=this.namespaceResolver(e);return this.schema.namespaces[t].models[e.name]},e.getNamespace=function(){return{name:RU,relationships:{},enums:{OperationType:{name:"OperationType",values:["CREATE","UPDATE","DELETE"]}},nonModels:{},models:{MutationEvent:{name:"MutationEvent",pluralName:"MutationEvents",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},data:{name:"data",type:"String",isRequired:!0,isArray:!1},modelId:{name:"modelId",type:"String",isRequired:!0,isArray:!1},operation:{name:"operation",type:{enum:"Operationtype"},isArray:!1,isRequired:!0},condition:{name:"condition",type:"String",isArray:!1,isRequired:!0}}},ModelMetadata:{name:"ModelMetadata",pluralName:"ModelsMetadata",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},namespace:{name:"namespace",type:"String",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},lastSync:{name:"lastSync",type:"Int",isRequired:!1,isArray:!1},lastFullSync:{name:"lastFullSync",type:"Int",isRequired:!1,isArray:!1},fullSyncInterval:{name:"fullSyncInterval",type:"Int",isRequired:!0,isArray:!1},lastSyncPredicate:{name:"lastSyncPredicate",type:"String",isRequired:!1,isArray:!1}}}}}},e}(),Cq=Nt($z),Iq=new Map,Pq=function(e,t){var n=t||new BF;return Iq.set(n,e),n},Oq=function(e){if(!Iq.has(e))throw new Error("Invalid predicate. Terminate your predicate with a valid condition (e.g., `p => p.field.eq('value')`) or pass `Predicates.ALL`.");return Iq.get(e)},kq={and:"or",or:"and",not:"and",eq:"ne",ne:"eq",gt:"le",ge:"lt",lt:"ge",le:"gt",contains:"notContains",notContains:"contains"};function Rq(e,t,n){var r,i,o,a,s=e,u=[];try{for(var c=Rt(t),l=c.next();!l.done;l=c.next()){var f=l.value;n?"between"===f.operator?u.push(new Nq(f.field,"lt",[f.operands[0]]),new Nq(f.field,"gt",[f.operands[1]])):u.push(new Nq(f.field,kq[f.operator],f.operands)):u.push(f)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}try{for(var d=Rt(u),h=d.next();!h.done;h=d.next())s=s[(f=h.value).field](f.operator,"between"===f.operator?f.operands:f.operands[0])}catch(e){o={error:e}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}return s}var Lq,Nq=function(){function e(e,t,n){this.field=e,this.operator=t,this.operands=n,this.validate()}return e.prototype.copy=function(t){return[new e(this.field,this.operator,Nt(this.operands)),void 0]},e.prototype.toAST=function(){var e,t;return(e={})[this.field]=((t={})[this.operator]="between"===this.operator?[this.operands[0],this.operands[1]]:this.operands[0],t),e},e.prototype.fetch=function(e){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){return[2,Promise.reject("No implementation needed [yet].")]}))}))},e.prototype.matches=function(e){return Ot(this,void 0,void 0,(function(){var t,n,r=this;return kt(this,(function(i){if(t=e[this.field],n={eq:function(){return t===r.operands[0]},ne:function(){return t!==r.operands[0]},gt:function(){return t>r.operands[0]},ge:function(){return t>=r.operands[0]},lt:function(){return t<r.operands[0]},le:function(){return t<=r.operands[0]},contains:function(){return t.indexOf(r.operands[0])>-1},notContains:function(){return-1===t.indexOf(r.operands[0])},beginsWith:function(){return t.startsWith(r.operands[0])},between:function(){return t>=r.operands[0]&&t<=r.operands[1]}}[this.operator])return[2,n()];throw new Error("Invalid operator given: "+this.operator)}))}))},e.prototype.validate=function(){var e=this,t=function(t){var n=1===t?"argument is":"arguments are";return function(){if(e.operands.length!==t)return"Exactly "+t+" "+n+" required."}},n={eq:t(1),ne:t(1),gt:t(1),ge:t(1),lt:t(1),le:t(1),contains:t(1),notContains:t(1),beginsWith:t(1),between:function(){return t(2)()||(e.operands[0]>e.operands[1]?"The first argument must be less than or equal to the second argument.":null)}}[this.operator];if(!n)throw new Error("Non-existent operator: `"+this.operator+"()`");var r=n();if("string"==typeof r)throw new Error("Incorrect usage of `"+this.operator+"()`: "+r)},e}(),Dq=(Lq=1,function(){return"group_"+Lq++}),Mq=function(){function e(e,t,n,r,i){this.model=e,this.field=t,this.relationshipType=n,this.operator=r,this.operands=i,this.groupId=Dq()}return e.prototype.copy=function(t){var n=new e(this.model,this.field,this.relationshipType,this.operator,[]),r=t===this?n:void 0;return this.operands.forEach((function(e){var i=Lt(e.copy(t),2),o=i[0],a=i[1];n.operands.push(o),r=r||a})),[n,r]},e.prototype.fetch=function(t,n,r){return void 0===n&&(n=[]),void 0===r&&(r=!1),Ot(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A,T,C,I,P,O,k,R,L,N,D,M,j,U,F,z,B,q,K,H,G,V,$,W,Y,Z,J,X,Q=this;return kt(this,(function(ee){switch(ee.label){case 0:i=[],o=r?kq[this.operator]:this.operator,a=r!==("not"===this.operator),s=this.operands.filter((function(t){return t instanceof e})),u=this.operands.filter((function(e){return e instanceof Nq})),ee.label=1;case 1:ee.trys.push([1,10,11,12]),c=Rt(s),l=c.next(),ee.label=2;case 2:return l.done?[3,9]:[4,(f=l.value).fetch(t,Nt(n,[this.groupId]),a)];case 3:if(0===(d=ee.sent()).length)return"and"===o?[2,[]]:(i.push([]),[3,8]);if(!f.field)return[3,7];if(!(h=ZB.from(this.model,f.field)))return[3,5];p=[],v=function(e){for(var t=[],n=0;n<h.localJoinFields.length;n++)t.push(new Nq(h.localJoinFields[n],"eq",[e[h.remoteJoinFields[n]]]));p.push((function(e){return Rq(e,t,!1)}))};try{for(K=void 0,y=Rt(d),g=y.next();!g.done;g=y.next())m=g.value,v(m)}catch(e){K={error:e}}finally{try{g&&!g.done&&(H=y.return)&&H.call(y)}finally{if(K)throw K.error}}return E=Zz.createGroupFromExisting(this.model.schema,"or",p),w=(b=i).push,[4,t.query(this.model.builder,E)];case 4:return w.apply(b,[ee.sent()]),[3,6];case 5:throw new Error("Missing field metadata.");case 6:return[3,8];case 7:i.push(d),ee.label=8;case 8:return l=c.next(),[3,2];case 9:return[3,12];case 10:return S=ee.sent(),B={error:S},[3,12];case 11:try{l&&!l.done&&(q=c.return)&&q.call(c)}finally{if(B)throw B.error}return[7];case 12:return u.length>0?(E=Zz.createFromExisting(this.model.schema,(function(e){return e[o]((function(e){return Rq(e,u,a)}))})),x=(_=i).push,[4,t.query(this.model.builder,E)]):[3,14];case 13:return x.apply(_,[ee.sent()]),[3,16];case 14:return 0!==u.length||0!==i.length?[3,16]:(T=(A=i).push,[4,t.query(this.model.builder)]);case 15:T.apply(A,[ee.sent()]),ee.label=16;case 16:if(C=function(e){return JSON.stringify(Q.model.pkField.map((function(t){return e[t]})))},"and"===o){if(0===i.length)return[2,[]];try{for(P=Rt(i),O=P.next();!O.done;O=P.next())if(j=O.value,void 0===I)I=new Map(j.map((function(e){return[C(e),e]})));else{k=new Map(j.map((function(e){return[C(e),e]})));try{for($=void 0,R=Rt(I.keys()),L=R.next();!L.done;L=R.next())N=L.value,k.has(N)||I.delete(N)}catch(e){$={error:e}}finally{try{L&&!L.done&&(W=R.return)&&W.call(R)}finally{if($)throw $.error}}}}catch(e){G={error:e}}finally{try{O&&!O.done&&(V=P.return)&&V.call(P)}finally{if(G)throw G.error}}}else if("or"===o||"not"===o){I=new Map;try{for(D=Rt(i),M=D.next();!M.done;M=D.next()){j=M.value;try{for(J=void 0,U=Rt(j),F=U.next();!F.done;F=U.next())z=F.value,I.set(C(z),z)}catch(e){J={error:e}}finally{try{F&&!F.done&&(X=U.return)&&X.call(U)}finally{if(J)throw J.error}}}}catch(e){Y={error:e}}finally{try{M&&!M.done&&(Z=D.return)&&Z.call(D)}finally{if(Y)throw Y.error}}}return[2,Array.from((null==I?void 0:I.values())||[])]}}))}))},e.prototype.matches=function(e,t){var n,r;return void 0===t&&(t=!1),Ot(this,void 0,void 0,(function(){var i,o,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:return!this.field||t?[3,2]:[4,e[this.field]];case 1:return o=l.sent(),[3,3];case 2:o=e,l.label=3;case 3:if(!(i=o))return[2,!1];if("HAS_MANY"!==this.relationshipType||"function"!=typeof i[Symbol.asyncIterator])return[3,17];l.label=4;case 4:l.trys.push([4,10,11,16]),a=Mt(i),l.label=5;case 5:return[4,a.next()];case 6:return(s=l.sent()).done?[3,9]:(u=s.value,[4,this.matches(u,!0)]);case 7:if(l.sent())return[2,!0];l.label=8;case 8:return[3,5];case 9:return[3,16];case 10:return c=l.sent(),n={error:c},[3,16];case 11:return l.trys.push([11,,14,15]),s&&!s.done&&(r=a.return)?[4,r.call(a)]:[3,13];case 12:l.sent(),l.label=13;case 13:return[3,15];case 14:if(n)throw n.error;return[7];case 15:return[7];case 16:return[2,!1];case 17:return"or"!==this.operator?[3,18]:[2,YU(this.operands,(function(e){return e.matches(i)}))];case 18:return"and"!==this.operator?[3,19]:[2,ZU(this.operands,(function(e){return e.matches(i)}))];case 19:if("not"!==this.operator)return[3,21];if(1!==this.operands.length)throw new Error("Invalid arguments! `not()` accepts exactly one predicate expression.");return[4,this.operands[0].matches(i)];case 20:return[2,!l.sent()];case 21:throw new Error("Invalid group operator!")}}))}))},e.prototype.toAST=function(){var e;if(this.field)throw new Error("Nested type conditions are not supported!");return(e={})[this.operator]=this.operands.map((function(e){return e.toAST()})),e},e.prototype.toStoragePredicate=function(e){return Zz.createFromAST(this.model.schema,this.toAST())},e}();function jq(e,t,n,r,i){void 0===t&&(t=!0);var o=new Mq(e,n,void 0,"and",[]),a=r&&i?r:o,s=r&&i?i:o,u={};Pq(a,u);var c=function(){var n=Lt(a.copy(s),2),r=n[0],i=n[1];return{query:r,newTail:i,newLink:jq(e,t,void 0,r,i)}};["and","or"].forEach((function(r){u[r]=function(i){var o=c(),a=o.query,s=o.newTail,u=i(jq(e,t));if(!Array.isArray(u))throw new Error("Invalid predicate. `"+r+"` groups must return an array of child conditions.");return null==s||s.operands.push(new Mq(e,n,void 0,r,u.map((function(e){return Oq(e)})))),Pq(a)}})),u.not=function(r){var i=c(),o=i.query,a=i.newTail;return null==a||a.operands.push(new Mq(e,n,void 0,"not",[Oq(r(jq(e,t)))])),Pq(o)};var l=function(n){Object.defineProperty(u,n,{enumerable:!0,get:function(){var r=e.schema.fields[n];if(r.association){if(t){if("BELONGS_TO"===r.association.connectionType||"HAS_ONE"===r.association.connectionType||"HAS_MANY"===r.association.connectionType){var i=r.type.modelConstructor;if(!i)throw new Error("Related model metadata is missing. This is a bug! Please report it.");var o=Lt(a.copy(s),2),u=o[0],l=o[1],f=new Mq(i,n,r.association.connectionType,"and",[]);return l.operands.push(f),jq(i,t,void 0,u,f)}throw new Error("Related model definition doesn't have a typedef. This is a bug! Please report it.")}throw new Error("Predication on releated models is not supported in this context.")}return Cq.reduce((function(e,t){var r;return It(It({},e),((r={})[t]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=c(),o=i.query,a=i.newTail;return null==a||a.operands.push(new Nq(n,t,e)),Pq(o)},r))}),{})}})};for(var f in e.schema.fields)l(f);return u}function Uq(e){return jq(e,!1)}zz(!0),function(){function e(t){if(!VF(t))return t;if(Array.isArray(t))return t.map(e);if(XF(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(QF(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return YF(t,Oz)&&(n[Oz]=t[Oz]),n}function t(t){return GF(t)?e(t):t}var n="add";!function(e,t){Dz[e]||(Dz[e]=t)}("Patches",{$:function(t,r){return r.forEach((function(r){for(var i=r.path,o=r.op,a=t,s=0;s<i.length-1;s++){var u=WF(a),c=""+i[s];0!==u&&1!==u||"__proto__"!==c&&"constructor"!==c||HF(24),"function"==typeof a&&"prototype"===c&&HF(24),"object"!=typeof(a=ZF(a,c))&&HF(15,i.join("/"))}var l=WF(a),f=e(r.value),d=i[i.length-1];switch(o){case"replace":switch(l){case 2:return a.set(d,f);case 3:HF(16);default:return a[d]=f}case n:switch(l){case 1:return a.splice(d,0,f);case 2:return a.set(d,f);case 3:return a.add(f);default:return a[d]=f}case"remove":switch(l){case 1:return a.splice(d,1);case 2:return a.delete(d);case 3:return a.delete(r.value);default:return delete a[d]}default:HF(17,o)}})),t},R:function(e,r,i,o){switch(e.i){case 0:case 4:case 2:return function(e,r,i,o){var a=e.t,s=e.o;$F(e.D,(function(e,u){var c=ZF(a,e),l=ZF(s,e),f=u?YF(a,e)?"replace":n:"remove";if(c!==l||"replace"!==f){var d=r.concat(e);i.push("remove"===f?{op:f,path:d}:{op:f,path:d,value:l}),o.push(f===n?{op:"remove",path:d}:"remove"===f?{op:n,path:d,value:t(c)}:{op:"replace",path:d,value:t(c)})}}))}(e,r,i,o);case 5:case 1:return function(e,r,i,o){var a=e.t,s=e.D,u=e.o;if(u.length<a.length){var c=[u,a];a=c[0],u=c[1];var l=[o,i];i=l[0],o=l[1]}for(var f=0;f<a.length;f++)if(s[f]&&u[f]!==a[f]){var d=r.concat([f]);i.push({op:"replace",path:d,value:t(u[f])}),o.push({op:"replace",path:d,value:t(a[f])})}for(var h=a.length;h<u.length;h++){var p=r.concat([h]);i.push({op:n,path:p,value:t(u[h])})}a.length<u.length&&o.push({op:"replace",path:r.concat(["length"]),value:a.length})}(e,r,i,o);case 3:return function(e,t,r,i){var o=e.t,a=e.o,s=0;o.forEach((function(e){if(!a.has(e)){var o=t.concat([s]);r.push({op:"remove",path:o,value:e}),i.unshift({op:n,path:o,value:e})}s++})),s=0,a.forEach((function(e){if(!o.has(e)){var a=t.concat([s]);r.push({op:n,path:a,value:e}),i.unshift({op:"remove",path:a,value:e})}s++}))}(e,r,i,o)}},M:function(e,t,n,r){n.push({op:"replace",path:[],value:t===Pz?void 0:t}),r.push({op:"replace",path:[],value:e.t})}})}();var Fq,zq,Bq,qq,Kq,Hq=new c("DataStore"),Gq=(HU(Date.now()),Y().isNode),Vq="schemaVersion",$q=new WeakMap,Wq=new WeakMap,Yq=function(e){var t,n,r,i,o=$q.get(e),a=o?Fq.namespaces[o].models[e.name]:void 0;if(a){var s=Fq.namespaces[o].relationships[e.name].indexes,u=new Set;try{for(var c=Rt(s),l=c.next();!l.done;l=c.next()){var f=l.value;try{for(var d=(r=void 0,Rt(f[1])),h=d.next();!h.done;h=d.next()){var p=h.value;u.add(p)}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}a.fields=It(It({},Object.fromEntries(Nt(u.values()).map((function(e){return[e,{name:e,type:"ID",isArray:!1}]}),[]))),a.fields)}return a},Zq=function(e){var t,n,r,i=$q.get(e);return i&&(null===(r=null===(n=null===(t=Fq.namespaces)||void 0===t?void 0:t[i])||void 0===n?void 0:n.keys)||void 0===r?void 0:r[e.name].primaryKey)||["id"]},Jq=function(e){return!(!UU(e)||!$q.has(e))},Xq=function(e){var t=$q.get(e);if(!t)throw new Error("Namespace Resolver for '"+e.name+"' not found! This is probably a bug in '@amplify-js/datastore'.");return t},Qq=function(e){if(!e)throw new Error("Missing modelConstructor");var t=Yq(e);if(!t)throw new Error("Missing modelSchema");var n=Zq(e);if(!n)throw new Error("Could not determine PK");return jq({builder:e,schema:t,pkField:n})};new WeakMap,function(e){e.Detached="Detached",e.DataStore="DataStore",e.API="API"}(Kq||(Kq={}));var eK=new WeakMap;function tK(e,t){return Array.isArray(e)?e.map((function(e){return tK(e,t)})):e&&eK.set(e,t),e}var nK,rK,iK,oK=function(){var e="Schema is not initialized. DataStore will not function as expected. This could happen if you have multiple versions of DataStore installed. Please see https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js/#check-for-duplicate-versions";throw Hq.error(e),new Error(e)},aK=new WeakSet;function sK(e,t){return aK.add(t),new e(t)}function uK(e){return"string"==typeof e}function cK(e){var t=e.localModel,n=e.modelConstructor,r=e.remoteModel._version;return sK(n,It(It({},t),{_version:r}))}function lK(e){Hq.warn(e)}function fK(e,t){var n;switch(e){case OU:n=qq[t];break;case kU:n=Bq[t];break;case RU:n=zq[t];break;case LU:n=undefined[t];break;default:throw new Error("Invalid namespace: "+e)}if(Jq(n))return n;var r="Model name is not valid for namespace. modelName: "+t+", namespace: "+e;throw Hq.error(r),new Error(r)}function dK(e,t){return Ot(this,void 0,void 0,(function(){var n,r,i=this;return kt(this,(function(o){switch(o.label){case 0:return n=qq.Setting,r=Fq.namespaces[OU].models.Setting,[4,e.runExclusive((function(e){return Ot(i,void 0,void 0,(function(){var i,o;return kt(this,(function(a){switch(a.label){case 0:return[4,e.query(n,Zz.createFromExisting(r,(function(e){return e.key("eq",Vq)})),{page:0,limit:1})];case 1:return i=Lt.apply(void 0,[a.sent(),1]),void 0===(o=i[0])||void 0===o.value?[3,4]:JSON.parse(o.value)===t?[3,3]:[4,e.clear(!1)];case 2:a.sent(),a.label=3;case 3:return[3,6];case 4:return[4,e.save(sK(n,{key:Vq,value:JSON.stringify(t)}))];case 5:a.sent(),a.label=6;case 6:return[2]}}))}))}))];case 1:return o.sent(),[2]}}))}))}xe((function(){return null!==iK&&iK.apply(this,arguments)||this}),iK=Promise),function(){function e(e){this.values=e}e.prototype[Symbol.asyncIterator]=function(){var e,t=this,n=0;return{next:function(){return Ot(t,void 0,void 0,(function(){var t;return kt(this,(function(r){switch(r.label){case 0:return e?[3,2]:[4,this.values];case 1:e=r.sent(),r.label=2;case 2:return n<e.length?(t={value:e[n],done:!1},n++,[2,t]):[2,{value:null,done:!0}]}}))}))}}},e.prototype.toArray=function(e){var t,n,r=(void 0===e?{}:e).max,i=void 0===r?Number.MAX_SAFE_INTEGER:r;return Ot(this,void 0,void 0,(function(){var e,r,o,a,s,u;return kt(this,(function(c){switch(c.label){case 0:e=[],r=0,c.label=1;case 1:c.trys.push([1,6,7,12]),o=Mt(this),c.label=2;case 2:return[4,o.next()];case 3:if((a=c.sent()).done)return[3,5];if(s=a.value,!(r<i))return[3,5];e.push(s),r++,c.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return u=c.sent(),t={error:u},[3,12];case 7:return c.trys.push([7,,10,11]),a&&!a.done&&(n=o.return)?[4,n.call(o)]:[3,9];case 8:c.sent(),c.label=9;case 9:return[3,11];case 10:if(t)throw t.error;return[7];case 11:return[7];case 12:return[2,e]}}))}))}}(),function(e){e.NotRunning="Not Running",e.Starting="Starting",e.Running="Running",e.Stopping="Stopping",e.Clearing="Clearing"}(rK||(rK={}));var hK=function(){function e(){var e=this;this.Auth=Kx,this.API=hU,this.Cache=sl,this.amplifyConfig={},this.syncPredicates=new WeakMap,this.amplifyContext={Auth:this.Auth,API:this.API,Cache:this.Cache},this.runningProcesses=new qF,this.state=rK.NotRunning,this.start=function(){return Ot(e,void 0,void 0,(function(){var e=this;return kt(this,(function(t){return[2,this.runningProcesses.add((function(){return Ot(e,void 0,void 0,(function(){var e,t,n,r=this;return kt(this,(function(i){switch(i.label){case 0:return this.state=rK.Starting,void 0!==this.initialized?[3,1]:(Hq.debug("Starting DataStore"),this.initialized=new Promise((function(e,t){r.initResolve=e,r.initReject=t})),[3,3]);case 1:return[4,this.initialized];case 2:return i.sent(),[2];case 3:return this.storage=new YB(Fq,Xq,fK,sK,this.storageAdapter,this.sessionId),[4,this.storage.init()];case 4:return i.sent(),oK(),[4,dK(this.storage,Fq.version)];case 5:return i.sent(),(e=this.amplifyConfig.aws_appsync_graphqlEndpoint)?(Hq.debug("GraphQL endpoint available",e),t=this,[4,this.processSyncExpressions()]):[3,7];case 6:return t.syncPredicates=i.sent(),this.sync=new Tq(Fq,Xq,zq,Bq,this.storage,sK,this.conflictHandler,this.errorHandler,this.syncPredicates,this.amplifyConfig,this.authModeStrategy,this.amplifyContext,this.connectivityMonitor),n=1e3*this.fullSyncInterval*60,nK=this.sync.start({fullSyncInterval:n}).subscribe({next:function(e){var t=e.type,n=e.data;t===(Gq?mq.SYNC_ENGINE_SYNC_QUERIES_READY:mq.SYNC_ENGINE_STORAGE_SUBSCRIBED)&&r.initResolve(),_.dispatch("datastore",{event:t,data:n})},error:function(e){Hq.warn("Sync error",e),r.initReject()}}),[3,8];case 7:Hq.warn("Data won't be synchronized. No GraphQL endpoint configured. Did you forget `Amplify.configure(awsconfig)`?",{config:this.amplifyConfig}),this.initResolve(),i.label=8;case 8:return[4,this.initialized];case 9:return i.sent(),this.state=rK.Running,[2]}}))}))}),"datastore start").catch(this.handleAddProcError("DataStore.start()"))]}))}))},this.query=function(t,n,r){return Ot(e,void 0,void 0,(function(){var e=this;return kt(this,(function(i){return[2,this.runningProcesses.add((function(){return Ot(e,void 0,void 0,(function(){var e,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,this.start()];case 1:if(f.sent(),!this.storage)throw new Error("No storage to query");if(!Jq(t))throw s="Constructor is not for a valid model",Hq.error(s,{modelConstructor:t}),new Error(s);if("string"==typeof n&&void 0!==r&&Hq.warn("Pagination is ignored when querying by id"),!(i=Yq(t)))throw new Error("Invalid model definition provided!");if(o=this.processPagination(i,r),a=bF(i),!uK(n))return[3,3];if(a.length>1)throw s="Models with composite primary keys cannot be queried by a single key value. Use object literal syntax for composite keys instead: https://docs.amplify.aws/lib/datastore/advanced-workflows/q/platform/js/#querying-records-with-custom-primary-keys",Hq.error(s,{keyFields:a}),new Error(s);return c=Zz.createForSingleField(i,a[0],n),[4,this.storage.query(t,c,o)];case 2:return e=f.sent(),[3,9];case 3:return NF(n,i)?(c=Zz.createForPk(i,n),[4,this.storage.query(t,c,o)]):[3,5];case 4:return e=f.sent(),[3,9];case 5:return n&&!Gz(n)?[3,7]:[4,null===(l=this.storage)||void 0===l?void 0:l.query(t,void 0,o)];case 6:return e=f.sent(),[3,9];case 7:return u=jq({builder:t,schema:i,pkField:Zq(t)}),[4,(c=Oq(n(u))).fetch(this.storage)];case 8:e=WU(e=f.sent(),o),f.label=9;case 9:return[2,tK(uK(n)||NF(n,i)?e[0]:e,Kq.DataStore)]}}))}))}),"datastore query").catch(this.handleAddProcError("DataStore.query()"))]}))}))},this.save=function(t,n){return Ot(e,void 0,void 0,(function(){var e=this;return kt(this,(function(r){return[2,this.runningProcesses.add((function(){return Ot(e,void 0,void 0,(function(){var e,r,i,o,a,s,u=this;return kt(this,(function(c){switch(c.label){case 0:return[4,this.start()];case 1:if(c.sent(),!this.storage)throw new Error("No storage to save to");if(e=Wq.get(t),r=t?t.constructor:void 0,!Jq(r))throw i="Object is not an instance of a valid model",Hq.error(i,{model:t}),new Error(i);if(!(o=Yq(r)))throw new Error("Model Definition could not be found for model");return a={builder:r,schema:o,pkField:bF(o)},[4,this.storage.runExclusive((function(e){return Ot(u,void 0,void 0,(function(){var n,r,i,s,u,c,l,f,d;return kt(this,(function(h){switch(h.label){case 0:n=ZB.allFrom(a).filter((function(e){return"BELONGS_TO"===e.type})),h.label=1;case 1:h.trys.push([1,6,7,8]),r=Rt(n),i=r.next(),h.label=2;case 2:return i.done?[3,5]:(s=i.value,null===(u=s.createRemoteQueryObject(t))?[3,4]:[4,e.query(s.remoteModelConstructor,Zz.createFromFlatEqualities(s.remoteDefinition,u))]);case 3:if(0===h.sent().length)throw new Error(["Data integrity error. You tried to save a "+o.name+" ("+JSON.stringify(t)+")",'but the instance assigned to the "'+s.field+'" property',"does not exist in the local database. If you're trying to create the related",'"'+(null===(d=s.remoteDefinition)||void 0===d?void 0:d.name)+'", you must save it independently first.'].join(" "));h.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return c=h.sent(),l={error:c},[3,8];case 7:try{i&&!i.done&&(f=r.return)&&f.call(r)}finally{if(l)throw l.error}return[7];case 8:return[2]}}))}))}))];case 2:return c.sent(),s=n?Oq(n(Uq(a))).toStoragePredicate():void 0,[4,this.storage.runExclusive((function(n){return Ot(u,void 0,void 0,(function(){return kt(this,(function(i){switch(i.label){case 0:return[4,n.save(t,s,void 0,e)];case 1:return i.sent(),[2,n.query(r,Zz.createForPk(o,t))]}}))}))}))];case 3:return[2,tK(Lt.apply(void 0,[c.sent(),1])[0],Kq.DataStore)]}}))}))}),"datastore save").catch(this.handleAddProcError("DataStore.save()"))]}))}))},this.setConflictHandler=function(t){var n=t.DataStore;return n&&n.conflictHandler?n.conflictHandler:e.conflictHandler===cK&&t.conflictHandler?t.conflictHandler:e.conflictHandler||cK},this.setErrorHandler=function(t){var n=t.DataStore;return n&&n.errorHandler?n.errorHandler:e.errorHandler===lK&&t.errorHandler?t.errorHandler:e.errorHandler||lK},this.delete=function(t,n){return Ot(e,void 0,void 0,(function(){var e=this;return kt(this,(function(r){return[2,this.runningProcesses.add((function(){return Ot(e,void 0,void 0,(function(){var e,r,i,o,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:return[4,this.start()];case 1:if(l.sent(),!this.storage)throw new Error("No storage to delete from");if(!t)throw u="Model or Model Constructor required",Hq.error(u,{modelOrConstructor:t}),new Error(u);if(!Jq(t))return[3,3];if(o=t,!n)throw u="Id to delete or criteria required. Do you want to delete all? Pass Predicates.ALL",Hq.error(u,{identifierOrCriteria:n}),new Error(u);if(!(a=Yq(o)))throw new Error("Could not find model definition for modelConstructor.");if("string"==typeof n){if((r=bF(a)).length>1)throw u="Models with composite primary keys cannot be deleted by a single key value, unless using a predicate. Use object literal syntax for composite keys instead: https://docs.amplify.aws/lib/datastore/advanced-workflows/q/platform/js/#querying-records-with-custom-primary-keys",Hq.error(u,{keyFields:r}),new Error(u);e=Zz.createForSingleField(a,r[0],n)}else if(!(e=NF(n,a)?Zz.createForPk(a,n):Oq(n(Uq({builder:o,schema:a,pkField:bF(a)}))).toStoragePredicate())||!Zz.isValidPredicate(e))throw u="Criteria required. Do you want to delete all? Pass Predicates.ALL",Hq.error(u,{condition:e}),new Error(u);return[4,this.storage.delete(o,e)];case 2:return[2,tK(Lt.apply(void 0,[l.sent(),1])[0],Kq.DataStore)];case 3:if(i=t,o=Object.getPrototypeOf(i||{}).constructor,!Jq(o))throw u="Object is not an instance of a valid model",Hq.error(u,{model:i}),new Error(u);if(!(a=Yq(o)))throw new Error("Could not find model definition for modelConstructor.");if(s=Zz.createForPk(a,i),n){if("function"!=typeof n)throw u="Invalid criteria",Hq.error(u,{identifierOrCriteria:n}),new Error(u);e=Oq(n(Uq({builder:o,schema:a,pkField:bF(a)}))).toStoragePredicate(s)}else e=s;return[4,this.storage.delete(i,e)];case 4:return c=Lt.apply(void 0,[l.sent(),1]),[2,tK(Lt(c[0],1)[0],Kq.DataStore)]}}))}))}),"datastore delete").catch(this.handleAddProcError("DataStore.delete()"))]}))}))},this.observe=function(t,n){var r,i=t&&Jq(t)?t:void 0;if(t&&void 0===i){var o=t,a=o&&Object.getPrototypeOf(o).constructor;if(Jq(a))return n&&Hq.warn("idOrCriteria is ignored when using a model instance",{model:o,identifierOrCriteria:n}),e.observe(a,o.id);var s="The model is not an instance of a PersistentModelConstructor";throw Hq.error(s,{model:o}),new Error(s)}if(n&&i&&NF(n,Yq(i)))throw s="Object literal syntax cannot be used with observe. Use a predicate instead: https://docs.amplify.aws/lib/datastore/data-access/q/platform/js/#predicates",Hq.error(s,{objectLiteral:n}),new Error(s);if(void 0!==n&&void 0===i)throw s="Cannot provide criteria without a modelConstructor",Hq.error(s,n),new Error(s);if(i&&!Jq(i))throw s="Constructor is not for a valid model",Hq.error(s,{modelConstructor:i}),new Error(s);return i&&"string"==typeof n?r=Oq(function(e){return e.id.eq(n)}(Qq(i))):i&&"function"==typeof n&&(r=Oq(n(Qq(i)))),new Aj((function(t){var n;return e.runningProcesses.add((function(){return Ot(e,void 0,void 0,(function(){var e=this;return kt(this,(function(o){switch(o.label){case 0:return[4,this.start()];case 1:return o.sent(),n=this.storage.observe(i).filter((function(e){var t=e.model;return Xq(t)===kU})).subscribe({next:function(n){return e.runningProcesses.isOpen&&e.runningProcesses.add((function(){return Ot(e,void 0,void 0,(function(){var e,i,o,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return e=n,"DELETE"===n.opType?[3,2]:(i=Yq(n.model),o=bF(i),a=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n}(n.element,o),[4,this.query(n.model,a)]);case 1:s=c.sent(),e=It(It({},e),{element:s}),c.label=2;case 2:return(u=!r)?[3,4]:[4,r.matches(e.element)];case 3:u=c.sent(),c.label=4;case 4:return u&&t.next(e),[2]}}))}))}),"datastore observe message handler")},error:function(e){return t.error(e)},complete:function(){return t.complete()}}),[2]}}))}))}),"datastore observe observable initialization").catch(e.handleAddProcError("DataStore.observe()")).catch((function(e){t.error(e)})),e.runningProcesses.addCleaner((function(){return Ot(e,void 0,void 0,(function(){return kt(this,(function(e){return n&&n.unsubscribe(),[2]}))}))}),"DataStore.observe() cleanup")}))},this.observeQuery=function(t,n,r){return new Aj((function(i){var o,a,s=new Map,u=new Map,c=[],l=function(){var e=p();v(e)},f=new gF({callback:l,errorHandler:i.error,maxInterval:2e3}),d=(r||{}).sort,h=d?{sort:d}:void 0;if(!Yq(t))throw new Error("Could not find model definition.");t&&"function"==typeof n?a=Oq(n(Qq(t))):Gz(n)&&(a=void 0),e.runningProcesses.add((function(){return Ot(e,void 0,void 0,(function(){var e,r=this;return kt(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,this.query(t,n,h)];case 1:return d.sent().forEach((function(e){var n=vB(Yq(t),e);s.set(n,e)})),o=this.observe(t).subscribe((function(e){var t=e.element,n=e.model,i=e.opType;return r.runningProcesses.isOpen&&r.runningProcesses.add((function(){return Ot(r,void 0,void 0,(function(){var e,r,o,l,d,h;return kt(this,(function(p){switch(p.label){case 0:return e=Yq(n),r=vB(e,t),(o=a)?[4,a.matches(t)]:[3,2];case 1:o=!p.sent(),p.label=2;case 2:if(o){if("UPDATE"!==i||!s.has(r)&&!u.has(r))return[2];c.push(r)}return"DELETE"===i?c.push(r):u.set(r,t),l=null!==(h=null===(d=this.sync)||void 0===d?void 0:d.getModelSyncedStatus(n))&&void 0!==h&&h,(u.size-c.length>=this.syncPageSize||l)&&f.resolve(),f.start(),[2]}}))}))}),"handle observeQuery observed event")})),l(),[3,3];case 2:return e=d.sent(),i.error(e),[3,3];case 3:return[2]}}))}))}),"datastore observequery startup").catch(e.handleAddProcError("DataStore.observeQuery()")).catch((function(e){i.error(e)}));var p=function(){var n,i,o=null!==(i=null===(n=e.sync)||void 0===n?void 0:n.getModelSyncedStatus(t))&&void 0!==i&&i,a=Nt(Array.from(s.values()),Array.from(u.values()));return(null==r?void 0:r.sort)&&y(a),s.clear(),a.forEach((function(e){var n=vB(Yq(t),e);s.set(n,e)})),c.forEach((function(e){return s.delete(e)})),{items:Array.from(s.values()),isSynced:o}},v=function(e){i.next(e),u.clear(),c=[]},y=function(n){var i=Yq(t),o=e.processPagination(i,r),a=TU.getPredicates(o.sort);if(a.length){var s=VU(a);n.sort(s)}},g=function(e){var n,r=e.payload,i=r.event,o=r.data;i===mq.SYNC_ENGINE_MODEL_SYNCED&&(null===(n=null==o?void 0:o.model)||void 0===n?void 0:n.name)===t.name&&(l(),_.remove("datastore",g))};return _.listen("datastore",g),e.runningProcesses.addCleaner((function(){return Ot(e,void 0,void 0,(function(){return kt(this,(function(e){return o&&o.unsubscribe(),[2]}))}))}),"datastore observequery cleaner")}))},this.configure=function(t){void 0===t&&(t={}),e.amplifyContext.Auth=e.Auth,e.amplifyContext.API=e.API,e.amplifyContext.Cache=e.Cache;var n,r=t.DataStore,i=t.authModeStrategyType,o=(t.conflictHandler,t.errorHandler,t.maxRecordsToSync),a=t.syncPageSize,s=t.fullSyncInterval,u=t.syncExpressions,c=t.authProviders,l=t.storageAdapter,f=Pt(t,["DataStore","authModeStrategyType","conflictHandler","errorHandler","maxRecordsToSync","syncPageSize","fullSyncInterval","syncExpressions","authProviders","storageAdapter"]);switch(e.amplifyConfig=It(It({},f),e.amplifyConfig),e.conflictHandler=e.setConflictHandler(t),e.errorHandler=e.setErrorHandler(t),r&&r.authModeStrategyType||i||rF.DEFAULT){case rF.MULTI_AUTH:e.authModeStrategy=(n=e.amplifyContext,function(e){var t=e.schema,r=e.modelName;return Ot(void 0,void 0,void 0,(function(){var e,i,o,a,s;return kt(this,(function(u){switch(u.label){case 0:n.Auth=n.Auth||Kx,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.Auth.currentAuthenticatedUser()];case 2:return e=u.sent(),[3,4];case 3:return u.sent(),[3,4];case 4:return(i=t.namespaces.user.models[r].attributes)&&(o=i.find((function(e){return"auth"===e.type})),null===(s=null==o?void 0:o.properties)||void 0===s?void 0:s.rules)?(c=o.properties.rules,l=[JU.CUSTOM,JU.OWNER,JU.GROUPS,JU.PRIVATE,JU.PUBLIC],f=[XU.FUNCTION,XU.USER_POOLS,XU.OIDC,XU.IAM,XU.API_KEY],a=Nt(c).sort((function(e,t){return e.allow===t.allow?f.indexOf(Bz(e))-f.indexOf(Bz(t)):l.indexOf(e.allow)-l.indexOf(t.allow)})),[2,qz({currentUser:e,rules:a})]):[2,[]]}var c,l,f}))}))});break;case rF.DEFAULT:default:e.authModeStrategy=Kz}e.amplifyConfig.authProviders=r&&r.authProviders||c,e.syncExpressions=r&&r.syncExpressions||u||e.syncExpressions,e.maxRecordsToSync=r&&r.maxRecordsToSync||o||e.maxRecordsToSync||1e4,e.amplifyConfig.maxRecordsToSync=e.maxRecordsToSync,e.syncPageSize=r&&r.syncPageSize||a||e.syncPageSize||1e3,e.amplifyConfig.syncPageSize=e.syncPageSize,e.fullSyncInterval=r&&r.fullSyncInterval||s||e.fullSyncInterval||1440,e.storageAdapter=r&&r.storageAdapter||l||e.storageAdapter||void 0,e.sessionId=e.retrieveSessionId()}}return e.prototype.getModuleName=function(){return"DataStore"},e.prototype.handleAddProcError=function(e){var t=this;return function(n){throw n.message.startsWith("BackgroundManagerNotOpenError")?new Error(["DataStoreStateError: Tried to execute `"+e+'` while DataStore was "'+t.state+'".','This can only be done while DataStore is "Started" or "Stopped". To remedy:',"Ensure all calls to `stop()` and `clear()` have completed first.","If this is not possible, retry the operation until it succeeds."].join("\n")):n}},e.prototype.clear=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return oK(),this.state=rK.Clearing,[4,this.runningProcesses.close()];case 1:return e.sent(),void 0!==this.storage?[3,3]:(this.storage=new YB(Fq,Xq,fK,sK,this.storageAdapter,this.sessionId),[4,this.storage.init()]);case 2:e.sent(),e.label=3;case 3:return nK&&!nK.closed&&nK.unsubscribe(),this.sync?[4,this.sync.stop()]:[3,5];case 4:e.sent(),e.label=5;case 5:return[4,this.storage.clear()];case 6:return e.sent(),this.initialized=void 0,this.storage=void 0,this.sync=void 0,this.syncPredicates=new WeakMap,[4,this.runningProcesses.open()];case 7:return e.sent(),this.state=rK.NotRunning,[2]}}))}))},e.prototype.stop=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return this.state=rK.Stopping,[4,this.runningProcesses.close()];case 1:return e.sent(),nK&&!nK.closed&&nK.unsubscribe(),this.sync?[4,this.sync.stop()]:[3,3];case 2:e.sent(),e.label=3;case 3:return this.initialized=void 0,this.sync=void 0,[4,this.runningProcesses.open()];case 4:return e.sent(),this.state=rK.NotRunning,[2]}}))}))},e.prototype.processPagination=function(e,t){var n,r=t||{},i=r.limit,o=r.page,a=r.sort;if(void 0!==i||void 0!==o||void 0!==a){if(void 0!==o&&void 0===i)throw new Error("Limit is required when requesting a page");if(void 0!==o){if("number"!=typeof o)throw new Error("Page should be a number");if(o<0)throw new Error("Page can't be negative")}if(void 0!==i){if("number"!=typeof i)throw new Error("Limit should be a number");if(i<0)throw new Error("Limit can't be negative")}return a&&(n=TU.createFromExisting(e,a)),{limit:i,page:o,sort:n}}},e.prototype.processSyncExpressions=function(){return Ot(this,void 0,void 0,(function(){var e,t=this;return kt(this,(function(n){switch(n.label){case 0:return this.syncExpressions&&this.syncExpressions.length?[4,Promise.all(this.syncExpressions.map((function(e){return Ot(t,void 0,void 0,(function(){var t,n,r,i,o,a;return kt(this,(function(s){switch(s.label){case 0:return[4,e];case 1:return t=s.sent(),n=t.modelConstructor,r=t.conditionProducer,i=Yq(n),[4,this.unwrapPromise(r)];case 2:return Gz(o=s.sent())?[2,[i,null]]:(a=Oq(o(Uq({builder:n,schema:i,pkField:bF(i)}))).toStoragePredicate(),[2,[i,a]])}}))}))})))]:[2,new WeakMap];case 1:return e=n.sent(),[2,this.weakMapFromEntries(e)]}}))}))},e.prototype.createFromCondition=function(e,t){try{return Zz.createFromExisting(e,t)}catch(e){throw Hq.error("Error creating Sync Predicate"),e}},e.prototype.unwrapPromise=function(e){return Ot(this,void 0,void 0,(function(){var t;return kt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:return[2,n.sent()||e];case 2:if((t=n.sent())instanceof TypeError)return[2,e];throw t;case 3:return[2]}}))}))},e.prototype.weakMapFromEntries=function(e){return e.reduce((function(e,t){var n=Lt(t,2),r=n[0],i=n[1];if(e.has(r)){var o=r.name;return Hq.warn("You can only utilize one Sync Expression per model.\n          Subsequent sync expressions for the "+o+" model will be ignored."),e}return i&&e.set(r,i),e}),new WeakMap)},e.prototype.retrieveSessionId=function(){try{var e=sessionStorage.getItem("datastoreSessionId");if(e)return e+"-"+Lt(this.amplifyConfig.aws_appsync_graphqlEndpoint.split("/")[2].split("."),1)[0]}catch(e){}},e}(),pK=new hK;d.register(pK);var vK=function(e,t){return vK=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},vK(e,t)},yK=function(){return yK=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yK.apply(this,arguments)};function gK(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function mK(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var bK,wK=new c("AbstractInteractionsProvider"),SK=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=yK(yK({},this._config),e),wK.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"Interactions"},Object.defineProperty(e.prototype,"options",{get:function(){return yK({},this._config)},enumerable:!0,configurable:!0}),e}();!function(e){e.ENV="env",e.CONFIG="shared config entry"}(bK||(bK={}));var EK,_K=function(e){if("function"==typeof e)return e;var t=Promise.resolve(e);return function(){return t}},xK=function(e){return"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips"))},AK=function(e){return xK(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e},TK=function(e,t){var n;void 0===e&&(e=[]);var r=t.useFipsEndpoint,i=t.useDualstackEndpoint;return null===(n=e.find((function(e){var t=e.tags;return r===t.includes("fips")&&i===t.includes("dualstack")})))||void 0===n?void 0:n.hostname},CK=function(e,t){var n,r,i,o,a,s,u=t.useFipsEndpoint,c=void 0!==u&&u,l=t.useDualstackEndpoint,f=void 0!==l&&l,d=t.signingService,h=t.regionHash,p=t.partitionHash,v=function(e,t){var n,r=t.partitionHash;return null!==(n=Object.keys(r||{}).find((function(t){return r[t].regions.includes(e)})))&&void 0!==n?n:"aws"}(e,{partitionHash:p}),y=e in h?e:null!==(r=null===(n=p[v])||void 0===n?void 0:n.endpoint)&&void 0!==r?r:e,g={useFipsEndpoint:c,useDualstackEndpoint:f},m=function(e,t){var n=t.partitionHostname;return t.regionHostname||(n?n.replace("{region}",e):void 0)}(y,{regionHostname:TK(null===(i=h[y])||void 0===i?void 0:i.variants,g),partitionHostname:TK(null===(o=p[v])||void 0===o?void 0:o.variants,g)});if(void 0===m)throw new Error("Endpoint resolution failed for: ".concat({resolvedRegion:y,useFipsEndpoint:c,useDualstackEndpoint:f}));var b=function(e,t){var n=t.signingRegion;if(n)return n;if(t.useFipsEndpoint){var r=t.regionRegex.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(r);if(i)return i[0].slice(1,-1)}}(m,{signingRegion:null===(a=h[y])||void 0===a?void 0:a.signingRegion,regionRegex:p[v].regionRegex,useFipsEndpoint:c});return It(It({partition:v,signingService:d,hostname:m},b&&{signingRegion:b}),(null===(s=h[y])||void 0===s?void 0:s.signingService)&&{signingService:h[y].signingService})},IK=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(It(It({},this),{headers:It({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return It(It({},e),((r={})[n]=Array.isArray(i)?Dt([],Lt(i),!1):i,r))}),{}))),n},e}(),PK=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),OK="content-length",kK={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},RK={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},LK={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},NK="X-Amzn-Trace-Id",DK={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(EK||(EK={}));var MK=EK.STANDARD,jK=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],UK=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],FK=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],zK=[500,502,503,504],BK=["ECONNRESET","EPIPE","ETIMEDOUT"],qK=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||UK.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},KK=function(){function e(e){var t,n,r,i,o;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=null!==(t=null==e?void 0:e.beta)&&void 0!==t?t:.7,this.minCapacity=null!==(n=null==e?void 0:e.minCapacity)&&void 0!==n?n:1,this.minFillRate=null!==(r=null==e?void 0:e.minFillRate)&&void 0!==r?r:.5,this.scaleConstant=null!==(i=null==e?void 0:e.scaleConstant)&&void 0!==i?i:.4,this.smooth=null!==(o=null==e?void 0:e.smooth)&&void 0!==o?o:.8;var a=this.getCurrentTimeInSeconds();this.lastThrottleTime=a,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return e.prototype.getCurrentTimeInSeconds=function(){return Date.now()/1e3},e.prototype.getSendToken=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){return[2,this.acquireTokenBucket(1)]}))}))},e.prototype.acquireTokenBucket=function(e){return Ot(this,void 0,void 0,(function(){var t;return kt(this,(function(n){switch(n.label){case 0:return this.enabled?(this.refillTokenBucket(),e>this.currentCapacity?(t=(e-this.currentCapacity)/this.fillRate*1e3,[4,new Promise((function(e){return setTimeout(e,t)}))]):[3,2]):[2];case 1:n.sent(),n.label=2;case 2:return this.currentCapacity=this.currentCapacity-e,[2]}}))}))},e.prototype.refillTokenBucket=function(){var e=this.getCurrentTimeInSeconds();if(this.lastTimestamp){var t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}else this.lastTimestamp=e},e.prototype.updateClientSendingRate=function(e){var t;if(this.updateMeasuredRate(),qK(e)){var n=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=n,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(n),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());var r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)},e.prototype.calculateTimeWindow=function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))},e.prototype.cubicThrottle=function(e){return this.getPrecise(e*this.beta)},e.prototype.cubicSuccess=function(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)},e.prototype.enableTokenBucket=function(){this.enabled=!0},e.prototype.updateTokenBucketRate=function(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)},e.prototype.updateMeasuredRate=function(){var e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){var n=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}},e.prototype.getPrecise=function(e){return parseFloat(e.toFixed(8))},e}(),HK=n(4586),GK=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},VK=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return jK.includes(e.name)}(e)||qK(e)||function(e){var t;return FK.includes(e.name)||BK.includes((null==e?void 0:e.code)||"")||zK.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},$K=function(){function e(e,t){var n,r,i,o,a,s,u,c,l;this.maxAttemptsProvider=e,this.mode=EK.STANDARD,this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:VK,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:GK,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:(o=1,a=5,s=10,u=500,c=function(e){return"TimeoutError"===e.name?s:a},l=function(e){return c(e)<=u},Object.freeze({hasRetryTokens:l,retrieveRetryTokens:function(e){if(!l(e))throw new Error("No retry token available");var t=c(e);return u-=t,t},releaseRetryTokens:function(e){u+=null!=e?e:o,u=Math.min(u,500)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return Ot(this,void 0,void 0,(function(){var e;return kt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return i=0,o=0,[4,this.getMaxAttempts()];case 1:a=f.sent(),s=t.request,IK.isInstance(s)&&(s.headers["amz-sdk-invocation-id"]=(0,HK.Z)()),u=function(){var u,l,f,d,h,p,v,y;return kt(this,(function(g){switch(g.label){case 0:return g.trys.push([0,4,,7]),IK.isInstance(s)&&(s.headers["amz-sdk-request"]="attempt=".concat(i+1,"; max=").concat(a)),(null==n?void 0:n.beforeRequest)?[4,n.beforeRequest()]:[3,2];case 1:g.sent(),g.label=2;case 2:return[4,e(t)];case 3:return u=g.sent(),l=u.response,f=u.output,(null==n?void 0:n.afterRequest)&&n.afterRequest(l),c.retryQuota.releaseRetryTokens(r),f.$metadata.attempts=i+1,f.$metadata.totalRetryDelay=o,[2,{value:{response:l,output:f}}];case 4:return d=g.sent(),h=YK(d),i++,c.shouldRetry(h,i,a)?(r=c.retryQuota.retrieveRetryTokens(h),p=c.delayDecider(qK(h)?500:100,i),v=WK(h.$response),y=Math.max(v||0,p),o+=y,[4,new Promise((function(e){return setTimeout(e,y)}))]):[3,6];case 5:return g.sent(),[2,"continue"];case 6:throw h.$metadata||(h.$metadata={}),h.$metadata.attempts=i,h.$metadata.totalRetryDelay=o,h;case 7:return[2]}}))},c=this,f.label=2;case 2:return[5,u()];case 3:return"object"==typeof(l=f.sent())?[2,l.value]:[3,2];case 4:return[2]}}))}))},e}(),WK=function(e){if(PK.isInstance(e)){var t=Object.keys(e.headers).find((function(e){return"retry-after"===e.toLowerCase()}));if(t){var n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n).getTime()-Date.now():1e3*r}}},YK=function(e){return e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"==typeof e?new Error(e):new Error("AWS SDK error wrapper for ".concat(e))},ZK=function(e){function t(t,n){var r=this,i=null!=n?n:{},o=i.rateLimiter,a=Pt(i,["rateLimiter"]);return(r=e.call(this,t,a)||this).rateLimiter=null!=o?o:new KK,r.mode=EK.ADAPTIVE,r}return xe(t,e),t.prototype.retry=function(t,n){return Ot(this,void 0,void 0,(function(){var r=this;return kt(this,(function(i){return[2,e.prototype.retry.call(this,t,n,{beforeRequest:function(){return Ot(r,void 0,void 0,(function(){return kt(this,(function(e){return[2,this.rateLimiter.getSendToken()]}))}))},afterRequest:function(e){r.rateLimiter.updateClientSendingRate(e)}})]}))}))},t}($K),JK={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},XK=function(e){function t(n,r){void 0===r&&(r=!0);var i=e.call(this,n)||this;return i.tryNextLink=r,i.name="ProviderError",Object.setPrototypeOf(i,t.prototype),i}return xe(t,e),t.from=function(e,t){return void 0===t&&(t=!0),Object.assign(new this(e.message,t),e)},t}(Error);(function(e){xe((function t(n,r){void 0===r&&(r=!0);var i=e.call(this,n,r)||this;return i.tryNextLink=r,i.name="CredentialsProviderError",Object.setPrototypeOf(i,t.prototype),i}),e)})(XK),function(e){xe((function t(n,r){void 0===r&&(r=!0);var i=e.call(this,n,r)||this;return i.tryNextLink=r,i.name="TokenProviderError",Object.setPrototypeOf(i,t.prototype),i}),e)}(XK);for(var QK=function(e,t,n){var r,i,o,a=!1,s=function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:i||(i=e()),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,i];case 2:return r=t.sent(),o=!0,a=!1,[3,4];case 3:return i=void 0,[7];case 4:return[2,r]}}))}))};return void 0===t?function(e){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return o&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,s()];case 1:r=t.sent(),t.label=2;case 2:return[2,r]}}))}))}:function(e){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(i){switch(i.label){case 0:return o&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,s()];case 1:r=i.sent(),i.label=2;case 2:return a?[2,r]:n&&!n(r)?(a=!0,[2,r]):t(r)?[4,s()]:[3,4];case 3:return i.sent(),[2,r];case 4:return[2,r]}}))}))}},eH={},tH={},nH=0;nH<256;nH++){var rH=nH.toString(16).toLowerCase();1===rH.length&&(rH="0".concat(rH)),eH[nH]=rH,tH[rH]=nH}function iH(e){for(var t="",n=0;n<e.byteLength;n++)t+=eH[e[n]];return t}var oH="X-Amz-Date",aH="X-Amz-Signature",sH="X-Amz-Security-Token",uH="authorization",cH=oH.toLowerCase(),lH=[uH,cH,"date"],fH=aH.toLowerCase(),dH="x-amz-content-sha256",hH=sH.toLowerCase(),pH={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},vH=/^proxy-/,yH=/^sec-/,gH="AWS4-HMAC-SHA256",mH="AWS4-HMAC-SHA256-PAYLOAD",bH="aws4_request",wH={},SH=[],EH=function(e,t,n){return"".concat(e,"/").concat(t,"/").concat(n,"/").concat(bH)},_H=function(e,t,n){var r=new e(t);return r.update(n),r.digest()},xH=function(e,t,n){var r,i,o=e.headers,a={};try{for(var s=Rt(Object.keys(o).sort()),u=s.next();!u.done;u=s.next()){var c=u.value;if(null!=o[c]){var l=c.toLowerCase();(l in pH||(null==t?void 0:t.has(l))||vH.test(l)||yH.test(l))&&(!n||n&&!n.has(l))||(a[l]=o[c].trim().replace(/\s+/g," "))}}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a},AH=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,TH)},TH=function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())},CH=function(e,t){var n=e.headers,r=e.body;return Ot(void 0,void 0,void 0,(function(){var e,i,o,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:try{for(e=Rt(Object.keys(n)),i=e.next();!i.done;i=e.next())if((o=i.value).toLowerCase()===dH)return[2,n[o]]}catch(e){u={error:e}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=iH,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))},IH=function(e){var t=e.headers,n=e.query,r=Pt(e,["headers","query"]);return It(It({},r),{headers:It({},t),query:n?PH(n):void 0})},PH=function(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return It(It({},t),((r={})[n]=Array.isArray(i)?Dt([],Lt(i),!1):i,r))}),{})},OH=function(e){var t,n;e="function"==typeof e.clone?e.clone():IH(e);try{for(var r=Rt(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;lH.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e},kH=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=_K(r),this.credentialProvider=_K(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Ot(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A;return kt(this,(function(T){switch(T.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=T.sent(),this.validateResolvedCredentials(f),null==c?[3,2]:(h=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=T.sent(),T.label=4;case 4:return d=h,p=RH(r),v=p.longDate,y=p.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(g=EH(y,d,null!=l?l:this.service),m=function(e,t){var n,r,i;void 0===t&&(t={});var o="function"==typeof e.clone?e.clone():IH(e),a=o.headers,s=o.query,u=void 0===s?{}:s;try{for(var c=Rt(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.slice(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return It(It({},e),{headers:a,query:u})}(OH(e),{unhoistableHeaders:s}),f.sessionToken&&(m.query[sH]=f.sessionToken),m.query["X-Amz-Algorithm"]=gH,m.query["X-Amz-Credential"]="".concat(f.accessKeyId,"/").concat(g),m.query[oH]=v,m.query["X-Amz-Expires"]=o.toString(10),b=xH(m,a,u),m.query["X-Amz-SignedHeaders"]=LH(b),w=m.query,S=aH,E=this.getSignature,_=[v,g,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,A=[m,b],[4,CH(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,A.concat([T.sent()]))]))];case 6:return w[S]=T.sent(),[2,m]}}))}))},e.prototype.sign=function(e,t){return Ot(this,void 0,void 0,(function(){return kt(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return Ot(this,void 0,void 0,(function(){var e,t,i,c,l,f,d,h,p,v,y;return kt(this,(function(g){switch(g.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=g.sent(),g.label=3;case 3:return e=t,i=RH(o),c=i.shortDate,l=i.longDate,f=EH(c,e,null!=u?u:this.service),[4,CH({headers:{},body:r},this.sha256)];case 4:return d=g.sent(),(h=new this.sha256).update(n),v=iH,[4,h.digest()];case 5:return p=v.apply(void 0,[g.sent()]),y=[mH,l,f,a,p,d].join("\n"),[2,this.signString(y,{signingDate:o,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,a=n.signingService;return Ot(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return kt(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),this.validateResolvedCredentials(t),null==o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=RH(i).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=iH,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return Ot(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,h,p,v,y;return kt(this,(function(g){switch(g.label){case 0:return[4,this.credentialProvider()];case 1:return t=g.sent(),this.validateResolvedCredentials(t),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=g.sent(),g.label=4;case 4:return n=r,c=OH(e),l=RH(i),f=l.longDate,d=l.shortDate,h=EH(d,n,null!=u?u:this.service),c.headers[cH]=f,t.sessionToken&&(c.headers[hH]=t.sessionToken),[4,CH(c,this.sha256)];case 5:return p=g.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=Rt(Object.keys(t)),o=i.next();!o.done;o=i.next())if(e===o.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(dH,c.headers)&&this.applyChecksum&&(c.headers[dH]=p),v=xH(c,a,o),[4,this.getSignature(f,h,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,p))];case 6:return y=g.sent(),c.headers[uH]="".concat(gH," ")+"Credential=".concat(t.accessKeyId,"/").concat(h,", ")+"SignedHeaders=".concat(LH(v),", ")+"Signature=".concat(y),[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return"".concat(e.method,"\n").concat(this.getCanonicalPath(e),"\n").concat(function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],a={},s=function(e){if(e.toLowerCase()===fH)return"continue";o.push(e);var t=i[e];"string"==typeof t?a[e]="".concat(AH(e),"=").concat(AH(t)):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat(["".concat(AH(e),"=").concat(AH(n))])}),[]).join("&"))};try{for(var u=Rt(Object.keys(i).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e),"\n").concat(r.map((function(e){return"".concat(e,":").concat(t[e])})).join("\n"),"\n\n").concat(r.join(";"),"\n").concat(n)},e.prototype.createStringToSign=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,i;return kt(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,"".concat(gH,"\n").concat(e,"\n").concat(t,"\n").concat(iH(i))]}}))}))},e.prototype.getCanonicalPath=function(e){var t,n,r=e.path;if(this.uriEscapePath){var i=[];try{for(var o=Rt(r.split("/")),a=o.next();!a.done;a=o.next()){var s=a.value;0!==(null==s?void 0:s.length)&&"."!==s&&(".."===s?i.pop():i.push(s))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}var u="".concat((null==r?void 0:r.startsWith("/"))?"/":"").concat(i.join("/")).concat(i.length>0&&(null==r?void 0:r.endsWith("/"))?"/":"");return encodeURIComponent(u).replace(/%2F/g,"/")}return r},e.prototype.getSignature=function(e,t,n,r){return Ot(this,void 0,void 0,(function(){var i,o,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(o=new(s.apply(a,[void 0,c.sent()]))).update(i),u=iH,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){return Ot(void 0,void 0,void 0,(function(){var o,a,s,u,c,l,f,d,h;return kt(this,(function(p){switch(p.label){case 0:return[4,_H(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=p.sent(),(a="".concat(n,":").concat(r,":").concat(i,":").concat(iH(o),":").concat(t.sessionToken))in wH)return[2,wH[a]];for(SH.push(a);SH.length>50;)delete wH[SH.shift()];s="AWS4".concat(t.secretAccessKey),p.label=2;case 2:p.trys.push([2,7,8,9]),u=Rt([n,r,i,bH]),c=u.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,_H(e,s,l)]);case 4:s=p.sent(),p.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=p.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,wH[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e.prototype.validateResolvedCredentials=function(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")},e}(),RH=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}},LH=function(e){return Object.keys(e).sort().join(";")},NH=function(e){return new Date(Date.now()+e)},DH=function(e,t){var n=Date.parse(e);return function(e,t){return Math.abs(NH(t).getTime()-e)>=3e5}(n,t)?n-Date.now():t},MH=function(e){var t,n,r;return PK.isInstance(e)?null!==(n=null===(t=e.headers)||void 0===t?void 0:t.date)&&void 0!==n?n:null===(r=e.headers)||void 0===r?void 0:r.Date:void 0},jH={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},UH="user-agent",FH="x-amz-user-agent",zH=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,BH=function(e){var t=Lt(e,2),n=t[0],r=t[1],i=n.indexOf("/"),o=n.substring(0,i),a=n.substring(i+1);return"api"===o&&(a=a.toLowerCase()),[o,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(zH,"_")})).join("/")},qH={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},KH=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,It({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,It({},e))})),n},i=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Dt([],Lt(i(e)),!1))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Dt([],Lt(i(e)),!1))})),t},o=function(n){void 0===n&&(n=!1);var r=[],o=[],a={};e.forEach((function(e){var t=It(It({},e),{before:[],after:[]});t.name&&(a[t.name]=t),r.push(t)})),t.forEach((function(e){var t=It(It({},e),{before:[],after:[]});t.name&&(a[t.name]=t),o.push(t)})),o.forEach((function(e){if(e.toMiddleware){var t=a[e.toMiddleware];if(void 0===t){if(n)return;throw new Error("".concat(e.toMiddleware," is not found when adding ").concat(e.name||"anonymous"," middleware ").concat(e.relation," ").concat(e.toMiddleware))}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var s,u=(s=r,s.sort((function(e,t){return HH[t.step]-HH[e.step]||GH[t.priority||"normal"]-GH[e.priority||"normal"]}))).map(i).reduce((function(e,t){return e.push.apply(e,Dt([],Lt(t),!1)),e}),[]);return u},a={add:function(t,r){void 0===r&&(r={});var i=r.name,o=r.override,a=It({step:"initialize",priority:"normal",middleware:t},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '".concat(i,"'"));var s=e.findIndex((function(e){return e.name===i})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'.concat(i,'" middleware with ').concat(u.priority," priority in ").concat(u.step," step cannot be ")+"overridden by same-name middleware with ".concat(a.priority," priority in ").concat(a.step," step."));e.splice(s,1)}n.add(i)}e.push(a)},addRelativeTo:function(e,r){var i=r.name,o=r.override,a=It({middleware:e},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '".concat(i,"'"));var s=t.findIndex((function(e){return e.name===i})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'.concat(i,'" middleware ').concat(u.relation,' "').concat(u.toMiddleware,'" middleware cannot be overridden ')+"by same-name middleware ".concat(a.relation,' "').concat(a.toMiddleware,'" middleware.'));t.splice(s,1)}n.add(i)}t.push(a)},clone:function(){return r(KH())},use:function(e){e.applyToStack(a)},remove:function(r){return"string"==typeof r?function(r){var i=!1,o=function(e){return!e.name||e.name!==r||(i=!0,n.delete(r),!1)};return e=e.filter(o),t=t.filter(o),i}(r):function(r){var i=!1,o=function(e){return e.middleware!==r||(i=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),i}(r)},removeByTag:function(r){var i=!1,o=function(e){var t=e.tags,o=e.name;return!t||!t.includes(r)||(o&&n.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:function(e){var t=r(KH());return t.use(e),t},applyToStack:r,identify:function(){return o(!0).map((function(e){return e.name+": "+(e.tags||[]).join(",")}))},resolve:function(e,t){var n,r;try{for(var i=Rt(o().map((function(e){return e.middleware})).reverse()),a=i.next();!a.done;a=i.next())e=(0,a.value)(e,t)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e}};return a},HH={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},GH={high:3,normal:2,low:1},VH=function(){function e(e){this.middlewareStack=KH(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),$H=function(){this.middlewareStack=KH()},WH="***SensitiveInformation***",YH=(Math.ceil(Math.pow(2,127)*(2-Math.pow(2,-23))),function(e){if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError("Expected integer, got ".concat(typeof e,": ").concat(e))}}),ZH=function(e){return JH(e,32)},JH=function(e,t){var n=YH(e);if(void 0!==n&&XH(n,t)!==n)throw new TypeError("Expected ".concat(t,"-bit integer, got ").concat(e));return n},XH=function(e,t){switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},QH=function(e,t){if(null==e){if(t)throw new TypeError("Expected a non-null value for ".concat(t));throw new TypeError("Expected a non-null value")}return e},eG=function(e){if(null!=e){if("object"==typeof e&&!Array.isArray(e))return e;var t=Array.isArray(e)?"array":typeof e;throw new TypeError("Expected object, got ".concat(t,": ").concat(e))}},tG=function(e){if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return oG.warn(iG("Expected string, got ".concat(typeof e,": ").concat(e))),String(e);throw new TypeError("Expected string, got ".concat(typeof e,": ").concat(e))}},nG=function(e){return"string"==typeof e?rG(e):function(e){if(null!=e){if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&oG.warn(iG("Expected number but observed string: ".concat(e))),t}if("number"==typeof e)return e;throw new TypeError("Expected number, got ".concat(typeof e,": ").concat(e))}}(e)},rG=function(e){switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unable to parse float value: ".concat(e))}},iG=function(e){return String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((function(e){return!e.includes("stackTraceWarning")})).join("\n")},oG={warn:console.warn},aG=function(e){function t(n){var r=e.call(this,n.message)||this;return Object.setPrototypeOf(r,t.prototype),r.name=n.name,r.$fault=n.$fault,r.$metadata=n.$metadata,r}return xe(t,e),t}(Error),sG=function(e,t){void 0===t&&(t={}),Object.entries(t).filter((function(e){return void 0!==Lt(e,2)[1]})).forEach((function(t){var n=Lt(t,2),r=n[0],i=n[1];null!=e[r]&&""!==e[r]||(e[r]=i)}));var n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},uG=function(e){var t=e.output,n=e.parsedBody,r=e.exceptionCtor,i=e.errorCode,o=cG(t),a=o.httpStatusCode?o.httpStatusCode+"":void 0,s=new r({name:n.code||n.Code||i||a||"UnknowError",$fault:"client",$metadata:o});throw sG(s,n)},cG=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},lG=function(e){switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},fG=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Dt([null],Lt(arguments),!1)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};fG.prototype=Object.create(String.prototype,{constructor:{value:fG,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(fG,String);var dG=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xe(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))},t}(fG);function hG(e,t,n){var r,i,o,a;if(void 0===t&&void 0===n)o={},a=e;else{if(o=e,"function"==typeof t)return pG(o,t,a=n);a=t}try{for(var s=Rt(Object.keys(a)),u=s.next();!u.done;u=s.next()){var c=u.value;if(Array.isArray(a[c])){var l=Lt(a[c],2),f=l[0],d=l[1];if("function"==typeof d){var h=void 0,p=void 0===f&&null!=(h=d()),v="function"==typeof f&&!!f(void 0)||"function"!=typeof f&&!!f;p?o[c]=h:v&&(o[c]=d())}else p=void 0===f&&null!=d,v="function"==typeof f&&!!f(d)||"function"!=typeof f&&!!f,(p||v)&&(o[c]=d)}else o[c]=a[c]}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}var pG=function(e,t,n){return hG(e,Object.entries(n).reduce((function(e,n){var r=Lt(n,2),i=r[0],o=r[1];return Array.isArray(o)?e[i]=o:e[i]="function"==typeof o?[t,o()]:[t,o],e}),{}))};function vG(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}var yG=function(e,t,n,r,i,o){if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");var a=r();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");return e.replace(i,o?a.split("/").map((function(e){return vG(e)})).join("/"):vG(a))};for(var gG=n(7643),mG=function(){function e(e){"function"==typeof e?this.configProvider=e().then((function(e){return e||{}})):(this.config=null!=e?e:{},this.configProvider=Promise.resolve(this.config))}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal;return Ot(this,void 0,void 0,(function(){var t,r,i,o,a,s,u,c,l,f,d,h;return kt(this,(function(p){switch(p.label){case 0:return this.config?[3,2]:(t=this,[4,this.configProvider]);case 1:t.config=p.sent(),p.label=2;case 2:return r=this.config.requestTimeout,(null==n?void 0:n.aborted)?((i=new Error("Request aborted")).name="AbortError",[2,Promise.reject(i)]):(o=e.path,e.query&&(a=function(e){var t,n,r=[];try{for(var i=Rt(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var a=o.value,s=e[a];if(a=AH(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push("".concat(a,"=").concat(AH(s[u])));else{var l=a;(s||"string"==typeof s)&&(l+="=".concat(AH(s))),r.push(l)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.join("&")}(e.query),a&&(o+="?".concat(a))),s=e.port,u=e.method,c="".concat(e.protocol,"//").concat(e.hostname).concat(s?":".concat(s):"").concat(o),l="GET"===u||"HEAD"===u?void 0:e.body,f={body:l,headers:new Headers(e.headers),method:u},"undefined"!=typeof AbortController&&(f.signal=n),d=new Request(c,f),h=[fetch(d).then((function(e){var t,n,r=e.headers,i={};try{for(var o=Rt(r.entries()),a=o.next();!a.done;a=o.next()){var s=a.value;i[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new PK({headers:i,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new PK({headers:i,statusCode:e.status,body:t})}}))})),(v=r,void 0===v&&(v=0),new Promise((function(e,t){v&&setTimeout((function(){var e=new Error("Request did not complete within ".concat(v," ms"));e.name="TimeoutError",t(e)}),v)})))],n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),[2,Promise.race(h)])}var v}))}))},e}(),bG={},wG=new Array(64),SG=0,EG="A".charCodeAt(0),_G="Z".charCodeAt(0);SG+EG<=_G;SG++){var xG=String.fromCharCode(SG+EG);bG[xG]=SG,wG[SG]=xG}for(SG=0,EG="a".charCodeAt(0),_G="z".charCodeAt(0);SG+EG<=_G;SG++){xG=String.fromCharCode(SG+EG);var AG=SG+26;bG[xG]=AG,wG[AG]=xG}for(SG=0;SG<10;SG++)bG[SG.toString(10)]=SG+52,xG=SG.toString(10),AG=SG+52,bG[xG]=AG,wG[AG]=xG;function TG(e){var t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),i=0;i<e.length;i+=4){for(var o=0,a=0,s=i,u=i+3;s<=u;s++)if("="!==e[s]){if(!(e[s]in bG))throw new TypeError("Invalid character ".concat(e[s]," in base64 string."));o|=bG[e[s]]<<6*(u-s),a+=6}else o>>=6;var c=i/4*3;o>>=a%8;for(var l=Math.floor(a/8),f=0;f<l;f++){var d=8*(l-f-1);r.setUint8(c+f,(o&255<<d)>>d)}}return new Uint8Array(n)}function CG(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,i=0,o=n,a=Math.min(n+3,e.length);o<a;o++)r|=e[o]<<8*(a-o-1),i+=8;var s=Math.ceil(i/6);r<<=6*s-i;for(var u=1;u<=s;u++){var c=6*(s-u);t+=wG[(r&63<<c)>>c]}t+="==".slice(0,4-s)}return t}bG["+"]=62,wG[62]="+",bG["/"]=63,wG[63]="/";var IG=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return Ot(this,void 0,void 0,(function(){var t,n;return kt(this,(function(r){switch(r.label){case 0:return[4,PG(e)];case 1:return t=r.sent(),n=TG(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return Ot(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return kt(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=u.sent(),o=i.done,(a=i.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=o,[3,1];case 3:return[2,t]}}))}))}(e)};function PG(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),a=o>-1?o+1:i.length;t(i.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var OG=function(e){return function(){return Promise.reject(e)}},kG=function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error("Body Length computation failed for ".concat(e))},RG=function(e){var t=e.serviceId,n=e.clientVersion;return function(){return Ot(void 0,void 0,void 0,(function(){var e,r,i,o,a,s,u,c,l;return kt(this,(function(f){return e="undefined"!=typeof window&&(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?mr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/".concat((null===(o=null==e?void 0:e.os)||void 0===o?void 0:o.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser","".concat(null!==(u=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown","_").concat(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/".concat(t),n]),[2,r]}))}))}},LG=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},NG=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)},DG=function(e){if("string"==typeof e)return DG(new URL(e));var t,n=e,r=n.hostname,i=n.pathname,o=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var i=Rt(e.split("&")),o=i.next();!o.done;o=i.next()){var a=Lt(o.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:o?parseInt(o):void 0,protocol:a,path:i,query:t}},MG={"us-east-1":{variants:[{hostname:"runtime-fips.lex.us-east-1.amazonaws.com",tags:["fips"]}]},"us-gov-west-1":{variants:[{hostname:"runtime-fips.lex.us-gov-west-1.amazonaws.com",tags:["fips"]}]},"us-west-2":{variants:[{hostname:"runtime-fips.lex.us-west-2.amazonaws.com",tags:["fips"]}]}},jG={aws:{regions:["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ap-southeast-3","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-central-1","me-south-1","sa-east-1","us-east-1","us-east-1-fips","us-east-2","us-west-1","us-west-2","us-west-2-fips"],regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",variants:[{hostname:"runtime.lex.{region}.amazonaws.com",tags:[]},{hostname:"runtime-fips.lex.{region}.amazonaws.com",tags:["fips"]},{hostname:"runtime.lex-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"runtime.lex.{region}.api.aws",tags:["dualstack"]}]},"aws-cn":{regions:["cn-north-1","cn-northwest-1"],regionRegex:"^cn\\-\\w+\\-\\d+$",variants:[{hostname:"runtime.lex.{region}.amazonaws.com.cn",tags:[]},{hostname:"runtime.lex-fips.{region}.amazonaws.com.cn",tags:["fips"]},{hostname:"runtime.lex-fips.{region}.api.amazonwebservices.com.cn",tags:["dualstack","fips"]},{hostname:"runtime.lex.{region}.api.amazonwebservices.com.cn",tags:["dualstack"]}]},"aws-iso":{regions:["us-iso-east-1","us-iso-west-1"],regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",variants:[{hostname:"runtime.lex.{region}.c2s.ic.gov",tags:[]},{hostname:"runtime.lex-fips.{region}.c2s.ic.gov",tags:["fips"]}]},"aws-iso-b":{regions:["us-isob-east-1"],regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",variants:[{hostname:"runtime.lex.{region}.sc2s.sgov.gov",tags:[]},{hostname:"runtime.lex-fips.{region}.sc2s.sgov.gov",tags:["fips"]}]},"aws-us-gov":{regions:["us-gov-east-1","us-gov-west-1","us-gov-west-1-fips"],regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",variants:[{hostname:"runtime.lex.{region}.amazonaws.com",tags:[]},{hostname:"runtime-fips.lex.{region}.amazonaws.com",tags:["fips"]},{hostname:"runtime.lex-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"runtime.lex.{region}.api.aws",tags:["dualstack"]}]}},UG=function(e,t){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(n){return[2,CK(e,It(It({},t),{signingService:"lex",regionHash:MG,partitionHash:jG}))]}))}))},FG=["in-region","cross-region","mobile","standard","legacy"],zG=function(){var e,t,n="undefined"!=typeof window&&(null===(e=null===window||void 0===window?void 0:window.navigator)||void 0===e?void 0:e.userAgent)?mr().parse(window.navigator.userAgent):void 0,r=null===(t=null==n?void 0:n.platform)||void 0===t?void 0:t.type;return"tablet"===r||"mobile"===r},BG=function(e){function t(t){var n,r,i,o=this,a=function(e){var t=e.region,n=e.useFipsEndpoint;if(!t)throw new Error("Region is missing");return It(It({},e),{region:function(){return Ot(void 0,void 0,void 0,(function(){var e;return kt(this,(function(n){switch(n.label){case 0:return"string"==typeof t?[2,AK(t)]:[4,t()];case 1:return e=n.sent(),[2,AK(e)]}}))}))},useFipsEndpoint:function(){return Ot(void 0,void 0,void 0,(function(){var e;return kt(this,(function(r){switch(r.label){case 0:return"string"!=typeof t?[3,1]:(e=t,[3,3]);case 1:return[4,t()];case 2:e=r.sent(),r.label=3;case 3:return xK(e)?[2,!0]:[2,"boolean"==typeof n?Promise.resolve(n):n()]}}))}))}})}(function(e){var t,n,r,i,o,a,s,u,c,l,f,d,h,p,v,y=function(e){var t=(void 0===e?{}:e).defaultsMode;return QK((function(){return Ot(void 0,void 0,void 0,(function(){var e,n;return kt(this,(function(r){switch(r.label){case 0:return"function"!=typeof t?[3,2]:[4,t()];case 1:return n=r.sent(),[3,3];case 2:n=t,r.label=3;case 3:switch(null==(e=n)?void 0:e.toLowerCase()){case"auto":return[2,Promise.resolve(zG()?"mobile":"standard")];case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return[2,Promise.resolve(null==e?void 0:e.toLocaleLowerCase())];case void 0:return[2,Promise.resolve("legacy")];default:throw new Error('Invalid parameter for "defaultsMode", expect '.concat(FG.join(", "),", got ").concat(e))}return[2]}}))}))}))}(e),g=function(){return y().then(lG)},m=function(e){var t,n,r,i,o;return{apiVersion:"2016-11-28",disableHostPrefix:null!==(t=null==e?void 0:e.disableHostPrefix)&&void 0!==t&&t,logger:null!==(n=null==e?void 0:e.logger)&&void 0!==n?n:{},regionInfoProvider:null!==(r=null==e?void 0:e.regionInfoProvider)&&void 0!==r?r:UG,serviceId:null!==(i=null==e?void 0:e.serviceId)&&void 0!==i?i:"Lex Runtime Service",urlParser:null!==(o=null==e?void 0:e.urlParser)&&void 0!==o?o:DG}}(e);return It(It(It({},m),e),{runtime:"browser",defaultsMode:y,base64Decoder:null!==(t=null==e?void 0:e.base64Decoder)&&void 0!==t?t:TG,base64Encoder:null!==(n=null==e?void 0:e.base64Encoder)&&void 0!==n?n:CG,bodyLengthChecker:null!==(r=null==e?void 0:e.bodyLengthChecker)&&void 0!==r?r:kG,credentialDefaultProvider:null!==(i=null==e?void 0:e.credentialDefaultProvider)&&void 0!==i?i:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(o=null==e?void 0:e.defaultUserAgentProvider)&&void 0!==o?o:RG({serviceId:m.serviceId,clientVersion:"3.186.0"}),maxAttempts:null!==(a=null==e?void 0:e.maxAttempts)&&void 0!==a?a:3,region:null!==(s=null==e?void 0:e.region)&&void 0!==s?s:OG("Region is missing"),requestHandler:null!==(u=null==e?void 0:e.requestHandler)&&void 0!==u?u:new mG(g),retryMode:null!==(c=null==e?void 0:e.retryMode)&&void 0!==c?c:function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return[4,g()];case 1:return[2,e.sent().retryMode||MK]}}))}))},sha256:null!==(l=null==e?void 0:e.sha256)&&void 0!==l?l:gG.Sha256,streamCollector:null!==(f=null==e?void 0:e.streamCollector)&&void 0!==f?f:IG,useDualstackEndpoint:null!==(d=null==e?void 0:e.useDualstackEndpoint)&&void 0!==d?d:function(){return Promise.resolve(!1)},useFipsEndpoint:null!==(h=null==e?void 0:e.useFipsEndpoint)&&void 0!==h?h:function(){return Promise.resolve(!1)},utf8Decoder:null!==(p=null==e?void 0:e.utf8Decoder)&&void 0!==p?p:LG,utf8Encoder:null!==(v=null==e?void 0:e.utf8Encoder)&&void 0!==v?v:NG})}(t)),s=function(e){var t,n=_K(null!==(t=e.maxAttempts)&&void 0!==t?t:3);return It(It({},e),{maxAttempts:n,retryStrategy:function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return e.retryStrategy?[2,e.retryStrategy]:[4,_K(e.retryMode)()];case 1:return t.sent()===EK.ADAPTIVE?[2,new ZK(n)]:[2,new $K(n)]}}))}))}})}(function(e){var t,n=_K(e.useDualstackEndpoint),r=e.endpoint,i=e.useFipsEndpoint,o=e.urlParser;return It(It({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:r?_K("string"==typeof r?o(r):r):function(){return function(e){return Ot(void 0,void 0,void 0,(function(){var t,n,r,i,o,a,s;return kt(this,(function(u){switch(u.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=u.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.useDualstackEndpoint()];case 2:return i=u.sent(),[4,e.useFipsEndpoint()];case 3:return o=u.sent(),[4,e.regionInfoProvider(r,{useDualstackEndpoint:i,useFipsEndpoint:o})];case 4:if(!(a=(null!==(s=u.sent())&&void 0!==s?s:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser("".concat(n?"https:":"http:","//").concat(a))]}}))}))}(It(It({},e),{useDualstackEndpoint:n,useFipsEndpoint:i}))},isCustomEndpoint:!!r,useDualstackEndpoint:n})}(a)),u=function(e){var t,n,r=e.credentials?"function"==typeof(n=e.credentials)?QK(n,(function(e){return void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5}),(function(e){return void 0!==e.expiration})):_K(n):e.credentialDefaultProvider(e),i=e.signingEscapePath,o=void 0===i||i,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?_K(e.signer):e.regionInfoProvider?function(){return _K(e.region)().then((function(t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o;return kt(this,(function(a){switch(a.label){case 0:return r=(n=e).regionInfoProvider,i=[t],o={},[4,e.useFipsEndpoint()];case 1:return o.useFipsEndpoint=a.sent(),[4,e.useDualstackEndpoint()];case 2:return[4,r.apply(n,i.concat([(o.useDualstackEndpoint=a.sent(),o)]))];case 3:return[2,[a.sent()||{},t]]}}))}))})).then((function(t){var n=Lt(t,2),i=n[0],a=n[1],s=i.signingRegion,c=i.signingService;e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId;var l=It(It({},e),{credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o});return new(e.signerConstructor||kH)(l)}))}:function(t){return Ot(void 0,void 0,void 0,(function(){var n,i,a;return kt(this,(function(s){if(!t)throw new Error("Unexpected empty auth scheme config");return n=t.signingScope,i=t.signingName,e.signingRegion=e.signingRegion||n,e.signingName=e.signingName||i||e.serviceId,a=It(It({},e),{credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o}),[2,new(e.signerConstructor||kH)(a)]}))}))},It(It({},e),{systemClockOffset:s,signingEscapePath:o,credentials:r,signer:t})}(s),c=It(It({},n=u),{customUserAgent:"string"==typeof n.customUserAgent?[[n.customUserAgent]]:n.customUserAgent});return(o=e.call(this,c)||this).config=c,o.middlewareStack.use((i=o.config,{applyToStack:function(e){e.add(function(e){return function(t,n){return function(r){return Ot(void 0,void 0,void 0,(function(){var i;return kt(this,(function(o){switch(o.label){case 0:return[4,e.retryStrategy()];case 1:return(null==(i=o.sent())?void 0:i.mode)&&(n.userAgent=Dt(Dt([],Lt(n.userAgent||[]),!1),[["cfg/retry-mode",i.mode]],!1)),[2,i.retry(t,r)]}}))}))}}}(i),JK)}})),o.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return Ot(t,void 0,void 0,(function(){var t,i,o,a,s;return kt(this,(function(u){if(t=r.request,IK.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map((function(e){return e.toLowerCase()})).indexOf(OK)))try{a=e(i),t.headers=It(It({},t.headers),((s={})[OK]=String(a),s))}catch(e){}return[2,n(It(It({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),kK)}}}(o.config)),o.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Ot(void 0,void 0,void 0,(function(){var r,i;return kt(this,(function(o){return IK.isInstance(n.request)?(r=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),RK)}}}(o.config)),o.middlewareStack.use((o.config,{applyToStack:function(e){e.add((function(e,t){return function(n){return Ot(void 0,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f;return kt(this,(function(d){switch(d.label){case 0:return r=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,f=Pt(c,["$metadata"]),a.info({clientName:r,commandName:i,input:o(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}),LK)}})),o.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Ot(void 0,void 0,void 0,(function(){var r,i,o,a;return kt(this,(function(s){return r=n.request,!IK.isInstance(r)||"node"!==e.runtime||r.headers.hasOwnProperty(NK)?[2,t(n)]:(i=process.env.AWS_LAMBDA_FUNCTION_NAME,o=process.env._X_AMZN_TRACE_ID,(a=function(e){return"string"==typeof e&&e.length>0})(i)&&a(o)&&(r.headers[NK]=o),[2,t(It(It({},n),{request:r}))])}))}))}}}(e),DK)}}}(o.config)),o.middlewareStack.use(function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t,n){return function(r){var i,o,a;return Ot(this,void 0,void 0,(function(){var s,u,c,l,f,d,h;return kt(this,(function(p){switch(p.label){case 0:return IK.isInstance(r.request)?(s=null===(a=null===(o=null===(i=n.endpointV2)||void 0===i?void 0:i.properties)||void 0===o?void 0:o.authSchemes)||void 0===a?void 0:a[0],[4,e.signer(s)]):[2,t(r)];case 1:return u=p.sent(),l=t,f=[It({},r)],h={},[4,u.sign(r.request,{signingDate:NH(e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 2:return[4,l.apply(void 0,[It.apply(void 0,f.concat([(h.request=p.sent(),h)]))]).catch((function(t){var n,r=null!==(n=t.ServerTime)&&void 0!==n?n:MH(t.$response);throw r&&(e.systemClockOffset=DH(r,e.systemClockOffset)),t}))];case 3:return c=p.sent(),(d=MH(c.response))&&(e.systemClockOffset=DH(d,e.systemClockOffset)),[2,c]}}))}))}}}(e),jH)}}}(o.config)),o.middlewareStack.use((r=o.config,{applyToStack:function(e){var t;e.add((t=r,function(e,n){return function(r){return Ot(void 0,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d;return kt(this,(function(h){switch(h.label){case 0:return i=r.request,IK.isInstance(i)?(o=i.headers,a=(null===(f=null==n?void 0:n.userAgent)||void 0===f?void 0:f.map(BH))||[],[4,t.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=h.sent().map(BH),u=(null===(d=null==t?void 0:t.customUserAgent)||void 0===d?void 0:d.map(BH))||[],c=Dt(Dt(Dt([],Lt(s),!1),Lt(a),!1),Lt(u),!1).join(" "),l=Dt(Dt([],Lt(s.filter((function(e){return e.startsWith("aws-sdk-")}))),!1),Lt(u),!1).join(" "),"browser"!==t.runtime?(l&&(o[FH]=o[FH]?"".concat(o[UH]," ").concat(l):l),o[UH]=c):o[FH]=c,[2,e(It(It({},r),{request:i}))]}}))}))}}),qH)}})),o}return xe(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(VH),qG={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},KG={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function HG(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return Ot(void 0,void 0,void 0,(function(){var i,o,a;return kt(this,(function(s){switch(s.label){case 0:return[4,n(r)];case 1:i=s.sent().response,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,t(i,e)];case 3:return o=s.sent(),[2,{response:i,output:o}];case 4:throw a=s.sent(),Object.defineProperty(a,"$response",{value:i}),a;case 5:return[2]}}))}))}}}(e,n),qG),r.add(function(e,t){return function(n,r){return function(i){return Ot(void 0,void 0,void 0,(function(){var o,a,s;return kt(this,(function(u){switch(u.label){case 0:if(!(o=(null===(s=r.endpointV2)||void 0===s?void 0:s.url)&&e.urlParser?function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){return[2,e.urlParser(r.endpointV2.url)]}))}))}:e.endpoint))throw new Error("No valid endpoint provider available.");return[4,t(i.input,It(It({},e),{endpoint:o}))];case 1:return a=u.sent(),[2,n(It(It({},i),{request:a}))]}}))}))}}}(e,t),KG)}}}var GG,VG,$G,WG,YG=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return xe(t,e),t}(aG),ZG=function(e){function t(n){var r=e.call(this,It({name:"BadRequestException",$fault:"client"},n))||this;return r.name="BadRequestException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return xe(t,e),t}(YG),JG=function(e){function t(n){var r=e.call(this,It({name:"ConflictException",$fault:"client"},n))||this;return r.name="ConflictException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return xe(t,e),t}(YG),XG=function(e){function t(n){var r=e.call(this,It({name:"InternalFailureException",$fault:"server"},n))||this;return r.name="InternalFailureException",r.$fault="server",Object.setPrototypeOf(r,t.prototype),r}return xe(t,e),t}(YG),QG=function(e){function t(n){var r=e.call(this,It({name:"LimitExceededException",$fault:"client"},n))||this;return r.name="LimitExceededException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.retryAfterSeconds=n.retryAfterSeconds,r}return xe(t,e),t}(YG),eV=function(e){function t(n){var r=e.call(this,It({name:"NotFoundException",$fault:"client"},n))||this;return r.name="NotFoundException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return xe(t,e),t}(YG);!function(e){e.FAILED="Failed",e.FULFILLED="Fulfilled",e.READY_FOR_FULFILLMENT="ReadyForFulfillment"}(GG||(GG={})),function(e){e.COMPOSITE="Composite",e.CUSTOM_PAYLOAD="CustomPayload",e.PLAIN_TEXT="PlainText",e.SSML="SSML"}(VG||(VG={})),function(e){e.CLOSE="Close",e.CONFIRM_INTENT="ConfirmIntent",e.DELEGATE="Delegate",e.ELICIT_INTENT="ElicitIntent",e.ELICIT_SLOT="ElicitSlot"}($G||($G={})),function(e){e.CONFIRMED="Confirmed",e.DENIED="Denied",e.NONE="None"}(WG||(WG={}));var tV,nV=function(e){function t(n){var r=e.call(this,It({name:"BadGatewayException",$fault:"server"},n))||this;return r.name="BadGatewayException",r.$fault="server",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return xe(t,e),t}(YG),rV=function(e){function t(n){var r=e.call(this,It({name:"DependencyFailedException",$fault:"client"},n))||this;return r.name="DependencyFailedException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return xe(t,e),t}(YG),iV=function(e){function t(n){var r=e.call(this,It({name:"LoopDetectedException",$fault:"server"},n))||this;return r.name="LoopDetectedException",r.$fault="server",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return xe(t,e),t}(YG),oV=function(e){function t(n){var r=e.call(this,It({name:"NotAcceptableException",$fault:"client"},n))||this;return r.name="NotAcceptableException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return xe(t,e),t}(YG);!function(e){e.CONFIRM_INTENT="ConfirmIntent",e.ELICIT_INTENT="ElicitIntent",e.ELICIT_SLOT="ElicitSlot",e.FAILED="Failed",e.FULFILLED="Fulfilled",e.READY_FOR_FULFILLMENT="ReadyForFulfillment"}(tV||(tV={}));var aV,sV=function(e){function t(n){var r=e.call(this,It({name:"RequestTimeoutException",$fault:"client"},n))||this;return r.name="RequestTimeoutException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return xe(t,e),t}(YG),uV=function(e){function t(n){var r=e.call(this,It({name:"UnsupportedMediaTypeException",$fault:"client"},n))||this;return r.name="UnsupportedMediaTypeException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return xe(t,e),t}(YG);!function(e){e.GENERIC="application/vnd.amazonaws.card.generic"}(aV||(aV={}));var cV=function(e){return It(It(It(It({},e),e.sessionAttributes&&{sessionAttributes:WH}),e.requestAttributes&&{requestAttributes:WH}),e.activeContexts&&{activeContexts:WH})},lV=function(e){return It(It(It(It(It({},e),e.message&&{message:WH}),e.encodedMessage&&{encodedMessage:WH}),e.encodedInputTranscript&&{encodedInputTranscript:WH}),e.activeContexts&&{activeContexts:WH})},fV=function(e){return It(It(It(It(It({},e),e.sessionAttributes&&{sessionAttributes:WH}),e.requestAttributes&&{requestAttributes:WH}),e.inputText&&{inputText:WH}),e.activeContexts&&{activeContexts:WH})},dV=function(e){return It(It(It(It(It(It({},e),e.alternativeIntents&&{alternativeIntents:e.alternativeIntents.map((function(e){return function(e){return It(It({},e),e.slots&&{slots:WH})}(e)}))}),e.slots&&{slots:WH}),e.sessionAttributes&&{sessionAttributes:WH}),e.message&&{message:WH}),e.activeContexts&&{activeContexts:WH})},hV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a;return kt(this,(function(s){switch(s.label){case 0:return r=[It({},e)],a={},[4,BV(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(a.body=s.sent(),a)])),i=qV(e,n.body)){case"BadGatewayException":case"com.amazonaws.lexruntimeservice#BadGatewayException":return[3,2];case"BadRequestException":case"com.amazonaws.lexruntimeservice#BadRequestException":return[3,4];case"ConflictException":case"com.amazonaws.lexruntimeservice#ConflictException":return[3,6];case"DependencyFailedException":case"com.amazonaws.lexruntimeservice#DependencyFailedException":return[3,8];case"InternalFailureException":case"com.amazonaws.lexruntimeservice#InternalFailureException":return[3,10];case"LimitExceededException":case"com.amazonaws.lexruntimeservice#LimitExceededException":return[3,12];case"LoopDetectedException":case"com.amazonaws.lexruntimeservice#LoopDetectedException":return[3,14];case"NotAcceptableException":case"com.amazonaws.lexruntimeservice#NotAcceptableException":return[3,16];case"NotFoundException":case"com.amazonaws.lexruntimeservice#NotFoundException":return[3,18];case"RequestTimeoutException":case"com.amazonaws.lexruntimeservice#RequestTimeoutException":return[3,20];case"UnsupportedMediaTypeException":case"com.amazonaws.lexruntimeservice#UnsupportedMediaTypeException":return[3,22]}return[3,24];case 2:return[4,yV(n,t)];case 3:throw s.sent();case 4:return[4,gV(n,t)];case 5:throw s.sent();case 6:return[4,mV(n,t)];case 7:throw s.sent();case 8:return[4,bV(n,t)];case 9:throw s.sent();case 10:return[4,wV(n,t)];case 11:throw s.sent();case 12:return[4,SV(n,t)];case 13:throw s.sent();case 14:return[4,EV(n,t)];case 15:throw s.sent();case 16:return[4,_V(n,t)];case 17:throw s.sent();case 18:return[4,xV(n,t)];case 19:throw s.sent();case 20:return[4,AV(n,t)];case 21:throw s.sent();case 22:return[4,TV(n,t)];case 23:throw s.sent();case 24:o=n.body,uG({output:e,parsedBody:o,exceptionCtor:YG,errorCode:i}),s.label=25;case 25:return[2]}}))}))},pV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a;return kt(this,(function(s){switch(s.label){case 0:return r=[It({},e)],a={},[4,BV(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(a.body=s.sent(),a)])),i=qV(e,n.body)){case"BadGatewayException":case"com.amazonaws.lexruntimeservice#BadGatewayException":return[3,2];case"BadRequestException":case"com.amazonaws.lexruntimeservice#BadRequestException":return[3,4];case"ConflictException":case"com.amazonaws.lexruntimeservice#ConflictException":return[3,6];case"DependencyFailedException":case"com.amazonaws.lexruntimeservice#DependencyFailedException":return[3,8];case"InternalFailureException":case"com.amazonaws.lexruntimeservice#InternalFailureException":return[3,10];case"LimitExceededException":case"com.amazonaws.lexruntimeservice#LimitExceededException":return[3,12];case"LoopDetectedException":case"com.amazonaws.lexruntimeservice#LoopDetectedException":return[3,14];case"NotFoundException":case"com.amazonaws.lexruntimeservice#NotFoundException":return[3,16]}return[3,18];case 2:return[4,yV(n,t)];case 3:throw s.sent();case 4:return[4,gV(n,t)];case 5:throw s.sent();case 6:return[4,mV(n,t)];case 7:throw s.sent();case 8:return[4,bV(n,t)];case 9:throw s.sent();case 10:return[4,wV(n,t)];case 11:throw s.sent();case 12:return[4,SV(n,t)];case 13:throw s.sent();case 14:return[4,EV(n,t)];case 15:throw s.sent();case 16:return[4,xV(n,t)];case 17:throw s.sent();case 18:o=n.body,uG({output:e,parsedBody:o,exceptionCtor:YG,errorCode:i}),s.label=19;case 19:return[2]}}))}))},vV=hG,yV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=vV({}),null!=(n=e.body).Message&&(t.Message=tG(n.Message)),r=new nV(It({$metadata:UV(e)},t)),[2,sG(r,e.body)]}))}))},gV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=vV({}),null!=(n=e.body).message&&(t.message=tG(n.message)),r=new ZG(It({$metadata:UV(e)},t)),[2,sG(r,e.body)]}))}))},mV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=vV({}),null!=(n=e.body).message&&(t.message=tG(n.message)),r=new JG(It({$metadata:UV(e)},t)),[2,sG(r,e.body)]}))}))},bV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=vV({}),null!=(n=e.body).Message&&(t.Message=tG(n.Message)),r=new rV(It({$metadata:UV(e)},t)),[2,sG(r,e.body)]}))}))},wV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=vV({}),null!=(n=e.body).message&&(t.message=tG(n.message)),r=new XG(It({$metadata:UV(e)},t)),[2,sG(r,e.body)]}))}))},SV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=vV({retryAfterSeconds:[,e.headers["retry-after"]]}),null!=(n=e.body).message&&(t.message=tG(n.message)),r=new QG(It({$metadata:UV(e)},t)),[2,sG(r,e.body)]}))}))},EV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=vV({}),null!=(n=e.body).Message&&(t.Message=tG(n.Message)),r=new iV(It({$metadata:UV(e)},t)),[2,sG(r,e.body)]}))}))},_V=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=vV({}),null!=(n=e.body).message&&(t.message=tG(n.message)),r=new oV(It({$metadata:UV(e)},t)),[2,sG(r,e.body)]}))}))},xV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=vV({}),null!=(n=e.body).message&&(t.message=tG(n.message)),r=new eV(It({$metadata:UV(e)},t)),[2,sG(r,e.body)]}))}))},AV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=vV({}),null!=(n=e.body).message&&(t.message=tG(n.message)),r=new sV(It({$metadata:UV(e)},t)),[2,sG(r,e.body)]}))}))},TV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=vV({}),null!=(n=e.body).message&&(t.message=tG(n.message)),r=new uV(It({$metadata:UV(e)},t)),[2,sG(r,e.body)]}))}))},CV=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Lt(t,2),i=r[0],o=r[1];return null===o?e:It(It({},e),((n={})[i]=o,n))}),{})},IV=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return function(e,t){return It(It(It({},null!=e.name&&{name:e.name}),null!=e.parameters&&{parameters:CV(e.parameters)}),null!=e.timeToLive&&{timeToLive:PV(e.timeToLive,t)})}(e,t)}))},PV=function(e,t){return It(It({},null!=e.timeToLiveInSeconds&&{timeToLiveInSeconds:e.timeToLiveInSeconds}),null!=e.turnsToLive&&{turnsToLive:e.turnsToLive})},OV=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Lt(t,2),i=r[0],o=r[1];return null===o?e:It(It({},e),((n={})[i]=o,n))}),{})},kV=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Lt(t,2),i=r[0],o=r[1];return null===o?e:It(It({},e),((n={})[i]=tG(o),n))}),{})},RV=function(e,t){return{timeToLiveInSeconds:ZH(e.timeToLiveInSeconds),turnsToLive:ZH(e.turnsToLive)}},LV=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{attachmentLinkUrl:tG(e.attachmentLinkUrl),buttons:null!=e.buttons?DV(e.buttons,t):void 0,imageUrl:tG(e.imageUrl),subTitle:tG(e.subTitle),title:tG(e.title)}}(e,t)}));return n},NV=function(e,t){return{score:nG(e.score)}},DV=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{text:tG(e.text),value:tG(e.value)}}(e)}))},MV=function(e,t){return{intentName:tG(e.intentName),nluIntentConfidence:null!=e.nluIntentConfidence?NV(e.nluIntentConfidence):void 0,slots:null!=e.slots?jV(e.slots,t):void 0}},jV=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Lt(t,2),i=r[0],o=r[1];return null===o?e:It(It({},e),((n={})[i]=tG(o),n))}),{})},UV=function(e){var t,n;return{httpStatusCode:e.statusCode,requestId:null!==(n=null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"])&&void 0!==n?n:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},FV=function(e){return!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size)},zV=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},BV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){switch(i.label){case 0:return[4,zV(e,t)];case 1:return(n=i.sent()).message=null!==(r=n.message)&&void 0!==r?r:n.Message,[2,n]}}))}))},qV=function(e,t){var n,r=function(e){var t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==i?r(e.headers[i]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):void 0},KV=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(HG(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"LexRuntimeServiceClient",commandName:"PostTextCommand",inputFilterSensitiveLog:fV,outputFilterSensitiveLog:dV},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return n=f.sent(),r=n.hostname,i=n.protocol,o=void 0===i?"https":i,a=n.port,s=n.path,u={"content-type":"application/json"},c="".concat((null==s?void 0:s.endsWith("/"))?s.slice(0,-1):s||"")+"/bot/{botName}/alias/{botAlias}/user/{userId}/text",c=yG(c,e,"botName",(function(){return e.botName}),"{botName}",!1),c=yG(c,e,"botAlias",(function(){return e.botAlias}),"{botAlias}",!1),c=yG(c,e,"userId",(function(){return e.userId}),"{userId}",!1),l=JSON.stringify(It(It(It(It({},null!=e.activeContexts&&{activeContexts:IV(e.activeContexts,t)}),null!=e.inputText&&{inputText:e.inputText}),null!=e.requestAttributes&&{requestAttributes:OV(e.requestAttributes)}),null!=e.sessionAttributes&&{sessionAttributes:OV(e.sessionAttributes)})),[2,new IK({protocol:o,hostname:r,port:a,method:"POST",headers:u,path:c,body:l})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o;return kt(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,pV(e,t)]:(n=vV({$metadata:UV(e)}),i=QH,o=eG,[4,zV(e.body,t)]);case 1:return null!=(r=i.apply(void 0,[o.apply(void 0,[a.sent()]),"body"])).activeContexts&&(n.activeContexts=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{name:tG(e.name),parameters:null!=e.parameters?kV(e.parameters):void 0,timeToLive:null!=e.timeToLive?RV(e.timeToLive,t):void 0}}(e,t)}));return n}(r.activeContexts,t)),null!=r.alternativeIntents&&(n.alternativeIntents=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:MV(e,t)}))}(r.alternativeIntents,t)),null!=r.botVersion&&(n.botVersion=tG(r.botVersion)),null!=r.dialogState&&(n.dialogState=tG(r.dialogState)),null!=r.intentName&&(n.intentName=tG(r.intentName)),null!=r.message&&(n.message=tG(r.message)),null!=r.messageFormat&&(n.messageFormat=tG(r.messageFormat)),null!=r.nluIntentConfidence&&(n.nluIntentConfidence=NV(r.nluIntentConfidence)),null!=r.responseCard&&(n.responseCard=function(e,t){return{contentType:tG(e.contentType),genericAttachments:null!=e.genericAttachments?LV(e.genericAttachments,t):void 0,version:tG(e.version)}}(r.responseCard,t)),null!=r.sentimentResponse&&(n.sentimentResponse=function(e,t){return{sentimentLabel:tG(e.sentimentLabel),sentimentScore:tG(e.sentimentScore)}}(r.sentimentResponse)),null!=r.sessionAttributes&&(n.sessionAttributes=jV(r.sessionAttributes,t)),null!=r.sessionId&&(n.sessionId=tG(r.sessionId)),null!=r.slotToElicit&&(n.slotToElicit=tG(r.slotToElicit)),null!=r.slots&&(n.slots=jV(r.slots,t)),[2,n]}}))}))}(e,t)},t}($H),HV=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(HG(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"LexRuntimeServiceClient",commandName:"PostContentCommand",inputFilterSensitiveLog:cV,outputFilterSensitiveLog:lV},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return n=f.sent(),r=n.hostname,i=n.protocol,o=void 0===i?"https":i,a=n.port,s=n.path,u=vV({},FV,{"x-amz-content-sha256":"UNSIGNED-PAYLOAD","content-type":e.contentType||"application/octet-stream","x-amz-lex-session-attributes":[function(){return FV(e.sessionAttributes)},function(){return t.base64Encoder(Buffer.from(dG.fromObject(e.sessionAttributes)))}],"x-amz-lex-request-attributes":[function(){return FV(e.requestAttributes)},function(){return t.base64Encoder(Buffer.from(dG.fromObject(e.requestAttributes)))}],accept:e.accept,"x-amz-lex-active-contexts":[function(){return FV(e.activeContexts)},function(){return t.base64Encoder(Buffer.from(dG.fromObject(e.activeContexts)))}]}),c="".concat((null==s?void 0:s.endsWith("/"))?s.slice(0,-1):s||"")+"/bot/{botName}/alias/{botAlias}/user/{userId}/content",c=yG(c,e,"botName",(function(){return e.botName}),"{botName}",!1),c=yG(c,e,"botAlias",(function(){return e.botAlias}),"{botAlias}",!1),c=yG(c,e,"userId",(function(){return e.userId}),"{userId}",!1),void 0!==e.inputStream&&(l=e.inputStream),[2,new IK({protocol:o,hostname:r,port:a,method:"POST",headers:u,path:c,body:l})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return 200!==e.statusCode&&e.statusCode>=300?[2,hV(e,t)]:(n=vV({$metadata:UV(e),contentType:[,e.headers["content-type"]],intentName:[,e.headers["x-amz-lex-intent-name"]],nluIntentConfidence:[function(){return void 0!==e.headers["x-amz-lex-nlu-intent-confidence"]},function(){return new dG(Buffer.from(t.base64Decoder(e.headers["x-amz-lex-nlu-intent-confidence"])).toString("utf8"))}],alternativeIntents:[function(){return void 0!==e.headers["x-amz-lex-alternative-intents"]},function(){return new dG(Buffer.from(t.base64Decoder(e.headers["x-amz-lex-alternative-intents"])).toString("utf8"))}],slots:[function(){return void 0!==e.headers["x-amz-lex-slots"]},function(){return new dG(Buffer.from(t.base64Decoder(e.headers["x-amz-lex-slots"])).toString("utf8"))}],sessionAttributes:[function(){return void 0!==e.headers["x-amz-lex-session-attributes"]},function(){return new dG(Buffer.from(t.base64Decoder(e.headers["x-amz-lex-session-attributes"])).toString("utf8"))}],sentimentResponse:[,e.headers["x-amz-lex-sentiment"]],message:[,e.headers["x-amz-lex-message"]],encodedMessage:[,e.headers["x-amz-lex-encoded-message"]],messageFormat:[,e.headers["x-amz-lex-message-format"]],dialogState:[,e.headers["x-amz-lex-dialog-state"]],slotToElicit:[,e.headers["x-amz-lex-slot-to-elicit"]],inputTranscript:[,e.headers["x-amz-lex-input-transcript"]],encodedInputTranscript:[,e.headers["x-amz-lex-encoded-input-transcript"]],botVersion:[,e.headers["x-amz-lex-bot-version"]],sessionId:[,e.headers["x-amz-lex-session-id"]],activeContexts:[function(){return void 0!==e.headers["x-amz-lex-active-contexts"]},function(){return new dG(Buffer.from(t.base64Decoder(e.headers["x-amz-lex-active-contexts"])).toString("utf8"))}]}),r=e.body,n.audioStream=r,[2,n])}))}))}(e,t)},t}($H),GV=function(e){return gK(void 0,void 0,void 0,(function(){return mK(this,(function(t){return e instanceof Blob||e instanceof ReadableStream?[2,new Response(e).arrayBuffer().then((function(e){return new Uint8Array(e)}))]:[2,Promise.reject("Invalid content type")]}))}))},VV=new c("AWSLexProvider"),$V=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n._botsCompleteCallback={},n}return function(e,t){function n(){this.constructor=e}vK(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.getProviderName=function(){return"AWSLexProvider"},t.prototype.configure=function(t){void 0===t&&(t={});var n=["name","alias","region"];return Object.keys(t).forEach((function(e){var r=t[e];if(!n.every((function(e){return e in r})))throw new Error("invalid bot configuration")})),e.prototype.configure.call(this,t)},t.prototype.reportBotStatus=function(e,t){var n=this;VV.debug("postContent state",e.dialogState),"ReadyForFulfillment"!==e.dialogState&&"Fulfilled"!==e.dialogState||("function"==typeof this._botsCompleteCallback[t]&&setTimeout((function(){return n._botsCompleteCallback[t](null,e)}),0),this._config&&"function"==typeof this._config[t].onComplete&&setTimeout((function(){return n._config[t].onComplete(null,e)}),0)),"Failed"===e.dialogState&&("function"==typeof this._botsCompleteCallback[t]&&setTimeout((function(){return n._botsCompleteCallback[t]("Bot conversation failed")}),0),this._config&&"function"==typeof this._config[t].onComplete&&setTimeout((function(){return n._config[t].onComplete("Bot conversation failed")}),0))},t.prototype.sendMessage=function(e,t){return gK(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p;return mK(this,(function(v){switch(v.label){case 0:if(!this._config[e])return[2,Promise.reject("Bot "+e+" does not exist")];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,fs.get()];case 2:return n=v.sent(),[3,4];case 3:return v.sent(),[2,Promise.reject("No credentials")];case 4:if(this.lexRuntimeServiceClient=new BG({region:this._config[e].region,credentials:n,customUserAgent:te()}),"string"!=typeof t)return[3,9];r={botAlias:this._config[e].alias,botName:e,inputText:t,userId:n.identityId},VV.debug("postText to lex",t),v.label=5;case 5:return v.trys.push([5,7,,8]),i=new KV(r),[4,this.lexRuntimeServiceClient.send(i)];case 6:return l=v.sent(),this.reportBotStatus(l,e),[2,l];case 7:return o=v.sent(),[2,Promise.reject(o)];case 8:return[3,21];case 9:return a=t.content,"voice"!==t.options.messageType?[3,13]:"object"!=typeof a?[2,Promise.reject("invalid content type")]:a instanceof Uint8Array?(u=a,[3,12]):[3,10];case 10:return[4,GV(a)];case 11:u=v.sent(),v.label=12;case 12:return s=u,r={botAlias:this._config[e].alias,botName:e,contentType:"audio/x-l16; sample-rate=16000; channel-count=1",userId:n.identityId,accept:"audio/mpeg",inputStream:s},[3,14];case 13:if("string"!=typeof a)return[2,Promise.reject("invalid content type")];r={botAlias:this._config[e].alias,botName:e,contentType:"text/plain; charset=utf-8",inputStream:a,userId:n.identityId,accept:"audio/mpeg"},v.label=14;case 14:VV.debug("postContent to lex",t),v.label=15;case 15:return v.trys.push([15,20,,21]),c=new HV(r),[4,this.lexRuntimeServiceClient.send(c)];case 16:return(l=v.sent()).audioStream?[4,GV(l.audioStream)]:[3,18];case 17:return d=v.sent(),[3,19];case 18:d=void 0,v.label=19;case 19:return f=d,h=yK(yK({},l),{audioStream:f}),this.reportBotStatus(h,e),[2,h];case 20:return p=v.sent(),[2,Promise.reject(p)];case 21:return[2]}}))}))},t.prototype.onComplete=function(e,t){if(!this._config[e])throw new Error("Bot "+e+" does not exist");this._botsCompleteCallback[e]=t},t}(SK),WV=new c("Interactions"),YV=function(){function e(e){void 0===e&&(e={}),this._options=e,WV.debug("Interactions Options",this._options),this._pluggables={}}return e.prototype.getModuleName=function(){return"Interactions"},e.prototype.configure=function(e){var t=this,n=e?e.Interactions||e:{};WV.debug("configure Interactions",{opt:n}),this._options=yK(yK({bots:{}},n),n.Interactions);var r=this._options.aws_bots_config,i=this._options.bots;return!Object.keys(i).length&&r&&Array.isArray(r)&&r.forEach((function(e){t._options.bots[e.name]=e})),Object.keys(i).forEach((function(e){var n,r=i[e],o=r.providerName||"AWSLexProvider";t._pluggables.AWSLexProvider||"AWSLexProvider"!==o||(t._pluggables.AWSLexProvider=new $V),t._pluggables[o]?t._pluggables[o].configure(((n={})[r.name]=r,n)):WV.debug("bot "+r.name+" was not configured as "+o+" provider was not found")})),this._options},e.prototype.addPluggable=function(e){var t=this;if(e&&"Interactions"===e.getCategory()){if(this._pluggables[e.getProviderName()])throw new Error("Pluggable "+e.getProviderName()+" already plugged");return Object.keys(this._options.bots).filter((function(n){return t._options.bots[n].providerName===e.getProviderName()})).forEach((function(n){var r,i=t._options.bots[n];e.configure(((r={})[i.name]=i,r))})),void(this._pluggables[e.getProviderName()]=e)}},e.prototype.send=function(e,t){return gK(this,void 0,void 0,(function(){var n;return mK(this,(function(r){switch(r.label){case 0:return this._options.bots&&this._options.bots[e]?(n=this._options.bots[e].providerName||"AWSLexProvider",this._pluggables[n]?[4,this._pluggables[n].sendMessage(e,t)]:[2,Promise.reject("Bot "+n+" does not have valid pluggin did you try addPluggable first?")]):[2,Promise.reject("Bot "+e+" does not exist")];case 1:return[2,r.sent()]}}))}))},e.prototype.onComplete=function(e,t){if(!this._options.bots||!this._options.bots[e])throw new Error("Bot "+e+" does not exist");var n=this._options.bots[e].providerName||"AWSLexProvider";if(!this._pluggables[n])throw new Error("Bot "+n+" does not have valid pluggin did you try addPluggable first?");this._pluggables[n].onComplete(e,t)},e}(),ZV=new YV;d.register(ZV);var JV=n(5564),XV=n.n(JV),QV={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},e$={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function t$(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return Ot(void 0,void 0,void 0,(function(){var i,o,a;return kt(this,(function(s){switch(s.label){case 0:return[4,n(r)];case 1:i=s.sent().response,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,t(i,e)];case 3:return o=s.sent(),[2,{response:i,output:o}];case 4:throw a=s.sent(),Object.defineProperty(a,"$response",{value:i}),a;case 5:return[2]}}))}))}}}(e,n),QV),r.add(function(e,t){return function(n,r){return function(i){return Ot(void 0,void 0,void 0,(function(){var o,a,s;return kt(this,(function(u){switch(u.label){case 0:if(!(o=(null===(s=r.endpointV2)||void 0===s?void 0:s.url)&&e.urlParser?function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){return[2,e.urlParser(r.endpointV2.url)]}))}))}:e.endpoint))throw new Error("No valid endpoint provider available.");return[4,t(i.input,It(It({},e),{endpoint:o}))];case 1:return a=u.sent(),[2,n(It(It({},i),{request:a}))]}}))}))}}}(e,t),e$)}}}var n$=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,It({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,It({},e))})),n},i=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Dt([],Lt(i(e)),!1))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Dt([],Lt(i(e)),!1))})),t},o=function(n){void 0===n&&(n=!1);var r=[],o=[],a={};e.forEach((function(e){var t=It(It({},e),{before:[],after:[]});t.name&&(a[t.name]=t),r.push(t)})),t.forEach((function(e){var t=It(It({},e),{before:[],after:[]});t.name&&(a[t.name]=t),o.push(t)})),o.forEach((function(e){if(e.toMiddleware){var t=a[e.toMiddleware];if(void 0===t){if(n)return;throw new Error("".concat(e.toMiddleware," is not found when adding ").concat(e.name||"anonymous"," middleware ").concat(e.relation," ").concat(e.toMiddleware))}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var s,u=(s=r,s.sort((function(e,t){return r$[t.step]-r$[e.step]||i$[t.priority||"normal"]-i$[e.priority||"normal"]}))).map(i).reduce((function(e,t){return e.push.apply(e,Dt([],Lt(t),!1)),e}),[]);return u},a={add:function(t,r){void 0===r&&(r={});var i=r.name,o=r.override,a=It({step:"initialize",priority:"normal",middleware:t},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '".concat(i,"'"));var s=e.findIndex((function(e){return e.name===i})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'.concat(i,'" middleware with ').concat(u.priority," priority in ").concat(u.step," step cannot be ")+"overridden by same-name middleware with ".concat(a.priority," priority in ").concat(a.step," step."));e.splice(s,1)}n.add(i)}e.push(a)},addRelativeTo:function(e,r){var i=r.name,o=r.override,a=It({middleware:e},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '".concat(i,"'"));var s=t.findIndex((function(e){return e.name===i})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'.concat(i,'" middleware ').concat(u.relation,' "').concat(u.toMiddleware,'" middleware cannot be overridden ')+"by same-name middleware ".concat(a.relation,' "').concat(a.toMiddleware,'" middleware.'));t.splice(s,1)}n.add(i)}t.push(a)},clone:function(){return r(n$())},use:function(e){e.applyToStack(a)},remove:function(r){return"string"==typeof r?function(r){var i=!1,o=function(e){return!e.name||e.name!==r||(i=!0,n.delete(r),!1)};return e=e.filter(o),t=t.filter(o),i}(r):function(r){var i=!1,o=function(e){return e.middleware!==r||(i=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),i}(r)},removeByTag:function(r){var i=!1,o=function(e){var t=e.tags,o=e.name;return!t||!t.includes(r)||(o&&n.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:function(e){var t=r(n$());return t.use(e),t},applyToStack:r,identify:function(){return o(!0).map((function(e){return e.name+": "+(e.tags||[]).join(",")}))},resolve:function(e,t){var n,r;try{for(var i=Rt(o().map((function(e){return e.middleware})).reverse()),a=i.next();!a.done;a=i.next())e=(0,a.value)(e,t)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e}};return a},r$={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},i$={high:3,normal:2,low:1},o$=function(){function e(e){this.middlewareStack=n$(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),a$=function(){this.middlewareStack=n$()},s$=(Math.ceil(Math.pow(2,127)*(2-Math.pow(2,-23))),function(e){if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError("Expected integer, got ".concat(typeof e,": ").concat(e))}}),u$=function(e){return c$(e,32)},c$=function(e,t){var n=s$(e);if(void 0!==n&&l$(n,t)!==n)throw new TypeError("Expected ".concat(t,"-bit integer, got ").concat(e));return n},l$=function(e,t){switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},f$=function(e){if(null!=e){if("object"==typeof e&&!Array.isArray(e))return e;var t=Array.isArray(e)?"array":typeof e;throw new TypeError("Expected object, got ".concat(t,": ").concat(e))}},d$=function(e){if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return y$.warn(v$("Expected string, got ".concat(typeof e,": ").concat(e))),String(e);throw new TypeError("Expected string, got ".concat(typeof e,": ").concat(e))}},h$=function(e){return"string"==typeof e?p$(e):function(e){if(null!=e){if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&y$.warn(v$("Expected number but observed string: ".concat(e))),t}if("number"==typeof e)return e;throw new TypeError("Expected number, got ".concat(typeof e,": ").concat(e))}}(e)},p$=function(e){switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unable to parse float value: ".concat(e))}},v$=function(e){return String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((function(e){return!e.includes("stackTraceWarning")})).join("\n")},y$={warn:console.warn},g$=function(e){function t(n){var r=e.call(this,n.message)||this;return Object.setPrototypeOf(r,t.prototype),r.name=n.name,r.$fault=n.$fault,r.$metadata=n.$metadata,r}return xe(t,e),t}(Error),m$=function(e,t){void 0===t&&(t={}),Object.entries(t).filter((function(e){return void 0!==Lt(e,2)[1]})).forEach((function(t){var n=Lt(t,2),r=n[0],i=n[1];null!=e[r]&&""!==e[r]||(e[r]=i)}));var n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},b$=function(e){var t=e.output,n=e.parsedBody,r=e.exceptionCtor,i=e.errorCode,o=w$(t),a=o.httpStatusCode?o.httpStatusCode+"":void 0,s=new r({name:n.code||n.Code||i||a||"UnknowError",$fault:"client",$metadata:o});throw m$(s,n)},w$=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},S$=function(e){switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},E$=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Dt([null],Lt(arguments),!1)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};function _$(e,t,n){var r,i,o,a;if(void 0===t&&void 0===n)o={},a=e;else{if(o=e,"function"==typeof t)return x$(o,t,a=n);a=t}try{for(var s=Rt(Object.keys(a)),u=s.next();!u.done;u=s.next()){var c=u.value;if(Array.isArray(a[c])){var l=Lt(a[c],2),f=l[0],d=l[1];if("function"==typeof d){var h=void 0,p=void 0===f&&null!=(h=d()),v="function"==typeof f&&!!f(void 0)||"function"!=typeof f&&!!f;p?o[c]=h:v&&(o[c]=d())}else p=void 0===f&&null!=d,v="function"==typeof f&&!!f(d)||"function"!=typeof f&&!!f,(p||v)&&(o[c]=d)}else o[c]=a[c]}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}E$.prototype=Object.create(String.prototype,{constructor:{value:E$,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(E$,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}xe(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(E$);var x$=function(e,t,n){return _$(e,Object.entries(n).reduce((function(e,n){var r=Lt(n,2),i=r[0],o=r[1];return Array.isArray(o)?e[i]=o:e[i]="function"==typeof o?[t,o()]:[t,o],e}),{}))};function A$(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}var T$,C$,I$,P$,O$,k$,R$,L$,N$,D$,M$,j$=function(e,t,n,r,i,o){if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");var a=r();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");return e.replace(i,o?a.split("/").map((function(e){return A$(e)})).join("/"):A$(a))},U$=function(e){if(e!=e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},F$=function(e){return It({},e)},z$=function(e){return It({},e)},B$=function(e){return It({},e)},q$=function(e){return It({},e)},K$=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(It(It({},this),{headers:It({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return It(It({},e),((r={})[n]=Array.isArray(i)?Dt([],Lt(i),!1):i,r))}),{}))),n},e}(),H$=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),G$=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return xe(t,e),t}(g$);!function(e){e.ADM="ADM",e.APNS="APNS",e.APNS_SANDBOX="APNS_SANDBOX",e.APNS_VOIP="APNS_VOIP",e.APNS_VOIP_SANDBOX="APNS_VOIP_SANDBOX",e.BAIDU="BAIDU",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.GCM="GCM",e.IN_APP="IN_APP",e.PUSH="PUSH",e.SMS="SMS",e.VOICE="VOICE"}(T$||(T$={})),function(e){e.DEEP_LINK="DEEP_LINK",e.OPEN_APP="OPEN_APP",e.URL="URL"}(C$||(C$={})),function(e){e.AFTER="AFTER",e.BEFORE="BEFORE",e.BETWEEN="BETWEEN",e.CONTAINS="CONTAINS",e.EXCLUSIVE="EXCLUSIVE",e.INCLUSIVE="INCLUSIVE",e.ON="ON"}(I$||(I$={})),function(e){e.EXCLUSIVE="EXCLUSIVE",e.INCLUSIVE="INCLUSIVE"}(P$||(P$={})),function(e){e.DAY_14="DAY_14",e.DAY_30="DAY_30",e.DAY_7="DAY_7",e.HR_24="HR_24"}(O$||(O$={})),function(e){e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE"}(k$||(k$={})),function(e){e.ALL="ALL",e.ANY="ANY"}(R$||(R$={})),function(e){e.PROMOTIONAL="PROMOTIONAL",e.TRANSACTIONAL="TRANSACTIONAL"}(L$||(L$={})),function(e){e.ADM="ADM",e.APNS="APNS",e.APNS_SANDBOX="APNS_SANDBOX",e.APNS_VOIP="APNS_VOIP",e.APNS_VOIP_SANDBOX="APNS_VOIP_SANDBOX",e.BAIDU="BAIDU",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.GCM="GCM",e.IN_APP="IN_APP",e.PUSH="PUSH",e.SMS="SMS",e.VOICE="VOICE"}(N$||(N$={})),function(e){e.CENTER="CENTER",e.LEFT="LEFT",e.RIGHT="RIGHT"}(D$||(D$={})),function(e){e.DELIVERY="DELIVERY",e.FILTER="FILTER"}(M$||(M$={}));var V$,$$,W$,Y$,Z$,J$=function(e){function t(n){var r=e.call(this,It({name:"BadRequestException",$fault:"client"},n))||this;return r.name="BadRequestException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r.RequestID=n.RequestID,r}return xe(t,e),t}(G$);!function(e){e.CLOSE="CLOSE",e.DEEP_LINK="DEEP_LINK",e.LINK="LINK"}(V$||(V$={})),function(e){e.ENDPOINT="ENDPOINT",e.SYSTEM="SYSTEM"}($$||($$={})),function(e){e.BOTTOM_BANNER="BOTTOM_BANNER",e.CAROUSEL="CAROUSEL",e.MIDDLE_BANNER="MIDDLE_BANNER",e.MOBILE_FEED="MOBILE_FEED",e.OVERLAYS="OVERLAYS",e.TOP_BANNER="TOP_BANNER"}(W$||(W$={})),function(e){e.DAILY="DAILY",e.EVENT="EVENT",e.HOURLY="HOURLY",e.IN_APP_EVENT="IN_APP_EVENT",e.MONTHLY="MONTHLY",e.ONCE="ONCE",e.WEEKLY="WEEKLY"}(Y$||(Y$={})),function(e){e.COMPLETED="COMPLETED",e.DELETED="DELETED",e.EXECUTING="EXECUTING",e.INVALID="INVALID",e.PAUSED="PAUSED",e.PENDING_NEXT_RUN="PENDING_NEXT_RUN",e.SCHEDULED="SCHEDULED"}(Z$||(Z$={})),function(e){xe((function t(n){var r=e.call(this,It({name:"ConflictException",$fault:"client"},n))||this;return r.name="ConflictException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r.RequestID=n.RequestID,r}),e)}(G$);var X$,Q$,eW,tW,nW,rW,iW,oW,aW,sW,uW=function(e){function t(n){var r=e.call(this,It({name:"ForbiddenException",$fault:"client"},n))||this;return r.name="ForbiddenException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r.RequestID=n.RequestID,r}return xe(t,e),t}(G$),cW=function(e){function t(n){var r=e.call(this,It({name:"InternalServerErrorException",$fault:"server"},n))||this;return r.name="InternalServerErrorException",r.$fault="server",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r.RequestID=n.RequestID,r}return xe(t,e),t}(G$),lW=function(e){function t(n){var r=e.call(this,It({name:"MethodNotAllowedException",$fault:"client"},n))||this;return r.name="MethodNotAllowedException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r.RequestID=n.RequestID,r}return xe(t,e),t}(G$),fW=function(e){function t(n){var r=e.call(this,It({name:"NotFoundException",$fault:"client"},n))||this;return r.name="NotFoundException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r.RequestID=n.RequestID,r}return xe(t,e),t}(G$),dW=function(e){function t(n){var r=e.call(this,It({name:"PayloadTooLargeException",$fault:"client"},n))||this;return r.name="PayloadTooLargeException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r.RequestID=n.RequestID,r}return xe(t,e),t}(G$),hW=function(e){function t(n){var r=e.call(this,It({name:"TooManyRequestsException",$fault:"client"},n))||this;return r.name="TooManyRequestsException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r.RequestID=n.RequestID,r}return xe(t,e),t}(G$);!function(e){e.COMPLETED="COMPLETED",e.COMPLETING="COMPLETING",e.CREATED="CREATED",e.FAILED="FAILED",e.FAILING="FAILING",e.INITIALIZING="INITIALIZING",e.PENDING_JOB="PENDING_JOB",e.PREPARING_FOR_INITIALIZATION="PREPARING_FOR_INITIALIZATION",e.PROCESSING="PROCESSING"}(X$||(X$={})),function(e){e.CSV="CSV",e.JSON="JSON"}(Q$||(Q$={})),function(e){e.FRIDAY="FRIDAY",e.MONDAY="MONDAY",e.SATURDAY="SATURDAY",e.SUNDAY="SUNDAY",e.THURSDAY="THURSDAY",e.TUESDAY="TUESDAY",e.WEDNESDAY="WEDNESDAY"}(eW||(eW={})),function(e){e.ACTIVE="ACTIVE",e.CANCELLED="CANCELLED",e.CLOSED="CLOSED",e.COMPLETED="COMPLETED",e.DRAFT="DRAFT",e.PAUSED="PAUSED"}(tW||(tW={})),function(e){e.ALL="ALL",e.ANY="ANY",e.NONE="NONE"}(nW||(nW={})),function(e){e.ALL="ALL",e.ANY="ANY",e.NONE="NONE"}(rW||(rW={})),function(e){e.ALL="ALL",e.ANY="ANY",e.NONE="NONE"}(iW||(iW={})),function(e){e.DIMENSIONAL="DIMENSIONAL",e.IMPORT="IMPORT"}(oW||(oW={})),function(e){e.DUPLICATE="DUPLICATE",e.OPT_OUT="OPT_OUT",e.PERMANENT_FAILURE="PERMANENT_FAILURE",e.SUCCESSFUL="SUCCESSFUL",e.TEMPORARY_FAILURE="TEMPORARY_FAILURE",e.THROTTLED="THROTTLED",e.UNKNOWN_FAILURE="UNKNOWN_FAILURE"}(aW||(aW={})),function(e){e.EMAIL="EMAIL",e.INAPP="INAPP",e.PUSH="PUSH",e.SMS="SMS",e.VOICE="VOICE"}(sW||(sW={}));var pW,vW=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a;return kt(this,(function(s){switch(s.label){case 0:return r=[It({},e)],a={},[4,ZW(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(a.body=s.sent(),a)])),i=JW(e,n.body)){case"BadRequestException":case"com.amazonaws.pinpoint#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.pinpoint#ForbiddenException":return[3,4];case"InternalServerErrorException":case"com.amazonaws.pinpoint#InternalServerErrorException":return[3,6];case"MethodNotAllowedException":case"com.amazonaws.pinpoint#MethodNotAllowedException":return[3,8];case"NotFoundException":case"com.amazonaws.pinpoint#NotFoundException":return[3,10];case"PayloadTooLargeException":case"com.amazonaws.pinpoint#PayloadTooLargeException":return[3,12];case"TooManyRequestsException":case"com.amazonaws.pinpoint#TooManyRequestsException":return[3,14]}return[3,16];case 2:return[4,mW(n,t)];case 3:throw s.sent();case 4:return[4,bW(n,t)];case 5:throw s.sent();case 6:return[4,wW(n,t)];case 7:throw s.sent();case 8:return[4,SW(n,t)];case 9:throw s.sent();case 10:return[4,EW(n,t)];case 11:throw s.sent();case 12:return[4,_W(n,t)];case 13:throw s.sent();case 14:return[4,xW(n,t)];case 15:throw s.sent();case 16:o=n.body,b$({output:e,parsedBody:o,exceptionCtor:G$,errorCode:i}),s.label=17;case 17:return[2]}}))}))},yW=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a;return kt(this,(function(s){switch(s.label){case 0:return r=[It({},e)],a={},[4,ZW(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(a.body=s.sent(),a)])),i=JW(e,n.body)){case"BadRequestException":case"com.amazonaws.pinpoint#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.pinpoint#ForbiddenException":return[3,4];case"InternalServerErrorException":case"com.amazonaws.pinpoint#InternalServerErrorException":return[3,6];case"MethodNotAllowedException":case"com.amazonaws.pinpoint#MethodNotAllowedException":return[3,8];case"NotFoundException":case"com.amazonaws.pinpoint#NotFoundException":return[3,10];case"PayloadTooLargeException":case"com.amazonaws.pinpoint#PayloadTooLargeException":return[3,12];case"TooManyRequestsException":case"com.amazonaws.pinpoint#TooManyRequestsException":return[3,14]}return[3,16];case 2:return[4,mW(n,t)];case 3:throw s.sent();case 4:return[4,bW(n,t)];case 5:throw s.sent();case 6:return[4,wW(n,t)];case 7:throw s.sent();case 8:return[4,SW(n,t)];case 9:throw s.sent();case 10:return[4,EW(n,t)];case 11:throw s.sent();case 12:return[4,_W(n,t)];case 13:throw s.sent();case 14:return[4,xW(n,t)];case 15:throw s.sent();case 16:o=n.body,b$({output:e,parsedBody:o,exceptionCtor:G$,errorCode:i}),s.label=17;case 17:return[2]}}))}))},gW=_$,mW=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=gW({}),null!=(n=e.body).Message&&(t.Message=d$(n.Message)),null!=n.RequestID&&(t.RequestID=d$(n.RequestID)),r=new J$(It({$metadata:WW(e)},t)),[2,m$(r,e.body)]}))}))},bW=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=gW({}),null!=(n=e.body).Message&&(t.Message=d$(n.Message)),null!=n.RequestID&&(t.RequestID=d$(n.RequestID)),r=new uW(It({$metadata:WW(e)},t)),[2,m$(r,e.body)]}))}))},wW=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=gW({}),null!=(n=e.body).Message&&(t.Message=d$(n.Message)),null!=n.RequestID&&(t.RequestID=d$(n.RequestID)),r=new cW(It({$metadata:WW(e)},t)),[2,m$(r,e.body)]}))}))},SW=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=gW({}),null!=(n=e.body).Message&&(t.Message=d$(n.Message)),null!=n.RequestID&&(t.RequestID=d$(n.RequestID)),r=new lW(It({$metadata:WW(e)},t)),[2,m$(r,e.body)]}))}))},EW=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=gW({}),null!=(n=e.body).Message&&(t.Message=d$(n.Message)),null!=n.RequestID&&(t.RequestID=d$(n.RequestID)),r=new fW(It({$metadata:WW(e)},t)),[2,m$(r,e.body)]}))}))},_W=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=gW({}),null!=(n=e.body).Message&&(t.Message=d$(n.Message)),null!=n.RequestID&&(t.RequestID=d$(n.RequestID)),r=new dW(It({$metadata:WW(e)},t)),[2,m$(r,e.body)]}))}))},xW=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=gW({}),null!=(n=e.body).Message&&(t.Message=d$(n.Message)),null!=n.RequestID&&(t.RequestID=d$(n.RequestID)),r=new hW(It({$metadata:WW(e)},t)),[2,m$(r,e.body)]}))}))},AW=function(e,t){return It(It(It(It(It(It(It(It({},null!=e.AppVersion&&{AppVersion:e.AppVersion}),null!=e.Locale&&{Locale:e.Locale}),null!=e.Make&&{Make:e.Make}),null!=e.Model&&{Model:e.Model}),null!=e.ModelVersion&&{ModelVersion:e.ModelVersion}),null!=e.Platform&&{Platform:e.Platform}),null!=e.PlatformVersion&&{PlatformVersion:e.PlatformVersion}),null!=e.Timezone&&{Timezone:e.Timezone})},TW=function(e,t){return It(It(It(It(It(It({},null!=e.City&&{City:e.City}),null!=e.Country&&{Country:e.Country}),null!=e.Latitude&&{Latitude:U$(e.Latitude)}),null!=e.Longitude&&{Longitude:U$(e.Longitude)}),null!=e.PostalCode&&{PostalCode:e.PostalCode}),null!=e.Region&&{Region:e.Region})},CW=function(e,t){return It(It({},null!=e.UserAttributes&&{UserAttributes:PW(e.UserAttributes,t)}),null!=e.UserId&&{UserId:e.UserId})},IW=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Lt(t,2),i=r[0],o=r[1];return null===o?e:It(It({},e),((n={})[i]=U$(o),n))}),{})},PW=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Lt(t,2),i=r[0],o=r[1];return null===o?e:It(It({},e),((n={})[i]=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))}(o),n))}),{})},OW=function(e,t){return{Dimensions:null!=e.Dimensions?RW(e.Dimensions,t):void 0,FilterType:d$(e.FilterType)}},kW=function(e,t){return{BackgroundColor:d$(e.BackgroundColor),BorderRadius:u$(e.BorderRadius),ButtonAction:d$(e.ButtonAction),Link:d$(e.Link),Text:d$(e.Text),TextColor:d$(e.TextColor)}},RW=function(e,t){return{Attributes:null!=e.Attributes?qW(e.Attributes,t):void 0,EventType:null!=e.EventType?$W(e.EventType,t):void 0,Metrics:null!=e.Metrics?KW(e.Metrics,t):void 0}},LW=function(e,t){return{EndDate:d$(e.EndDate),EventFilter:null!=e.EventFilter?OW(e.EventFilter,t):void 0,QuietTime:null!=e.QuietTime?VW(e.QuietTime,t):void 0}},NW=function(e,t){return{Content:null!=e.Content?zW(e.Content,t):void 0,CustomConfig:null!=e.CustomConfig?BW(e.CustomConfig,t):void 0,Layout:d$(e.Layout)}},DW=function(e,t){return{Alignment:d$(e.Alignment),Body:d$(e.Body),TextColor:d$(e.TextColor)}},MW=function(e,t){return{Android:null!=e.Android?GW(e.Android,t):void 0,DefaultConfig:null!=e.DefaultConfig?kW(e.DefaultConfig):void 0,IOS:null!=e.IOS?GW(e.IOS,t):void 0,Web:null!=e.Web?GW(e.Web,t):void 0}},jW=function(e,t){return{Alignment:d$(e.Alignment),Header:d$(e.Header),TextColor:d$(e.TextColor)}},UW=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:d$(e)}))},FW=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{CampaignId:d$(e.CampaignId),DailyCap:u$(e.DailyCap),InAppMessage:null!=e.InAppMessage?NW(e.InAppMessage,t):void 0,Priority:u$(e.Priority),Schedule:null!=e.Schedule?LW(e.Schedule,t):void 0,SessionCap:u$(e.SessionCap),TotalCap:u$(e.TotalCap),TreatmentId:d$(e.TreatmentId)}}(e,t)}));return n},zW=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{BackgroundColor:d$(e.BackgroundColor),BodyConfig:null!=e.BodyConfig?DW(e.BodyConfig):void 0,HeaderConfig:null!=e.HeaderConfig?jW(e.HeaderConfig):void 0,ImageUrl:d$(e.ImageUrl),PrimaryBtn:null!=e.PrimaryBtn?MW(e.PrimaryBtn,t):void 0,SecondaryBtn:null!=e.SecondaryBtn?MW(e.SecondaryBtn,t):void 0}}(e,t)}));return n},BW=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Lt(t,2),i=r[0],o=r[1];return null===o?e:It(It({},e),((n={})[i]=d$(o),n))}),{})},qW=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Lt(t,2),i=r[0],o=r[1];return null===o?e:It(It({},e),((n={})[i]=function(e,t){return{AttributeType:d$(e.AttributeType),Values:null!=e.Values?UW(e.Values):void 0}}(o),n))}),{})},KW=function(e,t){return Object.entries(e).reduce((function(e,n){var r,i=Lt(n,2),o=i[0],a=i[1];return null===a?e:It(It({},e),((r={})[o]=HW(a,t),r))}),{})},HW=function(e,t){return{ComparisonOperator:d$(e.ComparisonOperator),Value:h$(e.Value)}},GW=function(e,t){return{ButtonAction:d$(e.ButtonAction),Link:d$(e.Link)}},VW=function(e,t){return{End:d$(e.End),Start:d$(e.Start)}},$W=function(e,t){return{DimensionType:d$(e.DimensionType),Values:null!=e.Values?UW(e.Values):void 0}},WW=function(e){var t,n;return{httpStatusCode:e.statusCode,requestId:null!==(n=null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"])&&void 0!==n?n:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},YW=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},ZW=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){switch(i.label){case 0:return[4,YW(e,t)];case 1:return(n=i.sent()).message=null!==(r=n.message)&&void 0!==r?r:n.Message,[2,n]}}))}))},JW=function(e,t){var n,r=function(e){var t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==i?r(e.headers[i]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):void 0},XW=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(t$(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"PinpointClient",commandName:"GetInAppMessagesCommand",inputFilterSensitiveLog:F$,outputFilterSensitiveLog:z$},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:return[4,t.endpoint()];case 1:return n=l.sent(),r=n.hostname,i=n.protocol,o=void 0===i?"https":i,a=n.port,s=n.path,u={},c="".concat((null==s?void 0:s.endsWith("/"))?s.slice(0,-1):s||"")+"/v1/apps/{ApplicationId}/endpoints/{EndpointId}/inappmessages",c=j$(c,e,"ApplicationId",(function(){return e.ApplicationId}),"{ApplicationId}",!1),c=j$(c,e,"EndpointId",(function(){return e.EndpointId}),"{EndpointId}",!1),[2,new K$({protocol:o,hostname:r,port:a,method:"GET",headers:u,path:c,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i;return kt(this,(function(o){switch(o.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,vW(e,t)]:(n=gW({$metadata:WW(e)}),i=f$,[4,YW(e.body,t)]);case 1:return r=i.apply(void 0,[o.sent()]),n.InAppMessagesResponse=function(e,t){return{InAppMessageCampaigns:null!=e.InAppMessageCampaigns?FW(e.InAppMessageCampaigns,t):void 0}}(r,t),[2,n]}}))}))}(e,t)},t}(a$);!function(e){e.ENV="env",e.CONFIG="shared config entry"}(pW||(pW={}));var QW,eY=function(e){if("function"==typeof e)return e;var t=Promise.resolve(e);return function(){return t}},tY=function(e){return"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips"))},nY=function(e){return tY(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e},rY=function(e,t){var n;void 0===e&&(e=[]);var r=t.useFipsEndpoint,i=t.useDualstackEndpoint;return null===(n=e.find((function(e){var t=e.tags;return r===t.includes("fips")&&i===t.includes("dualstack")})))||void 0===n?void 0:n.hostname},iY=function(e,t){var n,r,i,o,a,s,u=t.useFipsEndpoint,c=void 0!==u&&u,l=t.useDualstackEndpoint,f=void 0!==l&&l,d=t.signingService,h=t.regionHash,p=t.partitionHash,v=function(e,t){var n,r=t.partitionHash;return null!==(n=Object.keys(r||{}).find((function(t){return r[t].regions.includes(e)})))&&void 0!==n?n:"aws"}(e,{partitionHash:p}),y=e in h?e:null!==(r=null===(n=p[v])||void 0===n?void 0:n.endpoint)&&void 0!==r?r:e,g={useFipsEndpoint:c,useDualstackEndpoint:f},m=function(e,t){var n=t.partitionHostname;return t.regionHostname||(n?n.replace("{region}",e):void 0)}(y,{regionHostname:rY(null===(i=h[y])||void 0===i?void 0:i.variants,g),partitionHostname:rY(null===(o=p[v])||void 0===o?void 0:o.variants,g)});if(void 0===m)throw new Error("Endpoint resolution failed for: ".concat({resolvedRegion:y,useFipsEndpoint:c,useDualstackEndpoint:f}));var b=function(e,t){var n=t.signingRegion;if(n)return n;if(t.useFipsEndpoint){var r=t.regionRegex.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(r);if(i)return i[0].slice(1,-1)}}(m,{signingRegion:null===(a=h[y])||void 0===a?void 0:a.signingRegion,regionRegex:p[v].regionRegex,useFipsEndpoint:c});return It(It({partition:v,signingService:d,hostname:m},b&&{signingRegion:b}),(null===(s=h[y])||void 0===s?void 0:s.signingService)&&{signingService:h[y].signingService})},oY="content-length",aY={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},sY={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},uY={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},cY="X-Amzn-Trace-Id",lY={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(QW||(QW={}));var fY,dY=QW.STANDARD,hY=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],pY=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],vY=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],yY=[500,502,503,504],gY=["ECONNRESET","EPIPE","ETIMEDOUT"],mY=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||pY.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},bY=function(){function e(e){var t,n,r,i,o;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=null!==(t=null==e?void 0:e.beta)&&void 0!==t?t:.7,this.minCapacity=null!==(n=null==e?void 0:e.minCapacity)&&void 0!==n?n:1,this.minFillRate=null!==(r=null==e?void 0:e.minFillRate)&&void 0!==r?r:.5,this.scaleConstant=null!==(i=null==e?void 0:e.scaleConstant)&&void 0!==i?i:.4,this.smooth=null!==(o=null==e?void 0:e.smooth)&&void 0!==o?o:.8;var a=this.getCurrentTimeInSeconds();this.lastThrottleTime=a,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return e.prototype.getCurrentTimeInSeconds=function(){return Date.now()/1e3},e.prototype.getSendToken=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){return[2,this.acquireTokenBucket(1)]}))}))},e.prototype.acquireTokenBucket=function(e){return Ot(this,void 0,void 0,(function(){var t;return kt(this,(function(n){switch(n.label){case 0:return this.enabled?(this.refillTokenBucket(),e>this.currentCapacity?(t=(e-this.currentCapacity)/this.fillRate*1e3,[4,new Promise((function(e){return setTimeout(e,t)}))]):[3,2]):[2];case 1:n.sent(),n.label=2;case 2:return this.currentCapacity=this.currentCapacity-e,[2]}}))}))},e.prototype.refillTokenBucket=function(){var e=this.getCurrentTimeInSeconds();if(this.lastTimestamp){var t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}else this.lastTimestamp=e},e.prototype.updateClientSendingRate=function(e){var t;if(this.updateMeasuredRate(),mY(e)){var n=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=n,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(n),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());var r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)},e.prototype.calculateTimeWindow=function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))},e.prototype.cubicThrottle=function(e){return this.getPrecise(e*this.beta)},e.prototype.cubicSuccess=function(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)},e.prototype.enableTokenBucket=function(){this.enabled=!0},e.prototype.updateTokenBucketRate=function(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)},e.prototype.updateMeasuredRate=function(){var e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){var n=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}},e.prototype.getPrecise=function(e){return parseFloat(e.toFixed(8))},e}(),wY=new Uint8Array(16);function SY(){if(!fY&&!(fY="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fY(wY)}const EY=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,_Y=function(e){return"string"==typeof e&&EY.test(e)};for(var xY=[],AY=0;AY<256;++AY)xY.push((AY+256).toString(16).substr(1));const TY=function(e,t,n){var r=(e=e||{}).random||(e.rng||SY)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(xY[e[t+0]]+xY[e[t+1]]+xY[e[t+2]]+xY[e[t+3]]+"-"+xY[e[t+4]]+xY[e[t+5]]+"-"+xY[e[t+6]]+xY[e[t+7]]+"-"+xY[e[t+8]]+xY[e[t+9]]+"-"+xY[e[t+10]]+xY[e[t+11]]+xY[e[t+12]]+xY[e[t+13]]+xY[e[t+14]]+xY[e[t+15]]).toLowerCase();if(!_Y(n))throw TypeError("Stringified UUID is invalid");return n}(r)};var CY=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},IY=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return hY.includes(e.name)}(e)||mY(e)||function(e){var t;return vY.includes(e.name)||gY.includes((null==e?void 0:e.code)||"")||yY.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},PY=function(){function e(e,t){var n,r,i,o,a,s,u,c,l;this.maxAttemptsProvider=e,this.mode=QW.STANDARD,this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:IY,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:CY,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:(o=1,a=5,s=10,u=500,c=function(e){return"TimeoutError"===e.name?s:a},l=function(e){return c(e)<=u},Object.freeze({hasRetryTokens:l,retrieveRetryTokens:function(e){if(!l(e))throw new Error("No retry token available");var t=c(e);return u-=t,t},releaseRetryTokens:function(e){u+=null!=e?e:o,u=Math.min(u,500)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return Ot(this,void 0,void 0,(function(){var e;return kt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return i=0,o=0,[4,this.getMaxAttempts()];case 1:a=f.sent(),s=t.request,K$.isInstance(s)&&(s.headers["amz-sdk-invocation-id"]=TY()),u=function(){var u,l,f,d,h,p,v,y;return kt(this,(function(g){switch(g.label){case 0:return g.trys.push([0,4,,7]),K$.isInstance(s)&&(s.headers["amz-sdk-request"]="attempt=".concat(i+1,"; max=").concat(a)),(null==n?void 0:n.beforeRequest)?[4,n.beforeRequest()]:[3,2];case 1:g.sent(),g.label=2;case 2:return[4,e(t)];case 3:return u=g.sent(),l=u.response,f=u.output,(null==n?void 0:n.afterRequest)&&n.afterRequest(l),c.retryQuota.releaseRetryTokens(r),f.$metadata.attempts=i+1,f.$metadata.totalRetryDelay=o,[2,{value:{response:l,output:f}}];case 4:return d=g.sent(),h=kY(d),i++,c.shouldRetry(h,i,a)?(r=c.retryQuota.retrieveRetryTokens(h),p=c.delayDecider(mY(h)?500:100,i),v=OY(h.$response),y=Math.max(v||0,p),o+=y,[4,new Promise((function(e){return setTimeout(e,y)}))]):[3,6];case 5:return g.sent(),[2,"continue"];case 6:throw h.$metadata||(h.$metadata={}),h.$metadata.attempts=i,h.$metadata.totalRetryDelay=o,h;case 7:return[2]}}))},c=this,f.label=2;case 2:return[5,u()];case 3:return"object"==typeof(l=f.sent())?[2,l.value]:[3,2];case 4:return[2]}}))}))},e}(),OY=function(e){if(H$.isInstance(e)){var t=Object.keys(e.headers).find((function(e){return"retry-after"===e.toLowerCase()}));if(t){var n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n).getTime()-Date.now():1e3*r}}},kY=function(e){return e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"==typeof e?new Error(e):new Error("AWS SDK error wrapper for ".concat(e))},RY=function(e){function t(t,n){var r=this,i=null!=n?n:{},o=i.rateLimiter,a=Pt(i,["rateLimiter"]);return(r=e.call(this,t,a)||this).rateLimiter=null!=o?o:new bY,r.mode=QW.ADAPTIVE,r}return xe(t,e),t.prototype.retry=function(t,n){return Ot(this,void 0,void 0,(function(){var r=this;return kt(this,(function(i){return[2,e.prototype.retry.call(this,t,n,{beforeRequest:function(){return Ot(r,void 0,void 0,(function(){return kt(this,(function(e){return[2,this.rateLimiter.getSendToken()]}))}))},afterRequest:function(e){r.rateLimiter.updateClientSendingRate(e)}})]}))}))},t}(PY),LY={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},NY=function(e){function t(n,r){void 0===r&&(r=!0);var i=e.call(this,n)||this;return i.tryNextLink=r,i.name="ProviderError",Object.setPrototypeOf(i,t.prototype),i}return xe(t,e),t.from=function(e,t){return void 0===t&&(t=!0),Object.assign(new this(e.message,t),e)},t}(Error);(function(e){xe((function t(n,r){void 0===r&&(r=!0);var i=e.call(this,n,r)||this;return i.tryNextLink=r,i.name="CredentialsProviderError",Object.setPrototypeOf(i,t.prototype),i}),e)})(NY),function(e){xe((function t(n,r){void 0===r&&(r=!0);var i=e.call(this,n,r)||this;return i.tryNextLink=r,i.name="TokenProviderError",Object.setPrototypeOf(i,t.prototype),i}),e)}(NY);for(var DY=function(e,t,n){var r,i,o,a=!1,s=function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:i||(i=e()),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,i];case 2:return r=t.sent(),o=!0,a=!1,[3,4];case 3:return i=void 0,[7];case 4:return[2,r]}}))}))};return void 0===t?function(e){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return o&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,s()];case 1:r=t.sent(),t.label=2;case 2:return[2,r]}}))}))}:function(e){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(i){switch(i.label){case 0:return o&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,s()];case 1:r=i.sent(),i.label=2;case 2:return a?[2,r]:n&&!n(r)?(a=!0,[2,r]):t(r)?[4,s()]:[3,4];case 3:return i.sent(),[2,r];case 4:return[2,r]}}))}))}},MY={},jY={},UY=0;UY<256;UY++){var FY=UY.toString(16).toLowerCase();1===FY.length&&(FY="0".concat(FY)),MY[UY]=FY,jY[FY]=UY}function zY(e){for(var t="",n=0;n<e.byteLength;n++)t+=MY[e[n]];return t}var BY="X-Amz-Date",qY="X-Amz-Signature",KY="X-Amz-Security-Token",HY="authorization",GY=BY.toLowerCase(),VY=[HY,GY,"date"],$Y=qY.toLowerCase(),WY="x-amz-content-sha256",YY=KY.toLowerCase(),ZY={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},JY=/^proxy-/,XY=/^sec-/,QY="AWS4-HMAC-SHA256",eZ="AWS4-HMAC-SHA256-PAYLOAD",tZ="aws4_request",nZ={},rZ=[],iZ=function(e,t,n){return"".concat(e,"/").concat(t,"/").concat(n,"/").concat(tZ)},oZ=function(e,t,n){var r=new e(t);return r.update(n),r.digest()},aZ=function(e,t,n){var r,i,o=e.headers,a={};try{for(var s=Rt(Object.keys(o).sort()),u=s.next();!u.done;u=s.next()){var c=u.value;if(null!=o[c]){var l=c.toLowerCase();(l in ZY||(null==t?void 0:t.has(l))||JY.test(l)||XY.test(l))&&(!n||n&&!n.has(l))||(a[l]=o[c].trim().replace(/\s+/g," "))}}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a},sZ=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,uZ)},uZ=function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())},cZ=function(e,t){var n=e.headers,r=e.body;return Ot(void 0,void 0,void 0,(function(){var e,i,o,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:try{for(e=Rt(Object.keys(n)),i=e.next();!i.done;i=e.next())if((o=i.value).toLowerCase()===WY)return[2,n[o]]}catch(e){u={error:e}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=zY,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))},lZ=function(e){var t=e.headers,n=e.query,r=Pt(e,["headers","query"]);return It(It({},r),{headers:It({},t),query:n?fZ(n):void 0})},fZ=function(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return It(It({},t),((r={})[n]=Array.isArray(i)?Dt([],Lt(i),!1):i,r))}),{})},dZ=function(e){var t,n;e="function"==typeof e.clone?e.clone():lZ(e);try{for(var r=Rt(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;VY.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e},hZ=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=eY(r),this.credentialProvider=eY(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Ot(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A;return kt(this,(function(T){switch(T.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=T.sent(),this.validateResolvedCredentials(f),null==c?[3,2]:(h=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=T.sent(),T.label=4;case 4:return d=h,p=pZ(r),v=p.longDate,y=p.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(g=iZ(y,d,null!=l?l:this.service),m=function(e,t){var n,r,i;void 0===t&&(t={});var o="function"==typeof e.clone?e.clone():lZ(e),a=o.headers,s=o.query,u=void 0===s?{}:s;try{for(var c=Rt(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.slice(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return It(It({},e),{headers:a,query:u})}(dZ(e),{unhoistableHeaders:s}),f.sessionToken&&(m.query[KY]=f.sessionToken),m.query["X-Amz-Algorithm"]=QY,m.query["X-Amz-Credential"]="".concat(f.accessKeyId,"/").concat(g),m.query[BY]=v,m.query["X-Amz-Expires"]=o.toString(10),b=aZ(m,a,u),m.query["X-Amz-SignedHeaders"]=vZ(b),w=m.query,S=qY,E=this.getSignature,_=[v,g,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,A=[m,b],[4,cZ(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,A.concat([T.sent()]))]))];case 6:return w[S]=T.sent(),[2,m]}}))}))},e.prototype.sign=function(e,t){return Ot(this,void 0,void 0,(function(){return kt(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return Ot(this,void 0,void 0,(function(){var e,t,i,c,l,f,d,h,p,v,y;return kt(this,(function(g){switch(g.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=g.sent(),g.label=3;case 3:return e=t,i=pZ(o),c=i.shortDate,l=i.longDate,f=iZ(c,e,null!=u?u:this.service),[4,cZ({headers:{},body:r},this.sha256)];case 4:return d=g.sent(),(h=new this.sha256).update(n),v=zY,[4,h.digest()];case 5:return p=v.apply(void 0,[g.sent()]),y=[eZ,l,f,a,p,d].join("\n"),[2,this.signString(y,{signingDate:o,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,a=n.signingService;return Ot(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return kt(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),this.validateResolvedCredentials(t),null==o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=pZ(i).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=zY,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return Ot(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,h,p,v,y;return kt(this,(function(g){switch(g.label){case 0:return[4,this.credentialProvider()];case 1:return t=g.sent(),this.validateResolvedCredentials(t),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=g.sent(),g.label=4;case 4:return n=r,c=dZ(e),l=pZ(i),f=l.longDate,d=l.shortDate,h=iZ(d,n,null!=u?u:this.service),c.headers[GY]=f,t.sessionToken&&(c.headers[YY]=t.sessionToken),[4,cZ(c,this.sha256)];case 5:return p=g.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=Rt(Object.keys(t)),o=i.next();!o.done;o=i.next())if(e===o.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(WY,c.headers)&&this.applyChecksum&&(c.headers[WY]=p),v=aZ(c,a,o),[4,this.getSignature(f,h,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,p))];case 6:return y=g.sent(),c.headers[HY]="".concat(QY," ")+"Credential=".concat(t.accessKeyId,"/").concat(h,", ")+"SignedHeaders=".concat(vZ(v),", ")+"Signature=".concat(y),[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return"".concat(e.method,"\n").concat(this.getCanonicalPath(e),"\n").concat(function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],a={},s=function(e){if(e.toLowerCase()===$Y)return"continue";o.push(e);var t=i[e];"string"==typeof t?a[e]="".concat(sZ(e),"=").concat(sZ(t)):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat(["".concat(sZ(e),"=").concat(sZ(n))])}),[]).join("&"))};try{for(var u=Rt(Object.keys(i).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e),"\n").concat(r.map((function(e){return"".concat(e,":").concat(t[e])})).join("\n"),"\n\n").concat(r.join(";"),"\n").concat(n)},e.prototype.createStringToSign=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,i;return kt(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,"".concat(QY,"\n").concat(e,"\n").concat(t,"\n").concat(zY(i))]}}))}))},e.prototype.getCanonicalPath=function(e){var t,n,r=e.path;if(this.uriEscapePath){var i=[];try{for(var o=Rt(r.split("/")),a=o.next();!a.done;a=o.next()){var s=a.value;0!==(null==s?void 0:s.length)&&"."!==s&&(".."===s?i.pop():i.push(s))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}var u="".concat((null==r?void 0:r.startsWith("/"))?"/":"").concat(i.join("/")).concat(i.length>0&&(null==r?void 0:r.endsWith("/"))?"/":"");return encodeURIComponent(u).replace(/%2F/g,"/")}return r},e.prototype.getSignature=function(e,t,n,r){return Ot(this,void 0,void 0,(function(){var i,o,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(o=new(s.apply(a,[void 0,c.sent()]))).update(i),u=zY,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){return Ot(void 0,void 0,void 0,(function(){var o,a,s,u,c,l,f,d,h;return kt(this,(function(p){switch(p.label){case 0:return[4,oZ(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=p.sent(),(a="".concat(n,":").concat(r,":").concat(i,":").concat(zY(o),":").concat(t.sessionToken))in nZ)return[2,nZ[a]];for(rZ.push(a);rZ.length>50;)delete nZ[rZ.shift()];s="AWS4".concat(t.secretAccessKey),p.label=2;case 2:p.trys.push([2,7,8,9]),u=Rt([n,r,i,tZ]),c=u.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,oZ(e,s,l)]);case 4:s=p.sent(),p.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=p.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,nZ[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e.prototype.validateResolvedCredentials=function(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")},e}(),pZ=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}},vZ=function(e){return Object.keys(e).sort().join(";")},yZ=function(e){return new Date(Date.now()+e)},gZ=function(e,t){var n=Date.parse(e);return function(e,t){return Math.abs(yZ(t).getTime()-e)>=3e5}(n,t)?n-Date.now():t},mZ=function(e){var t,n,r;return H$.isInstance(e)?null!==(n=null===(t=e.headers)||void 0===t?void 0:t.date)&&void 0!==n?n:null===(r=e.headers)||void 0===r?void 0:r.Date:void 0},bZ={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},wZ="user-agent",SZ="x-amz-user-agent",EZ=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,_Z=function(e){var t=Lt(e,2),n=t[0],r=t[1],i=n.indexOf("/"),o=n.substring(0,i),a=n.substring(i+1);return"api"===o&&(a=a.toLowerCase()),[o,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(EZ,"_")})).join("/")},xZ={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};for(var AZ=function(){function e(e){"function"==typeof e?this.configProvider=e().then((function(e){return e||{}})):(this.config=null!=e?e:{},this.configProvider=Promise.resolve(this.config))}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal;return Ot(this,void 0,void 0,(function(){var t,r,i,o,a,s,u,c,l,f,d,h;return kt(this,(function(p){switch(p.label){case 0:return this.config?[3,2]:(t=this,[4,this.configProvider]);case 1:t.config=p.sent(),p.label=2;case 2:return r=this.config.requestTimeout,(null==n?void 0:n.aborted)?((i=new Error("Request aborted")).name="AbortError",[2,Promise.reject(i)]):(o=e.path,e.query&&(a=function(e){var t,n,r=[];try{for(var i=Rt(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var a=o.value,s=e[a];if(a=sZ(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push("".concat(a,"=").concat(sZ(s[u])));else{var l=a;(s||"string"==typeof s)&&(l+="=".concat(sZ(s))),r.push(l)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.join("&")}(e.query),a&&(o+="?".concat(a))),s=e.port,u=e.method,c="".concat(e.protocol,"//").concat(e.hostname).concat(s?":".concat(s):"").concat(o),l="GET"===u||"HEAD"===u?void 0:e.body,f={body:l,headers:new Headers(e.headers),method:u},"undefined"!=typeof AbortController&&(f.signal=n),d=new Request(c,f),h=[fetch(d).then((function(e){var t,n,r=e.headers,i={};try{for(var o=Rt(r.entries()),a=o.next();!a.done;a=o.next()){var s=a.value;i[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new H$({headers:i,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new H$({headers:i,statusCode:e.status,body:t})}}))})),(v=r,void 0===v&&(v=0),new Promise((function(e,t){v&&setTimeout((function(){var e=new Error("Request did not complete within ".concat(v," ms"));e.name="TimeoutError",t(e)}),v)})))],n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),[2,Promise.race(h)])}var v}))}))},e}(),TZ={},CZ=new Array(64),IZ=0,PZ="A".charCodeAt(0),OZ="Z".charCodeAt(0);IZ+PZ<=OZ;IZ++){var kZ=String.fromCharCode(IZ+PZ);TZ[kZ]=IZ,CZ[IZ]=kZ}for(IZ=0,PZ="a".charCodeAt(0),OZ="z".charCodeAt(0);IZ+PZ<=OZ;IZ++){kZ=String.fromCharCode(IZ+PZ);var RZ=IZ+26;TZ[kZ]=RZ,CZ[RZ]=kZ}for(IZ=0;IZ<10;IZ++)TZ[IZ.toString(10)]=IZ+52,kZ=IZ.toString(10),RZ=IZ+52,TZ[kZ]=RZ,CZ[RZ]=kZ;function LZ(e){var t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),i=0;i<e.length;i+=4){for(var o=0,a=0,s=i,u=i+3;s<=u;s++)if("="!==e[s]){if(!(e[s]in TZ))throw new TypeError("Invalid character ".concat(e[s]," in base64 string."));o|=TZ[e[s]]<<6*(u-s),a+=6}else o>>=6;var c=i/4*3;o>>=a%8;for(var l=Math.floor(a/8),f=0;f<l;f++){var d=8*(l-f-1);r.setUint8(c+f,(o&255<<d)>>d)}}return new Uint8Array(n)}function NZ(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,i=0,o=n,a=Math.min(n+3,e.length);o<a;o++)r|=e[o]<<8*(a-o-1),i+=8;var s=Math.ceil(i/6);r<<=6*s-i;for(var u=1;u<=s;u++){var c=6*(s-u);t+=CZ[(r&63<<c)>>c]}t+="==".slice(0,4-s)}return t}TZ["+"]=62,CZ[62]="+",TZ["/"]=63,CZ[63]="/";var DZ=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return Ot(this,void 0,void 0,(function(){var t,n;return kt(this,(function(r){switch(r.label){case 0:return[4,MZ(e)];case 1:return t=r.sent(),n=LZ(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return Ot(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return kt(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=u.sent(),o=i.done,(a=i.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=o,[3,1];case 3:return[2,t]}}))}))}(e)};function MZ(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),a=o>-1?o+1:i.length;t(i.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var jZ,UZ,FZ=function(e){return function(){return Promise.reject(e)}},zZ=function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error("Body Length computation failed for ".concat(e))},BZ=function(e){var t=e.serviceId,n=e.clientVersion;return function(){return Ot(void 0,void 0,void 0,(function(){var e,r,i,o,a,s,u,c,l;return kt(this,(function(f){return e="undefined"!=typeof window&&(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?mr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/".concat((null===(o=null==e?void 0:e.os)||void 0===o?void 0:o.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser","".concat(null!==(u=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown","_").concat(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/".concat(t),n]),[2,r]}))}))}},qZ=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},KZ=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)},HZ=function(e){if("string"==typeof e)return HZ(new URL(e));var t,n=e,r=n.hostname,i=n.pathname,o=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var i=Rt(e.split("&")),o=i.next();!o.done;o=i.next()){var a=Lt(o.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:o?parseInt(o):void 0,protocol:a,path:i,query:t}},GZ={"us-east-1":{variants:[{hostname:"pinpoint.us-east-1.amazonaws.com",tags:[]},{hostname:"pinpoint-fips.us-east-1.amazonaws.com",tags:["fips"]}],signingRegion:"us-east-1"},"us-east-2":{variants:[{hostname:"pinpoint.us-east-2.amazonaws.com",tags:[]},{hostname:"pinpoint-fips.us-east-2.amazonaws.com",tags:["fips"]}],signingRegion:"us-east-2"},"us-gov-west-1":{variants:[{hostname:"pinpoint.us-gov-west-1.amazonaws.com",tags:[]},{hostname:"pinpoint-fips.us-gov-west-1.amazonaws.com",tags:["fips"]}],signingRegion:"us-gov-west-1"},"us-west-2":{variants:[{hostname:"pinpoint.us-west-2.amazonaws.com",tags:[]},{hostname:"pinpoint-fips.us-west-2.amazonaws.com",tags:["fips"]}],signingRegion:"us-west-2"}},VZ={aws:{regions:["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ap-southeast-3","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","fips-us-east-1","fips-us-east-2","fips-us-west-2","me-central-1","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"],regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",variants:[{hostname:"pinpoint.{region}.amazonaws.com",tags:[]},{hostname:"pinpoint-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"pinpoint-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"pinpoint.{region}.api.aws",tags:["dualstack"]}]},"aws-cn":{regions:["cn-north-1","cn-northwest-1"],regionRegex:"^cn\\-\\w+\\-\\d+$",variants:[{hostname:"pinpoint.{region}.amazonaws.com.cn",tags:[]},{hostname:"pinpoint-fips.{region}.amazonaws.com.cn",tags:["fips"]},{hostname:"pinpoint-fips.{region}.api.amazonwebservices.com.cn",tags:["dualstack","fips"]},{hostname:"pinpoint.{region}.api.amazonwebservices.com.cn",tags:["dualstack"]}]},"aws-iso":{regions:["us-iso-east-1","us-iso-west-1"],regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",variants:[{hostname:"pinpoint.{region}.c2s.ic.gov",tags:[]},{hostname:"pinpoint-fips.{region}.c2s.ic.gov",tags:["fips"]}]},"aws-iso-b":{regions:["us-isob-east-1"],regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",variants:[{hostname:"pinpoint.{region}.sc2s.sgov.gov",tags:[]},{hostname:"pinpoint-fips.{region}.sc2s.sgov.gov",tags:["fips"]}]},"aws-us-gov":{regions:["fips-us-gov-west-1","us-gov-east-1","us-gov-west-1"],regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",variants:[{hostname:"pinpoint.{region}.amazonaws.com",tags:[]},{hostname:"pinpoint-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"pinpoint-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"pinpoint.{region}.api.aws",tags:["dualstack"]}]}},$Z=function(e,t){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(n){return[2,iY(e,It(It({},t),{signingService:"mobiletargeting",regionHash:GZ,partitionHash:VZ}))]}))}))},WZ=["in-region","cross-region","mobile","standard","legacy"],YZ=function(){var e,t,n="undefined"!=typeof window&&(null===(e=null===window||void 0===window?void 0:window.navigator)||void 0===e?void 0:e.userAgent)?mr().parse(window.navigator.userAgent):void 0,r=null===(t=null==n?void 0:n.platform)||void 0===t?void 0:t.type;return"tablet"===r||"mobile"===r},ZZ=function(e){function t(t){var n,r,i,o=this,a=function(e){var t=e.region,n=e.useFipsEndpoint;if(!t)throw new Error("Region is missing");return It(It({},e),{region:function(){return Ot(void 0,void 0,void 0,(function(){var e;return kt(this,(function(n){switch(n.label){case 0:return"string"==typeof t?[2,nY(t)]:[4,t()];case 1:return e=n.sent(),[2,nY(e)]}}))}))},useFipsEndpoint:function(){return Ot(void 0,void 0,void 0,(function(){var e;return kt(this,(function(r){switch(r.label){case 0:return"string"!=typeof t?[3,1]:(e=t,[3,3]);case 1:return[4,t()];case 2:e=r.sent(),r.label=3;case 3:return tY(e)?[2,!0]:[2,"boolean"==typeof n?Promise.resolve(n):n()]}}))}))}})}(function(e){var t,n,r,i,o,a,s,u,c,l,f,d,h,p,v,y=function(e){var t=(void 0===e?{}:e).defaultsMode;return DY((function(){return Ot(void 0,void 0,void 0,(function(){var e,n;return kt(this,(function(r){switch(r.label){case 0:return"function"!=typeof t?[3,2]:[4,t()];case 1:return n=r.sent(),[3,3];case 2:n=t,r.label=3;case 3:switch(null==(e=n)?void 0:e.toLowerCase()){case"auto":return[2,Promise.resolve(YZ()?"mobile":"standard")];case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return[2,Promise.resolve(null==e?void 0:e.toLocaleLowerCase())];case void 0:return[2,Promise.resolve("legacy")];default:throw new Error('Invalid parameter for "defaultsMode", expect '.concat(WZ.join(", "),", got ").concat(e))}return[2]}}))}))}))}(e),g=function(){return y().then(S$)},m=function(e){var t,n,r,i,o;return{apiVersion:"2016-12-01",disableHostPrefix:null!==(t=null==e?void 0:e.disableHostPrefix)&&void 0!==t&&t,logger:null!==(n=null==e?void 0:e.logger)&&void 0!==n?n:{},regionInfoProvider:null!==(r=null==e?void 0:e.regionInfoProvider)&&void 0!==r?r:$Z,serviceId:null!==(i=null==e?void 0:e.serviceId)&&void 0!==i?i:"Pinpoint",urlParser:null!==(o=null==e?void 0:e.urlParser)&&void 0!==o?o:HZ}}(e);return It(It(It({},m),e),{runtime:"browser",defaultsMode:y,base64Decoder:null!==(t=null==e?void 0:e.base64Decoder)&&void 0!==t?t:LZ,base64Encoder:null!==(n=null==e?void 0:e.base64Encoder)&&void 0!==n?n:NZ,bodyLengthChecker:null!==(r=null==e?void 0:e.bodyLengthChecker)&&void 0!==r?r:zZ,credentialDefaultProvider:null!==(i=null==e?void 0:e.credentialDefaultProvider)&&void 0!==i?i:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(o=null==e?void 0:e.defaultUserAgentProvider)&&void 0!==o?o:BZ({serviceId:m.serviceId,clientVersion:"3.186.0"}),maxAttempts:null!==(a=null==e?void 0:e.maxAttempts)&&void 0!==a?a:3,region:null!==(s=null==e?void 0:e.region)&&void 0!==s?s:FZ("Region is missing"),requestHandler:null!==(u=null==e?void 0:e.requestHandler)&&void 0!==u?u:new AZ(g),retryMode:null!==(c=null==e?void 0:e.retryMode)&&void 0!==c?c:function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return[4,g()];case 1:return[2,e.sent().retryMode||dY]}}))}))},sha256:null!==(l=null==e?void 0:e.sha256)&&void 0!==l?l:gG.Sha256,streamCollector:null!==(f=null==e?void 0:e.streamCollector)&&void 0!==f?f:DZ,useDualstackEndpoint:null!==(d=null==e?void 0:e.useDualstackEndpoint)&&void 0!==d?d:function(){return Promise.resolve(!1)},useFipsEndpoint:null!==(h=null==e?void 0:e.useFipsEndpoint)&&void 0!==h?h:function(){return Promise.resolve(!1)},utf8Decoder:null!==(p=null==e?void 0:e.utf8Decoder)&&void 0!==p?p:qZ,utf8Encoder:null!==(v=null==e?void 0:e.utf8Encoder)&&void 0!==v?v:KZ})}(t)),s=function(e){var t,n=eY(null!==(t=e.maxAttempts)&&void 0!==t?t:3);return It(It({},e),{maxAttempts:n,retryStrategy:function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return e.retryStrategy?[2,e.retryStrategy]:[4,eY(e.retryMode)()];case 1:return t.sent()===QW.ADAPTIVE?[2,new RY(n)]:[2,new PY(n)]}}))}))}})}(function(e){var t,n=eY(e.useDualstackEndpoint),r=e.endpoint,i=e.useFipsEndpoint,o=e.urlParser;return It(It({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:r?eY("string"==typeof r?o(r):r):function(){return function(e){return Ot(void 0,void 0,void 0,(function(){var t,n,r,i,o,a,s;return kt(this,(function(u){switch(u.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=u.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.useDualstackEndpoint()];case 2:return i=u.sent(),[4,e.useFipsEndpoint()];case 3:return o=u.sent(),[4,e.regionInfoProvider(r,{useDualstackEndpoint:i,useFipsEndpoint:o})];case 4:if(!(a=(null!==(s=u.sent())&&void 0!==s?s:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser("".concat(n?"https:":"http:","//").concat(a))]}}))}))}(It(It({},e),{useDualstackEndpoint:n,useFipsEndpoint:i}))},isCustomEndpoint:!!r,useDualstackEndpoint:n})}(a)),u=function(e){var t,n,r=e.credentials?"function"==typeof(n=e.credentials)?DY(n,(function(e){return void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5}),(function(e){return void 0!==e.expiration})):eY(n):e.credentialDefaultProvider(e),i=e.signingEscapePath,o=void 0===i||i,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?eY(e.signer):e.regionInfoProvider?function(){return eY(e.region)().then((function(t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o;return kt(this,(function(a){switch(a.label){case 0:return r=(n=e).regionInfoProvider,i=[t],o={},[4,e.useFipsEndpoint()];case 1:return o.useFipsEndpoint=a.sent(),[4,e.useDualstackEndpoint()];case 2:return[4,r.apply(n,i.concat([(o.useDualstackEndpoint=a.sent(),o)]))];case 3:return[2,[a.sent()||{},t]]}}))}))})).then((function(t){var n=Lt(t,2),i=n[0],a=n[1],s=i.signingRegion,c=i.signingService;e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId;var l=It(It({},e),{credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o});return new(e.signerConstructor||hZ)(l)}))}:function(t){return Ot(void 0,void 0,void 0,(function(){var n,i,a;return kt(this,(function(s){if(!t)throw new Error("Unexpected empty auth scheme config");return n=t.signingScope,i=t.signingName,e.signingRegion=e.signingRegion||n,e.signingName=e.signingName||i||e.serviceId,a=It(It({},e),{credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o}),[2,new(e.signerConstructor||hZ)(a)]}))}))},It(It({},e),{systemClockOffset:s,signingEscapePath:o,credentials:r,signer:t})}(s),c=It(It({},n=u),{customUserAgent:"string"==typeof n.customUserAgent?[[n.customUserAgent]]:n.customUserAgent});return(o=e.call(this,c)||this).config=c,o.middlewareStack.use((i=o.config,{applyToStack:function(e){e.add(function(e){return function(t,n){return function(r){return Ot(void 0,void 0,void 0,(function(){var i;return kt(this,(function(o){switch(o.label){case 0:return[4,e.retryStrategy()];case 1:return(null==(i=o.sent())?void 0:i.mode)&&(n.userAgent=Dt(Dt([],Lt(n.userAgent||[]),!1),[["cfg/retry-mode",i.mode]],!1)),[2,i.retry(t,r)]}}))}))}}}(i),LY)}})),o.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return Ot(t,void 0,void 0,(function(){var t,i,o,a,s;return kt(this,(function(u){if(t=r.request,K$.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map((function(e){return e.toLowerCase()})).indexOf(oY)))try{a=e(i),t.headers=It(It({},t.headers),((s={})[oY]=String(a),s))}catch(e){}return[2,n(It(It({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),aY)}}}(o.config)),o.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Ot(void 0,void 0,void 0,(function(){var r,i;return kt(this,(function(o){return K$.isInstance(n.request)?(r=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),sY)}}}(o.config)),o.middlewareStack.use((o.config,{applyToStack:function(e){e.add((function(e,t){return function(n){return Ot(void 0,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f;return kt(this,(function(d){switch(d.label){case 0:return r=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,f=Pt(c,["$metadata"]),a.info({clientName:r,commandName:i,input:o(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}),uY)}})),o.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Ot(void 0,void 0,void 0,(function(){var r,i,o,a;return kt(this,(function(s){return r=n.request,!K$.isInstance(r)||"node"!==e.runtime||r.headers.hasOwnProperty(cY)?[2,t(n)]:(i=process.env.AWS_LAMBDA_FUNCTION_NAME,o=process.env._X_AMZN_TRACE_ID,(a=function(e){return"string"==typeof e&&e.length>0})(i)&&a(o)&&(r.headers[cY]=o),[2,t(It(It({},n),{request:r}))])}))}))}}}(e),lY)}}}(o.config)),o.middlewareStack.use(function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t,n){return function(r){var i,o,a;return Ot(this,void 0,void 0,(function(){var s,u,c,l,f,d,h;return kt(this,(function(p){switch(p.label){case 0:return K$.isInstance(r.request)?(s=null===(a=null===(o=null===(i=n.endpointV2)||void 0===i?void 0:i.properties)||void 0===o?void 0:o.authSchemes)||void 0===a?void 0:a[0],[4,e.signer(s)]):[2,t(r)];case 1:return u=p.sent(),l=t,f=[It({},r)],h={},[4,u.sign(r.request,{signingDate:yZ(e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 2:return[4,l.apply(void 0,[It.apply(void 0,f.concat([(h.request=p.sent(),h)]))]).catch((function(t){var n,r=null!==(n=t.ServerTime)&&void 0!==n?n:mZ(t.$response);throw r&&(e.systemClockOffset=gZ(r,e.systemClockOffset)),t}))];case 3:return c=p.sent(),(d=mZ(c.response))&&(e.systemClockOffset=gZ(d,e.systemClockOffset)),[2,c]}}))}))}}}(e),bZ)}}}(o.config)),o.middlewareStack.use((r=o.config,{applyToStack:function(e){var t;e.add((t=r,function(e,n){return function(r){return Ot(void 0,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d;return kt(this,(function(h){switch(h.label){case 0:return i=r.request,K$.isInstance(i)?(o=i.headers,a=(null===(f=null==n?void 0:n.userAgent)||void 0===f?void 0:f.map(_Z))||[],[4,t.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=h.sent().map(_Z),u=(null===(d=null==t?void 0:t.customUserAgent)||void 0===d?void 0:d.map(_Z))||[],c=Dt(Dt(Dt([],Lt(s),!1),Lt(a),!1),Lt(u),!1).join(" "),l=Dt(Dt([],Lt(s.filter((function(e){return e.startsWith("aws-sdk-")}))),!1),Lt(u),!1).join(" "),"browser"!==t.runtime?(l&&(o[SZ]=o[SZ]?"".concat(o[wZ]," ").concat(l):l),o[wZ]=c):o[SZ]=c,[2,e(It(It({},r),{request:i}))]}}))}))}}),xZ)}})),o}return xe(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(o$),JZ=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(t$(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"PinpointClient",commandName:"UpdateEndpointCommand",inputFilterSensitiveLog:B$,outputFilterSensitiveLog:q$},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return n=f.sent(),r=n.hostname,i=n.protocol,o=void 0===i?"https":i,a=n.port,s=n.path,u={"content-type":"application/json"},c="".concat((null==s?void 0:s.endsWith("/"))?s.slice(0,-1):s||"")+"/v1/apps/{ApplicationId}/endpoints/{EndpointId}",c=j$(c,e,"ApplicationId",(function(){return e.ApplicationId}),"{ApplicationId}",!1),c=j$(c,e,"EndpointId",(function(){return e.EndpointId}),"{EndpointId}",!1),void 0!==e.EndpointRequest&&(l=function(e,t){return It(It(It(It(It(It(It(It(It(It(It({},null!=e.Address&&{Address:e.Address}),null!=e.Attributes&&{Attributes:PW(e.Attributes,t)}),null!=e.ChannelType&&{ChannelType:e.ChannelType}),null!=e.Demographic&&{Demographic:AW(e.Demographic)}),null!=e.EffectiveDate&&{EffectiveDate:e.EffectiveDate}),null!=e.EndpointStatus&&{EndpointStatus:e.EndpointStatus}),null!=e.Location&&{Location:TW(e.Location)}),null!=e.Metrics&&{Metrics:IW(e.Metrics,t)}),null!=e.OptOut&&{OptOut:e.OptOut}),null!=e.RequestId&&{RequestId:e.RequestId}),null!=e.User&&{User:CW(e.User,t)})}(e.EndpointRequest,t)),void 0===l&&(l={}),l=JSON.stringify(l),[2,new K$({protocol:o,hostname:r,port:a,method:"PUT",headers:u,path:c,body:l})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i;return kt(this,(function(o){switch(o.label){case 0:return 202!==e.statusCode&&e.statusCode>=300?[2,yW(e,t)]:(n=gW({$metadata:WW(e)}),i=f$,[4,YW(e.body,t)]);case 1:return r=i.apply(void 0,[o.sent()]),n.MessageBody=function(e,t){return{Message:d$(e.Message),RequestID:d$(e.RequestID)}}(r),[2,n]}}))}))}(e,t)},t}(a$),XZ=n(3942);!function(e){e.MESSAGE_RECEIVED="MESSAGE_RECEIVED_EVENT",e.MESSAGE_DISPLAYED="MESSAGE_DISPLAYED_EVENT",e.MESSAGE_DISMISSED="MESSAGE_DISMISSED_EVENT",e.MESSAGE_ACTION_TAKEN="MESSAGE_ACTION_TAKEN_EVENT"}(jZ||(jZ={}));var QZ,eJ,tJ=((UZ={})[jZ.MESSAGE_RECEIVED]=new Set,UZ[jZ.MESSAGE_DISPLAYED]=new Set,UZ[jZ.MESSAGE_DISMISSED]=new Set,UZ[jZ.MESSAGE_ACTION_TAKEN]=new Set,UZ),nJ=function(e,t){tJ[t].forEach((function(t){t.handleEvent(e)}))},rJ=function(e,t){var n={handleEvent:e,remove:function(){tJ[t].delete(n)}};return tJ[t].add(n),n},iJ=n(308),oJ=n.n(iJ),aJ=Y().isBrowser;aJ&&document&&(void 0!==document.hidden?(QZ="hidden",eJ="visibilitychange"):void 0!==document.msHidden?(QZ="msHidden",eJ="msvisibilitychange"):void 0!==document.webkitHidden&&(QZ="webkitHidden",eJ="webkitvisibilitychange"));var sJ=new c("InAppMessagingSessionTracker");const uJ=function(e){var t=this;void 0===e&&(e=oJ()),this.start=function(){return aJ&&(null===document||void 0===document||document.addEventListener(eJ,t.visibilityChangeHandler)),t.getSessionState()},this.end=function(){return aJ&&(null===document||void 0===document||document.removeEventListener(eJ,t.visibilityChangeHandler)),t.getSessionState()},this.getSessionState=function(){return aJ&&document&&!document[QZ]?"started":"ended"},this.visibilityChangeHandler=function(){aJ&&document&&(document[QZ]?(sJ.debug("App is now hidden"),t.sessionStateChangeHandler("ended")):(sJ.debug("App is now visible"),t.sessionStateChangeHandler("started")))},this.sessionStateChangeHandler=e};var cJ;!function(e){e.MESSAGE_DISPLAYED="_inapp.message_displayed",e.MESSAGE_DISMISSED="_inapp.message_dismissed",e.MESSAGE_ACTION_TAKEN="_inapp.message_clicked"}(cJ||(cJ={}));var lJ="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",fJ={},dJ={},hJ={},pJ=new c("AWSPinpointProvider"),vJ=function(e,t,n){_.dispatch("inAppMessaging",{event:e,data:t,message:n},"InAppMessaging",lJ)},yJ=function(){var e=new Date;return e.setHours(0,0,0,0),e.toISOString()},gJ=function(e){var t,n,r=e.InAppMessage;return null!==(n=null===(t=null==r?void 0:r.Content)||void 0===t?void 0:t.map((function(e){var t=e.BackgroundColor,n=e.BodyConfig,r=e.HeaderConfig,i=e.ImageUrl,o=e.PrimaryBtn,a=e.SecondaryBtn,s=null==o?void 0:o.DefaultConfig,u=null==a?void 0:a.DefaultConfig,c={};return t&&(c.container={style:{backgroundColor:t}}),r&&(c.header={content:r.Header,style:{color:r.TextColor,textAlign:r.Alignment.toLowerCase()}}),n&&(c.body={content:n.Body,style:{color:n.TextColor,textAlign:n.Alignment.toLowerCase()}}),i&&(c.image={src:i}),s&&(c.primaryButton={title:s.Text,action:s.ButtonAction,url:s.Link,style:{backgroundColor:s.BackgroundColor,borderRadius:s.BorderRadius,color:s.TextColor}}),u&&(c.secondaryButton={title:u.Text,action:u.ButtonAction,url:u.Link,style:{backgroundColor:u.BackgroundColor,borderRadius:u.BorderRadius,color:u.TextColor}}),c})))&&void 0!==n?n:[]},mJ=function(e){var t=e.InAppMessage,n=e.Priority,r=e.Schedule,i=e.TreatmentId;return{customData:null==t?void 0:t.CustomConfig,endDate:null==r?void 0:r.EndDate,priority:n,treatmentId:i}},bJ="pinpointProvider_inAppMessages_dailyCount",wJ="pinpointProvider_inAppMessages_totalCount",SJ=function(){function e(){var e,t=this;this.config={},this.configured=!1,this.endpointInitialized=!1,this.initialized=!1,this.configure=function(e){return void 0===e&&(e={}),t.config=It(It({},t.config),e),pJ.debug("configure AWSPinpointProvider",t.config),t.configured||(t.sessionTracker=new uJ(t.sessionStateChangeHandler),t.sessionTracker.start(),rJ((function(e){t.recordMessageEvent(e,cJ.MESSAGE_DISPLAYED)}),jZ.MESSAGE_DISPLAYED),rJ((function(e){t.recordMessageEvent(e,cJ.MESSAGE_DISMISSED)}),jZ.MESSAGE_DISMISSED),rJ((function(e){t.recordMessageEvent(e,cJ.MESSAGE_ACTION_TAKEN)}),jZ.MESSAGE_ACTION_TAKEN)),t.configured=!0,vJ("pinpointProvider_configured",null),t.config},this.getInAppMessages=function(){return Ot(t,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return this.initialized?[3,2]:[4,this.init()];case 1:c.sent(),c.label=2;case 2:fJ={},dJ={},hJ={},c.label=3;case 3:return c.trys.push([3,6,,7]),[4,this.updateEndpoint()];case 4:return c.sent(),e=this.config,t=e.appId,n=e.endpointId,r=e.pinpointClient,o=new XW(i={ApplicationId:t,EndpointId:n}),pJ.debug("getting in-app messages",i),[4,r.send(o)];case 5:return a=c.sent(),s=a.InAppMessagesResponse.InAppMessageCampaigns,vJ("getInAppMessages",s),[2,s];case 6:throw u=c.sent(),pJ.error("Error getting in-app messages",u),u;case 7:return[2]}}))}))},this.processInAppMessages=function(e,n){return Ot(t,void 0,void 0,(function(){var t,r=this;return kt(this,(function(i){switch(i.label){case 0:return this.initialized?[3,2]:[4,this.init()];case 1:i.sent(),i.label=2;case 2:return[2,this.normalizeMessages(e.reduce((function(e,i){var o=function(e,t){var n,r=e.CampaignId,i=e.Schedule,o=t.name,a=(null===(n=null==i?void 0:i.EventFilter)||void 0===n?void 0:n.Dimensions).EventType,s=r+":"+o;return fJ.hasOwnProperty(s)||(fJ[s]=!!(null==a?void 0:a.Values.includes(o))),fJ[s]}(i,n)&&function(e,t){var n,r=e.CampaignId,i=e.Schedule,o=t.attributes,a=(null===(n=null==i?void 0:i.EventFilter)||void 0===n?void 0:n.Dimensions).Attributes;if(JE()(a))return!0;if(JE()(o))return!1;var s=r+":"+JSON.stringify(o);return dJ.hasOwnProperty(s)||(dJ[s]=Object.entries(a).every((function(e){var t=Lt(e,2),n=t[0];return t[1].Values.includes(o[n])}))),dJ[s]}(i,n)&&function(e,t){var n,r=e.CampaignId,i=e.Schedule,o=t.metrics,a=(null===(n=null==i?void 0:i.EventFilter)||void 0===n?void 0:n.Dimensions).Metrics;if(JE()(a))return!0;if(JE()(o))return!1;var s=r+":"+JSON.stringify(o);return hJ.hasOwnProperty(s)||(hJ[s]=Object.entries(a).every((function(e){var t=Lt(e,2),n=t[0],r=t[1],i=r.ComparisonOperator,a=r.Value,s=function(e){switch(e){case"EQUAL":return function(e,t){return e===t};case"GREATER_THAN":return function(e,t){return e<t};case"GREATER_THAN_OR_EQUAL":return function(e,t){return e<=t};case"LESS_THAN":return function(e,t){return e>t};case"LESS_THAN_OR_EQUAL":return function(e,t){return e>=t};default:return null}}(i);return!!s&&s(a,o[n])}))),hJ[s]}(i,n)&&function(e){var t=e.Schedule;return!(null==t?void 0:t.EndDate)||new Date<new Date(t.EndDate)}(i)&&r.isBelowCap(i);if(o)if(t){if(i.Priority){if(i.Priority<t)return t=i.Priority,[i];i.Priority===t&&e.push(i)}}else{if(i.Priority)return t=i.Priority,[i];e.push(i)}return e}),[]))]}}))}))},this.identifyUser=function(e,n){return Ot(t,void 0,void 0,(function(){var t;return kt(this,(function(r){switch(r.label){case 0:return this.initialized?[3,2]:[4,this.init()];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this.updateEndpoint(e,n)];case 3:return r.sent(),[3,5];case 4:throw t=r.sent(),pJ.error("Error identifying user",t),t;case 5:return[2]}}))}))},this.init=function(){return Ot(t,void 0,void 0,(function(){var e,t,n,r,i,o;return kt(this,(function(a){switch(a.label){case 0:e=this.config,t=e.endpointId,n=e.storage,r=this.getProviderName(),a.label=1;case 1:return a.trys.push([1,6,,7]),"function"!=typeof n.sync?[3,3]:[4,n.sync()];case 2:a.sent(),a.label=3;case 3:return t?[3,5]:(i=this.config,[4,this.getEndpointId()]);case 4:i.endpointId=a.sent(),a.label=5;case 5:return this.initialized=!0,[3,7];case 6:return o=a.sent(),pJ.error("Failed to initialize "+r,o),[3,7];case 7:return[2]}}))}))},this.initPinpointClient=function(){return Ot(t,void 0,void 0,(function(){var e,t,n,r,i;return kt(this,(function(o){if(e=this.config,t=e.appId,n=e.credentials,r=e.pinpointClient,i=e.region,!t||!n||!i)throw new Error("One or more of credentials, appId or region is not configured");return r&&r.destroy(),this.config.pinpointClient=new ZZ({region:i,credentials:n,customUserAgent:te()}),[2]}))}))},this.getEndpointId=function(){return Ot(t,void 0,void 0,(function(){var e,t,n,r,i;return kt(this,(function(o){switch(o.label){case 0:return e=this.config.appId,t=this.getSubCategory()+":"+this.getProviderName()+":"+e,[4,sl.getItem(t)];case 1:return(n=o.sent())?[2,n]:(r=(0,XZ.v4)(),i=(new Date).getTime()+31536e8,sl.setItem(t,r,{expires:i,priority:1}),[2,r])}}))}))},this.updateEndpoint=function(e,n){return void 0===e&&(e=null),void 0===n&&(n=null),Ot(t,void 0,void 0,(function(){var t,r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A,T;return kt(this,(function(C){switch(C.label){case 0:return t=this.config,r=t.appId,i=t.credentials,o=t.endpointId,a=t.endpointInfo,s=void 0===a?{}:a,u=t.pinpointClient,[4,this.getCredentials()];case 1:if(c=C.sent(),l=!i||Object.keys(c).some((function(e){return c[e]!==i[e]})),this.endpointInitialized&&!l&&!e&&!n)return[2];this.config.credentials=c,C.label=2;case 2:return C.trys.push([2,6,,7]),u&&!l?[3,4]:[4,this.initPinpointClient()];case 3:C.sent(),C.label=4;case 4:return d=(f=null!=n?n:{}).address,h=f.attributes,p=f.demographic,v=f.location,y=f.metrics,g=f.optOut,m=this.clientInfo,b=m.appVersion,w=m.make,S=m.model,E=m.platform,_=m.version,x={ApplicationId:r,EndpointId:o,EndpointRequest:{RequestId:(0,XZ.v4)(),EffectiveDate:(new Date).toISOString(),ChannelType:N$.IN_APP,Address:null!=d?d:s.address,Attributes:It(It({},s.attributes),h),Demographic:It({AppVersion:b,Make:w,Model:S,ModelVersion:_,Platform:E},J(It(It({},s.demographic),p))),Location:J(It(It({},s.location),v)),Metrics:It(It({},s.metrics),y),OptOut:null!=g?g:s.optOut,User:{UserId:null!==(T=null!=e?e:s.userId)&&void 0!==T?T:c.identityId,UserAttributes:null!=h?h:s.userAttributes}}},A=new JZ(x),pJ.debug("updating endpoint",x),[4,this.config.pinpointClient.send(A)];case 5:return C.sent(),this.endpointInitialized=!0,[3,7];case 6:throw C.sent();case 7:return[2]}}))}))},this.getCredentials=function(){return Ot(t,void 0,void 0,(function(){var e,t;return kt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,fs.get()];case 1:return(e=n.sent())?[2,fs.shear(e)]:(pJ.debug("no credentials found"),[2,null]);case 2:return t=n.sent(),pJ.error("Error getting credentials:",t),[2,null];case 3:return[2]}}))}))},this.sessionStateChangeHandler=function(e){"started"===e&&(t.sessionMessageCountMap={})},this.isBelowCap=function(e){var n=e.CampaignId,r=e.SessionCap,i=e.DailyCap,o=e.TotalCap,a=t.getMessageCounts(n),s=a.sessionCount,u=a.dailyCount,c=a.totalCount;return(!r||s<r)&&(!i||u<i)&&(!o||c<o)},this.getSessionCount=function(e){return t.sessionMessageCountMap[e]||0},this.getDailyCount=function(){var e=t.config.storage,n=yJ(),r=e.getItem(bJ),i=r?JSON.parse(r):{count:0,lastCountTimestamp:n};return i.lastCountTimestamp===n?i.count:0},this.getTotalCountMap=function(){var e=t.config.storage.getItem(wJ);return e?JSON.parse(e):{}},this.getTotalCount=function(e){return t.getTotalCountMap()[e]||0},this.getMessageCounts=function(e){try{return{sessionCount:t.getSessionCount(e),dailyCount:t.getDailyCount(),totalCount:t.getTotalCount(e)}}catch(e){pJ.error("Failed to get message counts from storage",e)}},this.setSessionCount=function(e,n){t.sessionMessageCountMap[e]=n},this.setDailyCount=function(e){var n=t.config.storage,r={count:e,lastCountTimestamp:yJ()};try{n.setItem(bJ,JSON.stringify(r))}catch(e){pJ.error("Failed to save daily message count to storage",e)}},this.setTotalCountMap=function(e){var n=t.config.storage;try{n.setItem(wJ,JSON.stringify(e))}catch(e){pJ.error("Failed to save total count to storage",e)}},this.setTotalCount=function(e,n){var r,i=It(It({},t.getTotalCountMap()),((r={})[e]=n,r));t.setTotalCountMap(i)},this.incrementCounts=function(e){return Ot(t,void 0,void 0,(function(){var t,n,r,i;return kt(this,(function(o){return t=this.getMessageCounts(e),n=t.sessionCount,r=t.dailyCount,i=t.totalCount,this.setSessionCount(e,n+1),this.setDailyCount(r+1),this.setTotalCount(e,i+1),[2]}))}))},this.normalizeMessages=function(e){return e.map((function(e){var t,n=e.CampaignId,r=e.InAppMessage;return{id:n,content:gJ(e),layout:(t=r.Layout,t===W$.MOBILE_FEED?"MODAL":t===W$.OVERLAYS?"FULL_SCREEN":t),metadata:mJ(e)}}))},this.recordMessageEvent=function(e,n){return Ot(t,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return this.initialized?[3,2]:[4,this.init()];case 1:t.sent(),t.label=2;case 2:return function(e,t){if(t)if(d.Analytics&&"function"==typeof d.Analytics.record){var n=t.id,r=t.metadata;d.Analytics.record({name:e,attributes:{campaign_id:n,delivery_type:"IN_APP_MESSAGE",treatment_id:null==r?void 0:r.treatmentId}})}else pJ.debug("Analytics module is not registered into Amplify");else pJ.debug("Unable to record analytics event - no InAppMessage was received")}(n,e),n!==cJ.MESSAGE_DISPLAYED?[3,4]:[4,this.incrementCounts(e.id)];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))},this.sessionMessageCountMap={},this.config={storage:(new ie).getStorage()},this.clientInfo=null!==(e=C.clientInfo())&&void 0!==e?e:{}}return e.prototype.getCategory=function(){return e.category},e.prototype.getSubCategory=function(){return e.subCategory},e.prototype.getProviderName=function(){return e.providerName},e.category="Notifications",e.subCategory="InAppMessaging",e.providerName="AWSPinpoint",e}();const EJ=SJ;var _J="_inAppMessages",xJ=new c("Notifications.InAppMessaging"),AJ=function(){function e(){var e=this;this.config={},this.listeningForAnalyticEvents=!1,this.pluggables=[],this.storageSynced=!1,this.configure=function(t){void 0===t&&(t={});var n=t.listenForAnalyticsEvents,r=void 0===n||n,i=Pt(t,["listenForAnalyticsEvents"]);return e.config=It(It({},e.config),i),xJ.debug("configure InAppMessaging",e.config),e.pluggables.forEach((function(t){t.configure(e.config[t.getProviderName()])})),0===e.pluggables.length&&e.addPluggable(new EJ),r&&!e.listeningForAnalyticEvents&&(_.listen("analytics",e.analyticsListener),e.listeningForAnalyticEvents=!0),e.config},this.getPluggable=function(t){var n,r=null!==(n=e.pluggables.find((function(e){return e.getProviderName()===t})))&&void 0!==n?n:null;return r||xJ.debug("No plugin found with name "+t),r},this.addPluggable=function(t){if(t&&"Notifications"===t.getCategory()&&"InAppMessaging"===t.getSubCategory()){if(e.getPluggable(t.getProviderName()))throw new Error("Pluggable "+t.getProviderName()+" has already been added.");e.pluggables.push(t),t.configure(e.config[t.getProviderName()])}},this.removePluggable=function(t){var n=e.pluggables.findIndex((function(e){return e.getProviderName()===t}));-1===n?xJ.debug("No plugin found with name "+t):e.pluggables.splice(n,1)},this.syncMessages=function(){return Promise.all(e.pluggables.map((function(t){return Ot(e,void 0,void 0,(function(){var e,n,r;return kt(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,t.getInAppMessages()];case 1:return e=i.sent(),n=""+t.getProviderName()+_J,[4,this.setMessages(n,e)];case 2:return i.sent(),[3,4];case 3:throw r=i.sent(),xJ.error("Failed to sync messages",r),r;case 4:return[2]}}))}))})))},this.clearMessages=function(){return Promise.all(e.pluggables.map((function(t){return Ot(e,void 0,void 0,(function(){var e;return kt(this,(function(n){switch(n.label){case 0:return e=""+t.getProviderName()+_J,[4,this.removeMessages(e)];case 1:return n.sent(),[2]}}))}))})))},this.dispatchEvent=function(t){return Ot(e,void 0,void 0,(function(){var e,n,r=this;return kt(this,(function(i){switch(i.label){case 0:return[4,Promise.all(this.pluggables.map((function(e){return Ot(r,void 0,void 0,(function(){var n,r;return kt(this,(function(i){switch(i.label){case 0:return n=""+e.getProviderName()+_J,[4,this.getMessages(n)];case 1:return r=i.sent(),[2,e.processInAppMessages(r,t)]}}))}))})))];case 1:return e=i.sent(),(n=XV()(e)).length&&nJ(this.conflictHandler(n),jZ.MESSAGE_RECEIVED),[2]}}))}))},this.identifyUser=function(t,n){return Promise.all(e.pluggables.map((function(r){return Ot(e,void 0,void 0,(function(){var e;return kt(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,r.identifyUser(t,n)];case 1:return i.sent(),[3,3];case 2:throw e=i.sent(),xJ.error("Failed to identify user",e),e;case 3:return[2]}}))}))})))},this.onMessageReceived=function(e){return rJ(e,jZ.MESSAGE_RECEIVED)},this.onMessageDisplayed=function(e){return rJ(e,jZ.MESSAGE_DISPLAYED)},this.onMessageDismissed=function(e){return rJ(e,jZ.MESSAGE_DISMISSED)},this.onMessageActionTaken=function(e){return rJ(e,jZ.MESSAGE_ACTION_TAKEN)},this.notifyMessageInteraction=function(e,t){nJ(e,t)},this.setConflictHandler=function(t){e.conflictHandler=t},this.analyticsListener=function(t){var n=t.payload,r=n.event,i=n.data;"record"===r&&e.dispatchEvent(i)},this.syncStorage=function(){return Ot(e,void 0,void 0,(function(){var e,t;return kt(this,(function(n){switch(n.label){case 0:e=this.config.storage,n.label=1;case 1:return n.trys.push([1,4,,5]),"function"!=typeof e.sync?[3,3]:[4,e.sync()];case 2:n.sent(),n.label=3;case 3:return this.storageSynced=!0,[3,5];case 4:return t=n.sent(),xJ.error("Failed to sync storage",t),[3,5];case 5:return[2]}}))}))},this.getMessages=function(t){return Ot(e,void 0,void 0,(function(){var e,n,r;return kt(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),this.storageSynced?[3,2]:[4,this.syncStorage()];case 1:i.sent(),i.label=2;case 2:return e=this.config.storage,[2,(n=e.getItem(t))?JSON.parse(n):[]];case 3:return r=i.sent(),xJ.error("Failed to retrieve in-app messages from storage",r),[3,4];case 4:return[2]}}))}))},this.setMessages=function(t,n){return Ot(e,void 0,void 0,(function(){var e;return kt(this,(function(r){switch(r.label){case 0:if(!n)return[2];r.label=1;case 1:return r.trys.push([1,4,,5]),this.storageSynced?[3,3]:[4,this.syncStorage()];case 2:r.sent(),r.label=3;case 3:return this.config.storage.setItem(t,JSON.stringify(n)),[3,5];case 4:return e=r.sent(),xJ.error("Failed to store in-app messages",e),[3,5];case 5:return[2]}}))}))},this.removeMessages=function(t){return Ot(e,void 0,void 0,(function(){var e;return kt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),this.storageSynced?[3,2]:[4,this.syncStorage()];case 1:n.sent(),n.label=2;case 2:return this.config.storage.removeItem(t),[3,4];case 3:return e=n.sent(),xJ.error("Failed to remove in-app messages from storage",e),[3,4];case 4:return[2]}}))}))},this.defaultConflictHandler=function(e){var t=e.sort((function(e,t){var n,r,i=null===(n=e.metadata)||void 0===n?void 0:n.endDate,o=null===(r=t.metadata)||void 0===r?void 0:r.endDate;return i===o?0:i&&!o?-1:!i&&o?1:new Date(i)<new Date(o)?-1:1}));return t[0]},this.config={storage:(new ie).getStorage()},this.setConflictHandler(this.defaultConflictHandler)}return e.prototype.getModuleName=function(){return"InAppMessaging"},e}();const TJ=AJ;var CJ=new c("Notifications"),IJ=function(){function e(){var e=this;this.config={},this.configure=function(t){var n=(void 0===t?{}:t).Notifications;return e.config=It(It({},e.config),n),CJ.debug("configure Notifications",n),e.inAppMessaging.configure(e.config.InAppMessaging),e.config},this.inAppMessaging=new TJ}return e.prototype.getModuleName=function(){return"Notifications"},Object.defineProperty(e.prototype,"InAppMessaging",{get:function(){return this.inAppMessaging},enumerable:!0,configurable:!0}),e}(),PJ=new IJ;const OJ=PJ;d.register(PJ);var kJ=function(e,t){return kJ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},kJ(e,t)};function RJ(e,t){function n(){this.constructor=e}kJ(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var LJ=function(){return LJ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},LJ.apply(this,arguments)};function NJ(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function DJ(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var MJ=new c("AbstractXRProvider"),jJ=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=LJ(LJ({},e),this._config),MJ.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"XR"},Object.defineProperty(e.prototype,"options",{get:function(){return LJ({},this._config)},enumerable:!0,configurable:!0}),e}(),UJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return RJ(t,e),t}(Error),FJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return RJ(t,e),t}(UJ),zJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return RJ(t,e),t}(UJ),BJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return RJ(t,e),t}(UJ),qJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return RJ(t,e),t}(UJ),KJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return RJ(t,e),t}(UJ),HJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return RJ(t,e),t}(UJ),GJ=new c("SumerianProvider"),VJ=function(e){function t(t){return void 0===t&&(t={}),e.call(this,t)||this}return RJ(t,e),t.prototype.getProviderName=function(){return"SumerianProvider"},t.prototype.loadScript=function(e){return NJ(this,void 0,void 0,(function(){return DJ(this,(function(t){return[2,new Promise((function(t,n){var r=document.createElement("script");r.src=e,r.addEventListener("load",(function(e){t()})),r.addEventListener("error",(function(t){n(new Error("Failed to load script: "+e))})),document.head.appendChild(r)}))]}))}))},t.prototype.loadScene=function(e,t,n){return NJ(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A,T,C,I,P;return DJ(this,(function(O){switch(O.label){case 0:if(!e)throw u="No scene name passed into loadScene",GJ.error(u),new KJ(u);if(!t)throw u="No dom element id passed into loadScene",GJ.error(u),new qJ(u);if(!(r=document.getElementById(t)))throw u="DOM element id, "+t+" not found",GJ.error(u),new qJ(u);if(!(i=this.getScene(e)).sceneConfig)throw u="No scene config configured for scene: "+e,GJ.error(u),new KJ(u);if(o=i.sceneConfig.url,a=i.sceneConfig.sceneId,i.sceneConfig.hasOwnProperty("region"))s=i.sceneConfig.region;else{if(!this.options.hasOwnProperty("region"))throw u="No region configured for scene: "+e,GJ.error(u),new KJ(u);s=this.options.region}c={region:s,customUserAgent:Dj.userAgent+"-SumerianScene"},l={headers:{"X-Amz-User-Agent":Dj.userAgent}},f=o,O.label=1;case 1:return O.trys.push([1,3,,4]),[4,fs.get()];case 2:return d=O.sent(),c.credentials=d,h={secret_key:d.secretAccessKey,access_key:d.accessKeyId,session_token:d.sessionToken},p={region:s,service:"sumerian"},v=$.sign({method:"GET",url:o},h,p),l.headers=LJ(LJ({},l.headers),v.headers),f=v.url,[3,4];case 3:return O.sent(),GJ.debug("No credentials available, the request will be unsigned"),[3,4];case 4:return[4,fetch(f,l)];case 5:return[4,(y=O.sent()).json()];case 6:if(g=O.sent(),403===y.status)throw g.message?(GJ.error("Failure to authenticate user: "+g.message),new KJ("Failure to authenticate user: "+g.message)):(GJ.error("Failure to authenticate user"),new KJ("Failure to authenticate user"));return m=g.bundleData[a],[4,fetch(m.url,{headers:m.headers})];case 7:return[4,O.sent().json()];case 8:b=O.sent(),O.label=9;case 9:return O.trys.push([9,11,,12]),[4,this.loadScript(b[a].bootstrapperUrl)];case 10:return O.sent(),[3,12];case 11:throw w=O.sent(),GJ.error(w),new KJ(w);case 12:return S=n.progressCallback?n.progressCallback:void 0,E=i.publishParamOverrides?i.publishParamOverrides:void 0,_={element:r,sceneId:a,sceneBundle:b,apiResponse:g,progressCallback:S,publishParamOverrides:E,awsSDKConfigOverride:c},[4,window.SumerianBootstrapper.loadScene(_)];case 13:x=O.sent(),i.sceneController=x,i.isLoaded=!0;try{for(A=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(x.sceneLoadWarnings),T=A.next();!T.done;T=A.next())C=T.value,GJ.warn("loadScene warning: "+C)}catch(e){I={error:e}}finally{try{T&&!T.done&&(P=A.return)&&P.call(A)}finally{if(I)throw I.error}}return[2]}}))}))},t.prototype.isSceneLoaded=function(e){return this.getScene(e).isLoaded||!1},t.prototype.getScene=function(e){if(!this.options.scenes){var t="No scenes were defined in the configuration";throw GJ.error(t),new FJ(t)}if(!e)throw t="No scene name was passed",GJ.error(t),new zJ(t);if(!this.options.scenes[e])throw t="Scene '"+e+"' is not configured",GJ.error(t),new zJ(t);return this.options.scenes[e]},t.prototype.getSceneController=function(e){if(!this.options.scenes){var t="No scenes were defined in the configuration";throw GJ.error(t),new FJ(t)}var n=this.options.scenes[e];if(!n)throw t="Scene '"+e+"' is not configured",GJ.error(t),new zJ(t);var r=n.sceneController;if(!r)throw t="Scene controller for '"+e+"' has not been loaded",GJ.error(t),new BJ(t);return r},t.prototype.isVRCapable=function(e){return this.getSceneController(e).vrCapable},t.prototype.isVRPresentationActive=function(e){return this.getSceneController(e).vrPresentationActive},t.prototype.start=function(e){this.getSceneController(e).start()},t.prototype.enterVR=function(e){this.getSceneController(e).enterVR()},t.prototype.exitVR=function(e){this.getSceneController(e).exitVR()},t.prototype.isMuted=function(e){return this.getSceneController(e).muted},t.prototype.setMuted=function(e,t){this.getSceneController(e).muted=t},t.prototype.onSceneEvent=function(e,t,n){this.getSceneController(e).on(t,n)},t.prototype.enableAudio=function(e){this.getSceneController(e).enableAudio()},t}(jJ),$J=new c("XR"),WJ=function(){function e(e){this._options=e,$J.debug("XR Options",this._options),this._defaultProvider="SumerianProvider",this._pluggables={},this.addPluggable(new VJ)}return e.prototype.configure=function(e){var t=this,n=e?e.XR||e:{};return $J.debug("configure XR",{opt:n}),this._options=Object.assign({},this._options,n),Object.entries(this._pluggables).map((function(e){var r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(e,2),i=r[0],o=r[1];i!==t._defaultProvider||n[t._defaultProvider]?o.configure(t._options[i]):o.configure(t._options)})),this._options},e.prototype.addPluggable=function(e){return NJ(this,void 0,void 0,(function(){return DJ(this,(function(t){return e&&"XR"===e.getCategory()?(this._pluggables[e.getProviderName()]=e,[2,e.configure(this._options)]):[2]}))}))},e.prototype.loadScene=function(e,t,n,r){return void 0===n&&(n={}),void 0===r&&(r=this._defaultProvider),NJ(this,void 0,void 0,(function(){return DJ(this,(function(i){switch(i.label){case 0:if(!this._pluggables[r])throw new HJ("Provider '"+r+"' not configured");return[4,this._pluggables[r].loadScene(e,t,n)];case 1:return[2,i.sent()]}}))}))},e.prototype.isSceneLoaded=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new HJ("Provider '"+t+"' not configured");return this._pluggables[t].isSceneLoaded(e)},e.prototype.getSceneController=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new HJ("Provider '"+t+"' not configured");return this._pluggables[t].getSceneController(e)},e.prototype.isVRCapable=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new HJ("Provider '"+t+"' not configured");return this._pluggables[t].isVRCapable(e)},e.prototype.isVRPresentationActive=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new HJ("Provider '"+t+"' not configured");return this._pluggables[t].isVRPresentationActive(e)},e.prototype.start=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new HJ("Provider '"+t+"' not configured");return this._pluggables[t].start(e)},e.prototype.enterVR=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new HJ("Provider '"+t+"' not configured");return this._pluggables[t].enterVR(e)},e.prototype.exitVR=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new HJ("Provider '"+t+"' not configured");return this._pluggables[t].exitVR(e)},e.prototype.isMuted=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new HJ("Provider '"+t+"' not configured");return this._pluggables[t].isMuted(e)},e.prototype.setMuted=function(e,t,n){if(void 0===n&&(n=this._defaultProvider),!this._pluggables[n])throw new HJ("Provider '"+n+"' not configured");return this._pluggables[n].setMuted(e,t)},e.prototype.onSceneEvent=function(e,t,n,r){if(void 0===r&&(r=this._defaultProvider),!this._pluggables[r])throw new HJ("Provider '"+r+"' not configured");return this._pluggables[r].onSceneEvent(e,t,n)},e.prototype.enableAudio=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new HJ("Provider '"+t+"' not configured");return this._pluggables[t].enableAudio(e)},e}(),YJ=new WJ(null);d.register(YJ);var ZJ=function(){return ZJ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ZJ.apply(this,arguments)};function JJ(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function XJ(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(JJ(arguments[t]));return e}var QJ=new c("Predictions"),eX=new(function(){function e(e){this._options=e,this._convertPluggables=[],this._identifyPluggables=[],this._interpretPluggables=[]}return e.prototype.getModuleName=function(){return"Predictions"},e.prototype.addPluggable=function(e){if(this.getPluggable(e.getProviderName()))throw new Error("Pluggable with name "+e.getProviderName()+" has already been added.");var t=!1;this.implementsConvertPluggable(e)&&(this._convertPluggables.push(e),t=!0),this.implementsIdentifyPluggable(e)&&(this._identifyPluggables.push(e),t=!0),this.implementsInterpretPluggable(e)&&(this._interpretPluggables.push(e),t=!0),t&&this.configurePluggable(e)},e.prototype.getPluggable=function(e){var t=this.getAllProviders().find((function(t){return t.getProviderName()===e}));return void 0===t?(QJ.debug("No plugin found with providerName=>",e),null):t},e.prototype.removePluggable=function(e){this._convertPluggables=this._convertPluggables.filter((function(t){return t.getProviderName()!==e})),this._identifyPluggables=this._identifyPluggables.filter((function(t){return t.getProviderName()!==e})),this._interpretPluggables=this._interpretPluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.configure=function(e){var t=this,n=e?e.predictions||e:{};n=ZJ(ZJ({},n),e),this._options=Object.assign({},this._options,n),QJ.debug("configure Predictions",this._options),this.getAllProviders().forEach((function(e){return t.configurePluggable(e)}))},e.prototype.interpret=function(e,t){return this.getPluggableToExecute(this._interpretPluggables,t).interpret(e)},e.prototype.convert=function(e,t){return this.getPluggableToExecute(this._convertPluggables,t).convert(e)},e.prototype.identify=function(e,t){return this.getPluggableToExecute(this._identifyPluggables,t).identify(e)},e.prototype.getPluggableToExecute=function(e,t){if(t&&t.providerName)return XJ(e).find((function(e){return e.getProviderName()===t.providerName}));if(1===e.length)return e[0];throw new Error("More than one or no providers are configured, Either specify a provider name or configure exactly one provider")},e.prototype.getAllProviders=function(){return XJ(this._convertPluggables,this._identifyPluggables,this._interpretPluggables)},e.prototype.configurePluggable=function(e){var t=Object.assign({},this._options.predictions,this._options[e.getCategory().toLowerCase()]);e.configure(t)},e.prototype.implementsConvertPluggable=function(e){return e&&"function"==typeof e.convert},e.prototype.implementsIdentifyPluggable=function(e){return e&&"function"==typeof e.identify},e.prototype.implementsInterpretPluggable=function(e){return e&&"function"==typeof e.interpret},e}())({});d.register(eX);var tX,nX,rX,iX,oX,aX,sX,uX,cX,lX,fX,dX,hX,pX,vX,yX,gX,mX,bX,wX,SX,EX,_X,xX,AX,TX,CX,IX,PX,OX,kX,RX,LX,NX,DX,MX,jX,UX,FX,zX,BX,qX,KX,HX,GX,VX,$X,WX,YX,ZX,JX,XX,QX,eQ,tQ,nQ,rQ,iQ,oQ,aQ,sQ,uQ,cQ,lQ,fQ,dQ,hQ,pQ,vQ,yQ,gQ,mQ,bQ,wQ,SQ,EQ,_Q,xQ,AQ,TQ,CQ,IQ,PQ,OQ,kQ,RQ,LQ,NQ,DQ,MQ,jQ,UQ,FQ,zQ,BQ,qQ,KQ,HQ,GQ,VQ,$Q,WQ,YQ,ZQ,JQ=function(){function e(){this._logger=new c("ServiceWorker")}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return this._serviceWorker},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var n=this;return void 0===e&&(e="/service-worker.js"),void 0===t&&(t="/"),this._logger.debug("registering "+e),this._logger.debug("registering service worker with scope "+t),new Promise((function(r,i){if(!navigator||!("serviceWorker"in navigator))return i(new Error("Service Worker not available"));navigator.serviceWorker.register(e,{scope:t}).then((function(e){return e.installing?n._serviceWorker=e.installing:e.waiting?n._serviceWorker=e.waiting:e.active&&(n._serviceWorker=e.active),n._registration=e,n._setupListeners(),n._logger.debug("Service Worker Registration Success: "+e),r(e)})).catch((function(e){return n._logger.debug("Service Worker Registration Failed "+e),i(e)}))}))},e.prototype.enablePush=function(e){var t=this;if(!this._registration)throw new Error("Service Worker not registered");return this._publicKey=e,new Promise((function(n,r){if(!Y().isBrowser)return r(new Error("Service Worker not available"));t._registration.pushManager.getSubscription().then((function(r){if(!r)return t._logger.debug("User is NOT subscribed to push"),t._registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t._urlB64ToUint8Array(e)}).then((function(e){t._subscription=e,t._logger.debug("User subscribed: "+JSON.stringify(e)),n(e)})).catch((function(e){t._logger.error(e)}));t._subscription=r,t._logger.debug("User is subscribed to push: "+JSON.stringify(r)),n(r)}))}))},e.prototype._urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r},e.prototype.send=function(e){this._serviceWorker&&this._serviceWorker.postMessage("object"==typeof e?JSON.stringify(e):e)},e.prototype._setupListeners=function(){var e=this;this._serviceWorker.addEventListener("statechange",(function(t){var n=e._serviceWorker.state;e._logger.debug("ServiceWorker statechange: "+n),d.Analytics&&"function"==typeof d.Analytics.record&&d.Analytics.record({name:"ServiceWorker",attributes:{state:n}})})),this._serviceWorker.addEventListener("message",(function(t){e._logger.debug("ServiceWorker message event: "+t)}))},e}();!function(e){e.filterSensitiveLog=function(e){return It({},e)}}(tX||(tX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(nX||(nX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(rX||(rX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(iX||(iX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(oX||(oX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(aX||(aX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(sX||(sX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(uX||(uX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(cX||(cX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(lX||(lX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(fX||(fX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(dX||(dX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(hX||(hX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(pX||(pX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(vX||(vX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(yX||(yX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(gX||(gX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(mX||(mX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(bX||(bX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(wX||(wX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(SX||(SX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(EX||(EX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(_X||(_X={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(xX||(xX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(AX||(AX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(TX||(TX={})),function(e){e.CANCELLED="CANCELLED",e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.PENDING="PENDING",e.PENDING_CANCEL="PENDING_CANCEL",e.RUNNING="RUNNING"}(CX||(CX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(IX||(IX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(PX||(PX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(OX||(OX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(kX||(kX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(RX||(RX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(LX||(LX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(NX||(NX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(DX||(DX={})),function(e){e.LastEventTime="LastEventTime",e.LogStreamName="LogStreamName"}(MX||(MX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(jX||(jX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(UX||(UX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(FX||(FX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(zX||(zX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(BX||(BX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(qX||(qX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(KX||(KX={})),function(e){e.Cancelled="Cancelled",e.Complete="Complete",e.Failed="Failed",e.Running="Running",e.Scheduled="Scheduled"}(HX||(HX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(GX||(GX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(VX||(VX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}($X||($X={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(WX||(WX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(YX||(YX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ZX||(ZX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(JX||(JX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(XX||(XX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(QX||(QX={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(eQ||(eQ={})),function(e){e.ByLogStream="ByLogStream",e.Random="Random"}(tQ||(tQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(nQ||(nQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(rQ||(rQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(iQ||(iQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(oQ||(oQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(aQ||(aQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(sQ||(sQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(uQ||(uQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(cQ||(cQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(lQ||(lQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(fQ||(fQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(dQ||(dQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(hQ||(hQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(pQ||(pQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(vQ||(vQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(yQ||(yQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(gQ||(gQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(mQ||(mQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(bQ||(bQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(wQ||(wQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(SQ||(SQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(EQ||(EQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(_Q||(_Q={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(xQ||(xQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(AQ||(AQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(TQ||(TQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(CQ||(CQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(IQ||(IQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(PQ||(PQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(OQ||(OQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(kQ||(kQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(RQ||(RQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(LQ||(LQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(NQ||(NQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(DQ||(DQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(MQ||(MQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(jQ||(jQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(UQ||(UQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(FQ||(FQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(zQ||(zQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(BQ||(BQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(qQ||(qQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(KQ||(KQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(HQ||(HQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(GQ||(GQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(VQ||(VQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}($Q||($Q={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(WQ||(WQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(YQ||(YQ={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(ZQ||(ZQ={}));var XQ=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),QQ=function(){return QQ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},QQ.apply(this,arguments)};function e0(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var t0=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(QQ(QQ({},this),{headers:QQ({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return QQ(QQ({},e),((r={})[n]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(e0(arguments[t]));return e}(i):i,r))}),{}))),n},e}(),n0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h;return kt(this,(function(p){switch(p.label){case 0:return r=[It({},e)],h={},[4,D0(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(h.body=p.sent(),h)])),o="UnknownError",o=M0(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,6];case"ResourceAlreadyExistsException":case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10]}return[3,12];case 2:return a=[{}],[4,c0(n,t)];case 3:return i=It.apply(void 0,[It.apply(void 0,a.concat([p.sent()])),{name:o,$metadata:R0(e)}]),[3,13];case 4:return s=[{}],[4,f0(n,t)];case 5:return i=It.apply(void 0,[It.apply(void 0,s.concat([p.sent()])),{name:o,$metadata:R0(e)}]),[3,13];case 6:return u=[{}],[4,d0(n,t)];case 7:return i=It.apply(void 0,[It.apply(void 0,u.concat([p.sent()])),{name:o,$metadata:R0(e)}]),[3,13];case 8:return c=[{}],[4,h0(n,t)];case 9:return i=It.apply(void 0,[It.apply(void 0,c.concat([p.sent()])),{name:o,$metadata:R0(e)}]),[3,13];case 10:return l=[{}],[4,v0(n,t)];case 11:return i=It.apply(void 0,[It.apply(void 0,l.concat([p.sent()])),{name:o,$metadata:R0(e)}]),[3,13];case 12:f=n.body,o=f.code||f.Code||o,i=It(It({},f),{name:""+o,message:f.message||f.Message||o,$fault:"client",$metadata:R0(e)}),p.label=13;case 13:return d=i.message||i.Message||o,i.message=d,delete i.Message,[2,Promise.reject(Object.assign(new Error(d),i))]}}))}))},r0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d;return kt(this,(function(h){switch(h.label){case 0:return r=[It({},e)],d={},[4,D0(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(d.body=h.sent(),d)])),o="UnknownError",o=M0(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceAlreadyExistsException":case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return a=[{}],[4,c0(n,t)];case 3:return i=It.apply(void 0,[It.apply(void 0,a.concat([h.sent()])),{name:o,$metadata:R0(e)}]),[3,11];case 4:return s=[{}],[4,h0(n,t)];case 5:return i=It.apply(void 0,[It.apply(void 0,s.concat([h.sent()])),{name:o,$metadata:R0(e)}]),[3,11];case 6:return u=[{}],[4,p0(n,t)];case 7:return i=It.apply(void 0,[It.apply(void 0,u.concat([h.sent()])),{name:o,$metadata:R0(e)}]),[3,11];case 8:return c=[{}],[4,v0(n,t)];case 9:return i=It.apply(void 0,[It.apply(void 0,c.concat([h.sent()])),{name:o,$metadata:R0(e)}]),[3,11];case 10:l=n.body,o=l.code||l.Code||o,i=It(It({},l),{name:""+o,message:l.message||l.Message||o,$fault:"client",$metadata:R0(e)}),h.label=11;case 11:return f=i.message||i.Message||o,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}}))}))},i0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return r=[It({},e)],l={},[4,D0(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(l.body=f.sent(),l)])),o="UnknownError",o=M0(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return a=[{}],[4,c0(n,t)];case 3:return i=It.apply(void 0,[It.apply(void 0,a.concat([f.sent()])),{name:o,$metadata:R0(e)}]),[3,7];case 4:return s=[{}],[4,v0(n,t)];case 5:return i=It.apply(void 0,[It.apply(void 0,s.concat([f.sent()])),{name:o,$metadata:R0(e)}]),[3,7];case 6:u=n.body,o=u.code||u.Code||o,i=It(It({},u),{name:""+o,message:u.message||u.Message||o,$fault:"client",$metadata:R0(e)}),f.label=7;case 7:return c=i.message||i.Message||o,i.message=c,delete i.Message,[2,Promise.reject(Object.assign(new Error(c),i))]}}))}))},o0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f;return kt(this,(function(d){switch(d.label){case 0:return r=[It({},e)],f={},[4,D0(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(f.body=d.sent(),f)])),o="UnknownError",o=M0(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,c0(n,t)];case 3:return i=It.apply(void 0,[It.apply(void 0,a.concat([d.sent()])),{name:o,$metadata:R0(e)}]),[3,9];case 4:return s=[{}],[4,p0(n,t)];case 5:return i=It.apply(void 0,[It.apply(void 0,s.concat([d.sent()])),{name:o,$metadata:R0(e)}]),[3,9];case 6:return u=[{}],[4,v0(n,t)];case 7:return i=It.apply(void 0,[It.apply(void 0,u.concat([d.sent()])),{name:o,$metadata:R0(e)}]),[3,9];case 8:c=n.body,o=c.code||c.Code||o,i=It(It({},c),{name:""+o,message:c.message||c.Message||o,$fault:"client",$metadata:R0(e)}),d.label=9;case 9:return l=i.message||i.Message||o,i.message=l,delete i.Message,[2,Promise.reject(Object.assign(new Error(l),i))]}}))}))},a0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f;return kt(this,(function(d){switch(d.label){case 0:return r=[It({},e)],f={},[4,D0(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(f.body=d.sent(),f)])),o="UnknownError",o=M0(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,c0(n,t)];case 3:return i=It.apply(void 0,[It.apply(void 0,a.concat([d.sent()])),{name:o,$metadata:R0(e)}]),[3,9];case 4:return s=[{}],[4,p0(n,t)];case 5:return i=It.apply(void 0,[It.apply(void 0,s.concat([d.sent()])),{name:o,$metadata:R0(e)}]),[3,9];case 6:return u=[{}],[4,v0(n,t)];case 7:return i=It.apply(void 0,[It.apply(void 0,u.concat([d.sent()])),{name:o,$metadata:R0(e)}]),[3,9];case 8:c=n.body,o=c.code||c.Code||o,i=It(It({},c),{name:""+o,message:c.message||c.Message||o,$fault:"client",$metadata:R0(e)}),d.label=9;case 9:return l=i.message||i.Message||o,i.message=l,delete i.Message,[2,Promise.reject(Object.assign(new Error(l),i))]}}))}))},s0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p;return kt(this,(function(v){switch(v.label){case 0:return r=[It({},e)],p={},[4,D0(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(p.body=v.sent(),p)])),o="UnknownError",o=M0(e,n.body)){case"DataAlreadyAcceptedException":case"com.amazonaws.cloudwatchlogs#DataAlreadyAcceptedException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,4];case"InvalidSequenceTokenException":case"com.amazonaws.cloudwatchlogs#InvalidSequenceTokenException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10];case"UnrecognizedClientException":case"com.amazonaws.cloudwatchlogs#UnrecognizedClientException":return[3,12]}return[3,14];case 2:return a=[{}],[4,u0(n,t)];case 3:return i=It.apply(void 0,[It.apply(void 0,a.concat([v.sent()])),{name:o,$metadata:R0(e)}]),[3,15];case 4:return s=[{}],[4,c0(n,t)];case 5:return i=It.apply(void 0,[It.apply(void 0,s.concat([v.sent()])),{name:o,$metadata:R0(e)}]),[3,15];case 6:return u=[{}],[4,l0(n,t)];case 7:return i=It.apply(void 0,[It.apply(void 0,u.concat([v.sent()])),{name:o,$metadata:R0(e)}]),[3,15];case 8:return c=[{}],[4,p0(n,t)];case 9:return i=It.apply(void 0,[It.apply(void 0,c.concat([v.sent()])),{name:o,$metadata:R0(e)}]),[3,15];case 10:return l=[{}],[4,v0(n,t)];case 11:return i=It.apply(void 0,[It.apply(void 0,l.concat([v.sent()])),{name:o,$metadata:R0(e)}]),[3,15];case 12:return f=[{}],[4,y0(n,t)];case 13:return i=It.apply(void 0,[It.apply(void 0,f.concat([v.sent()])),{name:o,$metadata:R0(e)}]),[3,15];case 14:d=n.body,o=d.code||d.Code||o,i=It(It({},d),{name:""+o,message:d.message||d.Message||o,$fault:"client",$metadata:R0(e)}),v.label=15;case 15:return h=i.message||i.Message||o,i.message=h,delete i.Message,[2,Promise.reject(Object.assign(new Error(h),i))]}}))}))},u0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=b0(n,t),[2,It({name:"DataAlreadyAcceptedException",$fault:"client",$metadata:R0(e)},r)]}))}))},c0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=w0(n,t),[2,It({name:"InvalidParameterException",$fault:"client",$metadata:R0(e)},r)]}))}))},l0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=S0(n,t),[2,It({name:"InvalidSequenceTokenException",$fault:"client",$metadata:R0(e)},r)]}))}))},f0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=E0(n,t),[2,It({name:"LimitExceededException",$fault:"client",$metadata:R0(e)},r)]}))}))},d0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=A0(n,t),[2,It({name:"OperationAbortedException",$fault:"client",$metadata:R0(e)},r)]}))}))},h0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=I0(n,t),[2,It({name:"ResourceAlreadyExistsException",$fault:"client",$metadata:R0(e)},r)]}))}))},p0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=P0(n,t),[2,It({name:"ResourceNotFoundException",$fault:"client",$metadata:R0(e)},r)]}))}))},v0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=O0(n,t),[2,It({name:"ServiceUnavailableException",$fault:"server",$metadata:R0(e)},r)]}))}))},y0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n=e.body,r=k0(n,t),[2,It({name:"UnrecognizedClientException",$fault:"client",$metadata:R0(e)},r)]}))}))},g0=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return It(It({},void 0!==e.message&&null!==e.message&&{message:e.message}),void 0!==e.timestamp&&null!==e.timestamp&&{timestamp:e.timestamp})}(e)}))},m0=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Lt(t,2),i=r[0],o=r[1];return null===o?e:It(It({},e),((n={})[i]=o,n))}),{})},b0=function(e,t){return{expectedSequenceToken:void 0!==e.expectedSequenceToken&&null!==e.expectedSequenceToken?e.expectedSequenceToken:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0}},w0=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},S0=function(e,t){return{expectedSequenceToken:void 0!==e.expectedSequenceToken&&null!==e.expectedSequenceToken?e.expectedSequenceToken:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0}},E0=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},_0=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{arn:void 0!==e.arn&&null!==e.arn?e.arn:void 0,creationTime:void 0!==e.creationTime&&null!==e.creationTime?e.creationTime:void 0,kmsKeyId:void 0!==e.kmsKeyId&&null!==e.kmsKeyId?e.kmsKeyId:void 0,logGroupName:void 0!==e.logGroupName&&null!==e.logGroupName?e.logGroupName:void 0,metricFilterCount:void 0!==e.metricFilterCount&&null!==e.metricFilterCount?e.metricFilterCount:void 0,retentionInDays:void 0!==e.retentionInDays&&null!==e.retentionInDays?e.retentionInDays:void 0,storedBytes:void 0!==e.storedBytes&&null!==e.storedBytes?e.storedBytes:void 0}}(e)}))},x0=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{arn:void 0!==e.arn&&null!==e.arn?e.arn:void 0,creationTime:void 0!==e.creationTime&&null!==e.creationTime?e.creationTime:void 0,firstEventTimestamp:void 0!==e.firstEventTimestamp&&null!==e.firstEventTimestamp?e.firstEventTimestamp:void 0,lastEventTimestamp:void 0!==e.lastEventTimestamp&&null!==e.lastEventTimestamp?e.lastEventTimestamp:void 0,lastIngestionTime:void 0!==e.lastIngestionTime&&null!==e.lastIngestionTime?e.lastIngestionTime:void 0,logStreamName:void 0!==e.logStreamName&&null!==e.logStreamName?e.logStreamName:void 0,storedBytes:void 0!==e.storedBytes&&null!==e.storedBytes?e.storedBytes:void 0,uploadSequenceToken:void 0!==e.uploadSequenceToken&&null!==e.uploadSequenceToken?e.uploadSequenceToken:void 0}}(e)}))},A0=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},T0=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ingestionTime:void 0!==e.ingestionTime&&null!==e.ingestionTime?e.ingestionTime:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0,timestamp:void 0!==e.timestamp&&null!==e.timestamp?e.timestamp:void 0}}(e)}))},C0=function(e,t){return{expiredLogEventEndIndex:void 0!==e.expiredLogEventEndIndex&&null!==e.expiredLogEventEndIndex?e.expiredLogEventEndIndex:void 0,tooNewLogEventStartIndex:void 0!==e.tooNewLogEventStartIndex&&null!==e.tooNewLogEventStartIndex?e.tooNewLogEventStartIndex:void 0,tooOldLogEventEndIndex:void 0!==e.tooOldLogEventEndIndex&&null!==e.tooOldLogEventEndIndex?e.tooOldLogEventEndIndex:void 0}},I0=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},P0=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},O0=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},k0=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},R0=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},L0=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},N0=function(e,t,n,r,i){return Ot(void 0,void 0,void 0,(function(){var o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return o=f.sent(),a=o.hostname,s=o.protocol,u=void 0===s?"https":s,c=o.port,l={protocol:u,hostname:a,port:c,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==i&&(l.body=i),[2,new t0(l)]}}))}))},D0=function(e,t){return function(e,t){return L0(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},M0=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==i?r(e.headers[i]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},j0=function(){return j0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},j0.apply(this,arguments)};function U0(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function F0(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var z0={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},B0={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function q0(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return U0(void 0,void 0,void 0,(function(){var i,o;return F0(this,(function(a){switch(a.label){case 0:return[4,n(r)];case 1:return i=a.sent().response,[4,t(i,e)];case 2:return o=a.sent(),[2,{response:i,output:o}]}}))}))}}}(e,n),z0),r.add(function(e,t){return function(n,r){return function(r){return U0(void 0,void 0,void 0,(function(){var i;return F0(this,(function(o){switch(o.label){case 0:return[4,t(r.input,e)];case 1:return i=o.sent(),[2,n(j0(j0({},r),{request:i}))]}}))}))}}}(e,t),B0)}}}var K0=function(){return K0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},K0.apply(this,arguments)};function H0(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function G0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(H0(arguments[t]));return e}var V0=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,K0({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,K0({},e))})),n},i=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,G0(i(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,G0(i(e)))})),t},o={add:function(t,r){void 0===r&&(r={});var i=r.name,o=r.override,a=K0({step:"initialize",priority:"normal",middleware:t},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var s=e.findIndex((function(e){return e.name===i})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'+i+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");e.splice(s,1)}n.add(i)}e.push(a)},addRelativeTo:function(e,r){var i=r.name,o=r.override,a=K0({middleware:e},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var s=t.findIndex((function(e){return e.name===i})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'+i+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');t.splice(s,1)}n.add(i)}t.push(a)},clone:function(){return r(V0())},use:function(e){e.applyToStack(o)},remove:function(r){return"string"==typeof r?function(r){var i=!1,o=function(e){return!e.name||e.name!==r||(i=!0,n.delete(r),!1)};return e=e.filter(o),t=t.filter(o),i}(r):function(r){var i=!1,o=function(e){return e.middleware!==r||(i=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),i}(r)},removeByTag:function(r){var i=!1,o=function(e){var t=e.tags,o=e.name;return!t||!t.includes(r)||(o&&n.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:function(e){var t=r(V0());return t.use(e),t},applyToStack:r,resolve:function(n,r){var o,a;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(){var n=[],r=[],o={};e.forEach((function(e){var t=K0(K0({},e),{before:[],after:[]});t.name&&(o[t.name]=t),n.push(t)})),t.forEach((function(e){var t=K0(K0({},e),{before:[],after:[]});t.name&&(o[t.name]=t),r.push(t)})),r.forEach((function(e){if(e.toMiddleware){var t=o[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var a,s=(a=n,a.sort((function(e,t){return $0[t.step]-$0[e.step]||W0[t.priority||"normal"]-W0[e.priority||"normal"]}))).map(i).reduce((function(e,t){return e.push.apply(e,G0(t)),e}),[]);return s.map((function(e){return e.middleware}))}().reverse()),u=s.next();!u.done;u=s.next())n=(0,u.value)(n,r)}catch(e){o={error:e}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return n}};return o},$0={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},W0={high:3,normal:2,low:1},Y0=function(){function e(e){this.middlewareStack=V0(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),Z0=function(){this.middlewareStack=V0()},J0=function(e,t){return J0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},J0(e,t)};function X0(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Q0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(X0(arguments[t]));return e}var e1=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Q0([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};e1.prototype=Object.create(String.prototype,{constructor:{value:e1,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(e1,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){function n(){this.constructor=e}J0(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(e1);var t1=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(q0(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CreateLogGroupCommand",inputFilterSensitiveLog:dX.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CreateLogGroup"},r=JSON.stringify(function(e,t){return It(It(It({},void 0!==e.kmsKeyId&&null!==e.kmsKeyId&&{kmsKeyId:e.kmsKeyId}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.tags&&null!==e.tags&&{tags:m0(e.tags,t)})}(e,t)),[2,N0(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n;return kt(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,n0(e,t)]:[4,L0(e.body,t)];case 1:return r.sent(),n={$metadata:R0(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(Z0),n1=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(q0(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeLogGroupsCommand",inputFilterSensitiveLog:LX.filterSensitiveLog,outputFilterSensitiveLog:DX.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeLogGroups"},r=JSON.stringify(function(e,t){return It(It(It({},void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupNamePrefix&&null!==e.logGroupNamePrefix&&{logGroupNamePrefix:e.logGroupNamePrefix}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken})}(e)),[2,N0(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i;return kt(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,i0(e,t)]:[4,D0(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{logGroups:void 0!==e.logGroups&&null!==e.logGroups?_0(e.logGroups,t):void 0,nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0}}(n,t),i=It({$metadata:R0(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(Z0),r1=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(q0(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CreateLogStreamCommand",inputFilterSensitiveLog:hX.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CreateLogStream"},r=JSON.stringify(function(e,t){return It(It({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName})}(e)),[2,N0(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n;return kt(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,r0(e,t)]:[4,L0(e.body,t)];case 1:return r.sent(),n={$metadata:R0(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(Z0),i1=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(q0(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeLogStreamsCommand",inputFilterSensitiveLog:jX.filterSensitiveLog,outputFilterSensitiveLog:FX.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeLogStreams"},r=JSON.stringify(function(e,t){return It(It(It(It(It(It({},void 0!==e.descending&&null!==e.descending&&{descending:e.descending}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamNamePrefix&&null!==e.logStreamNamePrefix&&{logStreamNamePrefix:e.logStreamNamePrefix}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.orderBy&&null!==e.orderBy&&{orderBy:e.orderBy})}(e)),[2,N0(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i;return kt(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,o0(e,t)]:[4,D0(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{logStreams:void 0!==e.logStreams&&null!==e.logStreams?x0(e.logStreams,t):void 0,nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0}}(n,t),i=It({$metadata:R0(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(Z0),o1=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(q0(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"GetLogEventsCommand",inputFilterSensitiveLog:cQ.filterSensitiveLog,outputFilterSensitiveLog:fQ.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.GetLogEvents"},r=JSON.stringify(function(e,t){return It(It(It(It(It(It(It({},void 0!==e.endTime&&null!==e.endTime&&{endTime:e.endTime}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.startFromHead&&null!==e.startFromHead&&{startFromHead:e.startFromHead}),void 0!==e.startTime&&null!==e.startTime&&{startTime:e.startTime})}(e)),[2,N0(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i;return kt(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,a0(e,t)]:[4,D0(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{events:void 0!==e.events&&null!==e.events?T0(e.events,t):void 0,nextBackwardToken:void 0!==e.nextBackwardToken&&null!==e.nextBackwardToken?e.nextBackwardToken:void 0,nextForwardToken:void 0!==e.nextForwardToken&&null!==e.nextForwardToken?e.nextForwardToken:void 0}}(n,t),i=It({$metadata:R0(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(Z0),a1=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(q0(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutLogEventsCommand",inputFilterSensitiveLog:IQ.filterSensitiveLog,outputFilterSensitiveLog:OQ.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutLogEvents"},r=JSON.stringify(function(e,t){return It(It(It(It({},void 0!==e.logEvents&&null!==e.logEvents&&{logEvents:g0(e.logEvents)}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName}),void 0!==e.sequenceToken&&null!==e.sequenceToken&&{sequenceToken:e.sequenceToken})}(e)),[2,N0(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i;return kt(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,s0(e,t)]:[4,D0(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{nextSequenceToken:void 0!==e.nextSequenceToken&&null!==e.nextSequenceToken?e.nextSequenceToken:void 0,rejectedLogEventsInfo:void 0!==e.rejectedLogEventsInfo&&null!==e.rejectedLogEventsInfo?C0(e.rejectedLogEventsInfo,t):void 0}}(n,t),i=It({$metadata:R0(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(Z0),s1=n(1597);function u1(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function c1(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var l1=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,f1)},f1=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()},d1=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var i=new Error("Request aborted");return i.name="AbortError",Promise.reject(i)}var o=e.path;if(e.query){var a=function(e){var t,n,r=[];try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var a=o.value,s=e[a];if(a=l1(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push(a+"="+l1(s[u]));else{var l=a;(s||"string"==typeof s)&&(l+="="+l1(s)),r.push(l)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.join("&")}(e.query);a&&(o+="?"+a)}var s=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(s?":"+s:"")+o,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var f,d=new Request(c,l),h=[fetch(d).then((function(e){var t,n,r=e.headers,i={};try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r.entries()),a=o.next();!a.done;a=o.next()){var s=a.value;i[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new XQ({headers:i,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new XQ({headers:i,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(h)},e}();function h1(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),a=o>-1?o+1:i.length;t(i.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var p1=function(){return p1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p1.apply(this,arguments)};function v1(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function y1(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function g1(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var m1={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},b1=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],w1=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],S1=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],E1=[500,502,503,504],_1=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||w1.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},x1=n(7134),A1=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},T1=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return b1.includes(e.name)}(e)||_1(e)||function(e){var t;return S1.includes(e.name)||E1.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},C1=function(){function e(e,t){var n,r,i,o,a,s,u;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:T1,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:A1,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:(o=500,a=500,s=function(e){return"TimeoutError"===e.name?10:5},u=function(e){return s(e)<=a},Object.freeze({hasRetryTokens:u,retrieveRetryTokens:function(e){if(!u(e))throw new Error("No retry token available");var t=s(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,o)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return v1(this,void 0,void 0,(function(){var e;return y1(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return v1(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return y1(this,(function(l){switch(l.label){case 0:return r=0,i=0,[4,this.getMaxAttempts()];case 1:o=l.sent(),a=t.request,t0.isInstance(a)&&(a.headers["amz-sdk-invocation-id"]=(0,x1.v4)()),s=function(){var s,c,l,f,d;return y1(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,5]),t0.isInstance(a)&&(a.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+o),[4,e(t)];case 1:return s=h.sent(),c=s.response,l=s.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=i,[2,{value:{response:c,output:l}}];case 2:return f=h.sent(),r++,u.shouldRetry(f,r,o)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(_1(f)?500:100,r),i+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return h.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=i,f;case 5:return[2]}}))},u=this,l.label=2;case 2:return[5,s()];case 3:return"object"==typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}();var I1=n(979),P1="logs.{region}.amazonaws.com",O1=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),k1=new Set(["cn-north-1","cn-northwest-1"]),R1=new Set(["us-iso-east-1"]),L1=new Set(["us-isob-east-1"]),N1=new Set(["us-gov-east-1","us-gov-west-1"]);function D1(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var M1={apiVersion:"2014-03-28",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"logs.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"logs.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"logs.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"logs.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"logs.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"logs.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"logs.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"logs.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"logs.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"logs.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"logs.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"logs.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"logs.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"logs.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"logs.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"logs.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"logs-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"logs-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-west-1":n={hostname:"logs-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":n={hostname:"logs-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":n={hostname:"logs.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":n={hostname:"logs.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"logs.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"logs.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"logs.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"us-gov-west-1":n={hostname:"logs.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-iso-east-1":n={hostname:"logs.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"logs.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"logs.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"logs.us-west-2.amazonaws.com",partition:"aws"};break;default:O1.has(e)&&(n={hostname:P1.replace("{region}",e),partition:"aws"}),k1.has(e)&&(n={hostname:"logs.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),R1.has(e)&&(n={hostname:"logs.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),L1.has(e)&&(n={hostname:"logs.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),N1.has(e)&&(n={hostname:"logs.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:P1.replace("{region}",e),partition:"aws"})}return Promise.resolve(It({signingService:"logs"},n))},serviceId:"CloudWatch Logs",urlParser:function(e){var t,n=new URL(e),r=n.hostname,i=n.pathname,o=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.split("&")),o=i.next();!o.done;o=i.next()){var a=D1(o.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:o?parseInt(o):void 0,protocol:a,path:i,query:t}}},j1=It(It({},M1),{runtime:"browser",base64Decoder:er,base64Encoder:tr,bodyLengthChecker:function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0},credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:function(e){var t=e.serviceId,n=e.clientVersion;return function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e,r,i,o,a,s,u,c,l;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(f){return e=(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?mr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(o=null==e?void 0:e.os)||void 0===o?void 0:o.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser",(null!==(u=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown")+"_"+(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}}({serviceId:M1.serviceId,clientVersion:"3.6.1"}),maxAttempts:3,region:function(){return Promise.reject("Region is missing")},requestHandler:new d1,sha256:s1.Sha256,streamCollector:function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return u1(this,void 0,void 0,(function(){var t,n;return c1(this,(function(r){switch(r.label){case 0:return[4,h1(e)];case 1:return t=r.sent(),n=er(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return u1(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return c1(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=u.sent(),o=i.done,(a=i.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=o,[3,1];case 3:return[2,t]}}))}))}(e)},utf8Decoder:I1.fromUtf8,utf8Encoder:I1.toUtf8}),U1=function(){return U1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},U1.apply(this,arguments)};var F1=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var i=Promise.resolve(t);return function(){return i}}return t},z1=function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t,n,r,i,o;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(a){switch(a.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=a.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(i=(null!==(o=a.sent())&&void 0!==o?o:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+i)]}}))}))},B1=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},q1=function(){return q1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},q1.apply(this,arguments)};var K1="content-length",H1={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},G1=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t,i,o,a,s;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(u){return t=r.request,t0.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map((function(e){return e.toLowerCase()})).indexOf(K1)&&void 0!==(a=e(i))&&(t.headers=q1(q1({},t.headers),((s={})[K1]=String(a),s)))),[2,n(q1(q1({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),H1)}}};var V1={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},$1=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,i;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(o){return t0.isInstance(n.request)?(r=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),V1)}}};var W1=function(){return function(e,t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(d){switch(d.label){case 0:return r=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(c,["$metadata"]),a.info({clientName:r,commandName:i,input:o(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}},Y1={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Z1=function(){return Z1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Z1.apply(this,arguments)};function J1(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function X1(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Q1=function(){return Q1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Q1.apply(this,arguments)};function e2(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function t2(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function n2(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function r2(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}for(var i2={},o2={},a2=0;a2<256;a2++){var s2=a2.toString(16).toLowerCase();1===s2.length&&(s2="0"+s2),i2[a2]=s2,o2[s2]=a2}function u2(e){for(var t="",n=0;n<e.byteLength;n++)t+=i2[e[n]];return t}var c2="X-Amz-Date",l2="X-Amz-Signature",f2="X-Amz-Security-Token",d2="authorization",h2=c2.toLowerCase(),p2=[d2,h2,"date"],v2=l2.toLowerCase(),y2="x-amz-content-sha256",g2=f2.toLowerCase(),m2={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},b2=/^proxy-/,w2=/^sec-/,S2="AWS4-HMAC-SHA256",E2="AWS4-HMAC-SHA256-PAYLOAD",_2="aws4_request",x2={},A2=[];function T2(e,t,n){return e+"/"+t+"/"+n+"/"+_2}function C2(e,t,n){var r=new e(t);return r.update(n),r.digest()}function I2(e,t,n){var r,i,o=e.headers,a={};try{for(var s=n2(Object.keys(o).sort()),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.toLowerCase();(l in m2||(null==t?void 0:t.has(l))||b2.test(l)||w2.test(l))&&(!n||n&&!n.has(l))||(a[l]=o[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a}function P2(e,t){var n=e.headers,r=e.body;return e2(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return t2(this,(function(l){switch(l.label){case 0:try{for(e=n2(Object.keys(n)),i=e.next();!i.done;i=e.next())if((o=i.value).toLowerCase()===y2)return[2,n[o]]}catch(e){u={error:e}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=u2,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function O2(e){var t=e.headers,n=e.query,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["headers","query"]);return Q1(Q1({},r),{headers:Q1({},t),query:n?k2(n):void 0})}function k2(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return Q1(Q1({},t),((r={})[n]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r2(arguments[t]));return e}(i):i,r))}),{})}function R2(e){var t,n;e="function"==typeof e.clone?e.clone():O2(e);try{for(var r=n2(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;p2.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}var L2=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=M2(r),this.credentialProvider=j2(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),e2(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A;return t2(this,(function(T){switch(T.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=T.sent(),null==c?[3,2]:(h=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=T.sent(),T.label=4;case 4:return d=h,p=N2(r),v=p.longDate,y=p.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(g=T2(y,d,null!=l?l:this.service),m=function(e,t){var n,r,i;void 0===t&&(t={});var o="function"==typeof e.clone?e.clone():O2(e),a=o.headers,s=o.query,u=void 0===s?{}:s;try{for(var c=n2(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return Q1(Q1({},e),{headers:a,query:u})}(R2(e),{unhoistableHeaders:s}),f.sessionToken&&(m.query[f2]=f.sessionToken),m.query["X-Amz-Algorithm"]=S2,m.query["X-Amz-Credential"]=f.accessKeyId+"/"+g,m.query[c2]=v,m.query["X-Amz-Expires"]=o.toString(10),b=I2(m,a,u),m.query["X-Amz-SignedHeaders"]=D2(b),w=m.query,S=l2,E=this.getSignature,_=[v,g,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,A=[m,b],[4,P2(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,A.concat([T.sent()]))]))];case 6:return w[S]=T.sent(),[2,m]}}))}))},e.prototype.sign=function(e,t){return e2(this,void 0,void 0,(function(){return t2(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return e2(this,void 0,void 0,(function(){var e,t,i,c,l,f,d,h,p,v,y;return t2(this,(function(g){switch(g.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=g.sent(),g.label=3;case 3:return e=t,i=N2(o),c=i.shortDate,l=i.longDate,f=T2(c,e,null!=u?u:this.service),[4,P2({headers:{},body:r},this.sha256)];case 4:return d=g.sent(),(h=new this.sha256).update(n),v=u2,[4,h.digest()];case 5:return p=v.apply(void 0,[g.sent()]),y=[E2,l,f,a,p,d].join("\n"),[2,this.signString(y,{signingDate:o,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,a=n.signingService;return e2(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return t2(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=N2(i).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=u2,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return e2(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,h,p,v,y;return t2(this,(function(g){switch(g.label){case 0:return[4,this.credentialProvider()];case 1:return t=g.sent(),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=g.sent(),g.label=4;case 4:return n=r,c=R2(e),l=N2(i),f=l.longDate,d=l.shortDate,h=T2(d,n,null!=u?u:this.service),c.headers[h2]=f,t.sessionToken&&(c.headers[g2]=t.sessionToken),[4,P2(c,this.sha256)];case 5:return p=g.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=n2(Object.keys(t)),o=i.next();!o.done;o=i.next())if(e===o.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(y2,c.headers)&&this.applyChecksum&&(c.headers[y2]=p),v=I2(c,a,o),[4,this.getSignature(f,h,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,p))];case 6:return y=g.sent(),c.headers[d2]=S2+" Credential="+t.accessKeyId+"/"+h+", SignedHeaders="+D2(v)+", Signature="+y,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],a={},s=function(e){if(e.toLowerCase()===v2)return"continue";o.push(e);var t=i[e];"string"==typeof t?a[e]=l1(e)+"="+l1(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([l1(e)+"="+l1(n)])}),[]).join("&"))};try{for(var u=n2(Object.keys(i).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return e2(this,void 0,void 0,(function(){var r,i;return t2(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,S2+"\n"+e+"\n"+t+"\n"+u2(i)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return e2(this,void 0,void 0,(function(){var i,o,a,s,u;return t2(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(o=new(s.apply(a,[void 0,c.sent()]))).update(i),u=u2,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){return e2(void 0,void 0,void 0,(function(){var o,a,s,u,c,l,f,d,h;return t2(this,(function(p){switch(p.label){case 0:return[4,C2(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=p.sent(),(a=n+":"+r+":"+i+":"+u2(o)+":"+t.sessionToken)in x2)return[2,x2[a]];for(A2.push(a);A2.length>50;)delete x2[A2.shift()];s="AWS4"+t.secretAccessKey,p.label=2;case 2:p.trys.push([2,7,8,9]),u=n2([n,r,i,_2]),c=u.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,C2(e,s,l)]);case 4:s=p.sent(),p.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=p.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,x2[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),N2=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},D2=function(e){return Object.keys(e).sort().join(";")},M2=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},j2=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function U2(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}function F2(e){return function(t,n){return function(r){return J1(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d;return X1(this,(function(h){switch(h.label){case 0:return t0.isInstance(r.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(r)];case 1:return o=h.sent(),[3,3];case 2:o=e.signer,h.label=3;case 3:return i=o,s=t,u=[Z1({},r)],d={},[4,i.sign(r.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,s.apply(void 0,[Z1.apply(void 0,u.concat([(d.request=h.sent(),d)]))])];case 5:return a=h.sent(),c=a.response.headers,(l=c&&(c.date||c.Date))&&(p=f=Date.parse(l),v=e.systemClockOffset,Math.abs(function(e){return new Date(Date.now()+e)}(v).getTime()-p)>=3e5&&(e.systemClockOffset=f-Date.now())),[2,a]}var p,v}))}))}}}var z2={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},B2=function(){return B2=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},B2.apply(this,arguments)};function q2(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function K2(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(q2(arguments[t]));return e}var H2="user-agent",G2=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,V2=function(e){var t=q2(e,2),n=t[0],r=t[1],i=n.indexOf("/"),o=n.substring(0,i),a=n.substring(i+1);return"api"===o&&(a=a.toLowerCase()),[o,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(G2,"_")})).join("/")},$2={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},W2=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var i,o,a,s,u,c,l,f;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(d){switch(d.label){case 0:return i=r.request,t0.isInstance(i)?(o=i.headers,a=(null===(l=null==t?void 0:t.userAgent)||void 0===l?void 0:l.map(V2))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=d.sent().map(V2),u=(null===(f=null==n?void 0:n.customUserAgent)||void 0===f?void 0:f.map(V2))||[],o["x-amz-user-agent"]=K2(s,a,u).join(" "),c=K2(s.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&c&&(o[H2]=o[H2]?o[H2]+" "+c:c),[2,e(B2(B2({},r),{request:i}))]}}))}))}}),$2)}}},Y2=function(e){function t(t){var n,r,i,o=this,a=function(e){if(!e.region)throw new Error("Region is missing");return U1(U1({},e),{region:B1(e.region)})}(It(It({},j1),t)),s=function(e){var t;return U1(U1({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?F1(e):function(){return z1(e)},isCustomEndpoint:!!e.endpoint})}(a),u=function(e){var t,n=this,r=U2(e.credentials||e.credentialDefaultProvider(e)),i=e.signingEscapePath,o=void 0===i||i,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?U2(e.signer):function(){return U2(e.region)().then((function(t){return J1(n,void 0,void 0,(function(){return X1(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t,2),i=n[0],a=n[1],s=i.signingRegion,c=i.signingService;return e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId,new L2({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o})}))},Z1(Z1({},e),{systemClockOffset:s,signingEscapePath:o,credentials:r,signer:t})}(s),c=function(e){return B2(B2({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}((r=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}((n=u).maxAttempts),p1(p1({},n),{maxAttempts:r,retryStrategy:n.retryStrategy||new C1(r)})));return(o=e.call(this,c)||this).config=c,o.middlewareStack.use((i=o.config,{applyToStack:function(e){e.addRelativeTo(F2(i),z2)}})),o.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return v1(void 0,void 0,void 0,(function(){var i;return y1(this,(function(o){return(null===(i=null==e?void 0:e.retryStrategy)||void 0===i?void 0:i.mode)&&(n.userAgent=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g1(arguments[t]));return e}(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),m1)}}}(o.config)),o.middlewareStack.use(G1(o.config)),o.middlewareStack.use($1(o.config)),o.middlewareStack.use((o.config,{applyToStack:function(e){e.add(W1(),Y1)}})),o.middlewareStack.use(W2(o.config)),o}return xe(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Y0),Z2=new c("AWSCloudWatch"),J2=function(){function e(e){this.configure(e),this._dataTracker={eventUploadInProgress:!1,logEvents:[]},this._currentLogBatch=[],this._initiateLogPushInterval()}return e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.getCategoryName=function(){return e.CATEGORY},e.prototype.getLogQueue=function(){return this._dataTracker.logEvents},e.prototype.configure=function(e){if(!e)return this._config||{};var t=Object.assign({},this._config,A(e).Logging,e);return this._config=t,this._config},e.prototype.createLogGroup=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:Z2.debug("creating new log group in CloudWatch - ",e.logGroupName),t=new t1(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(a);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),Z2.error("error creating log group - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogGroups=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:Z2.debug("getting list of log groups"),t=new n1(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(a);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),Z2.error("error getting log group - "+n),n;case 5:return[2]}}))}))},e.prototype.createLogStream=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:Z2.debug("creating new log stream in CloudWatch - ",e.logStreamName),t=new r1(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(a);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),Z2.error("error creating log stream - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogStreams=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:Z2.debug("getting list of log streams"),t=new i1(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(a);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),Z2.error("error getting log stream - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogEvents=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:Z2.debug("getting log events from stream - ",e.logStreamName),t=new o1(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(a);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),Z2.error("error getting log events - "+n),n;case 5:return[2]}}))}))},e.prototype.pushLogs=function(e){Z2.debug("pushing log events to Cloudwatch..."),this._dataTracker.logEvents=(0,i.__spread)(this._dataTracker.logEvents,e)},e.prototype._validateLogGroupExistsAndCreate=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(this._dataTracker.verifiedLogGroup)return[2,this._dataTracker.verifiedLogGroup];i.label=1;case 1:return i.trys.push([1,5,,6]),[4,this._ensureCredentials()];case 2:if(!i.sent())throw new Error(a);return[4,this.getLogGroups({logGroupNamePrefix:e})];case 3:return"string"!=typeof(t=i.sent())&&t.logGroups&&(n=t.logGroups.filter((function(t){return t.logGroupName===e}))).length>0?(this._dataTracker.verifiedLogGroup=n[0],[2,n[0]]):[4,this.createLogGroup({logGroupName:e})];case 4:return i.sent(),[2,null];case 5:throw r=i.sent(),o="failure during log group search: "+r,Z2.error(o),r;case 6:return[2]}}))}))},e.prototype._validateLogStreamExists=function(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,this._ensureCredentials()];case 1:if(!i.sent())throw new Error(a);return[4,this.getLogStreams({logGroupName:e,logStreamNamePrefix:t})];case 2:return(n=i.sent()).logStreams&&(r=n.logStreams.filter((function(e){return e.logStreamName===t}))).length>0?(this._nextSequenceToken=r[0].uploadSequenceToken,[2,r[0]]):[4,this.createLogStream({logGroupName:e,logStreamName:t})];case 3:return i.sent(),[2,null];case 4:throw o=i.sent(),s="failure during log stream search: "+o,Z2.error(s),o;case 5:return[2]}}))}))},e.prototype._sendLogEvents=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this._ensureCredentials()];case 1:if(!i.sent())throw new Error(a);return Z2.debug("sending log events to stream - ",e.logStreamName),t=new a1(e),[4,this._initCloudWatchLogs().send(t)];case 2:return[2,i.sent()];case 3:return n=i.sent(),r="failure during log push: "+n,Z2.error(r),[3,4];case 4:return[2]}}))}))},e.prototype._initCloudWatchLogs=function(){return new Y2({region:this._config.region,credentials:this._config.credentials,customUserAgent:te(),endpoint:this._config.endpoint})},e.prototype._ensureCredentials=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,fs.get().then((function(t){if(!t)return!1;var n=fs.shear(t);return Z2.debug("set credentials for logging",n),e._config.credentials=n,!0})).catch((function(e){return Z2.warn("ensure credentials error",e),!1}))];case 1:return[2,t.sent()]}}))}))},e.prototype._getNextSequenceToken=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:if(this._nextSequenceToken&&this._nextSequenceToken.length>0)return[2,this._nextSequenceToken];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,this._validateLogGroupExistsAndCreate(this._config.logGroupName)];case 2:return n.sent(),this._nextSequenceToken=void 0,[4,this._validateLogStreamExists(this._config.logGroupName,this._config.logStreamName)];case 3:return(e=n.sent())&&(this._nextSequenceToken=e.uploadSequenceToken),[2,this._nextSequenceToken];case 4:throw t=n.sent(),Z2.error("failure while getting next sequence token: "+t),t;case 5:return[2]}}))}))},e.prototype._safeUploadLogEvents=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this._getNextSequenceToken()];case 1:return e=i.sent(),t=0===this._currentLogBatch.length?this._getBufferedBatchOfLogs():this._currentLogBatch,n={logGroupName:this._config.logGroupName,logStreamName:this._config.logStreamName,logEvents:t,sequenceToken:e},this._dataTracker.eventUploadInProgress=!0,[4,this._sendLogEvents(n)];case 2:return r=i.sent(),this._nextSequenceToken=r.nextSequenceToken,this._dataTracker.eventUploadInProgress=!1,this._currentLogBatch=[],[2,r];case 3:if(o=i.sent(),Z2.error("error during _safeUploadLogEvents: "+o),!s.includes(o.name))throw this._dataTracker.eventUploadInProgress=!1,o;return this._getNewSequenceTokenAndSubmit({logEvents:this._currentLogBatch,logGroupName:this._config.logGroupName,logStreamName:this._config.logStreamName}),[3,4];case 4:return[2]}}))}))},e.prototype._getBufferedBatchOfLogs=function(){for(var e=0,t=0;e<this._dataTracker.logEvents.length;){var n=this._dataTracker.logEvents[e],r=n?(new TextEncoder).encode(n.message).length+26:0;if(r>256e3){var i="Log entry exceeds maximum size for CloudWatch logs. Log size: "+r+". Truncating log message.";Z2.warn(i),n.message=n.message.substring(0,r)}if(t+r>1048576)break;t+=r,e++}return this._currentLogBatch=this._dataTracker.logEvents.splice(0,e),this._currentLogBatch},e.prototype._getNewSequenceTokenAndSubmit=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),this._nextSequenceToken=void 0,this._dataTracker.eventUploadInProgress=!0,[4,this._getNextSequenceToken()];case 1:return t=i.sent(),e.sequenceToken=t,[4,this._sendLogEvents(e)];case 2:return n=i.sent(),this._dataTracker.eventUploadInProgress=!1,this._currentLogBatch=[],[2,n];case 3:throw r=i.sent(),Z2.error("error when retrying log submission with new sequence token: "+r),this._dataTracker.eventUploadInProgress=!1,r;case 4:return[2]}}))}))},e.prototype._initiateLogPushInterval=function(){var e=this;this._timer&&clearInterval(this._timer),this._timer=setInterval((function(){return(0,i.__awaiter)(e,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),this._getDocUploadPermissibility()?[4,this._safeUploadLogEvents()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[3,4];case 3:return e=t.sent(),Z2.error("error when calling _safeUploadLogEvents in the timer interval - "+e),[3,4];case 4:return[2]}}))}))}),2e3)},e.prototype._getDocUploadPermissibility=function(){return(0!==this._dataTracker.logEvents.length||0!==this._currentLogBatch.length)&&!this._dataTracker.eventUploadInProgress},e.PROVIDER_NAME="AWSCloudWatch",e.CATEGORY=o,e}(),X2=[Kx,fs],Q2=[hU,Kx,pK];function e3(e){void 0===e&&(e={});var t=e.modules,n=void 0===t?Q2:t,r=e.req,i=d.configure(),o=new f,a=new T_({req:r});return X2.forEach((function(e){n.includes(e)||o.register(new e.constructor)})),n.forEach((function(e){o.register(new e.constructor)})),o.configure(It(It({},i),{storage:a})),o}var t3=function(){return t3=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t3.apply(this,arguments)};function n3(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function r3(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function i3(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var o3,a3=n(2828),s3=n.n(a3);!function(e){e.ENV="env",e.CONFIG="shared config entry"}(o3||(o3={}));var u3=function(e){if("function"==typeof e)return e;var t=Promise.resolve(e);return function(){return t}},c3=function(e){return"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips"))},l3=function(e){return c3(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e},f3=function(e,t){var n;void 0===e&&(e=[]);var r=t.useFipsEndpoint,i=t.useDualstackEndpoint;return null===(n=e.find((function(e){var t=e.tags;return r===t.includes("fips")&&i===t.includes("dualstack")})))||void 0===n?void 0:n.hostname},d3=function(e,t){var n,r,i,o,a,s,u=t.useFipsEndpoint,c=void 0!==u&&u,l=t.useDualstackEndpoint,f=void 0!==l&&l,d=t.signingService,h=t.regionHash,p=t.partitionHash,v=function(e,t){var n,r=t.partitionHash;return null!==(n=Object.keys(r||{}).find((function(t){return r[t].regions.includes(e)})))&&void 0!==n?n:"aws"}(e,{partitionHash:p}),y=e in h?e:null!==(r=null===(n=p[v])||void 0===n?void 0:n.endpoint)&&void 0!==r?r:e,g={useFipsEndpoint:c,useDualstackEndpoint:f},m=function(e,t){var n=t.partitionHostname;return t.regionHostname||(n?n.replace("{region}",e):void 0)}(y,{regionHostname:f3(null===(i=h[y])||void 0===i?void 0:i.variants,g),partitionHostname:f3(null===(o=p[v])||void 0===o?void 0:o.variants,g)});if(void 0===m)throw new Error("Endpoint resolution failed for: ".concat({resolvedRegion:y,useFipsEndpoint:c,useDualstackEndpoint:f}));var b=function(e,t){var n=t.signingRegion;if(n)return n;if(t.useFipsEndpoint){var r=t.regionRegex.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(r);if(i)return i[0].slice(1,-1)}}(m,{signingRegion:null===(a=h[y])||void 0===a?void 0:a.signingRegion,regionRegex:p[v].regionRegex,useFipsEndpoint:c});return It(It({partition:v,signingService:d,hostname:m},b&&{signingRegion:b}),(null===(s=h[y])||void 0===s?void 0:s.signingService)&&{signingService:h[y].signingService})},h3=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(It(It({},this),{headers:It({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return It(It({},e),((r={})[n]=Array.isArray(i)?Dt([],Lt(i),!1):i,r))}),{}))),n},e}(),p3=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}();function v3(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}var y3,g3="content-length",m3={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},b3={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},w3={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},S3="X-Amzn-Trace-Id",E3={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(y3||(y3={}));var _3=y3.STANDARD,x3=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],A3=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],T3=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],C3=[500,502,503,504],I3=["ECONNRESET","EPIPE","ETIMEDOUT"],P3=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||A3.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},O3=function(){function e(e){var t,n,r,i,o;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=null!==(t=null==e?void 0:e.beta)&&void 0!==t?t:.7,this.minCapacity=null!==(n=null==e?void 0:e.minCapacity)&&void 0!==n?n:1,this.minFillRate=null!==(r=null==e?void 0:e.minFillRate)&&void 0!==r?r:.5,this.scaleConstant=null!==(i=null==e?void 0:e.scaleConstant)&&void 0!==i?i:.4,this.smooth=null!==(o=null==e?void 0:e.smooth)&&void 0!==o?o:.8;var a=this.getCurrentTimeInSeconds();this.lastThrottleTime=a,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return e.prototype.getCurrentTimeInSeconds=function(){return Date.now()/1e3},e.prototype.getSendToken=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){return[2,this.acquireTokenBucket(1)]}))}))},e.prototype.acquireTokenBucket=function(e){return Ot(this,void 0,void 0,(function(){var t;return kt(this,(function(n){switch(n.label){case 0:return this.enabled?(this.refillTokenBucket(),e>this.currentCapacity?(t=(e-this.currentCapacity)/this.fillRate*1e3,[4,new Promise((function(e){return setTimeout(e,t)}))]):[3,2]):[2];case 1:n.sent(),n.label=2;case 2:return this.currentCapacity=this.currentCapacity-e,[2]}}))}))},e.prototype.refillTokenBucket=function(){var e=this.getCurrentTimeInSeconds();if(this.lastTimestamp){var t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}else this.lastTimestamp=e},e.prototype.updateClientSendingRate=function(e){var t;if(this.updateMeasuredRate(),P3(e)){var n=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=n,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(n),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());var r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)},e.prototype.calculateTimeWindow=function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))},e.prototype.cubicThrottle=function(e){return this.getPrecise(e*this.beta)},e.prototype.cubicSuccess=function(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)},e.prototype.enableTokenBucket=function(){this.enabled=!0},e.prototype.updateTokenBucketRate=function(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)},e.prototype.updateMeasuredRate=function(){var e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){var n=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}},e.prototype.getPrecise=function(e){return parseFloat(e.toFixed(8))},e}(),k3=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},R3=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return x3.includes(e.name)}(e)||P3(e)||function(e){var t;return T3.includes(e.name)||I3.includes((null==e?void 0:e.code)||"")||C3.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},L3=function(){function e(e,t){var n,r,i,o,a,s,u,c,l;this.maxAttemptsProvider=e,this.mode=y3.STANDARD,this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:R3,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:k3,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:(o=1,a=5,s=10,u=500,c=function(e){return"TimeoutError"===e.name?s:a},l=function(e){return c(e)<=u},Object.freeze({hasRetryTokens:l,retrieveRetryTokens:function(e){if(!l(e))throw new Error("No retry token available");var t=c(e);return u-=t,t},releaseRetryTokens:function(e){u+=null!=e?e:o,u=Math.min(u,500)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return Ot(this,void 0,void 0,(function(){var e;return kt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return i=0,o=0,[4,this.getMaxAttempts()];case 1:a=f.sent(),s=t.request,h3.isInstance(s)&&(s.headers["amz-sdk-invocation-id"]=(0,HK.Z)()),u=function(){var u,l,f,d,h,p,v,y;return kt(this,(function(g){switch(g.label){case 0:return g.trys.push([0,4,,7]),h3.isInstance(s)&&(s.headers["amz-sdk-request"]="attempt=".concat(i+1,"; max=").concat(a)),(null==n?void 0:n.beforeRequest)?[4,n.beforeRequest()]:[3,2];case 1:g.sent(),g.label=2;case 2:return[4,e(t)];case 3:return u=g.sent(),l=u.response,f=u.output,(null==n?void 0:n.afterRequest)&&n.afterRequest(l),c.retryQuota.releaseRetryTokens(r),f.$metadata.attempts=i+1,f.$metadata.totalRetryDelay=o,[2,{value:{response:l,output:f}}];case 4:return d=g.sent(),h=D3(d),i++,c.shouldRetry(h,i,a)?(r=c.retryQuota.retrieveRetryTokens(h),p=c.delayDecider(P3(h)?500:100,i),v=N3(h.$response),y=Math.max(v||0,p),o+=y,[4,new Promise((function(e){return setTimeout(e,y)}))]):[3,6];case 5:return g.sent(),[2,"continue"];case 6:throw h.$metadata||(h.$metadata={}),h.$metadata.attempts=i,h.$metadata.totalRetryDelay=o,h;case 7:return[2]}}))},c=this,f.label=2;case 2:return[5,u()];case 3:return"object"==typeof(l=f.sent())?[2,l.value]:[3,2];case 4:return[2]}}))}))},e}(),N3=function(e){if(p3.isInstance(e)){var t=Object.keys(e.headers).find((function(e){return"retry-after"===e.toLowerCase()}));if(t){var n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n).getTime()-Date.now():1e3*r}}},D3=function(e){return e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"==typeof e?new Error(e):new Error("AWS SDK error wrapper for ".concat(e))},M3=function(e){function t(t,n){var r=this,i=null!=n?n:{},o=i.rateLimiter,a=Pt(i,["rateLimiter"]);return(r=e.call(this,t,a)||this).rateLimiter=null!=o?o:new O3,r.mode=y3.ADAPTIVE,r}return xe(t,e),t.prototype.retry=function(t,n){return Ot(this,void 0,void 0,(function(){var r=this;return kt(this,(function(i){return[2,e.prototype.retry.call(this,t,n,{beforeRequest:function(){return Ot(r,void 0,void 0,(function(){return kt(this,(function(e){return[2,this.rateLimiter.getSendToken()]}))}))},afterRequest:function(e){r.rateLimiter.updateClientSendingRate(e)}})]}))}))},t}(L3),j3={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},U3=function(e){function t(n,r){void 0===r&&(r=!0);var i=e.call(this,n)||this;return i.tryNextLink=r,i.name="ProviderError",Object.setPrototypeOf(i,t.prototype),i}return xe(t,e),t.from=function(e,t){return void 0===t&&(t=!0),Object.assign(new this(e.message,t),e)},t}(Error);(function(e){xe((function t(n,r){void 0===r&&(r=!0);var i=e.call(this,n,r)||this;return i.tryNextLink=r,i.name="CredentialsProviderError",Object.setPrototypeOf(i,t.prototype),i}),e)})(U3),function(e){xe((function t(n,r){void 0===r&&(r=!0);var i=e.call(this,n,r)||this;return i.tryNextLink=r,i.name="TokenProviderError",Object.setPrototypeOf(i,t.prototype),i}),e)}(U3);for(var F3=function(e,t,n){var r,i,o,a=!1,s=function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:i||(i=e()),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,i];case 2:return r=t.sent(),o=!0,a=!1,[3,4];case 3:return i=void 0,[7];case 4:return[2,r]}}))}))};return void 0===t?function(e){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return o&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,s()];case 1:r=t.sent(),t.label=2;case 2:return[2,r]}}))}))}:function(e){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(i){switch(i.label){case 0:return o&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,s()];case 1:r=i.sent(),i.label=2;case 2:return a?[2,r]:n&&!n(r)?(a=!0,[2,r]):t(r)?[4,s()]:[3,4];case 3:return i.sent(),[2,r];case 4:return[2,r]}}))}))}},z3={},B3={},q3=0;q3<256;q3++){var K3=q3.toString(16).toLowerCase();1===K3.length&&(K3="0".concat(K3)),z3[q3]=K3,B3[K3]=q3}function H3(e){for(var t="",n=0;n<e.byteLength;n++)t+=z3[e[n]];return t}var G3="X-Amz-Date",V3="X-Amz-Signature",$3="X-Amz-Security-Token",W3="authorization",Y3=G3.toLowerCase(),Z3=[W3,Y3,"date"],J3=V3.toLowerCase(),X3="x-amz-content-sha256",Q3=$3.toLowerCase(),e4={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},t4=/^proxy-/,n4=/^sec-/,r4="AWS4-HMAC-SHA256",i4="AWS4-HMAC-SHA256-PAYLOAD",o4="aws4_request",a4={},s4=[],u4=function(e,t,n){return"".concat(e,"/").concat(t,"/").concat(n,"/").concat(o4)},c4=function(e,t,n){var r=new e(t);return r.update(n),r.digest()},l4=function(e,t,n){var r,i,o=e.headers,a={};try{for(var s=Rt(Object.keys(o).sort()),u=s.next();!u.done;u=s.next()){var c=u.value;if(null!=o[c]){var l=c.toLowerCase();(l in e4||(null==t?void 0:t.has(l))||t4.test(l)||n4.test(l))&&(!n||n&&!n.has(l))||(a[l]=o[c].trim().replace(/\s+/g," "))}}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a},f4=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,d4)},d4=function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())},h4=function(e,t){var n=e.headers,r=e.body;return Ot(void 0,void 0,void 0,(function(){var e,i,o,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:try{for(e=Rt(Object.keys(n)),i=e.next();!i.done;i=e.next())if((o=i.value).toLowerCase()===X3)return[2,n[o]]}catch(e){u={error:e}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=H3,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))},p4=function(e){var t=e.headers,n=e.query,r=Pt(e,["headers","query"]);return It(It({},r),{headers:It({},t),query:n?v4(n):void 0})},v4=function(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return It(It({},t),((r={})[n]=Array.isArray(i)?Dt([],Lt(i),!1):i,r))}),{})},y4=function(e){var t,n;e="function"==typeof e.clone?e.clone():p4(e);try{for(var r=Rt(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;Z3.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e},g4=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=u3(r),this.credentialProvider=u3(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Ot(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,S,E,_,x,A;return kt(this,(function(T){switch(T.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=T.sent(),this.validateResolvedCredentials(f),null==c?[3,2]:(h=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=T.sent(),T.label=4;case 4:return d=h,p=m4(r),v=p.longDate,y=p.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(g=u4(y,d,null!=l?l:this.service),m=function(e,t){var n,r,i;void 0===t&&(t={});var o="function"==typeof e.clone?e.clone():p4(e),a=o.headers,s=o.query,u=void 0===s?{}:s;try{for(var c=Rt(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.slice(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return It(It({},e),{headers:a,query:u})}(y4(e),{unhoistableHeaders:s}),f.sessionToken&&(m.query[$3]=f.sessionToken),m.query["X-Amz-Algorithm"]=r4,m.query["X-Amz-Credential"]="".concat(f.accessKeyId,"/").concat(g),m.query[G3]=v,m.query["X-Amz-Expires"]=o.toString(10),b=l4(m,a,u),m.query["X-Amz-SignedHeaders"]=b4(b),w=m.query,S=V3,E=this.getSignature,_=[v,g,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,A=[m,b],[4,h4(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,A.concat([T.sent()]))]))];case 6:return w[S]=T.sent(),[2,m]}}))}))},e.prototype.sign=function(e,t){return Ot(this,void 0,void 0,(function(){return kt(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return Ot(this,void 0,void 0,(function(){var e,t,i,c,l,f,d,h,p,v,y;return kt(this,(function(g){switch(g.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=g.sent(),g.label=3;case 3:return e=t,i=m4(o),c=i.shortDate,l=i.longDate,f=u4(c,e,null!=u?u:this.service),[4,h4({headers:{},body:r},this.sha256)];case 4:return d=g.sent(),(h=new this.sha256).update(n),v=H3,[4,h.digest()];case 5:return p=v.apply(void 0,[g.sent()]),y=[i4,l,f,a,p,d].join("\n"),[2,this.signString(y,{signingDate:o,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,a=n.signingService;return Ot(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return kt(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),this.validateResolvedCredentials(t),null==o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=m4(i).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=H3,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return Ot(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,h,p,v,y;return kt(this,(function(g){switch(g.label){case 0:return[4,this.credentialProvider()];case 1:return t=g.sent(),this.validateResolvedCredentials(t),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=g.sent(),g.label=4;case 4:return n=r,c=y4(e),l=m4(i),f=l.longDate,d=l.shortDate,h=u4(d,n,null!=u?u:this.service),c.headers[Y3]=f,t.sessionToken&&(c.headers[Q3]=t.sessionToken),[4,h4(c,this.sha256)];case 5:return p=g.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=Rt(Object.keys(t)),o=i.next();!o.done;o=i.next())if(e===o.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(X3,c.headers)&&this.applyChecksum&&(c.headers[X3]=p),v=l4(c,a,o),[4,this.getSignature(f,h,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,p))];case 6:return y=g.sent(),c.headers[W3]="".concat(r4," ")+"Credential=".concat(t.accessKeyId,"/").concat(h,", ")+"SignedHeaders=".concat(b4(v),", ")+"Signature=".concat(y),[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return"".concat(e.method,"\n").concat(this.getCanonicalPath(e),"\n").concat(function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],a={},s=function(e){if(e.toLowerCase()===J3)return"continue";o.push(e);var t=i[e];"string"==typeof t?a[e]="".concat(f4(e),"=").concat(f4(t)):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat(["".concat(f4(e),"=").concat(f4(n))])}),[]).join("&"))};try{for(var u=Rt(Object.keys(i).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e),"\n").concat(r.map((function(e){return"".concat(e,":").concat(t[e])})).join("\n"),"\n\n").concat(r.join(";"),"\n").concat(n)},e.prototype.createStringToSign=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,i;return kt(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,"".concat(r4,"\n").concat(e,"\n").concat(t,"\n").concat(H3(i))]}}))}))},e.prototype.getCanonicalPath=function(e){var t,n,r=e.path;if(this.uriEscapePath){var i=[];try{for(var o=Rt(r.split("/")),a=o.next();!a.done;a=o.next()){var s=a.value;0!==(null==s?void 0:s.length)&&"."!==s&&(".."===s?i.pop():i.push(s))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}var u="".concat((null==r?void 0:r.startsWith("/"))?"/":"").concat(i.join("/")).concat(i.length>0&&(null==r?void 0:r.endsWith("/"))?"/":"");return encodeURIComponent(u).replace(/%2F/g,"/")}return r},e.prototype.getSignature=function(e,t,n,r){return Ot(this,void 0,void 0,(function(){var i,o,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(o=new(s.apply(a,[void 0,c.sent()]))).update(i),u=H3,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){return Ot(void 0,void 0,void 0,(function(){var o,a,s,u,c,l,f,d,h;return kt(this,(function(p){switch(p.label){case 0:return[4,c4(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=p.sent(),(a="".concat(n,":").concat(r,":").concat(i,":").concat(H3(o),":").concat(t.sessionToken))in a4)return[2,a4[a]];for(s4.push(a);s4.length>50;)delete a4[s4.shift()];s="AWS4".concat(t.secretAccessKey),p.label=2;case 2:p.trys.push([2,7,8,9]),u=Rt([n,r,i,o4]),c=u.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,c4(e,s,l)]);case 4:s=p.sent(),p.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=p.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,a4[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e.prototype.validateResolvedCredentials=function(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")},e}(),m4=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}},b4=function(e){return Object.keys(e).sort().join(";")},w4=function(e){return new Date(Date.now()+e)},S4=function(e,t){var n=Date.parse(e);return function(e,t){return Math.abs(w4(t).getTime()-e)>=3e5}(n,t)?n-Date.now():t},E4=function(e){var t,n,r;return p3.isInstance(e)?null!==(n=null===(t=e.headers)||void 0===t?void 0:t.date)&&void 0!==n?n:null===(r=e.headers)||void 0===r?void 0:r.Date:void 0},_4={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},x4="user-agent",A4="x-amz-user-agent",T4=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,C4=function(e){var t=Lt(e,2),n=t[0],r=t[1],i=n.indexOf("/"),o=n.substring(0,i),a=n.substring(i+1);return"api"===o&&(a=a.toLowerCase()),[o,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(T4,"_")})).join("/")},I4={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},P4=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,It({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,It({},e))})),n},i=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Dt([],Lt(i(e)),!1))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Dt([],Lt(i(e)),!1))})),t},o=function(n){void 0===n&&(n=!1);var r=[],o=[],a={};e.forEach((function(e){var t=It(It({},e),{before:[],after:[]});t.name&&(a[t.name]=t),r.push(t)})),t.forEach((function(e){var t=It(It({},e),{before:[],after:[]});t.name&&(a[t.name]=t),o.push(t)})),o.forEach((function(e){if(e.toMiddleware){var t=a[e.toMiddleware];if(void 0===t){if(n)return;throw new Error("".concat(e.toMiddleware," is not found when adding ").concat(e.name||"anonymous"," middleware ").concat(e.relation," ").concat(e.toMiddleware))}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var s,u=(s=r,s.sort((function(e,t){return O4[t.step]-O4[e.step]||k4[t.priority||"normal"]-k4[e.priority||"normal"]}))).map(i).reduce((function(e,t){return e.push.apply(e,Dt([],Lt(t),!1)),e}),[]);return u},a={add:function(t,r){void 0===r&&(r={});var i=r.name,o=r.override,a=It({step:"initialize",priority:"normal",middleware:t},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '".concat(i,"'"));var s=e.findIndex((function(e){return e.name===i})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'.concat(i,'" middleware with ').concat(u.priority," priority in ").concat(u.step," step cannot be ")+"overridden by same-name middleware with ".concat(a.priority," priority in ").concat(a.step," step."));e.splice(s,1)}n.add(i)}e.push(a)},addRelativeTo:function(e,r){var i=r.name,o=r.override,a=It({middleware:e},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '".concat(i,"'"));var s=t.findIndex((function(e){return e.name===i})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'.concat(i,'" middleware ').concat(u.relation,' "').concat(u.toMiddleware,'" middleware cannot be overridden ')+"by same-name middleware ".concat(a.relation,' "').concat(a.toMiddleware,'" middleware.'));t.splice(s,1)}n.add(i)}t.push(a)},clone:function(){return r(P4())},use:function(e){e.applyToStack(a)},remove:function(r){return"string"==typeof r?function(r){var i=!1,o=function(e){return!e.name||e.name!==r||(i=!0,n.delete(r),!1)};return e=e.filter(o),t=t.filter(o),i}(r):function(r){var i=!1,o=function(e){return e.middleware!==r||(i=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),i}(r)},removeByTag:function(r){var i=!1,o=function(e){var t=e.tags,o=e.name;return!t||!t.includes(r)||(o&&n.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:function(e){var t=r(P4());return t.use(e),t},applyToStack:r,identify:function(){return o(!0).map((function(e){return e.name+": "+(e.tags||[]).join(",")}))},resolve:function(e,t){var n,r;try{for(var i=Rt(o().map((function(e){return e.middleware})).reverse()),a=i.next();!a.done;a=i.next())e=(0,a.value)(e,t)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e}};return a},O4={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},k4={high:3,normal:2,low:1},R4=function(){function e(e){this.middlewareStack=P4(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),L4=function(){this.middlewareStack=P4()},N4="***SensitiveInformation***",D4=function(e){if(null!=e){if("number"==typeof e){if(0!==e&&1!==e||Y4.warn(W4("Expected boolean, got ".concat(typeof e,": ").concat(e))),0===e)return!1;if(1===e)return!0}if("string"==typeof e){var t=e.toLowerCase();if("false"!==t&&"true"!==t||Y4.warn(W4("Expected boolean, got ".concat(typeof e,": ").concat(e))),"false"===t)return!1;if("true"===t)return!0}if("boolean"==typeof e)return e;throw new TypeError("Expected boolean, got ".concat(typeof e,": ").concat(e))}},M4=function(e){if(null!=e){if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Y4.warn(W4("Expected number but observed string: ".concat(e))),t}if("number"==typeof e)return e;throw new TypeError("Expected number, got ".concat(typeof e,": ").concat(e))}},j4=Math.ceil(Math.pow(2,127)*(2-Math.pow(2,-23))),U4=function(e){return F4(e,32)},F4=function(e,t){var n=function(e){if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError("Expected integer, got ".concat(typeof e,": ").concat(e))}}(e);if(void 0!==n&&z4(n,t)!==n)throw new TypeError("Expected ".concat(t,"-bit integer, got ").concat(e));return n},z4=function(e,t){switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},B4=function(e,t){if(null==e){if(t)throw new TypeError("Expected a non-null value for ".concat(t));throw new TypeError("Expected a non-null value")}return e},q4=function(e){if(null!=e){if("object"==typeof e&&!Array.isArray(e))return e;var t=Array.isArray(e)?"array":typeof e;throw new TypeError("Expected object, got ".concat(t,": ").concat(e))}},K4=function(e){if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return Y4.warn(W4("Expected string, got ".concat(typeof e,": ").concat(e))),String(e);throw new TypeError("Expected string, got ".concat(typeof e,": ").concat(e))}},H4=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,G4=function(e){var t=e.match(H4);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},V4=function(e){return"string"==typeof e?$4(e):M4(e)},$4=function(e){switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unable to parse float value: ".concat(e))}},W4=function(e){return String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((function(e){return!e.includes("stackTraceWarning")})).join("\n")},Y4={warn:console.warn},Z4=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],J4=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),X4=function(e){if(null!=e){if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");var t=J4.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");var n=Lt(t,8),r=(n[0],n[1]),i=n[2],o=n[3],a=n[4],s=n[5],u=n[6],c=n[7],l=function(e){return function(e){return F4(e,16)}("string"==typeof e?G4(e):e)}(o5(r)),f=r5(i,"month",1,12),d=r5(o,"day",1,31);return Q4(l,f,d,{hours:a,minutes:s,seconds:u,fractionalMilliseconds:c})}},Q4=function(e,t,n,r){var i=t-1;return t5(e,i,n),new Date(Date.UTC(e,i,n,r5(r.hours,"hour",0,23),r5(r.minutes,"minute",0,59),r5(r.seconds,"seconds",0,60),i5(r.fractionalMilliseconds)))},e5=[31,28,31,30,31,30,31,31,30,31,30,31],t5=function(e,t,n){var r=e5[t];if(1===t&&n5(e)&&(r=29),n>r)throw new TypeError("Invalid day for ".concat(Z4[t]," in ").concat(e,": ").concat(n))},n5=function(e){return e%4==0&&(e%100!=0||e%400==0)},r5=function(e,t,n,r){var i=function(e){return function(e){return F4(e,8)}("string"==typeof e?G4(e):e)}(o5(e));if(i<n||i>r)throw new TypeError("".concat(t," must be between ").concat(n," and ").concat(r,", inclusive"));return i},i5=function(e){return null==e?0:1e3*function(e){return function(e){var t=M4(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>j4)throw new TypeError("Expected 32-bit float, got ".concat(e));return t}("string"==typeof e?G4(e):e)}("0."+e)},o5=function(e){for(var t=0;t<e.length-1&&"0"===e.charAt(t);)t++;return 0===t?e:e.slice(t)},a5=function(e){function t(n){var r=e.call(this,n.message)||this;return Object.setPrototypeOf(r,t.prototype),r.name=n.name,r.$fault=n.$fault,r.$metadata=n.$metadata,r}return xe(t,e),t}(Error),s5=function(e,t){void 0===t&&(t={}),Object.entries(t).filter((function(e){return void 0!==Lt(e,2)[1]})).forEach((function(t){var n=Lt(t,2),r=n[0],i=n[1];null!=e[r]&&""!==e[r]||(e[r]=i)}));var n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},u5=function(e){var t=e.output,n=e.parsedBody,r=e.exceptionCtor,i=e.errorCode,o=c5(t),a=o.httpStatusCode?o.httpStatusCode+"":void 0,s=new r({name:n.code||n.Code||i||a||"UnknowError",$fault:"client",$metadata:o});throw s5(s,n)},c5=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},l5=function(e){switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},f5=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Dt([null],Lt(arguments),!1)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};function d5(e,t,n){var r,i,o,a;if(void 0===t&&void 0===n)o={},a=e;else{if(o=e,"function"==typeof t)return h5(o,t,a=n);a=t}try{for(var s=Rt(Object.keys(a)),u=s.next();!u.done;u=s.next()){var c=u.value;if(Array.isArray(a[c])){var l=Lt(a[c],2),f=l[0],d=l[1];if("function"==typeof d){var h=void 0,p=void 0===f&&null!=(h=d()),v="function"==typeof f&&!!f(void 0)||"function"!=typeof f&&!!f;p?o[c]=h:v&&(o[c]=d())}else p=void 0===f&&null!=d,v="function"==typeof f&&!!f(d)||"function"!=typeof f&&!!f,(p||v)&&(o[c]=d)}else o[c]=a[c]}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}f5.prototype=Object.create(String.prototype,{constructor:{value:f5,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(f5,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}xe(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(f5);var h5=function(e,t,n){return d5(e,Object.entries(n).reduce((function(e,n){var r=Lt(n,2),i=r[0],o=r[1];return Array.isArray(o)?e[i]=o:e[i]="function"==typeof o?[t,o()]:[t,o],e}),{}))};function p5(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}var v5=function(e,t,n,r,i,o){if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");var a=r();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");return e.replace(i,o?a.split("/").map((function(e){return p5(e)})).join("/"):p5(a))},y5=function(e){if(e!=e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}};for(var g5=function(){function e(e){"function"==typeof e?this.configProvider=e().then((function(e){return e||{}})):(this.config=null!=e?e:{},this.configProvider=Promise.resolve(this.config))}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal;return Ot(this,void 0,void 0,(function(){var t,r,i,o,a,s,u,c,l,f,d,h;return kt(this,(function(p){switch(p.label){case 0:return this.config?[3,2]:(t=this,[4,this.configProvider]);case 1:t.config=p.sent(),p.label=2;case 2:return r=this.config.requestTimeout,(null==n?void 0:n.aborted)?((i=new Error("Request aborted")).name="AbortError",[2,Promise.reject(i)]):(o=e.path,e.query&&(a=function(e){var t,n,r=[];try{for(var i=Rt(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var a=o.value,s=e[a];if(a=f4(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push("".concat(a,"=").concat(f4(s[u])));else{var l=a;(s||"string"==typeof s)&&(l+="=".concat(f4(s))),r.push(l)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.join("&")}(e.query),a&&(o+="?".concat(a))),s=e.port,u=e.method,c="".concat(e.protocol,"//").concat(e.hostname).concat(s?":".concat(s):"").concat(o),l="GET"===u||"HEAD"===u?void 0:e.body,f={body:l,headers:new Headers(e.headers),method:u},"undefined"!=typeof AbortController&&(f.signal=n),d=new Request(c,f),h=[fetch(d).then((function(e){var t,n,r=e.headers,i={};try{for(var o=Rt(r.entries()),a=o.next();!a.done;a=o.next()){var s=a.value;i[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new p3({headers:i,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new p3({headers:i,statusCode:e.status,body:t})}}))})),(v=r,void 0===v&&(v=0),new Promise((function(e,t){v&&setTimeout((function(){var e=new Error("Request did not complete within ".concat(v," ms"));e.name="TimeoutError",t(e)}),v)})))],n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),[2,Promise.race(h)])}var v}))}))},e}(),m5={},b5=new Array(64),w5=0,S5="A".charCodeAt(0),E5="Z".charCodeAt(0);w5+S5<=E5;w5++){var _5=String.fromCharCode(w5+S5);m5[_5]=w5,b5[w5]=_5}for(w5=0,S5="a".charCodeAt(0),E5="z".charCodeAt(0);w5+S5<=E5;w5++){_5=String.fromCharCode(w5+S5);var x5=w5+26;m5[_5]=x5,b5[x5]=_5}for(w5=0;w5<10;w5++)m5[w5.toString(10)]=w5+52,_5=w5.toString(10),x5=w5+52,m5[_5]=x5,b5[x5]=_5;function A5(e){var t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),i=0;i<e.length;i+=4){for(var o=0,a=0,s=i,u=i+3;s<=u;s++)if("="!==e[s]){if(!(e[s]in m5))throw new TypeError("Invalid character ".concat(e[s]," in base64 string."));o|=m5[e[s]]<<6*(u-s),a+=6}else o>>=6;var c=i/4*3;o>>=a%8;for(var l=Math.floor(a/8),f=0;f<l;f++){var d=8*(l-f-1);r.setUint8(c+f,(o&255<<d)>>d)}}return new Uint8Array(n)}function T5(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,i=0,o=n,a=Math.min(n+3,e.length);o<a;o++)r|=e[o]<<8*(a-o-1),i+=8;var s=Math.ceil(i/6);r<<=6*s-i;for(var u=1;u<=s;u++){var c=6*(s-u);t+=b5[(r&63<<c)>>c]}t+="==".slice(0,4-s)}return t}m5["+"]=62,b5[62]="+",m5["/"]=63,b5[63]="/";var C5=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return Ot(this,void 0,void 0,(function(){var t,n;return kt(this,(function(r){switch(r.label){case 0:return[4,I5(e)];case 1:return t=r.sent(),n=A5(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return Ot(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return kt(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=u.sent(),o=i.done,(a=i.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=o,[3,1];case 3:return[2,t]}}))}))}(e)};function I5(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),a=o>-1?o+1:i.length;t(i.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var P5=function(e){return function(){return Promise.reject(e)}},O5=function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error("Body Length computation failed for ".concat(e))},k5=function(e){var t=e.serviceId,n=e.clientVersion;return function(){return Ot(void 0,void 0,void 0,(function(){var e,r,i,o,a,s,u,c,l;return kt(this,(function(f){return e="undefined"!=typeof window&&(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?mr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/".concat((null===(o=null==e?void 0:e.os)||void 0===o?void 0:o.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser","".concat(null!==(u=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown","_").concat(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/".concat(t),n]),[2,r]}))}))}},R5=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},L5=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)},N5=function(e){if("string"==typeof e)return N5(new URL(e));var t,n=e,r=n.hostname,i=n.pathname,o=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var i=Rt(e.split("&")),o=i.next();!o.done;o=i.next()){var a=Lt(o.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:o?parseInt(o):void 0,protocol:a,path:i,query:t}},D5={},M5={aws:{regions:["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ap-southeast-3","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-central-1","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"],regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.amazonaws.com",tags:[]},{hostname:"geo-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"geo-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"geo.{region}.api.aws",tags:["dualstack"]}]},"aws-cn":{regions:["cn-north-1","cn-northwest-1"],regionRegex:"^cn\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.amazonaws.com.cn",tags:[]},{hostname:"geo-fips.{region}.amazonaws.com.cn",tags:["fips"]},{hostname:"geo-fips.{region}.api.amazonwebservices.com.cn",tags:["dualstack","fips"]},{hostname:"geo.{region}.api.amazonwebservices.com.cn",tags:["dualstack"]}]},"aws-iso":{regions:["us-iso-east-1","us-iso-west-1"],regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.c2s.ic.gov",tags:[]},{hostname:"geo-fips.{region}.c2s.ic.gov",tags:["fips"]}]},"aws-iso-b":{regions:["us-isob-east-1"],regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.sc2s.sgov.gov",tags:[]},{hostname:"geo-fips.{region}.sc2s.sgov.gov",tags:["fips"]}]},"aws-us-gov":{regions:["us-gov-east-1","us-gov-west-1"],regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.amazonaws.com",tags:[]},{hostname:"geo-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"geo-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"geo.{region}.api.aws",tags:["dualstack"]}]}},j5=function(e,t){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(n){return[2,d3(e,It(It({},t),{signingService:"geo",regionHash:D5,partitionHash:M5}))]}))}))},U5=["in-region","cross-region","mobile","standard","legacy"],F5=function(){var e,t,n="undefined"!=typeof window&&(null===(e=null===window||void 0===window?void 0:window.navigator)||void 0===e?void 0:e.userAgent)?mr().parse(window.navigator.userAgent):void 0,r=null===(t=null==n?void 0:n.platform)||void 0===t?void 0:t.type;return"tablet"===r||"mobile"===r},z5=function(e){function t(t){var n,r,i,o=this,a=function(e){var t=e.region,n=e.useFipsEndpoint;if(!t)throw new Error("Region is missing");return It(It({},e),{region:function(){return Ot(void 0,void 0,void 0,(function(){var e;return kt(this,(function(n){switch(n.label){case 0:return"string"==typeof t?[2,l3(t)]:[4,t()];case 1:return e=n.sent(),[2,l3(e)]}}))}))},useFipsEndpoint:function(){return Ot(void 0,void 0,void 0,(function(){var e;return kt(this,(function(r){switch(r.label){case 0:return"string"!=typeof t?[3,1]:(e=t,[3,3]);case 1:return[4,t()];case 2:e=r.sent(),r.label=3;case 3:return c3(e)?[2,!0]:[2,"boolean"==typeof n?Promise.resolve(n):n()]}}))}))}})}(function(e){var t,n,r,i,o,a,s,u,c,l,f,d,h,p,v,y=function(e){var t=(void 0===e?{}:e).defaultsMode;return F3((function(){return Ot(void 0,void 0,void 0,(function(){var e,n;return kt(this,(function(r){switch(r.label){case 0:return"function"!=typeof t?[3,2]:[4,t()];case 1:return n=r.sent(),[3,3];case 2:n=t,r.label=3;case 3:switch(null==(e=n)?void 0:e.toLowerCase()){case"auto":return[2,Promise.resolve(F5()?"mobile":"standard")];case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return[2,Promise.resolve(null==e?void 0:e.toLocaleLowerCase())];case void 0:return[2,Promise.resolve("legacy")];default:throw new Error('Invalid parameter for "defaultsMode", expect '.concat(U5.join(", "),", got ").concat(e))}return[2]}}))}))}))}(e),g=function(){return y().then(l5)},m=function(e){var t,n,r,i,o;return{apiVersion:"2020-11-19",disableHostPrefix:null!==(t=null==e?void 0:e.disableHostPrefix)&&void 0!==t&&t,logger:null!==(n=null==e?void 0:e.logger)&&void 0!==n?n:{},regionInfoProvider:null!==(r=null==e?void 0:e.regionInfoProvider)&&void 0!==r?r:j5,serviceId:null!==(i=null==e?void 0:e.serviceId)&&void 0!==i?i:"Location",urlParser:null!==(o=null==e?void 0:e.urlParser)&&void 0!==o?o:N5}}(e);return It(It(It({},m),e),{runtime:"browser",defaultsMode:y,base64Decoder:null!==(t=null==e?void 0:e.base64Decoder)&&void 0!==t?t:A5,base64Encoder:null!==(n=null==e?void 0:e.base64Encoder)&&void 0!==n?n:T5,bodyLengthChecker:null!==(r=null==e?void 0:e.bodyLengthChecker)&&void 0!==r?r:O5,credentialDefaultProvider:null!==(i=null==e?void 0:e.credentialDefaultProvider)&&void 0!==i?i:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(o=null==e?void 0:e.defaultUserAgentProvider)&&void 0!==o?o:k5({serviceId:m.serviceId,clientVersion:"3.186.0"}),maxAttempts:null!==(a=null==e?void 0:e.maxAttempts)&&void 0!==a?a:3,region:null!==(s=null==e?void 0:e.region)&&void 0!==s?s:P5("Region is missing"),requestHandler:null!==(u=null==e?void 0:e.requestHandler)&&void 0!==u?u:new g5(g),retryMode:null!==(c=null==e?void 0:e.retryMode)&&void 0!==c?c:function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return[4,g()];case 1:return[2,e.sent().retryMode||_3]}}))}))},sha256:null!==(l=null==e?void 0:e.sha256)&&void 0!==l?l:gG.Sha256,streamCollector:null!==(f=null==e?void 0:e.streamCollector)&&void 0!==f?f:C5,useDualstackEndpoint:null!==(d=null==e?void 0:e.useDualstackEndpoint)&&void 0!==d?d:function(){return Promise.resolve(!1)},useFipsEndpoint:null!==(h=null==e?void 0:e.useFipsEndpoint)&&void 0!==h?h:function(){return Promise.resolve(!1)},utf8Decoder:null!==(p=null==e?void 0:e.utf8Decoder)&&void 0!==p?p:R5,utf8Encoder:null!==(v=null==e?void 0:e.utf8Encoder)&&void 0!==v?v:L5})}(t)),s=function(e){var t,n=u3(null!==(t=e.maxAttempts)&&void 0!==t?t:3);return It(It({},e),{maxAttempts:n,retryStrategy:function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return e.retryStrategy?[2,e.retryStrategy]:[4,u3(e.retryMode)()];case 1:return t.sent()===y3.ADAPTIVE?[2,new M3(n)]:[2,new L3(n)]}}))}))}})}(function(e){var t,n=u3(e.useDualstackEndpoint),r=e.endpoint,i=e.useFipsEndpoint,o=e.urlParser;return It(It({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:r?u3("string"==typeof r?o(r):r):function(){return function(e){return Ot(void 0,void 0,void 0,(function(){var t,n,r,i,o,a,s;return kt(this,(function(u){switch(u.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=u.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.useDualstackEndpoint()];case 2:return i=u.sent(),[4,e.useFipsEndpoint()];case 3:return o=u.sent(),[4,e.regionInfoProvider(r,{useDualstackEndpoint:i,useFipsEndpoint:o})];case 4:if(!(a=(null!==(s=u.sent())&&void 0!==s?s:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser("".concat(n?"https:":"http:","//").concat(a))]}}))}))}(It(It({},e),{useDualstackEndpoint:n,useFipsEndpoint:i}))},isCustomEndpoint:!!r,useDualstackEndpoint:n})}(a)),u=function(e){var t,n,r=e.credentials?"function"==typeof(n=e.credentials)?F3(n,(function(e){return void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5}),(function(e){return void 0!==e.expiration})):u3(n):e.credentialDefaultProvider(e),i=e.signingEscapePath,o=void 0===i||i,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?u3(e.signer):e.regionInfoProvider?function(){return u3(e.region)().then((function(t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o;return kt(this,(function(a){switch(a.label){case 0:return r=(n=e).regionInfoProvider,i=[t],o={},[4,e.useFipsEndpoint()];case 1:return o.useFipsEndpoint=a.sent(),[4,e.useDualstackEndpoint()];case 2:return[4,r.apply(n,i.concat([(o.useDualstackEndpoint=a.sent(),o)]))];case 3:return[2,[a.sent()||{},t]]}}))}))})).then((function(t){var n=Lt(t,2),i=n[0],a=n[1],s=i.signingRegion,c=i.signingService;e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId;var l=It(It({},e),{credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o});return new(e.signerConstructor||g4)(l)}))}:function(t){return Ot(void 0,void 0,void 0,(function(){var n,i,a;return kt(this,(function(s){if(!t)throw new Error("Unexpected empty auth scheme config");return n=t.signingScope,i=t.signingName,e.signingRegion=e.signingRegion||n,e.signingName=e.signingName||i||e.serviceId,a=It(It({},e),{credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o}),[2,new(e.signerConstructor||g4)(a)]}))}))},It(It({},e),{systemClockOffset:s,signingEscapePath:o,credentials:r,signer:t})}(s),c=It(It({},n=u),{customUserAgent:"string"==typeof n.customUserAgent?[[n.customUserAgent]]:n.customUserAgent});return(o=e.call(this,c)||this).config=c,o.middlewareStack.use((i=o.config,{applyToStack:function(e){e.add(function(e){return function(t,n){return function(r){return Ot(void 0,void 0,void 0,(function(){var i;return kt(this,(function(o){switch(o.label){case 0:return[4,e.retryStrategy()];case 1:return(null==(i=o.sent())?void 0:i.mode)&&(n.userAgent=Dt(Dt([],Lt(n.userAgent||[]),!1),[["cfg/retry-mode",i.mode]],!1)),[2,i.retry(t,r)]}}))}))}}}(i),j3)}})),o.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return Ot(t,void 0,void 0,(function(){var t,i,o,a,s;return kt(this,(function(u){if(t=r.request,h3.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map((function(e){return e.toLowerCase()})).indexOf(g3)))try{a=e(i),t.headers=It(It({},t.headers),((s={})[g3]=String(a),s))}catch(e){}return[2,n(It(It({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),m3)}}}(o.config)),o.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Ot(void 0,void 0,void 0,(function(){var r,i;return kt(this,(function(o){return h3.isInstance(n.request)?(r=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),b3)}}}(o.config)),o.middlewareStack.use((o.config,{applyToStack:function(e){e.add((function(e,t){return function(n){return Ot(void 0,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f;return kt(this,(function(d){switch(d.label){case 0:return r=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,f=Pt(c,["$metadata"]),a.info({clientName:r,commandName:i,input:o(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}),w3)}})),o.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Ot(void 0,void 0,void 0,(function(){var r,i,o,a;return kt(this,(function(s){return r=n.request,!h3.isInstance(r)||"node"!==e.runtime||r.headers.hasOwnProperty(S3)?[2,t(n)]:(i=process.env.AWS_LAMBDA_FUNCTION_NAME,o=process.env._X_AMZN_TRACE_ID,(a=function(e){return"string"==typeof e&&e.length>0})(i)&&a(o)&&(r.headers[S3]=o),[2,t(It(It({},n),{request:r}))])}))}))}}}(e),E3)}}}(o.config)),o.middlewareStack.use(function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t,n){return function(r){var i,o,a;return Ot(this,void 0,void 0,(function(){var s,u,c,l,f,d,h;return kt(this,(function(p){switch(p.label){case 0:return h3.isInstance(r.request)?(s=null===(a=null===(o=null===(i=n.endpointV2)||void 0===i?void 0:i.properties)||void 0===o?void 0:o.authSchemes)||void 0===a?void 0:a[0],[4,e.signer(s)]):[2,t(r)];case 1:return u=p.sent(),l=t,f=[It({},r)],h={},[4,u.sign(r.request,{signingDate:w4(e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 2:return[4,l.apply(void 0,[It.apply(void 0,f.concat([(h.request=p.sent(),h)]))]).catch((function(t){var n,r=null!==(n=t.ServerTime)&&void 0!==n?n:E4(t.$response);throw r&&(e.systemClockOffset=S4(r,e.systemClockOffset)),t}))];case 3:return c=p.sent(),(d=E4(c.response))&&(e.systemClockOffset=S4(d,e.systemClockOffset)),[2,c]}}))}))}}}(e),_4)}}}(o.config)),o.middlewareStack.use((r=o.config,{applyToStack:function(e){var t;e.add((t=r,function(e,n){return function(r){return Ot(void 0,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d;return kt(this,(function(h){switch(h.label){case 0:return i=r.request,h3.isInstance(i)?(o=i.headers,a=(null===(f=null==n?void 0:n.userAgent)||void 0===f?void 0:f.map(C4))||[],[4,t.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=h.sent().map(C4),u=(null===(d=null==t?void 0:t.customUserAgent)||void 0===d?void 0:d.map(C4))||[],c=Dt(Dt(Dt([],Lt(s),!1),Lt(a),!1),Lt(u),!1).join(" "),l=Dt(Dt([],Lt(s.filter((function(e){return e.startsWith("aws-sdk-")}))),!1),Lt(u),!1).join(" "),"browser"!==t.runtime?(l&&(o[A4]=o[A4]?"".concat(o[x4]," ").concat(l):l),o[x4]=c):o[A4]=c,[2,e(It(It({},r),{request:i}))]}}))}))}}),I4)}})),o}return xe(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(R4),B5={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},q5={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function K5(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return Ot(void 0,void 0,void 0,(function(){var i,o,a;return kt(this,(function(s){switch(s.label){case 0:return[4,n(r)];case 1:i=s.sent().response,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,t(i,e)];case 3:return o=s.sent(),[2,{response:i,output:o}];case 4:throw a=s.sent(),Object.defineProperty(a,"$response",{value:i}),a;case 5:return[2]}}))}))}}}(e,n),B5),r.add(function(e,t){return function(n,r){return function(i){return Ot(void 0,void 0,void 0,(function(){var o,a,s;return kt(this,(function(u){switch(u.label){case 0:if(!(o=(null===(s=r.endpointV2)||void 0===s?void 0:s.url)&&e.urlParser?function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){return[2,e.urlParser(r.endpointV2.url)]}))}))}:e.endpoint))throw new Error("No valid endpoint provider available.");return[4,t(i.input,It(It({},e),{endpoint:o}))];case 1:return a=u.sent(),[2,n(It(It({},i),{request:a}))]}}))}))}}}(e,t),q5)}}}var H5=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return xe(t,e),t}(a5),G5=function(e){function t(n){var r=e.call(this,It({name:"AccessDeniedException",$fault:"client"},n))||this;return r.name="AccessDeniedException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return xe(t,e),t}(H5),V5=(function(e){xe((function t(n){var r=e.call(this,It({name:"ConflictException",$fault:"client"},n))||this;return r.name="ConflictException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}),e)}(H5),function(e){function t(n){var r=e.call(this,It({name:"InternalServerException",$fault:"server"},n))||this;return r.name="InternalServerException",r.$fault="server",r.$retryable={},Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return xe(t,e),t}(H5)),$5=function(e){function t(n){var r=e.call(this,It({name:"ResourceNotFoundException",$fault:"client"},n))||this;return r.name="ResourceNotFoundException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return xe(t,e),t}(H5),W5=(function(e){xe((function t(n){var r=e.call(this,It({name:"ServiceQuotaExceededException",$fault:"client"},n))||this;return r.name="ServiceQuotaExceededException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}),e)}(H5),function(e){function t(n){var r=e.call(this,It({name:"ThrottlingException",$fault:"client"},n))||this;return r.name="ThrottlingException",r.$fault="client",r.$retryable={},Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return xe(t,e),t}(H5)),Y5=function(e){function t(n){var r=e.call(this,It({name:"ValidationException",$fault:"client"},n))||this;return r.name="ValidationException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r.Reason=n.Reason,r.FieldList=n.FieldList,r}return xe(t,e),t}(H5),Z5=function(e){return It({},e)},J5=function(e){return It({},e)},X5=function(e){return It(It(It({},e),e.Polygon&&{Polygon:e.Polygon.map((function(e){return N4}))}),e.Circle&&{Circle:N4})},Q5=function(e){return It(It({},e),e.Entries&&{Entries:e.Entries.map((function(e){return function(e){return It(It({},e),e.Geometry&&{Geometry:X5(e.Geometry)})}(e)}))})},e6=function(e){return It({},e)},t6=function(e){return It({},e)},n6=function(e){return It(It({},e),e.Geometry&&{Geometry:X5(e.Geometry)})},r6=function(e){return It({},e)},i6=function(e){return It(It({},e),e.Entries&&{Entries:e.Entries.map((function(e){return function(e){return It(It({},e),e.Geometry&&{Geometry:X5(e.Geometry)})}(e)}))})},o6=function(e){return It({},e)},a6=function(e){return It(It({},e),e.Point&&{Point:N4})},s6=function(e){return It(It({},e),e.Geometry&&{Geometry:a6(e.Geometry)})},u6=function(e){return It(It({},e),e.Place&&{Place:s6(e.Place)})},c6=function(e){return It(It({},e),e.Position&&{Position:N4})},l6=function(e){return It(It({},e),e.Position&&{Position:N4})},f6=function(e){return It(It(It({},e),e.Summary&&{Summary:l6(e.Summary)}),e.Results&&{Results:e.Results.map((function(e){return function(e){return It(It({},e),e.Place&&{Place:s6(e.Place)})}(e)}))})},d6=function(e){return It(It(It(It({},e),e.Text&&{Text:N4}),e.BiasPosition&&{BiasPosition:N4}),e.FilterBBox&&{FilterBBox:N4})},h6=function(e){return It(It(It(It({},e),e.Text&&{Text:N4}),e.BiasPosition&&{BiasPosition:N4}),e.FilterBBox&&{FilterBBox:N4})},p6=function(e){return It(It({},e),e.Summary&&{Summary:h6(e.Summary)})},v6=function(e){return It(It(It(It({},e),e.Text&&{Text:N4}),e.BiasPosition&&{BiasPosition:N4}),e.FilterBBox&&{FilterBBox:N4})},y6=function(e){return It(It(It(It(It({},e),e.Text&&{Text:N4}),e.BiasPosition&&{BiasPosition:N4}),e.FilterBBox&&{FilterBBox:N4}),e.ResultBBox&&{ResultBBox:N4})},g6=function(e){return It(It(It({},e),e.Summary&&{Summary:y6(e.Summary)}),e.Results&&{Results:e.Results.map((function(e){return function(e){return It(It({},e),e.Place&&{Place:s6(e.Place)})}(e)}))})},m6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a;return kt(this,(function(s){switch(s.label){case 0:return r=[It({},e)],a={},[4,Q6(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(a.body=s.sent(),a)])),i=e8(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,C6(n,t)];case 3:throw s.sent();case 4:return[4,I6(n,t)];case 5:throw s.sent();case 6:return[4,P6(n,t)];case 7:throw s.sent();case 8:return[4,O6(n,t)];case 9:throw s.sent();case 10:return[4,k6(n,t)];case 11:throw s.sent();case 12:o=n.body,u5({output:e,parsedBody:o,exceptionCtor:H5,errorCode:i}),s.label=13;case 13:return[2]}}))}))},b6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a;return kt(this,(function(s){switch(s.label){case 0:return r=[It({},e)],a={},[4,Q6(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(a.body=s.sent(),a)])),i=e8(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,C6(n,t)];case 3:throw s.sent();case 4:return[4,I6(n,t)];case 5:throw s.sent();case 6:return[4,P6(n,t)];case 7:throw s.sent();case 8:return[4,O6(n,t)];case 9:throw s.sent();case 10:return[4,k6(n,t)];case 11:throw s.sent();case 12:o=n.body,u5({output:e,parsedBody:o,exceptionCtor:H5,errorCode:i}),s.label=13;case 13:return[2]}}))}))},w6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a;return kt(this,(function(s){switch(s.label){case 0:return r=[It({},e)],a={},[4,Q6(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(a.body=s.sent(),a)])),i=e8(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,C6(n,t)];case 3:throw s.sent();case 4:return[4,I6(n,t)];case 5:throw s.sent();case 6:return[4,P6(n,t)];case 7:throw s.sent();case 8:return[4,O6(n,t)];case 9:throw s.sent();case 10:return[4,k6(n,t)];case 11:throw s.sent();case 12:o=n.body,u5({output:e,parsedBody:o,exceptionCtor:H5,errorCode:i}),s.label=13;case 13:return[2]}}))}))},S6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a;return kt(this,(function(s){switch(s.label){case 0:return r=[It({},e)],a={},[4,Q6(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(a.body=s.sent(),a)])),i=e8(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,C6(n,t)];case 3:throw s.sent();case 4:return[4,I6(n,t)];case 5:throw s.sent();case 6:return[4,P6(n,t)];case 7:throw s.sent();case 8:return[4,O6(n,t)];case 9:throw s.sent();case 10:return[4,k6(n,t)];case 11:throw s.sent();case 12:o=n.body,u5({output:e,parsedBody:o,exceptionCtor:H5,errorCode:i}),s.label=13;case 13:return[2]}}))}))},E6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a;return kt(this,(function(s){switch(s.label){case 0:return r=[It({},e)],a={},[4,Q6(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(a.body=s.sent(),a)])),i=e8(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,C6(n,t)];case 3:throw s.sent();case 4:return[4,I6(n,t)];case 5:throw s.sent();case 6:return[4,P6(n,t)];case 7:throw s.sent();case 8:return[4,O6(n,t)];case 9:throw s.sent();case 10:return[4,k6(n,t)];case 11:throw s.sent();case 12:o=n.body,u5({output:e,parsedBody:o,exceptionCtor:H5,errorCode:i}),s.label=13;case 13:return[2]}}))}))},_6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a;return kt(this,(function(s){switch(s.label){case 0:return r=[It({},e)],a={},[4,Q6(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(a.body=s.sent(),a)])),i=e8(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,C6(n,t)];case 3:throw s.sent();case 4:return[4,I6(n,t)];case 5:throw s.sent();case 6:return[4,P6(n,t)];case 7:throw s.sent();case 8:return[4,O6(n,t)];case 9:throw s.sent();case 10:return[4,k6(n,t)];case 11:throw s.sent();case 12:o=n.body,u5({output:e,parsedBody:o,exceptionCtor:H5,errorCode:i}),s.label=13;case 13:return[2]}}))}))},x6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a;return kt(this,(function(s){switch(s.label){case 0:return r=[It({},e)],a={},[4,Q6(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(a.body=s.sent(),a)])),i=e8(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,C6(n,t)];case 3:throw s.sent();case 4:return[4,I6(n,t)];case 5:throw s.sent();case 6:return[4,P6(n,t)];case 7:throw s.sent();case 8:return[4,O6(n,t)];case 9:throw s.sent();case 10:return[4,k6(n,t)];case 11:throw s.sent();case 12:o=n.body,u5({output:e,parsedBody:o,exceptionCtor:H5,errorCode:i}),s.label=13;case 13:return[2]}}))}))},A6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a;return kt(this,(function(s){switch(s.label){case 0:return r=[It({},e)],a={},[4,Q6(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(a.body=s.sent(),a)])),i=e8(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,C6(n,t)];case 3:throw s.sent();case 4:return[4,I6(n,t)];case 5:throw s.sent();case 6:return[4,P6(n,t)];case 7:throw s.sent();case 8:return[4,O6(n,t)];case 9:throw s.sent();case 10:return[4,k6(n,t)];case 11:throw s.sent();case 12:o=n.body,u5({output:e,parsedBody:o,exceptionCtor:H5,errorCode:i}),s.label=13;case 13:return[2]}}))}))},T6=d5,C6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=T6({}),null!=(n=e.body).message&&(t.Message=K4(n.message)),r=new G5(It({$metadata:J6(e)},t)),[2,s5(r,e.body)]}))}))},I6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=T6({}),null!=(n=e.body).message&&(t.Message=K4(n.message)),r=new V5(It({$metadata:J6(e)},t)),[2,s5(r,e.body)]}))}))},P6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=T6({}),null!=(n=e.body).message&&(t.Message=K4(n.message)),r=new $5(It({$metadata:J6(e)},t)),[2,s5(r,e.body)]}))}))},O6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(i){return t=T6({}),null!=(n=e.body).message&&(t.Message=K4(n.message)),r=new W5(It({$metadata:J6(e)},t)),[2,s5(r,e.body)]}))}))},k6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i;return kt(this,(function(o){return n=T6({}),null!=(r=e.body).fieldList&&(n.FieldList=Z6(r.fieldList,t)),null!=r.message&&(n.Message=K4(r.message)),null!=r.reason&&(n.Reason=K4(r.reason)),i=new Y5(It({$metadata:J6(e)},n)),[2,s5(i,e.body)]}))}))},R6=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return function(e,t){return It(It({},null!=e.GeofenceId&&{GeofenceId:e.GeofenceId}),null!=e.Geometry&&{Geometry:M6(e.Geometry,t)})}(e,t)}))},L6=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return y5(e)}))},N6=function(e,t){return It(It({},null!=e.Center&&{Center:F6(e.Center,t)}),null!=e.Radius&&{Radius:y5(e.Radius)})},D6=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))},M6=function(e,t){return It(It({},null!=e.Circle&&{Circle:N6(e.Circle,t)}),null!=e.Polygon&&{Polygon:U6(e.Polygon,t)})},j6=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))},U6=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return F6(e,t)}))}(e,t)}))},F6=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return y5(e)}))},z6=function(e,t){return{Code:K4(e.Code),Message:K4(e.Message)}},B6=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:V4(e)}))},q6=function(e,t){return{Center:null!=e.Center?W6(e.Center,t):void 0,Radius:V4(e.Radius)}},K6=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:K4(e)}))},H6=function(e,t){return{Circle:null!=e.Circle?q6(e.Circle,t):void 0,Polygon:null!=e.Polygon?G6(e.Polygon,t):void 0}},G6=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:W6(e,t)}));return n}(e,t)}));return n},V6=function(e,t){return{AddressNumber:K4(e.AddressNumber),Country:K4(e.Country),Geometry:null!=e.Geometry?$6(e.Geometry,t):void 0,Interpolated:D4(e.Interpolated),Label:K4(e.Label),Municipality:K4(e.Municipality),Neighborhood:K4(e.Neighborhood),PostalCode:K4(e.PostalCode),Region:K4(e.Region),Street:K4(e.Street),SubRegion:K4(e.SubRegion),TimeZone:null!=e.TimeZone?Y6(e.TimeZone,t):void 0,UnitNumber:K4(e.UnitNumber),UnitType:K4(e.UnitType)}},$6=function(e,t){return{Point:null!=e.Point?W6(e.Point,t):void 0}},W6=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:V4(e)}))},Y6=function(e,t){return{Name:K4(e.Name),Offset:U4(e.Offset)}},Z6=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Message:K4(e.message),Name:K4(e.name)}}(e)}))},J6=function(e){var t,n;return{httpStatusCode:e.statusCode,requestId:null!==(n=null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"])&&void 0!==n?n:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},X6=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Q6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(i){switch(i.label){case 0:return[4,X6(e,t)];case 1:return(n=i.sent()).message=null!==(r=n.message)&&void 0!==r?r:n.Message,[2,n]}}))}))},e8=function(e,t){var n,r=function(e){var t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==i?r(e.headers[i]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):void 0},t8=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(K5(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"LocationClient",commandName:"SearchPlaceIndexForTextCommand",inputFilterSensitiveLog:v6,outputFilterSensitiveLog:g6},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return(n=f.sent()).hostname,r=n.protocol,i=void 0===r?"https":r,o=n.port,a=n.path,s={"content-type":"application/json"},u="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/places/v0/indexes/{IndexName}/search/text",u=v5(u,e,"IndexName",(function(){return e.IndexName}),"{IndexName}",!1),c=JSON.stringify(It(It(It(It(It(It({},null!=e.BiasPosition&&{BiasPosition:F6(e.BiasPosition,t)}),null!=e.FilterBBox&&{FilterBBox:L6(e.FilterBBox)}),null!=e.FilterCountries&&{FilterCountries:D6(e.FilterCountries)}),null!=e.Language&&{Language:e.Language}),null!=e.MaxResults&&{MaxResults:e.MaxResults}),null!=e.Text&&{Text:e.Text})),[4,t.endpoint()];case 2:if(l=f.sent().hostname,!0!==t.disableHostPrefix&&!v3(l="places."+l))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new h3({protocol:i,hostname:l,port:o,method:"POST",headers:s,path:u,body:c})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o;return kt(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,A6(e,t)]:(n=T6({$metadata:J6(e)}),i=B4,o=q4,[4,X6(e.body,t)]);case 1:return null!=(r=i.apply(void 0,[o.apply(void 0,[a.sent()]),"body"])).Results&&(n.Results=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Distance:V4(e.Distance),Place:null!=e.Place?V6(e.Place,t):void 0,PlaceId:K4(e.PlaceId),Relevance:V4(e.Relevance)}}(e,t)}));return n}(r.Results,t)),null!=r.Summary&&(n.Summary=function(e,t){return{BiasPosition:null!=e.BiasPosition?W6(e.BiasPosition,t):void 0,DataSource:K4(e.DataSource),FilterBBox:null!=e.FilterBBox?B6(e.FilterBBox):void 0,FilterCountries:null!=e.FilterCountries?K6(e.FilterCountries):void 0,Language:K4(e.Language),MaxResults:U4(e.MaxResults),ResultBBox:null!=e.ResultBBox?B6(e.ResultBBox):void 0,Text:K4(e.Text)}}(r.Summary,t)),[2,n]}}))}))}(e,t)},t}(L4),n8=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(K5(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"LocationClient",commandName:"SearchPlaceIndexForSuggestionsCommand",inputFilterSensitiveLog:d6,outputFilterSensitiveLog:p6},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return(n=f.sent()).hostname,r=n.protocol,i=void 0===r?"https":r,o=n.port,a=n.path,s={"content-type":"application/json"},u="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/places/v0/indexes/{IndexName}/search/suggestions",u=v5(u,e,"IndexName",(function(){return e.IndexName}),"{IndexName}",!1),c=JSON.stringify(It(It(It(It(It(It({},null!=e.BiasPosition&&{BiasPosition:F6(e.BiasPosition,t)}),null!=e.FilterBBox&&{FilterBBox:L6(e.FilterBBox)}),null!=e.FilterCountries&&{FilterCountries:D6(e.FilterCountries)}),null!=e.Language&&{Language:e.Language}),null!=e.MaxResults&&{MaxResults:e.MaxResults}),null!=e.Text&&{Text:e.Text})),[4,t.endpoint()];case 2:if(l=f.sent().hostname,!0!==t.disableHostPrefix&&!v3(l="places."+l))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new h3({protocol:i,hostname:l,port:o,method:"POST",headers:s,path:u,body:c})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o;return kt(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,x6(e,t)]:(n=T6({$metadata:J6(e)}),i=B4,o=q4,[4,X6(e.body,t)]);case 1:return null!=(r=i.apply(void 0,[o.apply(void 0,[a.sent()]),"body"])).Results&&(n.Results=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{PlaceId:K4(e.PlaceId),Text:K4(e.Text)}}(e)}))}(r.Results)),null!=r.Summary&&(n.Summary=function(e,t){return{BiasPosition:null!=e.BiasPosition?W6(e.BiasPosition,t):void 0,DataSource:K4(e.DataSource),FilterBBox:null!=e.FilterBBox?B6(e.FilterBBox):void 0,FilterCountries:null!=e.FilterCountries?K6(e.FilterCountries):void 0,Language:K4(e.Language),MaxResults:U4(e.MaxResults),Text:K4(e.Text)}}(r.Summary,t)),[2,n]}}))}))}(e,t)},t}(L4),r8=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(K5(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"LocationClient",commandName:"GetPlaceCommand",inputFilterSensitiveLog:o6,outputFilterSensitiveLog:u6},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return(n=f.sent()).hostname,r=n.protocol,i=void 0===r?"https":r,o=n.port,a=n.path,s={},u="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/places/v0/indexes/{IndexName}/places/{PlaceId}",u=v5(u,e,"IndexName",(function(){return e.IndexName}),"{IndexName}",!1),u=v5(u,e,"PlaceId",(function(){return e.PlaceId}),"{PlaceId}",!1),c=T6({language:[,e.Language]}),[4,t.endpoint()];case 2:if(l=f.sent().hostname,!0!==t.disableHostPrefix&&!v3(l="places."+l))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new h3({protocol:i,hostname:l,port:o,method:"GET",headers:s,path:u,query:c,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o;return kt(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,S6(e,t)]:(n=T6({$metadata:J6(e)}),i=B4,o=q4,[4,X6(e.body,t)]);case 1:return null!=(r=i.apply(void 0,[o.apply(void 0,[a.sent()]),"body"])).Place&&(n.Place=V6(r.Place,t)),[2,n]}}))}))}(e,t)},t}(L4),i8=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(K5(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"LocationClient",commandName:"SearchPlaceIndexForPositionCommand",inputFilterSensitiveLog:c6,outputFilterSensitiveLog:f6},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return(n=f.sent()).hostname,r=n.protocol,i=void 0===r?"https":r,o=n.port,a=n.path,s={"content-type":"application/json"},u="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/places/v0/indexes/{IndexName}/search/position",u=v5(u,e,"IndexName",(function(){return e.IndexName}),"{IndexName}",!1),c=JSON.stringify(It(It(It({},null!=e.Language&&{Language:e.Language}),null!=e.MaxResults&&{MaxResults:e.MaxResults}),null!=e.Position&&{Position:F6(e.Position,t)})),[4,t.endpoint()];case 2:if(l=f.sent().hostname,!0!==t.disableHostPrefix&&!v3(l="places."+l))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new h3({protocol:i,hostname:l,port:o,method:"POST",headers:s,path:u,body:c})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o;return kt(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,_6(e,t)]:(n=T6({$metadata:J6(e)}),i=B4,o=q4,[4,X6(e.body,t)]);case 1:return null!=(r=i.apply(void 0,[o.apply(void 0,[a.sent()]),"body"])).Results&&(n.Results=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Distance:V4(e.Distance),Place:null!=e.Place?V6(e.Place,t):void 0,PlaceId:K4(e.PlaceId)}}(e,t)}));return n}(r.Results,t)),null!=r.Summary&&(n.Summary=function(e,t){return{DataSource:K4(e.DataSource),Language:K4(e.Language),MaxResults:U4(e.MaxResults),Position:null!=e.Position?W6(e.Position,t):void 0}}(r.Summary,t)),[2,n]}}))}))}(e,t)},t}(L4),o8=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(K5(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"LocationClient",commandName:"GetGeofenceCommand",inputFilterSensitiveLog:t6,outputFilterSensitiveLog:n6},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:return[4,t.endpoint()];case 1:return(n=l.sent()).hostname,r=n.protocol,i=void 0===r?"https":r,o=n.port,a=n.path,s={},u="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/geofencing/v0/collections/{CollectionName}/geofences/{GeofenceId}",u=v5(u,e,"CollectionName",(function(){return e.CollectionName}),"{CollectionName}",!1),u=v5(u,e,"GeofenceId",(function(){return e.GeofenceId}),"{GeofenceId}",!1),[4,t.endpoint()];case 2:if(c=l.sent().hostname,!0!==t.disableHostPrefix&&!v3(c="geofencing."+c))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new h3({protocol:i,hostname:c,port:o,method:"GET",headers:s,path:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o;return kt(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,w6(e,t)]:(n=T6({$metadata:J6(e)}),i=B4,o=q4,[4,X6(e.body,t)]);case 1:return null!=(r=i.apply(void 0,[o.apply(void 0,[a.sent()]),"body"])).CreateTime&&(n.CreateTime=B4(X4(r.CreateTime))),null!=r.GeofenceId&&(n.GeofenceId=K4(r.GeofenceId)),null!=r.Geometry&&(n.Geometry=H6(r.Geometry,t)),null!=r.Status&&(n.Status=K4(r.Status)),null!=r.UpdateTime&&(n.UpdateTime=B4(X4(r.UpdateTime))),[2,n]}}))}))}(e,t)},t}(L4),a8=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(K5(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"LocationClient",commandName:"ListGeofencesCommand",inputFilterSensitiveLog:r6,outputFilterSensitiveLog:i6},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return(n=f.sent()).hostname,r=n.protocol,i=void 0===r?"https":r,o=n.port,a=n.path,s={"content-type":"application/json"},u="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/geofencing/v0/collections/{CollectionName}/list-geofences",u=v5(u,e,"CollectionName",(function(){return e.CollectionName}),"{CollectionName}",!1),c=JSON.stringify(It(It({},null!=e.MaxResults&&{MaxResults:e.MaxResults}),null!=e.NextToken&&{NextToken:e.NextToken})),[4,t.endpoint()];case 2:if(l=f.sent().hostname,!0!==t.disableHostPrefix&&!v3(l="geofencing."+l))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new h3({protocol:i,hostname:l,port:o,method:"POST",headers:s,path:u,body:c})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o;return kt(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,E6(e,t)]:(n=T6({$metadata:J6(e)}),i=B4,o=q4,[4,X6(e.body,t)]);case 1:return null!=(r=i.apply(void 0,[o.apply(void 0,[a.sent()]),"body"])).Entries&&(n.Entries=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{CreateTime:null!=e.CreateTime?B4(X4(e.CreateTime)):void 0,GeofenceId:K4(e.GeofenceId),Geometry:null!=e.Geometry?H6(e.Geometry,t):void 0,Status:K4(e.Status),UpdateTime:null!=e.UpdateTime?B4(X4(e.UpdateTime)):void 0}}(e,t)}));return n}(r.Entries,t)),null!=r.NextToken&&(n.NextToken=K4(r.NextToken)),[2,n]}}))}))}(e,t)},t}(L4),s8=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(K5(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"LocationClient",commandName:"BatchPutGeofenceCommand",inputFilterSensitiveLog:Q5,outputFilterSensitiveLog:e6},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return(n=f.sent()).hostname,r=n.protocol,i=void 0===r?"https":r,o=n.port,a=n.path,s={"content-type":"application/json"},u="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/geofencing/v0/collections/{CollectionName}/put-geofences",u=v5(u,e,"CollectionName",(function(){return e.CollectionName}),"{CollectionName}",!1),c=JSON.stringify(It({},null!=e.Entries&&{Entries:R6(e.Entries,t)})),[4,t.endpoint()];case 2:if(l=f.sent().hostname,!0!==t.disableHostPrefix&&!v3(l="geofencing."+l))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new h3({protocol:i,hostname:l,port:o,method:"POST",headers:s,path:u,body:c})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o;return kt(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,b6(e,t)]:(n=T6({$metadata:J6(e)}),i=B4,o=q4,[4,X6(e.body,t)]);case 1:return null!=(r=i.apply(void 0,[o.apply(void 0,[a.sent()]),"body"])).Errors&&(n.Errors=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Error:null!=e.Error?z6(e.Error,t):void 0,GeofenceId:K4(e.GeofenceId)}}(e,t)}));return n}(r.Errors,t)),null!=r.Successes&&(n.Successes=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{CreateTime:null!=e.CreateTime?B4(X4(e.CreateTime)):void 0,GeofenceId:K4(e.GeofenceId),UpdateTime:null!=e.UpdateTime?B4(X4(e.UpdateTime)):void 0}}(e)}))}(r.Successes)),[2,n]}}))}))}(e,t)},t}(L4),u8=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(K5(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"LocationClient",commandName:"BatchDeleteGeofenceCommand",inputFilterSensitiveLog:Z5,outputFilterSensitiveLog:J5},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return(n=f.sent()).hostname,r=n.protocol,i=void 0===r?"https":r,o=n.port,a=n.path,s={"content-type":"application/json"},u="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/geofencing/v0/collections/{CollectionName}/delete-geofences",u=v5(u,e,"CollectionName",(function(){return e.CollectionName}),"{CollectionName}",!1),c=JSON.stringify(It({},null!=e.GeofenceIds&&{GeofenceIds:j6(e.GeofenceIds)})),[4,t.endpoint()];case 2:if(l=f.sent().hostname,!0!==t.disableHostPrefix&&!v3(l="geofencing."+l))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new h3({protocol:i,hostname:l,port:o,method:"POST",headers:s,path:u,body:c})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,i,o;return kt(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,m6(e,t)]:(n=T6({$metadata:J6(e)}),i=B4,o=q4,[4,X6(e.body,t)]);case 1:return null!=(r=i.apply(void 0,[o.apply(void 0,[a.sent()]),"body"])).Errors&&(n.Errors=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Error:null!=e.Error?z6(e.Error,t):void 0,GeofenceId:K4(e.GeofenceId)}}(e,t)}));return n}(r.Errors,t)),[2,n]}}))}))}(e,t)},t}(L4);function c8(e,t){if(!Number.isFinite(e)||!Number.isFinite(t))throw new Error("Invalid coordinates: ["+e+","+t+"]");if(t<-90||90<t)throw new Error("Latitude must be between -90 and 90 degrees inclusive.");if(e<-180||180<e)throw new Error("Longitude must be between -180 and 180 degrees inclusive.")}function l8(e){if(!/^[-._\p{L}\p{N}]+$/iu.test(e))throw new Error("Invalid geofenceId: '"+e+"' - IDs can only contain alphanumeric characters, hyphens, underscores and periods.")}function f8(e,t){var n=t?t+": ":"";if(e.length<4)throw new Error(n+"LinearRing must contain 4 or more coordinates.");var r=[];if(e.forEach((function(e){try{c8(e[0],e[1])}catch(t){r.push({coordinates:e,error:t.message})}})),r.length>0)throw new Error(n+"One or more of the coordinates in the Polygon LinearRing are not valid: "+JSON.stringify(r));var i=i3(e[0],2),o=i[0],a=i[1],s=i3(e[e.length-1],2),u=s[0],c=s[1];if(o!==u||a!==c)throw new Error(n+"LinearRing's first and last coordinates are not the same");if(function(e){for(var t,n,r=function(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}(e),i=0,o=1;o<r.length;)t=n||r[0],i+=((n=r[o])[0]-t[0])*(n[1]+t[1]),o++;return i>0}(e))throw new Error(n+"LinearRing coordinates must be wound counterclockwise")}function d8(e,t){var n=t3({},t);if(n.FilterCountries=e.countries,n.MaxResults=e.maxResults,e.searchIndexName&&(n.IndexName=e.searchIndexName),e.biasPosition&&e.searchAreaConstraints)throw new Error("BiasPosition and SearchAreaConstraints are mutually exclusive, please remove one or the other from the options object");return e.biasPosition&&(n.BiasPosition=e.biasPosition),e.searchAreaConstraints&&(n.FilterBBox=e.searchAreaConstraints),n}var h8=new c("AmazonLocationServiceProvider"),p8=function(){function e(e){this._config=e||{},h8.debug("Geo Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(e){return h8.debug("configure Amazon Location Service Provider",e),e?(this._config=Object.assign({},this._config,e),this._config):this._config},e.prototype.getAvailableMaps=function(){this._verifyMapResources();var e=[],t=this._config.maps.items,n=this._config.region;for(var r in t){var i=t[r].style;e.push({mapName:r,style:i,region:n})}return e},e.prototype.getDefaultMap=function(){this._verifyMapResources();var e=this._config.maps.default;return{mapName:e,style:this._config.maps.items[e].style,region:this._config.region}},e.prototype.searchByText=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,i,o,a,s;return r3(this,(function(u){switch(u.label){case 0:return[4,this._ensureCredentials()];case 1:if(!u.sent())throw new Error("No credentials");this._verifySearchIndex(null==t?void 0:t.searchIndexName),n={Text:e,IndexName:this._config.search_indices.default},t&&(n=t3(t3({},n),d8(t,n))),r=new z5({credentials:this._config.credentials,region:this._config.region,customUserAgent:te()}),i=new t8(n),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,r.send(i)];case 3:return o=u.sent(),[3,5];case 4:throw a=u.sent(),h8.debug(a),a;case 5:return s=o.Results.map((function(e){return e.Place})),[2,s3()(s,{deep:!0})]}}))}))},e.prototype.searchForSuggestions=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,i,o,a;return r3(this,(function(s){switch(s.label){case 0:return[4,this._ensureCredentials()];case 1:if(!s.sent())throw new Error("No credentials");this._verifySearchIndex(null==t?void 0:t.searchIndexName),n={Text:e,IndexName:this._config.search_indices.default},t&&(n=t3(t3({},n),d8(t,n))),r=new z5({credentials:this._config.credentials,region:this._config.region,customUserAgent:te()}),i=new n8(n),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,r.send(i)];case 3:return o=s.sent(),[3,5];case 4:throw a=s.sent(),h8.debug(a),a;case 5:return[2,o.Results.map((function(e){return{text:e.Text,placeId:e.PlaceId}}))]}}))}))},e.prototype._verifyPlaceId=function(e){if(0===e.length){var t="PlaceId cannot be an empty string.";throw h8.debug(t),new Error(t)}},e.prototype.searchByPlaceId=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,i,o,a,s;return r3(this,(function(u){switch(u.label){case 0:return[4,this._ensureCredentials()];case 1:if(!u.sent())throw new Error("No credentials");this._verifySearchIndex(null==t?void 0:t.searchIndexName),this._verifyPlaceId(e),n=new z5({credentials:this._config.credentials,region:this._config.region,customUserAgent:te()}),r={PlaceId:e,IndexName:(null==t?void 0:t.searchIndexName)||this._config.search_indices.default},i=new r8(r),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,n.send(i)];case 3:return o=u.sent(),[3,5];case 4:throw a=u.sent(),h8.debug(a),a;case 5:return(s=o.Place)?[2,s3()(s,{deep:!0})]:[2]}}))}))},e.prototype.searchByCoordinates=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,i,o,a,s;return r3(this,(function(u){switch(u.label){case 0:return[4,this._ensureCredentials()];case 1:if(!u.sent())throw new Error("No credentials");this._verifySearchIndex(null==t?void 0:t.searchIndexName),n={Position:e,IndexName:this._config.search_indices.default},t&&(t.searchIndexName&&(n.IndexName=t.searchIndexName),n.MaxResults=t.maxResults),r=new z5({credentials:this._config.credentials,region:this._config.region,customUserAgent:te()}),i=new i8(n),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,r.send(i)];case 3:return o=u.sent(),[3,5];case 4:throw a=u.sent(),h8.debug(a),a;case 5:return s=o.Results.map((function(e){return e.Place})),[2,s3()(s[0],{deep:!0})]}}))}))},e.prototype.saveGeofences=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,i,o=this;return r3(this,(function(a){switch(a.label){case 0:if(e.length<1)throw new Error("Geofence input array is empty");return[4,this._ensureCredentials()];case 1:if(!a.sent())throw new Error("No credentials");try{this._verifyGeofenceCollections(null==t?void 0:t.collectionName)}catch(e){throw h8.debug(e),e}for(function(e){var t={};e.forEach((function(e){if(!e.geofenceId)throw new Error("Geofence '"+e+"' is missing geofenceId");var n=e.geofenceId;if(l8(n),t[n])throw new Error("Duplicate geofenceId: "+n);if(t[n]=!0,!e.geometry)throw new Error("Geofence '"+n+"' is missing geometry");var r=e.geometry;if(!r.polygon)throw new Error("Geofence '"+n+"' is missing geometry.polygon");var i=r.polygon;try{!function(e,t){var n=t?t+": ":"";if(!Array.isArray(e))throw new Error(n+"Polygon is of incorrect structure. It should be an array of LinearRings");if(e.length<1)throw new Error(n+"Polygon must have a single LinearRing array.");if(e.length>1)throw new Error(n+"Polygon must have a single LinearRing array. Note: We do not currently support polygons with holes, multipolygons, polygons that are wound clockwise, or that cross the antimeridian.");if(e.reduce((function(e,t){return e+t.length}),0)>1e3)throw new Error(n+"Polygon has more than the maximum 1000 vertices.");e.forEach((function(e){f8(e,t)}))}(i,n)}catch(e){if(e.message.includes("Polygon has more than the maximum 1000 vertices."))throw new Error("Geofence '"+n+"' has more than the maximum of 1000 vertices")}f8(i3(i,1)[0],n)}))}(e),n=e.map((function(e){return{GeofenceId:e.geofenceId,Geometry:{Polygon:e.geometry.polygon}}})),r={successes:[],errors:[]},i=[];n.length>0;)i.push(n.splice(0,10));return[4,Promise.all(i.map((function(e){return n3(o,void 0,void 0,(function(){var n,i;return r3(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._AmazonLocationServiceBatchPutGeofenceCall(e,(null==t?void 0:t.collectionName)||this._config.geofenceCollections.default)];case 1:return n=o.sent(),[3,3];case 2:return i=o.sent(),e.forEach((function(e){r.errors.push({geofenceId:e.GeofenceId,error:{code:"APIConnectionError",message:i.message}})})),[2];case 3:return n.Successes.forEach((function(e){var t=e.GeofenceId,n=e.CreateTime,i=e.UpdateTime;r.successes.push({geofenceId:t,createTime:n,updateTime:i})})),n.Errors.forEach((function(e){var t=e.Error,n=t.Code,i=t.Message,o=e.GeofenceId;r.errors.push({error:{code:n,message:i},geofenceId:o})})),[2]}}))}))})))];case 2:return a.sent(),[2,r]}}))}))},e.prototype.getGeofence=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f;return r3(this,(function(d){switch(d.label){case 0:return[4,this._ensureCredentials()];case 1:if(!d.sent())throw new Error("No credentials");try{this._verifyGeofenceCollections(null==t?void 0:t.collectionName)}catch(e){throw h8.debug(e),e}l8(e),n=new z5({credentials:this._config.credentials,region:this._config.region,customUserAgent:te()}),r={GeofenceId:e,CollectionName:(null==t?void 0:t.collectionName)||this._config.geofenceCollections.default},i=new o8(r),d.label=2;case 2:return d.trys.push([2,4,,5]),[4,n.send(i)];case 3:return o=d.sent(),[3,5];case 4:throw a=d.sent(),h8.debug(a),a;case 5:return s=o.GeofenceId,u=o.CreateTime,c=o.UpdateTime,l=o.Status,f=o.Geometry,[2,{createTime:u,geofenceId:s,geometry:{polygon:f.Polygon},status:l,updateTime:c}]}}))}))},e.prototype.listGeofences=function(e){return n3(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u;return r3(this,(function(c){switch(c.label){case 0:return[4,this._ensureCredentials()];case 1:if(!c.sent())throw new Error("No credentials");try{this._verifyGeofenceCollections(null==e?void 0:e.collectionName)}catch(e){throw h8.debug(e),e}t=new z5({credentials:this._config.credentials,region:this._config.region,customUserAgent:te()}),n={NextToken:null==e?void 0:e.nextToken,CollectionName:(null==e?void 0:e.collectionName)||this._config.geofenceCollections.default},r=new a8(n),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,t.send(r)];case 3:return i=c.sent(),[3,5];case 4:throw o=c.sent(),h8.debug(o),o;case 5:return a=i.NextToken,s=i.Entries,u={entries:s.map((function(e){return{geofenceId:e.GeofenceId,createTime:e.CreateTime,updateTime:e.UpdateTime,status:e.Status,geometry:{polygon:e.Geometry.Polygon}}})),nextToken:a},[2,u]}}))}))},e.prototype.deleteGeofences=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,i,o,a=this;return r3(this,(function(s){switch(s.label){case 0:if(e.length<1)throw new Error("GeofenceId input array is empty");return[4,this._ensureCredentials()];case 1:if(!s.sent())throw new Error("No credentials");if(this._verifyGeofenceCollections(null==t?void 0:t.collectionName),(n=e.filter((function(e){try{l8(e)}catch(e){return!0}}))).length>0)throw new Error("Invalid geofence ids: "+n.join(", "));for(r={successes:[],errors:[]},i=[],o=0;o<e.length;)i.push(e.slice(o,o+=10));return[4,Promise.all(i.map((function(e){return n3(a,void 0,void 0,(function(){var n,i,o,a;return r3(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this._AmazonLocationServiceBatchDeleteGeofenceCall(e,(null==t?void 0:t.collectionName)||this._config.geofenceCollections.default)];case 1:return n=s.sent(),[3,3];case 2:return i=s.sent(),e.forEach((function(e){var t={geofenceId:e,error:{code:i.message,message:i.message}};r.errors.push(t)})),[2];case 3:return o=n.Errors.map((function(e){return e.geofenceId})),(a=r.successes).push.apply(a,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i3(arguments[t]));return e}(e.filter((function(e){return!o.includes(e)})))),[2]}}))}))})))];case 2:return s.sent(),[2,r]}}))}))},e.prototype._ensureCredentials=function(){return n3(this,void 0,void 0,(function(){var e,t,n;return r3(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,fs.get()];case 1:return(e=r.sent())?(t=fs.shear(e),h8.debug("Set credentials for storage. Credentials are:",t),this._config.credentials=t,[2,!0]):[2,!1];case 2:return n=r.sent(),h8.debug("Ensure credentials error. Credentials are:",n),[2,!1];case 3:return[2]}}))}))},e.prototype._verifyMapResources=function(){if(!this._config.maps){var e="No map resources found in amplify config, run 'amplify add geo' to create one and run `amplify push` after";throw h8.debug(e),new Error(e)}if(!this._config.maps.default)throw e="No default map resource found in amplify config, run 'amplify add geo' to create one and run `amplify push` after",h8.debug(e),new Error(e)},e.prototype._verifySearchIndex=function(e){if(!(this._config.search_indices&&this._config.search_indices.default||e)){var t="No Search Index found in amplify config, please run `amplify add geo` to create one and run `amplify push` after.";throw h8.debug(t),new Error(t)}},e.prototype._verifyGeofenceCollections=function(e){if(!(this._config.geofenceCollections&&this._config.geofenceCollections.default||e)){var t="No Geofence Collections found, please run `amplify add geo` to create one and run `amplify push` after.";throw h8.debug(t),new Error(t)}},e.prototype._AmazonLocationServiceBatchPutGeofenceCall=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,i,o;return r3(this,(function(a){switch(a.label){case 0:n={Entries:e,CollectionName:t||this._config.geofenceCollections.default},r=new z5({credentials:this._config.credentials,region:this._config.region,customUserAgent:te()}),i=new s8(n),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r.send(i)];case 2:return o=a.sent(),[3,4];case 3:throw a.sent();case 4:return[2,o]}}))}))},e.prototype._AmazonLocationServiceBatchDeleteGeofenceCall=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,i,o;return r3(this,(function(a){switch(a.label){case 0:n={GeofenceIds:e,CollectionName:t||this._config.geofenceCollections.default},r=new z5({credentials:this._config.credentials,region:this._config.region,customUserAgent:te()}),i=new u8(n),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r.send(i)];case 2:return o=a.sent(),[3,4];case 3:throw a.sent();case 4:return[2,o]}}))}))},e.CATEGORY="Geo",e.PROVIDER_NAME="AmazonLocationService",e}(),v8=new c("Geo"),y8="AmazonLocationService",g8=function(){function e(){this._config={},this._pluggables=[],v8.debug("Geo Options",this._config)}return e.prototype.getModuleName=function(){return e.MODULE},e.prototype.addPluggable=function(e){if(e&&"Geo"===e.getCategory())return this._pluggables.push(e),e.configure(this._config[e.getProviderName()])},e.prototype.getPluggable=function(e){var t=this._pluggables.find((function(t){return t.getProviderName()===e}));if(void 0===t)throw v8.debug("No plugin found with providerName",e),new Error("No plugin found in Geo for the provider");return t},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.configure=function(e){var t=this;if(v8.debug("configure Geo"),!e)return this._config;var n=A(e);return this._config=Object.assign({},this._config,n.Geo,e),this._pluggables.forEach((function(e){e.configure(t._config[e.getProviderName()])})),0===this._pluggables.length&&this.addPluggable(new p8),this._config},e.prototype.getAvailableMaps=function(e){return void 0===e&&(e=y8),this.getPluggable(e).getAvailableMaps()},e.prototype.getDefaultMap=function(e){return void 0===e&&(e=y8),this.getPluggable(e).getDefaultMap()},e.prototype.searchByText=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,i,o;return r3(this,(function(a){switch(a.label){case 0:n=(t||{}).providerName,r=void 0===n?y8:n,i=this.getPluggable(r),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.searchByText(e,t)];case 2:return[2,a.sent()];case 3:throw o=a.sent(),v8.debug(o),o;case 4:return[2]}}))}))},e.prototype.searchForSuggestions=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,i,o;return r3(this,(function(a){switch(a.label){case 0:n=(t||{}).providerName,r=void 0===n?y8:n,i=this.getPluggable(r),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.searchForSuggestions(e,t)];case 2:return[2,a.sent()];case 3:throw o=a.sent(),v8.debug(o),o;case 4:return[2]}}))}))},e.prototype.searchByPlaceId=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,i;return r3(this,(function(o){switch(o.label){case 0:n=y8,r=this.getPluggable(n),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,r.searchByPlaceId(e,t)];case 2:return[2,o.sent()];case 3:throw i=o.sent(),v8.debug(i),i;case 4:return[2]}}))}))},e.prototype.searchByCoordinates=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return r3(this,(function(c){switch(c.label){case 0:n=(t||{}).providerName,r=void 0===n?y8:n,i=this.getPluggable(r),o=i3(e,2),a=o[0],s=o[1],c.label=1;case 1:return c.trys.push([1,3,,4]),c8(a,s),[4,i.searchByCoordinates(e,t)];case 2:return[2,c.sent()];case 3:throw u=c.sent(),v8.debug(u),u;case 4:return[2]}}))}))},e.prototype.saveGeofences=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,i,o,a;return r3(this,(function(s){switch(s.label){case 0:n=(t||{}).providerName,r=void 0===n?y8:n,i=this.getPluggable(r),o=Array.isArray(e)?e:[e],s.label=1;case 1:return s.trys.push([1,3,,4]),[4,i.saveGeofences(o,t)];case 2:return[2,s.sent()];case 3:throw a=s.sent(),v8.debug(a),a;case 4:return[2]}}))}))},e.prototype.getGeofence=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,i,o;return r3(this,(function(a){switch(a.label){case 0:n=(t||{}).providerName,r=void 0===n?y8:n,i=this.getPluggable(r),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.getGeofence(e,t)];case 2:return[2,a.sent()];case 3:throw o=a.sent(),v8.debug(o),o;case 4:return[2]}}))}))},e.prototype.listGeofences=function(e){return n3(this,void 0,void 0,(function(){var t,n,r,i;return r3(this,(function(o){switch(o.label){case 0:t=(e||{}).providerName,n=void 0===t?y8:t,r=this.getPluggable(n),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,r.listGeofences(e)];case 2:return[2,o.sent()];case 3:throw i=o.sent(),v8.debug(i),i;case 4:return[2]}}))}))},e.prototype.deleteGeofences=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,i,o,a;return r3(this,(function(s){switch(s.label){case 0:n=(t||{}).providerName,r=void 0===n?y8:n,i=this.getPluggable(r),o=Array.isArray(e)?e:[e],s.label=1;case 1:return s.trys.push([1,3,,4]),[4,i.deleteGeofences(o,t)];case 2:return[2,s.sent()];case 3:throw a=s.sent(),v8.debug(a),a;case 4:return[2]}}))}))},e.MODULE="Geo",e}(),m8=new g8;d.register(m8)},9669:(e,t,n)=>{e.exports=n(1518)},5448:(e,t,n)=>{"use strict";var r=n(4867),i=n(6026),o=n(4372),a=n(5327),s=n(4097),u=n(4109),c=n(7985),l=n(5061),f=n(5655),d=n(5263);e.exports=function(e){return new Promise((function(t,n){var h,p=e.data,v=e.headers,y=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(p)&&delete v["Content-Type"];var m=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(b+":"+w)}var S=s(e.baseURL,e.url);function E(){if(m){var r="getAllResponseHeaders"in m?u(m.getAllResponseHeaders()):null,o={data:y&&"text"!==y&&"json"!==y?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m};i((function(e){t(e),g()}),(function(e){n(e),g()}),o),m=null}}if(m.open(e.method.toUpperCase(),a(S,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,"onloadend"in m?m.onloadend=E:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(E)},m.onabort=function(){m&&(n(l("Request aborted",e,"ECONNABORTED",m)),m=null)},m.onerror=function(){n(l("Network Error",e,null,m)),m=null},m.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},r.isStandardBrowserEnv()){var _=(e.withCredentials||c(S))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;_&&(v[e.xsrfHeaderName]=_)}"setRequestHeader"in m&&r.forEach(v,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete v[t]:m.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(m.withCredentials=!!e.withCredentials),y&&"json"!==y&&(m.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){m&&(n(!e||e&&e.type?new d("canceled"):e),m.abort(),m=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),p||(p=null),m.send(p)}))}},1518:(e,t,n)=>{"use strict";var r=n(4867),i=n(1849),o=n(321),a=n(7185),s=function e(t){var n=new o(t),s=i(o.prototype.request,n);return r.extend(s,o.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(5655));s.Axios=o,s.Cancel=n(5263),s.CancelToken=n(4972),s.isCancel=n(6502),s.VERSION=n(7288).version,s.all=function(e){return Promise.all(e)},s.spread=n(8713),s.isAxiosError=n(6268),e.exports=s,e.exports.default=s},5263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:(e,t,n)=>{"use strict";var r=n(5263);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var r=n(4867),i=n(5327),o=n(782),a=n(3572),s=n(7185),u=n(4875),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var f=[a,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(l),o=Promise.resolve(t);f.length;)o=o.then(f.shift(),f.shift());return o}for(var d=t;r.length;){var h=r.shift(),p=r.shift();try{d=h(d)}catch(e){p(e);break}}try{o=a(d)}catch(e){return Promise.reject(e)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},782:(e,t,n)=>{"use strict";var r=n(4867);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},4097:(e,t,n)=>{"use strict";var r=n(1793),i=n(7303);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},5061:(e,t,n)=>{"use strict";var r=n(481);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},3572:(e,t,n)=>{"use strict";var r=n(4867),i=n(8527),o=n(6502),a=n(5655),s=n(5263);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},7185:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},6026:(e,t,n)=>{"use strict";var r=n(5061);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},8527:(e,t,n)=>{"use strict";var r=n(4867),i=n(5655);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},5655:(e,t,n)=>{"use strict";var r=n(4867),i=n(6016),o=n(481),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=n(5448)),u),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(a)})),e.exports=c},7288:e=>{e.exports={version:"0.26.0"}},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},5327:(e,t,n)=>{"use strict";var r=n(4867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},6268:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},7985:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},6016:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},4109:(e,t,n)=>{"use strict";var r=n(4867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4875:(e,t,n)=>{"use strict";var r=n(7288).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],u=void 0===s||a(s,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},4867:(e,t,n)=>{"use strict";var r=n(1849),i=Object.prototype.toString;function o(e){return Array.isArray(e)}function a(e){return void 0===e}function s(e){return"[object ArrayBuffer]"===i.call(e)}function u(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function f(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return u(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:f,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)f(arguments[r],n);return t},extend:function(e,t,n){return f(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},9742:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=u(e),a=o[0],s=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,u=r-i;s<u;s+=a)o.push(c(e,s,s+a>u?u:s+a));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},1206:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),a=Math.max(i,o),s=0,u=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===s)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var s=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],null&&a(t.prototype,null),n&&a(t,n),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(92)),i=u(n(93)),o=u(n(94)),a=u(n(95)),s=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),u=s.default.find(a,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var l=s.default.find(a,(function(e){return t.isPlatform(e)}));if(l){var f=this.satisfies(n[l]);if(void 0!==f)return f}}if(o>0){var d=Object.keys(i),h=s.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},8764:(e,t,n)=>{"use strict";var r=n(9742),i=n(645),o=n(6555);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return q(z(t,e.length-n),e,n,r)}function S(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return S(e,t,n,r)}function _(e,t,n,r){return q(B(t),e,n,r)}function x(e,t,n,r){return q(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=C));return n}(r)}t.lW=u,t.h2=50,u.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):v.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.h2;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function O(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",a=t;a<n;++a)o+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return o}function k(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function M(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,o){return o||M(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,o){return o||M(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:z(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function B(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}},2828:(e,t,n)=>{"use strict";const r=n(6900),i=n(3204),o=new(n(1269))({maxSize:1e5}),a=e=>!("object"!=typeof e||null===e||e instanceof RegExp||e instanceof Error||e instanceof Date),s=(e,t)=>{if(!a(e))return e;t={deep:!1,pascalCase:!1,...t};const{exclude:n,pascalCase:s,stopPaths:u,deep:c}=t,l=new Set(u),f=e=>(t,u)=>{if(c&&a(u)){const n=void 0===e?t:`${e}.${t}`;l.has(n)||(u=r(u,f(n)))}if(!n||!((e,t)=>e.some((e=>"string"==typeof e?e===t:(e.lastIndex=0,e.test(t)))))(n,t)){const e=s?`${t}_`:t;if(o.has(e))t=o.get(e);else{const n=i(t,{pascalCase:s});t.length<100&&o.set(e,n),t=n}}return[t,u]};return r(e,f(void 0))};e.exports=(e,t)=>Array.isArray(e)?Object.keys(e).map((n=>s(e[n],t))):s(e,t)},3204:e=>{"use strict";const t=(e,t)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");return t=Object.assign({pascalCase:!1},t),e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim(),0===e.length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():(e!==e.toLowerCase()&&(e=(e=>{let t=!1,n=!1,r=!1;for(let i=0;i<e.length;i++){const o=e[i];t&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o?(e=e.slice(0,i)+"-"+e.slice(i),t=!1,r=n,n=!0,i++):n&&r&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o?(e=e.slice(0,i-1)+"-"+e.slice(i-1),r=n,n=!1,t=!0):(t=o.toLowerCase()===o&&o.toUpperCase()!==o,r=n,n=o.toUpperCase()===o&&o.toLowerCase()!==o)}return e})(e)),n=e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,((e,t)=>t.toUpperCase())).replace(/\d+(\w|$)/g,(e=>e.toUpperCase())),t.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n);var n};e.exports=t,e.exports.default=t},6489:(e,t)=>{"use strict";t.Q=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var r={},i=t||{},a=e.split(";"),s=i.decode||n,u=0;u<a.length;u++){var c=a[u],l=c.indexOf("=");if(!(l<0)){var f=c.substring(0,l).trim();if(null==r[f]){var d=c.substring(l+1,c.length).trim();'"'===d[0]&&(d=d.slice(1,-1)),r[f]=o(d,s)}}}return r},t.q=function(e,t,n){var o=n||{},a=o.encode||r;if("function"!=typeof a)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var s=a(t);if(s&&!i.test(s))throw new TypeError("argument val is invalid");var u=e+"="+s;if(null!=o.maxAge){var c=o.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(c)}if(o.domain){if(!i.test(o.domain))throw new TypeError("option domain is invalid");u+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw new TypeError("option path is invalid");u+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw new TypeError("option expires is invalid");u+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(u+="; HttpOnly"),o.secure&&(u+="; Secure"),o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return u};var n=decodeURIComponent,r=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e,t){try{return t(e)}catch(t){return e}}},7187:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,a,c;if(s(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else{var c=u.length,l=p(u,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},645:(e,t)=>{t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*v}},6555:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},204:(e,t,n)=>{e.exports=self.fetch||(self.fetch=n(5869).default||n(5869))},895:(e,t,n)=>{var r,i,o;void 0===(i="function"==typeof(r=o=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in o)o[u]&&(s+="; "+u,!0!==o[u]&&(s+="="+o[u].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),u=s.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(s[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(i[c]=u,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))})?r.call(t,n,t,e):r)||(e.exports=i),e.exports=o()},8552:(e,t,n)=>{var r=n(852)(n(5639),"DataView");e.exports=r},1989:(e,t,n)=>{var r=n(1789),i=n(401),o=n(7667),a=n(1327),s=n(1866);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},8407:(e,t,n)=>{var r=n(7040),i=n(4125),o=n(2117),a=n(7518),s=n(4705);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},7071:(e,t,n)=>{var r=n(852)(n(5639),"Map");e.exports=r},3369:(e,t,n)=>{var r=n(4785),i=n(1285),o=n(6e3),a=n(9916),s=n(5265);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},3818:(e,t,n)=>{var r=n(852)(n(5639),"Promise");e.exports=r},8525:(e,t,n)=>{var r=n(852)(n(5639),"Set");e.exports=r},8668:(e,t,n)=>{var r=n(3369),i=n(619),o=n(2385);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},6384:(e,t,n)=>{var r=n(8407),i=n(7465),o=n(3779),a=n(7599),s=n(4758),u=n(4309);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},2705:(e,t,n)=>{var r=n(5639).Symbol;e.exports=r},1149:(e,t,n)=>{var r=n(5639).Uint8Array;e.exports=r},577:(e,t,n)=>{var r=n(852)(n(5639),"WeakMap");e.exports=r},4963:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},4636:(e,t,n)=>{var r=n(2545),i=n(5694),o=n(1469),a=n(4144),s=n(5776),u=n(6719),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),f=!n&&!l&&a(e),d=!n&&!l&&!f&&u(e),h=n||l||f||d,p=h?r(e.length,String):[],v=p.length;for(var y in e)!t&&!c.call(e,y)||h&&("length"==y||f&&("offset"==y||"parent"==y)||d&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,v))||p.push(y);return p}},9932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},2488:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},2908:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},8470:(e,t,n)=>{var r=n(7813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1078:(e,t,n)=>{var r=n(2488),i=n(7285);e.exports=function e(t,n,o,a,s){var u=-1,c=t.length;for(o||(o=i),s||(s=[]);++u<c;){var l=t[u];n>0&&o(l)?n>1?e(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}},7786:(e,t,n)=>{var r=n(1811),i=n(327);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},8866:(e,t,n)=>{var r=n(2488),i=n(1469);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},4239:(e,t,n)=>{var r=n(2705),i=n(9607),o=n(2333),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},9454:(e,t,n)=>{var r=n(4239),i=n(7005);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},939:(e,t,n)=>{var r=n(2492),i=n(7005);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},2492:(e,t,n)=>{var r=n(6384),i=n(7114),o=n(8351),a=n(6096),s=n(4160),u=n(1469),c=n(4144),l=n(6719),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,y,g){var m=u(e),b=u(t),w=m?d:s(e),S=b?d:s(t),E=(w=w==f?h:w)==h,_=(S=S==f?h:S)==h,x=w==S;if(x&&c(e)){if(!c(t))return!1;m=!0,E=!1}if(x&&!E)return g||(g=new r),m||l(e)?i(e,t,n,v,y,g):o(e,t,w,n,v,y,g);if(!(1&n)){var A=E&&p.call(e,"__wrapped__"),T=_&&p.call(t,"__wrapped__");if(A||T){var C=A?e.value():e,I=T?t.value():t;return g||(g=new r),y(C,I,n,v,g)}}return!!x&&(g||(g=new r),a(e,t,n,v,y,g))}},8458:(e,t,n)=>{var r=n(3560),i=n(5346),o=n(3218),a=n(346),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},8749:(e,t,n)=>{var r=n(4239),i=n(1780),o=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},280:(e,t,n)=>{var r=n(7360),i=n(6916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},2545:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},531:(e,t,n)=>{var r=n(2705),i=n(9932),o=n(1469),a=n(3448),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},4757:e=>{e.exports=function(e,t){return e.has(t)}},1811:(e,t,n)=>{var r=n(1469),i=n(5403),o=n(5514),a=n(9833);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},4429:(e,t,n)=>{var r=n(5639)["__core-js_shared__"];e.exports=r},7114:(e,t,n)=>{var r=n(8668),i=n(2908),o=n(4757);e.exports=function(e,t,n,a,s,u){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var d=u.get(e),h=u.get(t);if(d&&h)return d==t&&h==e;var p=-1,v=!0,y=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var g=e[p],m=t[p];if(a)var b=c?a(m,g,p,t,e,u):a(g,m,p,e,t,u);if(void 0!==b){if(b)continue;v=!1;break}if(y){if(!i(t,(function(e,t){if(!o(y,t)&&(g===e||s(g,e,n,a,u)))return y.push(t)}))){v=!1;break}}else if(g!==m&&!s(g,m,n,a,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},8351:(e,t,n)=>{var r=n(2705),i=n(1149),o=n(7813),a=n(7114),s=n(8776),u=n(1814),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=u),e.size!=t.size&&!p)return!1;var v=d.get(e);if(v)return v==t;r|=2,d.set(e,t);var y=a(h(e),h(t),r,c,f,d);return d.delete(e),y;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},6096:(e,t,n)=>{var r=n(8234),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var f=l;f--;){var d=c[f];if(!(u?d in t:i.call(t,d)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var v=!0;s.set(e,t),s.set(t,e);for(var y=u;++f<l;){var g=e[d=c[f]],m=t[d];if(o)var b=u?o(m,g,d,t,e,s):o(g,m,d,e,t,s);if(!(void 0===b?g===m||a(g,m,n,o,s):b)){v=!1;break}y||(y="constructor"==d)}if(v&&!y){var w=e.constructor,S=t.constructor;w==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof S&&S instanceof S||(v=!1)}return s.delete(e),s.delete(t),v}},1957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8234:(e,t,n)=>{var r=n(8866),i=n(9551),o=n(3674);e.exports=function(e){return r(e,o,i)}},5050:(e,t,n)=>{var r=n(7019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},852:(e,t,n)=>{var r=n(8458),i=n(7801);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},9607:(e,t,n)=>{var r=n(2705),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},9551:(e,t,n)=>{var r=n(4963),i=n(479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},4160:(e,t,n)=>{var r=n(8552),i=n(7071),o=n(3818),a=n(8525),s=n(577),u=n(4239),c=n(346),l="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",v=c(r),y=c(i),g=c(o),m=c(a),b=c(s),w=u;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=l||o&&w(o.resolve())!=f||a&&w(new a)!=d||s&&w(new s)!=h)&&(w=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case y:return l;case g:return f;case m:return d;case b:return h}return t}),e.exports=w},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1789:(e,t,n)=>{var r=n(4536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},1327:(e,t,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},1866:(e,t,n)=>{var r=n(4536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},7285:(e,t,n)=>{var r=n(2705),i=n(5694),o=n(1469),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5403:(e,t,n)=>{var r=n(1469),i=n(3448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,n)=>{var r,i=n(4429),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},7360:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,n)=>{var r=n(8470),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},2117:(e,t,n)=>{var r=n(8470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7518:(e,t,n)=>{var r=n(8470);e.exports=function(e){return r(this.__data__,e)>-1}},4705:(e,t,n)=>{var r=n(8470);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4785:(e,t,n)=>{var r=n(1989),i=n(8407),o=n(7071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},1285:(e,t,n)=>{var r=n(5050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).get(e)}},9916:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).has(e)}},5265:(e,t,n)=>{var r=n(5050);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4523:(e,t,n)=>{var r=n(8306);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},4536:(e,t,n)=>{var r=n(852)(Object,"create");e.exports=r},6916:(e,t,n)=>{var r=n(5569)(Object.keys,Object);e.exports=r},1167:(e,t,n)=>{e=n.nmd(e);var r=n(1957),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5639:(e,t,n)=>{var r=n(1957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},7465:(e,t,n)=>{var r=n(8407);e.exports=function(){this.__data__=new r,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,n)=>{var r=n(8407),i=n(7071),o=n(3369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},5514:(e,t,n)=>{var r=n(4523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},327:(e,t,n)=>{var r=n(3448);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5564:(e,t,n)=>{var r=n(1078);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},7361:(e,t,n)=>{var r=n(7786);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},5694:(e,t,n)=>{var r=n(9454),i=n(7005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,n)=>{var r=n(3560),i=n(1780);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},4144:(e,t,n)=>{e=n.nmd(e);var r=n(5639),i=n(5062),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},8367:(e,t,n)=>{var r=n(280),i=n(4160),o=n(5694),a=n(1469),s=n(8612),u=n(4144),c=n(7360),l=n(6719),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||l(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},8446:(e,t,n)=>{var r=n(939);e.exports=function(e,t){return r(e,t)}},3560:(e,t,n)=>{var r=n(4239),i=n(3218);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},3448:(e,t,n)=>{var r=n(4239),i=n(7005);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},6719:(e,t,n)=>{var r=n(8749),i=n(1717),o=n(1167),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},3674:(e,t,n)=>{var r=n(4636),i=n(280),o=n(8612);e.exports=function(e){return o(e)?r(e):i(e)}},8306:(e,t,n)=>{var r=n(3369);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},308:e=>{e.exports=function(){}},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},9833:(e,t,n)=>{var r=n(531);e.exports=function(e){return null==e?"":r(e)}},6900:e=>{"use strict";const t=e=>"object"==typeof e&&null!==e,n=Symbol("skip"),r=e=>t(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),i=(e,t,o,a=new WeakMap)=>{if(o={deep:!1,target:{},...o},a.has(e))return a.get(e);a.set(e,o.target);const{target:s}=o;delete o.target;const u=e=>e.map((e=>r(e)?i(e,t,o,a):e));if(Array.isArray(e))return u(e);for(const[c,l]of Object.entries(e)){const f=t(c,l,e);if(f===n)continue;let[d,h,{shouldRecurse:p=!0}={}]=f;"__proto__"!==d&&(o.deep&&p&&r(h)&&(h=Array.isArray(h)?u(h):i(h,t,o,a)),s[d]=h)}return s};e.exports=(e,n,r)=>{if(!t(e))throw new TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return i(e,n,r)},e.exports.mapObjectSkip=n},6675:(e,t,n)=>{var r=n(4993),i=n(113),o=n(3801),a=n(650);function s(e,t,n){if(arguments.length<2&&(n=e,e=null,t=null),this.capacity=n,"number"!=typeof this.capacity||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var r=o.getPointerArray(n);this.forward=new r(n),this.backward=new r(n),this.K="function"==typeof e?new e(n):new Array(n),this.V="function"==typeof t?new t(n):new Array(n),this.size=0,this.head=0,this.tail=0,this.items={}}s.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}},s.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var n=this.backward[e],r=this.forward[e];return this.tail===e?this.tail=n:this.backward[r]=n,this.forward[n]=r,this.backward[t]=e,this.head=e,this.forward[e]=t,this},s.prototype.set=function(e,t){var n=this.items[e];if(void 0!==n)return this.splayOnTop(n),void(this.V[n]=t);this.size<this.capacity?n=this.size++:(n=this.tail,this.tail=this.backward[n],delete this.items[this.K[n]]),this.items[e]=n,this.K[n]=e,this.V[n]=t,this.forward[n]=this.head,this.backward[this.head]=n,this.head=n},s.prototype.setpop=function(e,t){var n=null,r=null,i=this.items[e];return void 0!==i?(this.splayOnTop(i),n=this.V[i],this.V[i]=t,{evicted:!1,key:e,value:n}):(this.size<this.capacity?i=this.size++:(i=this.tail,this.tail=this.backward[i],n=this.V[i],r=this.K[i],delete this.items[this.K[i]]),this.items[e]=i,this.K[i]=e,this.V[i]=t,this.forward[i]=this.head,this.backward[this.head]=i,this.head=i,r?{evicted:!0,key:r,value:n}:null)},s.prototype.has=function(e){return e in this.items},s.prototype.get=function(e){var t=this.items[e];if(void 0!==t)return this.splayOnTop(t),this.V[t]},s.prototype.peek=function(e){var t=this.items[e];if(void 0!==t)return this.V[t]},s.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var n=0,r=this.size,i=this.head,o=this.K,a=this.V,s=this.forward;n<r;)e.call(t,a[i],o[i],this),i=s[i],n++},s.prototype.keys=function(){var e=0,t=this.size,n=this.head,i=this.K,o=this.forward;return new r((function(){if(e>=t)return{done:!0};var r=i[n];return++e<t&&(n=o[n]),{done:!1,value:r}}))},s.prototype.values=function(){var e=0,t=this.size,n=this.head,i=this.V,o=this.forward;return new r((function(){if(e>=t)return{done:!0};var r=i[n];return++e<t&&(n=o[n]),{done:!1,value:r}}))},s.prototype.entries=function(){var e=0,t=this.size,n=this.head,i=this.K,o=this.V,a=this.forward;return new r((function(){if(e>=t)return{done:!0};var r=i[n],s=o[n];return++e<t&&(n=a[n]),{done:!1,value:[r,s]}}))},"undefined"!=typeof Symbol&&(s.prototype[Symbol.iterator]=s.prototype.entries),s.prototype.inspect=function(){for(var e,t=new Map,n=this.entries();!(e=n.next()).done;)t.set(e.value[0],e.value[1]);return Object.defineProperty(t,"constructor",{value:s,enumerable:!1}),t},"undefined"!=typeof Symbol&&(s.prototype[Symbol.for("nodejs.util.inspect.custom")]=s.prototype.inspect),s.from=function(e,t,n,r){if(arguments.length<2){if("number"!=typeof(r=a.guessLength(e)))throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else 2===arguments.length&&(r=t,t=null,n=null);var o=new s(t,n,r);return i(e,(function(e,t){o.set(t,e)})),o},e.exports=s},650:(e,t,n)=>{var r=n(113),i=n(3801);function o(e){return"number"==typeof e.length?e.length:"number"==typeof e.size?e.size:void 0}t.isArrayLike=function(e){return Array.isArray(e)||i.isTypedArray(e)},t.guessLength=o,t.toArray=function(e){var t=o(e),n="number"==typeof t?new Array(t):[],i=0;return r(e,(function(e){n[i++]=e})),n},t.toArrayWithIndices=function(e){var t=o(e),n="number"==typeof t?i.getPointerArray(t):Array,a="number"==typeof t?new Array(t):[],s="number"==typeof t?new n(t):[],u=0;return r(e,(function(e){a[u]=e,s[u]=u++})),[a,s]}},3801:(e,t)=>{var n=Math.pow(2,8)-1,r=Math.pow(2,16)-1,i=Math.pow(2,32)-1,o=Math.pow(2,7)-1,a=Math.pow(2,15)-1,s=Math.pow(2,31)-1;t.getPointerArray=function(e){var t=e-1;return t<=n?Uint8Array:t<=r?Uint16Array:t<=i?Uint32Array:Float64Array},t.getSignedPointerArray=function(e){var t=e-1;return t<=o?Int8Array:t<=a?Int16Array:t<=s?Int32Array:Float64Array},t.getNumberType=function(e){return e===(0|e)?-1===Math.sign(e)?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var u={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};t.getMinimalRepresentation=function(e,n){var r,i,o,a,s,c=null,l=0;for(a=0,s=e.length;a<s;a++)o=n?n(e[a]):e[a],i=t.getNumberType(o),(r=u[i.name])>l&&(l=r,c=i);return c},t.isTypedArray=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(e)},t.concat=function(){var e,t,n,r=0;for(e=0,n=arguments.length;e<n;e++)r+=arguments[e].length;var i=new arguments[0].constructor(r);for(e=0,t=0;e<n;e++)i.set(arguments[e],t),t+=arguments[e].length;return i},t.indices=function(e){for(var n=new(t.getPointerArray(e))(e),r=0;r<e;r++)n[r]=r;return n}},113:e=>{var t="undefined"!=typeof ArrayBuffer,n="undefined"!=typeof Symbol;function r(e,r){var i,o,a,s,u;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof r)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||t&&ArrayBuffer.isView(e)||"string"==typeof e||"[object Arguments]"===e.toString())for(a=0,s=e.length;a<s;a++)r(e[a],a);else if("function"!=typeof e.forEach)if(n&&Symbol.iterator in e&&"function"!=typeof e.next&&(e=e[Symbol.iterator]()),"function"!=typeof e.next)for(o in e)e.hasOwnProperty(o)&&r(e[o],o);else for(i=e,a=0;!0!==(u=i.next()).done;)r(u.value,a),a++;else e.forEach(r)}r.forEachWithNullKeys=function(e,r){var i,o,a,s,u;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if("function"!=typeof r)throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||t&&ArrayBuffer.isView(e)||"string"==typeof e||"[object Arguments]"===e.toString())for(a=0,s=e.length;a<s;a++)r(e[a],null);else if(e instanceof Set)e.forEach((function(e){r(e,null)}));else if("function"!=typeof e.forEach)if(n&&Symbol.iterator in e&&"function"!=typeof e.next&&(e=e[Symbol.iterator]()),"function"!=typeof e.next)for(o in e)e.hasOwnProperty(o)&&r(e[o],o);else for(i=e,a=0;!0!==(u=i.next()).done;)r(u.value,null),a++;else e.forEach(r)},e.exports=r},4993:e=>{function t(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}t.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e},"undefined"!=typeof Symbol&&(t.prototype[Symbol.iterator]=function(){return this}),t.of=function(){var e=arguments,n=e.length,r=0;return new t((function(){return r>=n?{done:!0}:{done:!1,value:e[r++]}}))},t.empty=function(){var e=new t(null);return e.done=!0,e},t.is=function(e){return e instanceof t||"object"==typeof e&&null!==e&&"function"==typeof e.next},e.exports=t},4971:function(e,t,n){var r;e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var a,s=2147483647,u=36,c=/^xn--/,l=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,p=String.fromCharCode;function v(e){throw RangeError(d[e])}function y(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+y((e=e.replace(f,".")).split("."),t).join(".")}function m(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function b(e){return y(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+p(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function S(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;r+=u)e=h(e/35);return h(r+36*e/(e+38))}function E(e){var t,n,r,i,o,a,c,l,f,d,p,y=[],g=e.length,m=0,w=128,E=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&v("not-basic"),y.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=m,a=1,c=u;i>=g&&v("invalid-input"),((l=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:u)>=u||l>h((s-m)/a))&&v("overflow"),m+=l*a,!(l<(f=c<=E?1:c>=E+26?26:c-E));c+=u)a>h(s/(d=u-f))&&v("overflow"),a*=d;E=S(m-o,t=y.length+1,0==o),h(m/t)>s-w&&v("overflow"),w+=h(m/t),m%=t,y.splice(m++,0,w)}return b(y)}function _(e){var t,n,r,i,o,a,c,l,f,d,y,g,b,E,_,x=[];for(g=(e=m(e)).length,t=128,n=0,o=72,a=0;a<g;++a)(y=e[a])<128&&x.push(p(y));for(r=i=x.length,i&&x.push("-");r<g;){for(c=s,a=0;a<g;++a)(y=e[a])>=t&&y<c&&(c=y);for(c-t>h((s-n)/(b=r+1))&&v("overflow"),n+=(c-t)*b,t=c,a=0;a<g;++a)if((y=e[a])<t&&++n>s&&v("overflow"),y==t){for(l=n,f=u;!(l<(d=f<=o?1:f>=o+26?26:f-o));f+=u)_=l-d,E=u-d,x.push(p(w(d+_%E,0))),l=h(_/E);x.push(p(w(l,0))),o=S(n,b,r==i),n=0,++r}++n,++t}return x.join("")}a={version:"1.3.2",ucs2:{decode:m,encode:b},decode:E,encode:_,toASCII:function(e){return g(e,(function(e){return l.test(e)?"xn--"+_(e):e}))},toUnicode:function(e){return g(e,(function(e){return c.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},2587:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(n);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var l,f,d,h,p=e[c].replace(a,"%20"),v=p.indexOf(r);v>=0?(l=p.substr(0,v),f=p.substr(v+1)):(l=p,f=""),d=decodeURIComponent(l),h=decodeURIComponent(f),t(o,d)?Array.isArray(o[d])?o[d].push(h):o[d]=[o[d],h]:o[d]=h}return o}},2361:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},7673:(e,t,n)=>{"use strict";t.decode=t.parse=n(2587),t.encode=t.stringify=n(2361)},1269:e=>{"use strict";class t{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return this._size+e}}e.exports=t},4153:e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e,i={}){if(i=Object.assign({},r,i),!e||"string"!=typeof e)return e;let o=e.trim();if(void 0!==i.skipLike&&i.skipLike.test(o))return e;if(i.hex&&t.test(o))return Number.parseInt(o,16);{const t=n.exec(o);if(t){const n=t[1],r=t[2];let s=(a=t[3])&&-1!==a.indexOf(".")?("."===(a=a.replace(/0+$/,""))?a="0":"."===a[0]?a="0"+a:"."===a[a.length-1]&&(a=a.substr(0,a.length-1)),a):a;const u=t[4]||t[6];if(!i.leadingZeros&&r.length>0&&n&&"."!==o[2])return e;if(!i.leadingZeros&&r.length>0&&!n&&"."!==o[1])return e;{const t=Number(o),a=""+t;return-1!==a.search(/[eE]/)||u?i.eNotation?t:e:-1!==o.indexOf(".")?"0"===a&&""===s||a===s||n&&a==="-"+s?t:e:r?s===a||n+s===a?t:e:o===a||o===n+a?t:e}}return e}var a}},4788:()=>{},5869:(e,t,n)=>{"use strict";function r(e,t){return t=t||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],a=[],s={},u=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),n(u())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)}))}n.r(t),n.d(t,{default:()=>r})},8575:(e,t,n)=>{"use strict";var r=n(4971),i=n(2502);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=b,t.WU=function(e){return i.isString(e)&&(e=b(e)),e instanceof o?e.format():o.prototype.format.call(e)};var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),d=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=n(7673);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var w=u.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?m.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var S=a.exec(b);if(S){var E=(S=S[0]).toLowerCase();this.protocol=E,b=b.substr(S.length)}if(n||S||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===b.substr(0,2);!_||S&&y[S]||(b=b.substr(2),this.slashes=!0)}if(!y[S]&&(_||S&&!g[S])){for(var x,A,T=-1,C=0;C<d.length;C++)-1!==(I=b.indexOf(d[C]))&&(-1===T||I<T)&&(T=I);for(-1!==(A=-1===T?b.lastIndexOf("@"):b.lastIndexOf("@",T))&&(x=b.slice(0,A),b=b.slice(A+1),this.auth=decodeURIComponent(x)),T=-1,C=0;C<f.length;C++){var I;-1!==(I=b.indexOf(f[C]))&&(-1===T||I<T)&&(T=I)}-1===T&&(T=b.length),this.host=b.slice(0,T),b=b.slice(T),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var O=this.hostname.split(/\./),k=(C=0,O.length);C<k;C++){var R=O[C];if(R&&!R.match(h)){for(var L="",N=0,D=R.length;N<D;N++)R.charCodeAt(N)>127?L+="x":L+=R[N];if(!L.match(h)){var M=O.slice(0,C),j=O.slice(C+1),U=R.match(p);U&&(M.push(U[1]),j.unshift(U[2])),j.length&&(b="/"+j.join(".")+b),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+F,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[E])for(C=0,k=l.length;C<k;C++){var B=l[C];if(-1!==b.indexOf(B)){var q=encodeURIComponent(B);q===B&&(q=escape(B)),b=b.split(B).join(q)}}var K=b.indexOf("#");-1!==K&&(this.hash=b.substr(K),b=b.slice(0,K));var H=b.indexOf("?");if(-1!==H?(this.search=b.substr(H),this.query=b.substr(H+1),t&&(this.query=m.parse(this.query)),b=b.slice(0,H)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var G=this.search||"";this.path=F+G}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=m.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=e[l])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var h=f[d];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||y[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",m=n.search||"";n.path=v+m}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),S=w||b||n.host&&e.pathname,E=S,_=n.pathname&&n.pathname.split("/")||[],x=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(x&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),S=S&&(""===p[0]||""===_[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,_=p;else if(p.length)_||(_=[]),_.pop(),_=_.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search))return x&&(n.hostname=n.host=_.shift(),(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift())),n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var A=_.slice(-1)[0],T=(n.host||e.host||_.length>1)&&("."===A||".."===A)||""===A,C=0,I=_.length;I>=0;I--)"."===(A=_[I])?_.splice(I,1):".."===A?(_.splice(I,1),C++):C&&(_.splice(I,1),C--);if(!S&&!E)for(;C--;C)_.unshift("..");!S||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),T&&"/"!==_.join("/").substr(-1)&&_.push("");var P,O=""===_[0]||_[0]&&"/"===_[0].charAt(0);return x&&(n.hostname=n.host=O?"":_.length?_.shift():"",(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift())),(S=S||n.host&&_.length)&&!O&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},2502:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},4586:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>l});var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=function(e){return"string"==typeof e&&a.test(e)};for(var u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));const l=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n}(r)}},9329:(e,t,n)=>{e.exports=n(516).Observable},516:(e,t)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}t.Observable=void 0;var o=function(){return"function"==typeof Symbol},a=function(e){return o()&&Boolean(Symbol[e])},s=function(e){return a(e)?Symbol[e]:"@@"+e};o()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var u=s("iterator"),c=s("observable"),l=s("species");function f(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function d(e){var t=e.constructor;return void 0!==t&&null===(t=t[l])&&(t=void 0),void 0!==t?t:E}function h(e){return e instanceof E}function p(e){p.log?p.log(e):setTimeout((function(){throw e}))}function v(e){Promise.resolve().then((function(){try{e()}catch(e){p(e)}}))}function y(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=f(t,"unsubscribe");n&&n.call(t)}}catch(e){p(e)}}function g(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function m(e,t,n){e._state="running";var r=e._observer;try{var i=f(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(g(e),!i)throw n;i.call(r,n);break;case"complete":g(e),i&&i.call(r)}}catch(e){p(e)}"closed"===e._state?y(e):"running"===e._state&&(e._state="ready")}function b(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void v((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(m(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void m(e,t,n);e._queue.push({type:t,value:n})}}var w=function(){function e(t,r){n(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new S(this);try{this._cleanup=r.call(void 0,i)}catch(e){i.error(e)}"initializing"===this._state&&(this._state="ready")}return i(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(g(this),y(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),S=function(){function e(t){n(this,e),this._subscription=t}return i(e,[{key:"next",value:function(e){b(this._subscription,"next",e)}},{key:"error",value:function(e){b(this._subscription,"error",e)}},{key:"complete",value:function(){b(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),E=function(){function e(t){if(n(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return i(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new w(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(d(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(d(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=d(this),r=arguments.length>1,i=!1,o=arguments[1],a=o;return new n((function(n){return t.subscribe({next:function(t){var o=!i;if(i=!0,!o||r)try{a=e(a,t)}catch(e){return n.error(e)}else a=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=d(this);return new i((function(t){var r,o=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=d(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),a()}});i.push(o)},error:function(e){r.error(e)},complete:function(){a()}});function a(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))}},{key:c,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=f(t,c);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return h(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(a("iterator")&&(r=f(t,u)))return new n((function(e){v((function(){if(!e.closed){var n=!0,i=!1,o=void 0;try{for(var a,s=r.call(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if(e.next(u),e.closed)return}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){v((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="function"==typeof this?this:e;return new i((function(e){v((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:l,get:function(){return this}}]),e}();t.Observable=E,o()&&Object.defineProperty(E,Symbol("extensions"),{value:{symbol:c,hostReportError:p},configurable:!0})},9393:(e,t,n)=>{"use strict";var r,i,o=n(9623);function a(e,t,n){if(e._observer)s(e._observer,t,n);else if(e._observers){var r=[];e._observers.forEach((function(e){r.push(e)})),r.forEach((function(e){s(e,t,n)}))}}function s(e,t,n){if(!e.closed)switch(t){case"next":return e.next(n);case"error":return e.error(n);case"complete":return e.complete(n)}}function u(e){return e._observer||e._observers&&e._observers.size>0}function c(e){var t=this;this._observer=null,this._observers=null,this._observable=new o((function(n){return function(e,t){!u(e)&&t&&t.start&&t.start()}(t,e),function(e,t){e._observers?e._observers.add(t):e._observer?(e._observers=new Set,e._observers.add(e._observer),e._observers.add(t),e._observer=null):e._observer=t}(t,n),function(){!function(e,t){e._observers?e._observers.delete(t):e._observer===t&&(e._observer=null)}(t,n),function(e,t){!u(e)&&t&&t.pause&&t.pause()}(t,e)}}))}r=c.prototype,i={get observable(){return this._observable},get observed(){return u(this)},next:function(e){a(this,"next",e)},error:function(e){a(this,"error",e)},complete:function(e){a(this,"complete",e)}},Object.keys(i).forEach((function(e){var t=Object.getOwnPropertyDescriptor(i,e);t.enumerable=!1,Object.defineProperty(r,e,t)})),e.exports=c},9623:(e,t,n)=>{e.exports=n(896).Observable},896:(e,t,n)=>{"use strict";e=n.nmd(e),function(e,t){function n(e){return"function"==typeof Symbol&&Boolean(Symbol[e])}function r(e){return n(e)?Symbol[e]:"@@"+e}function i(e){setTimeout((function(){throw e}))}function o(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function a(e){var t=e.constructor;return void 0!==t&&null===(t=t[r("species")])&&(t=void 0),void 0!==t?t:d}function s(e,t){Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);r.enumerable=!1,Object.defineProperty(e,n,r)}))}function u(e){var t=e._cleanup;if(t){e._cleanup=void 0;try{t()}catch(e){i(e)}}}function c(e){return void 0===e._observer}function l(e,t){if(Object(e)!==e)throw new TypeError("Observer must be an object");this._cleanup=void 0,this._observer=e;try{var n=o(e,"start");n&&n.call(e,this)}catch(e){i(e)}if(!c(this)){e=new f(this);try{var r=t.call(void 0,e);if(null!=r){if("function"==typeof r.unsubscribe)a=r,r=function(){a.unsubscribe()};else if("function"!=typeof r)throw new TypeError(r+" is not a function");this._cleanup=r}}catch(t){return void e.error(t)}c(this)&&u(this)}var a}function f(e){this._subscription=e}function d(e){if(!(this instanceof d))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}"function"!=typeof Symbol||Symbol.observable||(Symbol.observable=Symbol("observable")),s(l.prototype={},{get closed(){return c(this)},unsubscribe:function(){var e;c(e=this)||(e._observer=void 0,u(e))}}),s(f.prototype={},{get closed(){return c(this._subscription)},next:function(e){var t=this._subscription;if(!c(t)){var n=t._observer;try{var r=o(n,"next");r&&r.call(n,e)}catch(e){i(e)}}},error:function(e){var t=this._subscription;if(c(t))i(e);else{var n=t._observer;t._observer=void 0;try{var r=o(n,"error");if(!r)throw e;r.call(n,e)}catch(e){i(e)}u(t)}},complete:function(){var e=this._subscription;if(!c(e)){var t=e._observer;e._observer=void 0;try{var n=o(t,"complete");n&&n.call(t)}catch(e){i(e)}u(e)}}}),s(d.prototype,{subscribe:function(e){for(var t=[],n=1;n<arguments.length;++n)t.push(arguments[n]);return"function"==typeof e?e={next:e,error:t[0],complete:t[1]}:"object"==typeof e&&null!==e||(e={}),new l(e,this._subscriber)},forEach:function(e){var t=this;return new Promise((function(n,r){if("function"!=typeof e)return Promise.reject(new TypeError(e+" is not a function"));t.subscribe({_subscription:null,start:function(e){if(Object(e)!==e)throw new TypeError(e+" is not an object");this._subscription=e},next:function(t){var n=this._subscription;if(!n.closed)try{e(t)}catch(e){r(e),n.unsubscribe()}},error:r,complete:n})}))},map:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(a(this))((function(n){return t.subscribe({next:function(t){if(!n.closed){try{t=e(t)}catch(e){return n.error(e)}n.next(t)}},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},filter:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(a(this))((function(n){return t.subscribe({next:function(t){if(!n.closed){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)}},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},reduce:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=a(this),r=arguments.length>1,i=!1,o=arguments[1];return new n((function(n){return t.subscribe({next:function(t){if(!n.closed){var a=!i;if(i=!0,!a||r)try{o=e(o,t)}catch(e){return n.error(e)}else o=t}},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(o),n.complete()}})}))}}),Object.defineProperty(d.prototype,r("observable"),{value:function(){return this},writable:!0,configurable:!0}),s(d,{from:function(e){var t="function"==typeof this?this:d;if(null==e)throw new TypeError(e+" is not an object");var i=o(e,r("observable"));if(i){var a=i.call(e);if(Object(a)!==a)throw new TypeError(a+" is not an object");return a.constructor===t?a:new t((function(e){return a.subscribe(e)}))}if(n("iterator")&&(i=o(e,r("iterator"))))return new t((function(t){for(var n,r=i.call(e)[Symbol.iterator]();!(n=r.next()).done;){var o=n.value;if(t.next(o),t.closed)return}t.complete()}));if(Array.isArray(e))return new t((function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}));throw new TypeError(e+" is not observable")},of:function(){for(var e=[],t=0;t<arguments.length;++t)e.push(arguments[t]);return new("function"==typeof this?this:d)((function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}))}}),Object.defineProperty(d,r("species"),{get:function(){return this},configurable:!0}),Object.defineProperty(d,"extensions",{value:{observableSymbol:r("observable"),setHostReportError:function(e){i=e}}}),e.Observable=d}(t)},6249:()=>{},4582:function(e){e.exports=function(){"use strict";function e(e){return e+.5|0}const t=(e,t,n)=>Math.max(Math.min(e,n),t);function n(n){return t(e(2.55*n),0,255)}function r(n){return t(e(255*n),0,255)}function i(n){return t(e(n/2.55)/100,0,1)}function o(n){return t(e(100*n),0,100)}const a={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},s=[..."0123456789ABCDEF"],u=e=>s[15&e],c=e=>s[(240&e)>>4]+s[15&e],l=e=>(240&e)>>4==(15&e);function f(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*a[e[1]],g:255&17*a[e[2]],b:255&17*a[e[3]],a:5===n?17*a[e[4]]:255}:7!==n&&9!==n||(t={r:a[e[1]]<<4|a[e[2]],g:a[e[3]]<<4|a[e[4]],b:a[e[5]]<<4|a[e[6]],a:9===n?a[e[7]]<<4|a[e[8]]:255})),t}function d(e){var t=(e=>l(e.r)&&l(e.g)&&l(e.b)&&l(e.a))(e)?u:c;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const h=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function p(e,t,n){const r=t*Math.min(n,1-n),i=(t,i=(t+e/30)%12)=>n-r*Math.max(Math.min(i-3,9-i,1),-1);return[i(0),i(8),i(4)]}function v(e,t,n){const r=(r,i=(r+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function y(e,t,n){const r=p(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function g(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),o=Math.min(t,n,r),a=(i+o)/2;let s,u,c;return i!==o&&(c=i-o,u=a>.5?c/(2-i-o):c/(i+o),s=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,i),s=60*s+.5),[0|s,u||0,a]}function m(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(r)}function b(e,t,n){return m(p,e,t,n)}function w(e,t,n){return m(y,e,t,n)}function S(e,t,n){return m(v,e,t,n)}function E(e){return(e%360+360)%360}function _(e){const t=h.exec(e);let i,o=255;if(!t)return;t[5]!==i&&(o=t[6]?n(+t[5]):r(+t[5]));const a=E(+t[2]),s=+t[3]/100,u=+t[4]/100;return i="hwb"===t[1]?w(a,s,u):"hsv"===t[1]?S(a,s,u):b(a,s,u),{r:i[0],g:i[1],b:i[2],a:o}}function x(e,t){var n=g(e);n[0]=E(n[0]+t),n=b(n),e.r=n[0],e.g=n[1],e.b=n[2]}function A(e){if(!e)return;const t=g(e),n=t[0],r=o(t[1]),a=o(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${a}%, ${i(e.a)})`:`hsl(${n}, ${r}%, ${a}%)`}const T={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},C={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let I;function P(e){I||(I=function(){const e={},t=Object.keys(C),n=Object.keys(T);let r,i,o,a,s;for(r=0;r<t.length;r++){for(a=s=t[r],i=0;i<n.length;i++)o=n[i],s=s.replace(o,T[o]);o=parseInt(C[a],16),e[s]=[o>>16&255,o>>8&255,255&o]}return e}(),I.transparent=[0,0,0,0]);const t=I[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const O=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function k(e){const r=O.exec(e);let i,o,a,s=255;if(r){if(r[7]!==i){const e=+r[7];s=r[8]?n(e):t(255*e,0,255)}return i=+r[1],o=+r[3],a=+r[5],i=255&(r[2]?n(i):t(i,0,255)),o=255&(r[4]?n(o):t(o,0,255)),a=255&(r[6]?n(a):t(a,0,255)),{r:i,g:o,b:a,a:s}}}function R(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${i(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const L=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,N=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function D(e,t,n){if(e){let r=g(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=b(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function M(e,t){return e?Object.assign(t||{},e):e}function j(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=r(e[3]))):(t=M(e,{r:0,g:0,b:0,a:1})).a=r(t.a),t}class U{constructor(e){if(e instanceof U)return e;const t=typeof e;let n;var r;"object"===t?n=j(e):"string"===t&&(n=f(e)||P(e)||("r"===(r=e).charAt(0)?k(r):_(r))),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=M(this._rgb);return e&&(e.a=i(e.a)),e}set rgb(e){this._rgb=j(e)}rgbString(){return this._valid?R(this._rgb):void 0}hexString(){return this._valid?d(this._rgb):void 0}hslString(){return this._valid?A(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let i;const o=t===i?.5:t,a=2*o-1,s=n.a-r.a,u=((a*s==-1?a:(a+s)/(1+a*s))+1)/2;i=1-u,n.r=255&u*n.r+i*r.r+.5,n.g=255&u*n.g+i*r.g+.5,n.b=255&u*n.b+i*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const o=N(i(e.r)),a=N(i(e.g)),s=N(i(e.b));return{r:r(L(o+n*(N(i(t.r))-o))),g:r(L(a+n*(N(i(t.g))-a))),b:r(L(s+n*(N(i(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new U(this.rgb)}alpha(e){return this._rgb.a=r(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const t=this._rgb,n=e(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=n,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return D(this._rgb,2,e),this}darken(e){return D(this._rgb,2,-e),this}saturate(e){return D(this._rgb,1,e),this}desaturate(e){return D(this._rgb,1,-e),this}rotate(e){return x(this._rgb,e),this}}function F(e){return new U(e)}var z=Object.freeze({__proto__:null,Color:U,default:F,round:e,lim:t,p2b:n,b2p:function(n){return t(e(n/2.55),0,100)},n2b:r,b2n:i,n2p:o,hexParse:f,hexString:d,rgb2hsl:g,hsl2rgb:b,hwb2rgb:w,hsv2rgb:S,hueParse:_,rotate:x,hslString:A,nameParse:P,rgbParse:k,rgbString:R});return Object.assign(F,z)}()},5739:(e,t,n)=>{const r=n(5668),{Chart:i,registerables:o}=r;i.register(...o),e.exports=Object.assign(i,r)},5668:(e,t,n)=>{"use strict";var r=n(4197);n(4582);class i{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const i=t.listeners[r],o=t.duration;i.forEach((r=>r({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=r.requestAnimFrame.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(e=Date.now()){let t=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let o,a=i.length-1,s=!1;for(;a>=0;--a)o=i[a],o._active?(o._total>n.duration&&(n.duration=o._total),o.tick(e),s=!0):(i[a]=i[i.length-1],i.pop());s&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=i.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var o=new i;const a="transparent",s={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const i=r.color(e||a),o=i.valid&&r.color(t||a);return o&&o.valid?o.mix(i,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class u{constructor(e,t,n,i){const o=t[n];i=r.resolve([e.to,i,o,e.from]);const a=r.resolve([e.from,o,i]);this._active=!0,this._fn=e.fn||s[e.type||typeof a],this._easing=r.effects[e.easing]||r.effects.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],o=n-this._start,a=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=r.resolve([e.to,t,i,e.from]),this._from=r.resolve([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,i=this._from,o=this._loop,a=this._to;let s;if(this._active=i!==a&&(o||t<n),!this._active)return this._target[r]=a,void this._notify(!0);t<0?this._target[r]=i:(s=t/n%2,s=o&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[r]=this._fn(i,a,s))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let e=0;e<n.length;e++)n[e][t]()}}class c{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!r.isObject(e))return;const t=Object.keys(r.defaults.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((i=>{const o=e[i];if(!r.isObject(o))return;const a={};for(const e of t)a[e]=o[e];(r.isArray(o.properties)&&o.properties||[i]).forEach((e=>{e!==i&&n.has(e)||n.set(e,a)}))}))}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(n)return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;e.options=t}(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let t=0;t<r.length;t++){const i=e[r[t]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),i}_createAnimations(e,t){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let s;for(s=o.length-1;s>=0;--s){const c=o[s];if("$"===c.charAt(0))continue;if("options"===c){r.push(...this._animateOptions(e,t));continue}const l=t[c];let f=i[c];const d=n.get(c);if(f){if(d&&f.active()){f.update(d,l,a);continue}f.cancel()}d&&d.duration?(i[c]=f=new u(d,e,c,l),r.push(f)):e[c]=l}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(o.add(this._chart,n),!0):void 0}}function l(e,t){const n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,o=void 0===n.max?t:0;return{start:r?o:i,end:r?i:o}}function f(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function d(e,t,n,i={}){const o=e.keys,a="single"===i.mode;let s,u,c,l;if(null!==t){for(s=0,u=o.length;s<u;++s){if(c=+o[s],c===n){if(i.all)continue;break}l=e.values[c],r.isNumberFinite(l)&&(a||0===t||r.sign(t)===r.sign(l))&&(t+=l)}return t}}function h(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function p(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function v(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function y(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:o,vScale:a,index:s}=r,u=o.axis,c=a.axis,l=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(o,a,r),f=t.length;let d;for(let e=0;e<f;++e){const n=t[e],{[u]:o,[c]:f}=n;d=(n._stacks||(n._stacks={}))[c]=p(i,l,o),d[s]=f,d._top=v(d,a,!0,r.type),d._bottom=v(d,a,!1,r.type),(d._visualValues||(d._visualValues={}))[s]=f}}function g(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function m(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const b=e=>"reset"===e||"none"===e,w=(e,t)=>t?e:Object.assign({},e);class S{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=h(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&m(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,o=t.xAxisID=r.valueOrDefault(n.xAxisID,g(e,"x")),a=t.yAxisID=r.valueOrDefault(n.yAxisID,g(e,"y")),s=t.rAxisID=r.valueOrDefault(n.rAxisID,g(e,"r")),u=t.indexAxis,c=t.iAxisID=i(u,o,a,s),l=t.vAxisID=i(u,a,o,s);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(l)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&r.unlistenArrayEvents(this._data,this),e._stacked&&m(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(r.isObject(t))this._data=function(e){const t=Object.keys(e),n=new Array(t.length);let r,i,o;for(r=0,i=t.length;r<i;++r)o=t[r],n[r]={x:o,y:e[o]};return n}(t);else if(n!==t){if(n){r.unlistenArrayEvents(n,this);const e=this._cachedMeta;m(e),e._parsed=[]}t&&Object.isExtensible(t)&&r.listenArrayEvents(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=h(t.vScale,t),t.stack!==n.stack&&(r=!0,m(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&y(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:o,_stacked:a}=n,s=o.axis;let u,c,l,f=0===e&&t===i.length||n._sorted,d=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,l=i;else{l=r.isArray(i[e])?this.parseArrayData(n,i,e,t):r.isObject(i[e])?this.parseObjectData(n,i,e,t):this.parsePrimitiveData(n,i,e,t);const o=()=>null===c[s]||d&&c[s]<d[s];for(u=0;u<t;++u)n._parsed[u+e]=c=l[u],f&&(o()&&(f=!1),d=c);n._sorted=f}a&&y(this,l)}parsePrimitiveData(e,t,n,r){const{iScale:i,vScale:o}=e,a=i.axis,s=o.axis,u=i.getLabels(),c=i===o,l=new Array(r);let f,d,h;for(f=0,d=r;f<d;++f)h=f+n,l[f]={[a]:c||i.parse(u[h],h),[s]:o.parse(t[h],h)};return l}parseArrayData(e,t,n,r){const{xScale:i,yScale:o}=e,a=new Array(r);let s,u,c,l;for(s=0,u=r;s<u;++s)c=s+n,l=t[c],a[s]={x:i.parse(l[0],c),y:o.parse(l[1],c)};return a}parseObjectData(e,t,n,i){const{xScale:o,yScale:a}=e,{xAxisKey:s="x",yAxisKey:u="y"}=this._parsing,c=new Array(i);let l,f,d,h;for(l=0,f=i;l<f;++l)d=l+n,h=t[d],c[l]={x:o.parse(r.resolveObjectKey(h,s),d),y:a.parse(r.resolveObjectKey(h,u),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,i=this._cachedMeta,o=t[e.axis];return d({keys:f(r,!0),values:t._stacks[e.axis]._visualValues},o,i.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const i=n[t.axis];let o=null===i?NaN:i;const a=r&&n._stacks[t.axis];r&&a&&(r.values=a,o=d(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,o=n._sorted&&e===n.iScale,a=i.length,s=this._getOtherScale(e),u=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:f(n,!0),values:null})(t,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:l,max:d}=function(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(s);let h,p;function v(){p=i[h];const t=p[s.axis];return!r.isNumberFinite(p[e.axis])||l>t||d<t}for(h=0;h<a&&(v()||(this.updateRangeFromParsed(c,e,p,u),!o));++h);if(o)for(h=a-1;h>=0;--h)if(!v()){this.updateRangeFromParsed(c,e,p,u);break}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,o,a;for(i=0,o=t.length;i<o;++i)a=t[i][e.axis],r.isNumberFinite(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,i,o;return r.isObject(e)?(t=e.top,n=e.right,i=e.bottom,o=e.left):t=n=i=o=e,{top:t,right:n,bottom:i,left:o,disabled:!1===e}}(r.valueOrDefault(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=l(e,n),i=l(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],i=t.chartArea,o=[],a=this._drawStart||0,s=this._drawCount||r.length-a,u=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,i,a,s),c=a;c<a+s;++c){const t=r[c];t.hidden||(t.active&&u?o.push(t):t.draw(e,i))}for(c=0;c<o.length;++c)o[c].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];o=t.$context||(t.$context=function(e,t,n){return r.createContext(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),o.parsed=this.getParsed(e),o.raw=i.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=function(e,t){return r.createContext(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=n,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i="active"===t,o=this._cachedDataOpts,a=e+"-"+t,s=o[a],u=this.enableOptionSharing&&r.defined(n);if(s)return w(s,u);const c=this.chart.config,l=c.datasetElementScopeKeys(this._type,e),f=i?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),l),h=Object.keys(r.defaults.elements[e]),p=c.resolveNamedOptions(d,h,(()=>this.getContext(n,i,t)),f);return p.$shared&&(p.$shared=u,o[a]=Object.freeze(w(p,u))),p}_resolveAnimations(e,t,n){const r=this.chart,i=this._cachedDataOpts,o=`animation-${t}`,a=i[o];if(a)return a;let s;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,t),o=r.getOptionScopes(this.getDataset(),i);s=r.createResolver(o,this.getContext(e,n,t))}const u=new c(r,s&&s.animations);return s&&s._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||b(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:o}}updateElement(e,t,n,r){b(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!b(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[e,t,n]of this._syncList)this[e](t,n);this._syncList=[];const r=n.length,i=t.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t,n=!0){const r=this._cachedMeta,i=r.data,o=e+t;let a;const s=e=>{for(e.length+=t,a=e.length-1;a>=o;a--)e[a]=e[a-t]};for(s(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&s(r._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&m(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function E(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let t=0,r=n.length;t<r;t++)i=i.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=r._arrayUnique(i.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let i,o,a,s,u=t._length;const c=()=>{32767!==a&&-32768!==a&&(r.defined(s)&&(u=Math.min(u,Math.abs(a-s)||u)),s=a)};for(i=0,o=n.length;i<o;++i)a=t.getPixelForValue(n[i]),c();for(s=void 0,i=0,o=t.ticks.length;i<o;++i)a=t.getPixelForTick(i),c();return u}function _(e,t,n,i){return r.isArray(e)?function(e,t,n,r){const i=n.parse(e[0],r),o=n.parse(e[1],r),a=Math.min(i,o),s=Math.max(i,o);let u=a,c=s;Math.abs(a)>Math.abs(s)&&(u=s,c=a),t[n.axis]=c,t._custom={barStart:u,barEnd:c,start:i,end:o,min:a,max:s}}(e,t,n,i):t[n.axis]=n.parse(e,i),t}function x(e,t,n,r){const i=e.iScale,o=e.vScale,a=i.getLabels(),s=i===o,u=[];let c,l,f,d;for(c=n,l=n+r;c<l;++c)d=t[c],f={},f[i.axis]=s||i.parse(a[c],c),u.push(_(d,f,o,c));return u}function A(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function T(e,t,n,r){let i=t.borderSkipped;const o={};if(!i)return void(e.borderSkipped=o);if(!0===i)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:s,reverse:u,top:c,bottom:l}=function(e){let t,n,r,i,o;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:t,top:i,bottom:o}}(e);"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=l:(o[C(l,a,s,u)]=!0,i=c)),o[C(i,a,s,u)]=!0,e.borderSkipped=o}function C(e,t,n,r){var i,o,a;return r?(a=n,e=I(e=(i=e)===(o=t)?a:i===a?o:i,n,t)):e=I(e,t,n),e}function I(e,t,n){return"start"===e?t:"end"===e?n:e}function P(e,{inflateAmount:t},n){e.inflateAmount="auto"===t?1===n?.33:0:t}class O extends S{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,n,r){return x(e,t,n,r)}parseArrayData(e,t,n,r){return x(e,t,n,r)}parseObjectData(e,t,n,i){const{iScale:o,vScale:a}=e,{xAxisKey:s="x",yAxisKey:u="y"}=this._parsing,c="x"===o.axis?s:u,l="x"===a.axis?s:u,f=[];let d,h,p,v;for(d=n,h=n+i;d<h;++d)v=t[d],p={},p[o.axis]=o.parse(r.resolveObjectKey(v,c),d),f.push(_(r.resolveObjectKey(v,l),p,a,d));return f}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const i=n._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,i=this.getParsed(e),o=i._custom,a=A(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const o="reset"===i,{index:a,_cachedMeta:{vScale:s}}=this,u=s.getBasePixel(),c=s.isHorizontal(),l=this._getRuler(),{sharedOptions:f,includeOptions:d}=this._getSharedOptions(t,i);for(let h=t;h<t+n;h++){const t=this.getParsed(h),n=o||r.isNullOrUndef(t[s.axis])?{base:u,head:u}:this._calculateBarValuePixels(h),p=this._calculateBarIndexPixels(h,l),v=(t._stacks||{})[s.axis],y={horizontal:c,base:n.base,enableBorderRadius:!v||A(t._custom)||a===v._top||a===v._bottom,x:c?n.head:p.center,y:c?p.center:n.head,height:c?p.size:Math.abs(n.size),width:c?Math.abs(n.size):p.size};d&&(y.options=f||this.resolveDataElementOptions(h,e[h].active?"active":i));const g=y.options||e[h].options;T(y,g,v,a),P(y,g,l.ratio),this.updateElement(e[h],h,y,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),o=n.options.stacked,a=[],s=e=>{const n=e.controller.getParsed(t),i=n&&n[e.vScale.axis];if(r.isNullOrUndef(i)||isNaN(i))return!0};for(const n of i)if((void 0===t||!s(n))&&((!1===o||-1===a.indexOf(n.stack)||void 0===o&&void 0===n.stack)&&a.push(n.stack),n.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let i,o;for(i=0,o=t.data.length;i<o;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const a=e.barThickness;return{min:a||E(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:o,minBarLength:a}}=this,s=o||0,u=this.getParsed(e),c=u._custom,l=A(c);let f,d,h=u[t.axis],p=0,v=n?this.applyStack(t,u,n):h;v!==h&&(p=v-h,v=h),l&&(h=c.barStart,v=c.barEnd-c.barStart,0!==h&&r.sign(h)!==r.sign(c.barEnd)&&(p=0),p+=h);const y=r.isNullOrUndef(o)||l?p:o;let g=t.getPixelForValue(y);if(f=this.chart.getDataVisibility(e)?t.getPixelForValue(p+v):g,d=f-g,Math.abs(d)<a){d=function(e,t,n){return 0!==e?r.sign(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(d,t,s)*a,h===s&&(g-=d/2);const e=t.getPixelForDecimal(0),o=t.getPixelForDecimal(1),c=Math.min(e,o),p=Math.max(e,o);g=Math.max(Math.min(g,p),c),f=g+d,n&&!l&&(u._stacks[t.axis]._visualValues[i]=t.getValueForPixel(f)-t.getValueForPixel(g))}if(g===t.getPixelForValue(s)){const e=r.sign(d)*t.getLineWidthForValue(s)/2;g+=e,d-=e}return{size:d,base:g,head:f,center:f+d/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,o=i.skipNull,a=r.valueOrDefault(i.maxBarThickness,1/0);let s,u;if(t.grouped){const n=o?this._getStackCount(e):t.stackCount,c="flex"===i.barThickness?function(e,t,n,r){const i=t.pixels,o=i[e];let a=e>0?i[e-1]:null,s=e<i.length-1?i[e+1]:null;const u=n.categoryPercentage;null===a&&(a=o-(null===s?t.end-t.start:s-o)),null===s&&(s=o+o-a);const c=o-(o-Math.min(a,s))/2*u;return{chunk:Math.abs(s-a)/2*u/r,ratio:n.barPercentage,start:c}}(e,t,i,n):function(e,t,n,i){const o=n.barThickness;let a,s;return r.isNullOrUndef(o)?(a=t.min*n.categoryPercentage,s=n.barPercentage):(a=o*i,s=1),{chunk:a/i,ratio:s,start:t.pixels[e]-a/2}}(e,t,i,n),l=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);s=c.start+c.chunk*l+c.chunk/2,u=Math.min(a,c.chunk*c.ratio)}else s=n.getPixelForValue(this.getParsed(e)[n.axis],e),u=Math.min(a,t.min*t.ratio);return{base:s-u/2,head:s+u/2,center:s,size:u}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let i=0;for(;i<r;++i)null!==this.getParsed(i)[t.axis]&&n[i].draw(this._ctx)}}class k extends S{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const i=super.parsePrimitiveData(e,t,n,r);for(let e=0;e<i.length;e++)i[e]._custom=this.resolveDataElementOptions(e+n).radius;return i}parseArrayData(e,t,n,i){const o=super.parseArrayData(e,t,n,i);for(let e=0;e<o.length;e++){const i=t[n+e];o[e]._custom=r.valueOrDefault(i[2],this.resolveDataElementOptions(e+n).radius)}return o}parseObjectData(e,t,n,i){const o=super.parseObjectData(e,t,n,i);for(let e=0;e<o.length;e++){const i=t[n+e];o[e]._custom=r.valueOrDefault(i&&i.r&&+i.r,this.resolveDataElementOptions(e+n).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,o=this.getParsed(e),a=r.getLabelForValue(o.x),s=i.getLabelForValue(o.y),u=o._custom;return{label:n[e]||"",value:"("+a+", "+s+(u?", "+u:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:s,includeOptions:u}=this._getSharedOptions(t,r),c=o.axis,l=a.axis;for(let f=t;f<t+n;f++){const t=e[f],n=!i&&this.getParsed(f),d={},h=d[c]=i?o.getPixelForDecimal(.5):o.getPixelForValue(n[c]),p=d[l]=i?a.getBasePixel():a.getPixelForValue(n[l]);d.skip=isNaN(h)||isNaN(p),u&&(d.options=s||this.resolveDataElementOptions(f,t.active?"active":r),i&&(d.options.radius=0)),this.updateElement(t,f,d,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return"active"!==t&&(i.radius=0),i.radius+=r.valueOrDefault(n&&n._custom,o),i}}class R extends S{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const o=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:r,lineWidth:o.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let o,a,s=e=>+n[e];if(r.isObject(n[e])){const{key:e="value"}=this._parsing;s=t=>+r.resolveObjectKey(n[t],e)}for(o=e,a=e+t;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return r.toRadians(this.options.rotation-90)}_getCircumference(){return r.toRadians(this.options.circumference)}_getRotationExtents(){let e=r.TAU,t=-r.TAU;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),o=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,o=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,s=Math.max((Math.min(n.width,n.height)-a)/2,0),u=Math.min(r.toPercentage(this.options.cutout,s),1),c=this._getRingWeight(this.index),{circumference:l,rotation:f}=this._getRotationExtents(),{ratioX:d,ratioY:h,offsetX:p,offsetY:v}=function(e,t,n){let i=1,o=1,a=0,s=0;if(t<r.TAU){const u=e,c=u+t,l=Math.cos(u),f=Math.sin(u),d=Math.cos(c),h=Math.sin(c),p=(e,t,i)=>r._angleBetween(e,u,c,!0)?1:Math.max(t,t*n,i,i*n),v=(e,t,i)=>r._angleBetween(e,u,c,!0)?-1:Math.min(t,t*n,i,i*n),y=p(0,l,d),g=p(r.HALF_PI,f,h),m=v(r.PI,l,d),b=v(r.PI+r.HALF_PI,f,h);i=(y-m)/2,o=(g-b)/2,a=-(y+m)/2,s=-(g+b)/2}return{ratioX:i,ratioY:o,offsetX:a,offsetY:s}}(f,l,u),y=(n.width-a)/d,g=(n.height-a)/h,m=Math.max(Math.min(y,g)/2,0),b=r.toDimension(this.options.radius,m),w=(b-Math.max(b*u,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*b,this.offsetY=v*b,i.total=this.calculateTotal(),this.outerRadius=b-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,o=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*o/r.TAU)}updateElements(e,t,n,r){const i="reset"===r,o=this.chart,a=o.chartArea,s=o.options.animation,u=(a.left+a.right)/2,c=(a.top+a.bottom)/2,l=i&&s.animateScale,f=l?0:this.innerRadius,d=l?0:this.outerRadius,{sharedOptions:h,includeOptions:p}=this._getSharedOptions(t,r);let v,y=this._getRotation();for(v=0;v<t;++v)y+=this._circumference(v,i);for(v=t;v<t+n;++v){const t=this._circumference(v,i),n=e[v],o={x:u+this.offsetX,y:c+this.offsetY,startAngle:y,endAngle:y+t,circumference:t,outerRadius:d,innerRadius:f};p&&(o.options=h||this.resolveDataElementOptions(v,n.active?"active":r)),y+=t,this.updateElement(n,v,o,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const i=e._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?r.TAU*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=r.formatNumber(t._parsed[e],n.options.locale);return{label:i[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,i,o,a,s;if(!e)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){o=n.getDatasetMeta(r),e=o.data,a=o.controller;break}if(!e)return 0;for(r=0,i=e.length;r<i;++r)s=a.resolveDataElementOptions(r),"inner"!==s.borderAlign&&(t=Math.max(t,s.borderWidth||0,s.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(r.valueOrDefault(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class L extends S{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:o}=t,a=this.chart._animationsDisabled;let{start:s,count:u}=r._getStartAndCountOfVisiblePoints(t,i,a);this._drawStart=s,this._drawCount=u,r._scaleRangesChanged(t)&&(s=0,u=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:c},e),this.updateElements(i,s,u,e)}updateElements(e,t,n,i){const o="reset"===i,{iScale:a,vScale:s,_stacked:u,_dataset:c}=this._cachedMeta,{sharedOptions:l,includeOptions:f}=this._getSharedOptions(t,i),d=a.axis,h=s.axis,{spanGaps:p,segment:v}=this.options,y=r.isNumber(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||o||"none"===i,m=t+n,b=e.length;let w=t>0&&this.getParsed(t-1);for(let n=0;n<b;++n){const p=e[n],b=g?p:{};if(n<t||n>=m){b.skip=!0;continue}const S=this.getParsed(n),E=r.isNullOrUndef(S[h]),_=b[d]=a.getPixelForValue(S[d],n),x=b[h]=o||E?s.getBasePixel():s.getPixelForValue(u?this.applyStack(s,S,u):S[h],n);b.skip=isNaN(_)||isNaN(x)||E,b.stop=n>0&&Math.abs(S[d]-w[d])>y,v&&(b.parsed=S,b.raw=c.data[n]),f&&(b.options=l||this.resolveDataElementOptions(n,p.active?"active":i)),g||this.updateElement(p,n,b,i),w=S}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class N extends S{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const o=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:r,lineWidth:o.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=r.formatNumber(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:o}}parseObjectData(e,t,n,i){return r._parseObjectDataRadialScale.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(r/2,0),o=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=i-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,t,n,i){const o="reset"===i,a=this.chart,s=a.options.animation,u=this._cachedMeta.rScale,c=u.xCenter,l=u.yCenter,f=u.getIndexAngle(0)-.5*r.PI;let d,h=f;const p=360/this.countVisibleElements();for(d=0;d<t;++d)h+=this._computeAngle(d,i,p);for(d=t;d<t+n;d++){const t=e[d];let n=h,r=h+this._computeAngle(d,i,p),v=a.getDataVisibility(d)?u.getDistanceFromCenterForValue(this.getParsed(d).r):0;h=r,o&&(s.animateScale&&(v=0),s.animateRotate&&(n=r=f));const y={x:c,y:l,innerRadius:0,outerRadius:v,startAngle:n,endAngle:r,options:this.resolveDataElementOptions(d,t.active?"active":i)};this.updateElement(t,d,y,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?r.toRadians(this.resolveDataElementOptions(e,t).angle||n):0}}class D extends R{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class M extends S{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,i){return r._parseObjectDataRadialScale.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],i=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const o={_loop:!0,_fullLoop:i.length===r.length,options:t};this.updateElement(n,void 0,o,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const i=this._cachedMeta.rScale,o="reset"===r;for(let a=t;a<t+n;a++){const t=e[a],n=this.resolveDataElementOptions(a,t.active?"active":r),s=i.getPointPositionForValue(a,this.getParsed(a).r),u=o?i.xCenter:s.x,c=o?i.yCenter:s.y,l={x:u,y:c,angle:s.angle,skip:isNaN(u)||isNaN(c),options:n};this.updateElement(t,a,l,r)}}}class j extends S{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,o=this.getParsed(e),a=r.getLabelForValue(o.x),s=i.getLabelForValue(o.y);return{label:n[e]||"",value:"("+a+", "+s+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,i=this.chart._animationsDisabled;let{start:o,count:a}=r._getStartAndCountOfVisiblePoints(t,n,i);if(this._drawStart=o,this._drawCount=a,r._scaleRangesChanged(t)&&(o=0,a=n.length),this.options.showLine){const{dataset:r,_dataset:o}=t;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=n;const a=this.resolveDatasetElementOptions(e);a.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:a},e)}this.updateElements(n,o,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,i){const o="reset"===i,{iScale:a,vScale:s,_stacked:u,_dataset:c}=this._cachedMeta,l=this.resolveDataElementOptions(t,i),f=this.getSharedOptions(l),d=this.includeOptions(i,f),h=a.axis,p=s.axis,{spanGaps:v,segment:y}=this.options,g=r.isNumber(v)?v:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||o||"none"===i;let b=t>0&&this.getParsed(t-1);for(let l=t;l<t+n;++l){const t=e[l],n=this.getParsed(l),v=m?t:{},w=r.isNullOrUndef(n[p]),S=v[h]=a.getPixelForValue(n[h],l),E=v[p]=o||w?s.getBasePixel():s.getPixelForValue(u?this.applyStack(s,n,u):n[p],l);v.skip=isNaN(S)||isNaN(E)||w,v.stop=l>0&&Math.abs(n[h]-b[h])>g,y&&(v.parsed=n,v.raw=c.data[l]),d&&(v.options=f||this.resolveDataElementOptions(l,t.active?"active":i)),m||this.updateElement(t,l,v,i),b=n}this.updateSharedOptions(f,i,l)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const i=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,i,o)/2}}var U=Object.freeze({__proto__:null,BarController:O,BubbleController:k,DoughnutController:R,LineController:L,PolarAreaController:N,PieController:D,RadarController:M,ScatterController:j});function F(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class z{static override(e){Object.assign(z.prototype,e)}constructor(e){this.options=e||{}}init(){}formats(){return F()}parse(){return F()}format(){return F()}add(){return F()}diff(){return F()}startOf(){return F()}endOf(){return F()}}var B={_date:z};function q(e,t,n,i){const{controller:o,data:a,_sorted:s}=e,u=o._cachedMeta.iScale;if(u&&t===u.axis&&"r"!==t&&s&&a.length){const e=u._reversePixels?r._rlookupByKey:r._lookupByKey;if(!i)return e(a,t,n);if(o._sharedOptions){const r=a[0],i="function"==typeof r.getRange&&r.getRange(t);if(i){const r=e(a,t,n-i),o=e(a,t,n+i);return{lo:r.lo,hi:o.hi}}}}return{lo:0,hi:a.length-1}}function K(e,t,n,r,i){const o=e.getSortedVisibleDatasetMetas(),a=n[t];for(let e=0,n=o.length;e<n;++e){const{index:n,data:s}=o[e],{lo:u,hi:c}=q(o[e],t,a,i);for(let e=u;e<=c;++e){const t=s[e];t.skip||r(t,n,e)}}}function H(e,t,n,i,o){const a=[];return o||e.isPointInArea(t)?(K(e,n,t,(function(n,s,u){(o||r._isPointInArea(n,e.chartArea,0))&&n.inRange(t.x,t.y,i)&&a.push({element:n,datasetIndex:s,index:u})}),!0),a):a}function G(e,t,n,i,o,a){return a||e.isPointInArea(t)?"r"!==n||i?function(e,t,n,r,i,o){let a=[];const s=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const i=t?Math.abs(e.x-r.x):0,o=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}(n);let u=Number.POSITIVE_INFINITY;return K(e,n,t,(function(n,c,l){const f=n.inRange(t.x,t.y,i);if(r&&!f)return;const d=n.getCenterPoint(i);if(!o&&!e.isPointInArea(d)&&!f)return;const h=s(t,d);h<u?(a=[{element:n,datasetIndex:c,index:l}],u=h):h===u&&a.push({element:n,datasetIndex:c,index:l})})),a}(e,t,n,i,o,a):function(e,t,n,i){let o=[];return K(e,n,t,(function(e,n,a){const{startAngle:s,endAngle:u}=e.getProps(["startAngle","endAngle"],i),{angle:c}=r.getAngleFromPoint(e,{x:t.x,y:t.y});r._angleBetween(c,s,u)&&o.push({element:e,datasetIndex:n,index:a})})),o}(e,t,n,o):[]}function V(e,t,n,r,i){const o=[],a="x"===n?"inXRange":"inYRange";let s=!1;return K(e,n,t,((e,r,u)=>{e[a](t[n],i)&&(o.push({element:e,datasetIndex:r,index:u}),s=s||e.inRange(t.x,t.y,i))})),r&&!s?[]:o}var $={evaluateInteractionItems:K,modes:{index(e,t,n,i){const o=r.getRelativePosition(t,e),a=n.axis||"x",s=n.includeInvisible||!1,u=n.intersect?H(e,o,a,i,s):G(e,o,a,!1,i,s),c=[];return u.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=u[0].index,n=e.data[t];n&&!n.skip&&c.push({element:n,datasetIndex:e.index,index:t})})),c):[]},dataset(e,t,n,i){const o=r.getRelativePosition(t,e),a=n.axis||"xy",s=n.includeInvisible||!1;let u=n.intersect?H(e,o,a,i,s):G(e,o,a,!1,i,s);if(u.length>0){const t=u[0].datasetIndex,n=e.getDatasetMeta(t).data;u=[];for(let e=0;e<n.length;++e)u.push({element:n[e],datasetIndex:t,index:e})}return u},point:(e,t,n,i)=>H(e,r.getRelativePosition(t,e),n.axis||"xy",i,n.includeInvisible||!1),nearest(e,t,n,i){const o=r.getRelativePosition(t,e),a=n.axis||"xy",s=n.includeInvisible||!1;return G(e,o,a,n.intersect,i,s)},x:(e,t,n,i)=>V(e,r.getRelativePosition(t,e),"x",n.intersect,i),y:(e,t,n,i)=>V(e,r.getRelativePosition(t,e),"y",n.intersect,i)}};const W=["left","top","right","bottom"];function Y(e,t){return e.filter((e=>e.pos===t))}function Z(e,t){return e.filter((e=>-1===W.indexOf(e.pos)&&e.box.axis===t))}function J(e,t){return e.sort(((e,n)=>{const r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function X(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function Q(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function ee(e,t,n,i){const{pos:o,box:a}=n,s=e.maxPadding;if(!r.isObject(o)){n.size&&(e[o]-=n.size);const t=i[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?a.height:a.width),n.size=t.size/t.count,e[o]+=n.size}a.getPadding&&Q(s,a.getPadding());const u=Math.max(0,t.outerWidth-X(s,e,"left","right")),c=Math.max(0,t.outerHeight-X(s,e,"top","bottom")),l=u!==e.w,f=c!==e.h;return e.w=u,e.h=c,n.horizontal?{same:l,other:f}:{same:f,other:l}}function te(e,t){const n=t.maxPadding;return function(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{r[e]=Math.max(t[e],n[e])})),r}(e?["left","right"]:["top","bottom"])}function ne(e,t,n,r){const i=[];let o,a,s,u,c,l;for(o=0,a=e.length,c=0;o<a;++o){s=e[o],u=s.box,u.update(s.width||t.w,s.height||t.h,te(s.horizontal,t));const{same:a,other:f}=ee(t,n,s,r);c|=a&&i.length,l=l||f,u.fullSize||i.push(s)}return c&&ne(i,t,n,r)||l}function re(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function ie(e,t,n,i){const o=n.padding;let{x:a,y:s}=t;for(const u of e){const e=u.box,c=i[u.stack]||{count:1,placed:0,weight:1},l=u.stackWeight/c.weight||1;if(u.horizontal){const i=t.w*l,a=c.size||e.height;r.defined(c.start)&&(s=c.start),e.fullSize?re(e,o.left,s,n.outerWidth-o.right-o.left,a):re(e,t.left+c.placed,s,i,a),c.start=s,c.placed+=i,s=e.bottom}else{const i=t.h*l,s=c.size||e.width;r.defined(c.start)&&(a=c.start),e.fullSize?re(e,a,o.top,s,n.outerHeight-o.bottom-o.top):re(e,a,t.top+c.placed,s,i),c.start=a,c.placed+=i,a=e.right}}t.x=a,t.y=s}var oe={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const o=r.toPadding(e.options.layout.padding),a=Math.max(t-o.width,0),s=Math.max(n-o.height,0),u=function(e){const t=function(e){const t=[];let n,r,i,o,a,s;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],({position:o,options:{stack:a,stackWeight:s=1}}=i),t.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&o+a,stackWeight:s});return t}(e),n=J(t.filter((e=>e.box.fullSize)),!0),r=J(Y(t,"left"),!0),i=J(Y(t,"right")),o=J(Y(t,"top"),!0),a=J(Y(t,"bottom")),s=Z(t,"x"),u=Z(t,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(u).concat(a).concat(s),chartArea:Y(t,"chartArea"),vertical:r.concat(i).concat(u),horizontal:o.concat(a).concat(s)}}(e.boxes),c=u.vertical,l=u.horizontal;r.each(e.boxes,(e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()}));const f=c.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:o,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/f,hBoxMaxHeight:s/2}),h=Object.assign({},o);Q(h,r.toPadding(i));const p=Object.assign({maxPadding:h,w:a,h:s,x:o.left,y:o.top},o),v=function(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:i}=n;if(!e||!W.includes(r))continue;const o=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let o,a,s;for(o=0,a=e.length;o<a;++o){s=e[o];const{fullSize:a}=s.box,u=n[s.stack],c=u&&s.stackWeight/u.weight;s.horizontal?(s.width=c?c*r:a&&t.availableWidth,s.height=i):(s.width=r,s.height=c?c*i:a&&t.availableHeight)}return n}(c.concat(l),d);ne(u.fullSize,p,d,v),ne(c,p,d,v),ne(l,p,d,v)&&ne(c,p,d,v),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(p),ie(u.leftAndTop,p,d,v),p.x+=p.w,p.y+=p.h,ie(u.rightAndBottom,p,d,v),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},r.each(u.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class ae{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class se extends ae{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ue="$chartjs",ce={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},le=e=>null===e||""===e,fe=!!r.supportsEventListenerOptions&&{passive:!0};function de(e,t,n){e.canvas.removeEventListener(t,n,fe)}function he(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function pe(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||he(n.addedNodes,r),t=t&&!he(n.removedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function ve(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||he(n.removedNodes,r),t=t&&!he(n.addedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const ye=new Map;let ge=0;function me(){const e=window.devicePixelRatio;e!==ge&&(ge=e,ye.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function be(e,t,n){const i=e.canvas,o=i&&r._getParentNode(i);if(!o)return;const a=r.throttled(((e,t)=>{const r=o.clientWidth;n(e,t),r<o.clientWidth&&n()}),window),s=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||a(n,r)}));return s.observe(o),function(e,t){ye.size||window.addEventListener("resize",me),ye.set(e,t)}(e,a),s}function we(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){ye.delete(e),ye.size||window.removeEventListener("resize",me)}(e)}function Se(e,t,n){const i=e.canvas,o=r.throttled((t=>{null!==e.ctx&&n(function(e,t){const n=ce[e.type]||e.type,{x:i,y:o}=r.getRelativePosition(e,t);return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==o?o:null}}(t,e))}),e);return function(e,t,n){e.addEventListener(t,n,fe)}(i,t,o),o}class Ee extends ae{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,i=e.getAttribute("height"),o=e.getAttribute("width");if(e[ue]={initial:{height:i,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",le(o)){const t=r.readUsedSize(e,"width");void 0!==t&&(e.width=t)}if(le(i))if(""===e.style.height)e.height=e.width/(t||2);else{const t=r.readUsedSize(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[ue])return!1;const n=t[ue].initial;["height","width"].forEach((e=>{const i=n[e];r.isNullOrUndef(i)?t.removeAttribute(e):t.setAttribute(e,i)}));const i=n.style||{};return Object.keys(i).forEach((e=>{t.style[e]=i[e]})),t.width=t.width,delete t[ue],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),i={attach:pe,detach:ve,resize:be}[t]||Se;r[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];r&&(({attach:we,detach:we,resize:we}[t]||de)(e,t,r),n[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return r.getMaximumSize(e,t,n,i)}isAttached(e){const t=r._getParentNode(e);return!(!t||!t.isConnected)}}function _e(e){return!r._isDomSupported()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?se:Ee}class xe{static defaults={};static defaultRoutes=void 0;active=!1;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return r.isNumber(this.x)&&r.isNumber(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach((e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),r}}function Ae(e,t,n,i,o){const a=r.valueOrDefault(i,0),s=Math.min(r.valueOrDefault(o,e.length),e.length);let u,c,l,f=0;for(n=Math.ceil(n),o&&(u=o-i,n=u/Math.floor(u/n)),l=a;l<0;)f++,l=Math.round(a+f*n);for(c=Math.max(a,0);c<s;c++)c===l&&(t.push(e[c]),f++,l=Math.round(a+f*n))}const Te=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n;function Ce(e,t){const n=[],r=e.length/t,i=e.length;let o=0;for(;o<i;o+=r)n.push(e[Math.floor(o)]);return n}function Ie(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),o=e._startPixel,a=e._endPixel,s=1e-6;let u,c=e.getPixelForTick(i);if(!(n&&(u=1===r?Math.max(c-o,a-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?u:-u,c<o-s||c>a+s)))return c}function Pe(e){return e.drawTicks?e.tickLength:0}function Oe(e,t){if(!e.display)return 0;const n=r.toFont(e.font,t),i=r.toPadding(e.padding);return(r.isArray(e.text)?e.text.length:1)*n.lineHeight+i.height}function ke(e,t,n){let i=r._toLeftRightCenter(e);return(n&&"right"!==t||!n&&"right"===t)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class Re extends xe{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=r.finiteOrDefault(e,Number.POSITIVE_INFINITY),t=r.finiteOrDefault(t,Number.NEGATIVE_INFINITY),n=r.finiteOrDefault(n,Number.POSITIVE_INFINITY),i=r.finiteOrDefault(i,Number.NEGATIVE_INFINITY),{min:r.finiteOrDefault(e,n),max:r.finiteOrDefault(t,i),minDefined:r.isNumberFinite(e),maxDefined:r.isNumberFinite(t)}}getMinMax(e){let t,{min:n,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();if(o&&a)return{min:n,max:i};const s=this.getMatchingVisibleMetas();for(let r=0,u=s.length;r<u;++r)t=s[r].controller.getMinMax(this,e),o||(n=Math.min(n,t.min)),a||(i=Math.max(i,t.max));return n=a&&n>i?i:n,i=o&&n>i?n:i,{min:r.finiteOrDefault(n,r.finiteOrDefault(i,n)),max:r.finiteOrDefault(i,r.finiteOrDefault(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){r.callback(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:o,ticks:a}=this.options,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=r._addGrace(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=s<this.ticks.length;this._convertTicksToLabels(u?Ce(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function(e,t){const n=e.options.ticks,i=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),o=Math.min(n.maxTicksLimit||i,i),a=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],s=a.length,u=a[0],c=a[s-1],l=[];if(s>o)return function(e,t,n,r){let i,o=0,a=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===a&&(t.push(e[i]),o++,a=n[o*r])}(t,l,a,s/o),l;const f=function(e,t,n){const i=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),o=t.length/n;if(!i)return Math.max(o,1);const a=r._factorize(i);for(let e=0,t=a.length-1;e<t;e++){const t=a[e];if(t>o)return t}return Math.max(o,1)}(a,t,o);if(s>0){let e,n;const i=s>1?Math.round((c-u)/(s-1)):null;for(Ae(t,l,f,r.isNullOrUndef(i)?0:u-i,u),e=0,n=s-1;e<n;e++)Ae(t,l,f,a[e],a[e+1]);return Ae(t,l,f,c,r.isNullOrUndef(i)?t.length:c+i),l}return Ae(t,l,f),l}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){r.callback(this.options.afterUpdate,[this])}beforeSetDimensions(){r.callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){r.callback(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),r.callback(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){r.callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,o;for(n=0,i=e.length;n<i;n++)o=e[n],o.label=r.callback(t.callback,[o.value,n,e],this)}afterTickToLabelConversion(){r.callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){r.callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=this.ticks.length,i=t.minRotation||0,o=t.maxRotation;let a,s,u,c=i;if(!this._isVisible()||!t.display||i>=o||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const l=this._getLabelSizes(),f=l.widest.width,d=l.highest.height,h=r._limitValue(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/n:h/(n-1),f+6>a&&(a=h/(n-(e.offset?.5:1)),s=this.maxHeight-Pe(e.grid)-t.padding-Oe(e.title,this.chart.options.font),u=Math.sqrt(f*f+d*d),c=r.toDegrees(Math.min(Math.asin(r._limitValue((l.highest.height+6)/a,-1,1)),Math.asin(r._limitValue(s/u,-1,1))-Math.asin(r._limitValue(d/u,-1,1)))),c=Math.max(i,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){r.callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){r.callback(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:o}}=this,a=this._isVisible(),s=this.isHorizontal();if(a){const a=Oe(i,t.options.font);if(s?(e.width=this.maxWidth,e.height=Pe(o)+a):(e.height=this.maxHeight,e.width=Pe(o)+a),n.display&&this.ticks.length){const{first:t,last:i,widest:o,highest:a}=this._getLabelSizes(),u=2*n.padding,c=r.toRadians(this.labelRotation),l=Math.cos(c),f=Math.sin(c);if(s){const t=n.mirror?0:f*o.width+l*a.height;e.height=Math.min(this.maxHeight,e.height+t+u)}else{const t=n.mirror?0:l*o.width+f*a.height;e.width=Math.min(this.maxWidth,e.width+t+u)}this._calculatePadding(t,i,f,l)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:i,padding:o},position:a}=this.options,s=0!==this.labelRotation,u="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let l=0,f=0;s?u?(l=r*e.width,f=n*t.height):(l=n*e.height,f=r*t.width):"start"===i?f=t.width:"end"===i?l=e.width:"inner"!==i&&(l=e.width/2,f=t.width/2),this.paddingLeft=Math.max((l-a+o)*this.width/(this.width-a),0),this.paddingRight=Math.max((f-c+o)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===i?(n=0,r=e.height):"end"===i&&(n=t.height,r=0),this.paddingTop=n+o,this.paddingBottom=r+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){r.callback(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)r.isNullOrUndef(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=Ce(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length)}return e}_computeLabelSizes(e,t){const{ctx:n,_longestTextCache:i}=this,o=[],a=[];let s,u,c,l,f,d,h,p,v,y,g,m=0,b=0;for(s=0;s<t;++s){if(l=e[s].label,f=this._resolveTickFontOptions(s),n.font=d=f.string,h=i[d]=i[d]||{data:{},gc:[]},p=f.lineHeight,v=y=0,r.isNullOrUndef(l)||r.isArray(l)){if(r.isArray(l))for(u=0,c=l.length;u<c;++u)g=l[u],r.isNullOrUndef(g)||r.isArray(g)||(v=r._measureText(n,h.data,h.gc,v,g),y+=p)}else v=r._measureText(n,h.data,h.gc,v,l),y=p;o.push(v),a.push(y),m=Math.max(v,m),b=Math.max(y,b)}!function(e,t){r.each(e,(e=>{const n=e.gc,r=n.length/2;let i;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}}))}(i,t);const w=o.indexOf(m),S=a.indexOf(b),E=e=>({width:o[e]||0,height:a[e]||0});return{first:E(0),last:E(t-1),widest:E(w),highest:E(S),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return r._int16Range(this._alignToPixels?r._alignPixel(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return r.createContext(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=(n=this.chart.getContext(),this,r.createContext(n,{scale:this,type:"scale"})));var n}_tickSize(){const e=this.options.ticks,t=r.toRadians(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),o=this._getLabelSizes(),a=e.autoSkipPadding||0,s=o?o.widest.width+a:0,u=o?o.highest.height+a:0;return this.isHorizontal()?u*n>s*i?s/n:u/i:u*i<s*n?u/n:s/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:o,position:a,border:s}=i,u=o.offset,c=this.isHorizontal(),l=this.ticks.length+(u?1:0),f=Pe(o),d=[],h=s.setContext(this.getContext()),p=h.display?h.width:0,v=p/2,y=function(e){return r._alignPixel(n,e,p)};let g,m,b,w,S,E,_,x,A,T,C,I;if("top"===a)g=y(this.bottom),E=this.bottom-f,x=g-v,T=y(e.top)+v,I=e.bottom;else if("bottom"===a)g=y(this.top),T=e.top,I=y(e.bottom)-v,E=g+v,x=this.top+f;else if("left"===a)g=y(this.right),S=this.right-f,_=g-v,A=y(e.left)+v,C=e.right;else if("right"===a)g=y(this.left),A=e.left,C=y(e.right)-v,S=g+v,_=this.left+f;else if("x"===t){if("center"===a)g=y((e.top+e.bottom)/2+.5);else if(r.isObject(a)){const e=Object.keys(a)[0],t=a[e];g=y(this.chart.scales[e].getPixelForValue(t))}T=e.top,I=e.bottom,E=g+v,x=E+f}else if("y"===t){if("center"===a)g=y((e.left+e.right)/2);else if(r.isObject(a)){const e=Object.keys(a)[0],t=a[e];g=y(this.chart.scales[e].getPixelForValue(t))}S=g-v,_=S-f,A=e.left,C=e.right}const P=r.valueOrDefault(i.ticks.maxTicksLimit,l),O=Math.max(1,Math.ceil(l/P));for(m=0;m<l;m+=O){const e=this.getContext(m),t=o.setContext(e),i=s.setContext(e),a=t.lineWidth,l=t.color,f=i.dash||[],h=i.dashOffset,p=t.tickWidth,v=t.tickColor,y=t.tickBorderDash||[],g=t.tickBorderDashOffset;b=Ie(this,m,u),void 0!==b&&(w=r._alignPixel(n,b,a),c?S=_=A=C=w:E=x=T=I=w,d.push({tx1:S,ty1:E,tx2:_,ty2:x,x1:A,y1:T,x2:C,y2:I,width:a,color:l,borderDash:f,borderDashOffset:h,tickWidth:p,tickColor:v,tickBorderDash:y,tickBorderDashOffset:g}))}return this._ticksLength=l,this._borderValue=g,d}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:o}=n,a=this.isHorizontal(),s=this.ticks,{align:u,crossAlign:c,padding:l,mirror:f}=o,d=Pe(n.grid),h=d+l,p=f?-l:h,v=-r.toRadians(this.labelRotation),y=[];let g,m,b,w,S,E,_,x,A,T,C,I,P="middle";if("top"===i)E=this.bottom-p,_=this._getXAxisLabelAlignment();else if("bottom"===i)E=this.top+p,_=this._getXAxisLabelAlignment();else if("left"===i){const e=this._getYAxisLabelAlignment(d);_=e.textAlign,S=e.x}else if("right"===i){const e=this._getYAxisLabelAlignment(d);_=e.textAlign,S=e.x}else if("x"===t){if("center"===i)E=(e.top+e.bottom)/2+h;else if(r.isObject(i)){const e=Object.keys(i)[0],t=i[e];E=this.chart.scales[e].getPixelForValue(t)+h}_=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)S=(e.left+e.right)/2-h;else if(r.isObject(i)){const e=Object.keys(i)[0],t=i[e];S=this.chart.scales[e].getPixelForValue(t)}_=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===u?P="top":"end"===u&&(P="bottom"));const O=this._getLabelSizes();for(g=0,m=s.length;g<m;++g){b=s[g],w=b.label;const e=o.setContext(this.getContext(g));x=this.getPixelForTick(g)+o.labelOffset,A=this._resolveTickFontOptions(g),T=A.lineHeight,C=r.isArray(w)?w.length:1;const t=C/2,n=e.color,u=e.textStrokeColor,l=e.textStrokeWidth;let d,h=_;if(a?(S=x,"inner"===_&&(h=g===m-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),I="top"===i?"near"===c||0!==v?-C*T+T/2:"center"===c?-O.highest.height/2-t*T+T:-O.highest.height+T/2:"near"===c||0!==v?T/2:"center"===c?O.highest.height/2-t*T:O.highest.height-C*T,f&&(I*=-1),0===v||e.showLabelBackdrop||(S+=T/2*Math.sin(v))):(E=x,I=(1-C)*T/2),e.showLabelBackdrop){const t=r.toPadding(e.backdropPadding),n=O.heights[g],i=O.widths[g];let o=I-t.top,a=0-t.left;switch(P){case"middle":o-=n/2;break;case"bottom":o-=n}switch(_){case"center":a-=i/2;break;case"right":a-=i}d={left:a,top:o,width:i+t.width,height:n+t.height,color:e.backdropColor}}y.push({label:w,font:A,textOffset:I,options:{rotation:v,color:n,strokeColor:u,strokeWidth:l,textAlign:h,textBaseline:P,translation:[S,E],backdrop:d}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-r.toRadians(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,o=e+i,a=this._getLabelSizes().widest.width;let s,u;return"left"===t?r?(u=this.right+i,"near"===n?s="left":"center"===n?(s="center",u+=a/2):(s="right",u+=a)):(u=this.right-o,"near"===n?s="right":"center"===n?(s="center",u-=a/2):(s="left",u=this.left)):"right"===t?r?(u=this.left+i,"near"===n?s="right":"center"===n?(s="center",u-=a/2):(s="left",u-=a)):(u=this.left+o,"near"===n?s="left":"center"===n?(s="center",u+=a/2):(s="right",u=this.right)):s="right",{textAlign:s,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:i,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));return n>=0?t.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,o=r.length;i<o;++i){const e=r[i];t.drawOnChartArea&&a({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&a({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,o=n.setContext(this.getContext()),a=n.display?o.width:0;if(!a)return;const s=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let c,l,f,d;this.isHorizontal()?(c=r._alignPixel(e,this.left,a)-a/2,l=r._alignPixel(e,this.right,s)+s/2,f=d=u):(f=r._alignPixel(e,this.top,a)-a/2,d=r._alignPixel(e,this.bottom,s)+s/2,c=l=u),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(c,f),t.lineTo(l,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&r.clipArea(t,n);const i=this.getLabelItems(e);for(const e of i){const n=e.options,i=e.font,o=e.label,a=e.textOffset;r.renderText(t,o,0,a,i,n)}n&&r.unclipArea(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const o=r.toFont(n.font),a=r.toPadding(n.padding),s=n.align;let u=o.lineHeight/2;"bottom"===t||"center"===t||r.isObject(t)?(u+=a.bottom,r.isArray(n.text)&&(u+=o.lineHeight*(n.text.length-1))):u+=a.top;const{titleX:c,titleY:l,maxWidth:f,rotation:d}=function(e,t,n,i){const{top:o,left:a,bottom:s,right:u,chart:c}=e,{chartArea:l,scales:f}=c;let d,h,p,v=0;const y=s-o,g=u-a;if(e.isHorizontal()){if(h=r._alignStartEnd(i,a,u),r.isObject(n)){const e=Object.keys(n)[0],r=n[e];p=f[e].getPixelForValue(r)+y-t}else p="center"===n?(l.bottom+l.top)/2+y-t:Te(e,n,t);d=u-a}else{if(r.isObject(n)){const e=Object.keys(n)[0],r=n[e];h=f[e].getPixelForValue(r)-g+t}else h="center"===n?(l.left+l.right)/2-g+t:Te(e,n,t);p=r._alignStartEnd(i,s,o),v="left"===n?-r.HALF_PI:r.HALF_PI}return{titleX:h,titleY:p,maxWidth:d,rotation:v}}(this,u,t,s);r.renderText(e,n.text,0,0,o,{color:n.color,maxWidth:f,rotation:d,textAlign:ke(s,t,i),textBaseline:"middle",translation:[c,l]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=r.valueOrDefault(e.grid&&e.grid.z,-1),i=r.valueOrDefault(e.border&&e.border.z,0);return this._isVisible()&&this.draw===Re.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,o;for(i=0,o=t.length;i<o;++i){const o=t[i];o[n]!==this.id||e&&o.type!==e||r.push(o)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return r.toFont(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Le{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const i=this.items,o=e.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,function(e,t,n){const i=r.merge(Object.create(null),[n?r.defaults.get(n):{},r.defaults.get(t),e.defaults]);r.defaults.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const i=n.split("."),o=i.pop(),a=[e].concat(i).join("."),s=t[n].split("."),u=s.pop(),c=s.join(".");r.defaults.route(a,o,c,u)}))}(t,e.defaultRoutes),e.descriptors&&r.defaults.describe(t,e.descriptors)}(e,a,n),this.override&&r.defaults.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in r.defaults[i]&&(delete r.defaults[i][n],this.override&&delete r.overrides[n])}}class Ne{constructor(){this.controllers=new Le(S,"datasets",!0),this.elements=new Le(xe,"elements"),this.plugins=new Le(Object,"plugins"),this.scales=new Le(Re,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach((t=>{const i=n||this._getRegistryForType(t);n||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):r.each(t,(t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)}))}))}_exec(e,t,n){const i=r._capitalize(e);r.callback(n["before"+i],[],n),t[e](n),r.callback(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var De=new Ne;class Me{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,n,i){i=i||{};for(const o of e){const e=o.plugin,a=e[n],s=[t,i,o.options];if(!1===r.callback(a,s,e)&&i.cancelable)return!1}return!0}invalidate(){r.isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=r.valueOrDefault(n.options&&n.options.plugins,{}),o=function(e){const t={},n=[],r=Object.keys(De.plugins.items);for(let e=0;e<r.length;e++)n.push(De.getPlugin(r[e]));const i=e.plugins||[];for(let e=0;e<i.length;e++){const r=i[e];-1===n.indexOf(r)&&(n.push(r),t[r.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==i||t?function(e,{plugins:t,localIds:n},r,i){const o=[],a=e.getContext();for(const s of t){const t=s.id,u=je(r[t],i);null!==u&&o.push({plugin:s,options:Ue(e.config,{plugin:s,local:n[t]},u,a)})}return o}(e,o,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function je(e,t){return t||!1!==e?!0===e?{}:e:null}function Ue(e,{plugin:t,local:n},r,i){const o=e.pluginScopeKeys(t),a=e.getOptionScopes(r,o);return n&&t.defaults&&a.push(t.defaults),e.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Fe(e,t){const n=r.defaults.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function ze(e,t){if("x"===e||"y"===e||"r"===e)return e;var n;if(e=t.axis||("top"===(n=t.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||e.length>1&&ze(e[0].toLowerCase(),t))return e;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function Be(e){const t=e.options||(e.options={});t.plugins=r.valueOrDefault(t.plugins,{}),t.scales=function(e,t){const n=r.overrides[e.type]||{scales:{}},i=t.scales||{},o=Fe(e.type,t),a=Object.create(null);return Object.keys(i).forEach((e=>{const t=i[e];if(!r.isObject(t))return console.error(`Invalid scale configuration for scale: ${e}`);if(t._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const s=ze(e,t),u=function(e,t){return e===t?"_index_":"_value_"}(s,o),c=n.scales||{};a[e]=r.mergeIf(Object.create(null),[{axis:s},t,c[s],c[u]])})),e.data.datasets.forEach((n=>{const o=n.type||e.type,s=n.indexAxis||Fe(o,t),u=(r.overrides[o]||{}).scales||{};Object.keys(u).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,s),o=n[t+"AxisID"]||t;a[o]=a[o]||Object.create(null),r.mergeIf(a[o],[{axis:t},i[o],u[e]])}))})),Object.keys(a).forEach((e=>{const t=a[e];r.mergeIf(t,[r.defaults.scales[t.type],r.defaults.scale])})),a}(e,t)}function qe(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const Ke=new Map,He=new Set;function Ge(e,t){let n=Ke.get(e);return n||(n=t(),Ke.set(e,n),He.add(n)),n}const Ve=(e,t,n)=>{const i=r.resolveObjectKey(t,n);void 0!==i&&e.add(i)};class $e{constructor(e){this._config=function(e){return(e=e||{}).data=qe(e.data),Be(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=qe(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Be(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ge(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return Ge(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return Ge(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return Ge(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:i,type:o}=this,a=this._cachedScopes(e,n),s=a.get(t);if(s)return s;const u=new Set;t.forEach((t=>{e&&(u.add(e),t.forEach((t=>Ve(u,e,t)))),t.forEach((e=>Ve(u,i,e))),t.forEach((e=>Ve(u,r.overrides[o]||{},e))),t.forEach((e=>Ve(u,r.defaults,e))),t.forEach((e=>Ve(u,r.descriptors,e)))}));const c=Array.from(u);return 0===c.length&&c.push(Object.create(null)),He.has(t)&&a.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,r.overrides[t]||{},r.defaults.datasets[t]||{},{type:t},r.defaults,r.descriptors]}resolveNamedOptions(e,t,n,i=[""]){const o={$shared:!0},{resolver:a,subPrefixes:s}=We(this._resolverCache,e,i);let u=a;if(function(e,t){const{isScriptable:n,isIndexable:i}=r._descriptors(e);for(const o of t){const t=n(o),a=i(o),s=(a||t)&&e[o];if(t&&(r.isFunction(s)||Ye(s))||a&&r.isArray(s))return!0}return!1}(a,t)){o.$shared=!1,n=r.isFunction(n)?n():n;const t=this.createResolver(e,n,s);u=r._attachContext(a,n,t)}for(const e of t)o[e]=u[e];return o}createResolver(e,t,n=[""],i){const{resolver:o}=We(this._resolverCache,e,n);return r.isObject(t)?r._attachContext(o,t,void 0,i):o}}function We(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const o=n.join();let a=i.get(o);return a||(a={resolver:r._createResolver(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},i.set(o,a)),a}const Ye=e=>r.isObject(e)&&Object.getOwnPropertyNames(e).reduce(((t,n)=>t||r.isFunction(e[n])),!1),Ze=["top","bottom","left","right","chartArea"];function Je(e,t){return"top"===e||"bottom"===e||-1===Ze.indexOf(e)&&"x"===t}function Xe(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Qe(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),r.callback(n&&n.onComplete,[e],t)}function et(e){const t=e.chart,n=t.options.animation;r.callback(n&&n.onProgress,[e],t)}function tt(e){return r._isDomSupported()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const nt={},rt=e=>{const t=tt(e);return Object.values(nt).filter((e=>e.canvas===t)).pop()};function it(e,t,n){const r=Object.keys(e);for(const i of r){const r=+i;if(r>=t){const o=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=o)}}}class ot{static defaults=r.defaults;static instances=nt;static overrides=r.overrides;static registry=De;static version="4.2.0";static getChart=rt;static register(...e){De.add(...e),at()}static unregister(...e){De.remove(...e),at()}constructor(e,t){const n=this.config=new $e(t),i=tt(e),a=rt(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||_e(i)),this.platform.updateConfig(n);const u=this.platform.acquireContext(i,s.aspectRatio),c=u&&u.canvas,l=c&&c.height,f=c&&c.width;this.id=r.uid(),this.ctx=u,this.canvas=c,this.width=f,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Me,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=r.debounce((e=>this.update(e)),s.resizeDelay||0),this._dataChanges=[],nt[this.id]=this,u&&c?(o.listen(this,"complete",Qe),o.listen(this,"progress",et),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:o}=this;return r.isNullOrUndef(e)?t&&o?o:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return De}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():r.retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return r.clearCanvas(this.canvas,this.ctx),this}stop(){return o.stop(this),this}resize(e,t){o.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,o),s=n.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,r.retinaScale(this,s,!0)&&(this.notifyPlugins("resize",{size:a}),r.callback(n.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};r.each(e,((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let o=[];t&&(o=o.concat(Object.keys(t).map((e=>{const n=t[e],r=ze(e,n),i="r"===r,o="x"===r;return{options:n,dposition:i?"chartArea":o?"bottom":"left",dtype:i?"radialLinear":o?"category":"linear"}})))),r.each(o,(t=>{const o=t.options,a=o.id,s=ze(a,o),u=r.valueOrDefault(o.type,t.dtype);void 0!==o.position&&Je(o.position,s)===Je(t.dposition)||(o.position=t.dposition),i[a]=!0;let c=null;a in n&&n[a].type===u?c=n[a]:(c=new(De.getScale(u))({id:a,type:u,ctx:this.ctx,chart:this}),n[c.id]=c),c.init(o,e)})),r.each(i,((e,t)=>{e||delete n[t]})),r.each(n,(e=>{oe.configure(this,e,e.options),oe.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Xe("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const i=t[n];let o=this.getDatasetMeta(n);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=a,o.indexAxis=i.indexAxis||Fe(a,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const t=De.getController(a),{datasetElementType:i,dataElementType:s}=r.defaults.datasets[a];Object.assign(t,{dataElementType:De.getElement(s),datasetElementType:i&&De.getElement(i)}),o.controller=new t(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){r.each(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let e=0,t=this.data.datasets.length;e<t;e++){const{controller:t}=this.getDatasetMeta(e),n=!i&&-1===o.indexOf(t);t.buildOrUpdateElements(n),a=Math.max(+t.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),i||r.each(o,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Xe("z","_idx"));const{_active:s,_lastEvent:u}=this;u?this._eventHandler(u,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){r.each(this.scales,(e=>{oe.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);r.setsEqual(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of t)it(e,r,"_removeElements"===n?-i:i)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),i=n(0);for(let e=1;e<t;e++)if(!r.setsEqual(i,n(e)))return;return Array.from(i).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;oe.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],r.each(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,r.isFunction(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(o.has(this)?this.attached&&!o.running(this)&&o.start(this):(this.draw(),Qe({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,i=!n.disabled,o=function(e){const{xScale:t,yScale:n}=e;if(t&&n)return{left:t.left,right:t.right,top:n.top,bottom:n.bottom}}(e)||this.chartArea,a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(i&&r.clipArea(t,{left:!1===n.left?0:o.left-n.left,right:!1===n.right?this.width:o.right+n.right,top:!1===n.top?0:o.top-n.top,bottom:!1===n.bottom?this.height:o.bottom+n.bottom}),e.controller.draw(),i&&r.unclipArea(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return r._isPointInArea(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const i=$.modes[t];return"function"==typeof i?i(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter((e=>e&&e._dataset===t)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=r.createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"==typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",o=this.getDatasetMeta(e),a=o.controller._resolveAnimations(void 0,i);r.defined(t)?(o.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(o,{visible:n}),this.update((t=>t.datasetIndex===e?i:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),o.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),r.clearCanvas(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete nt[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},i=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};r.each(this.options.events,(e=>n(e,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){r.each(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},r.each(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let i,o,a,s;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,s=e.length;a<s;++a){o=e[a];const t=o&&this.getDatasetMeta(o.datasetIndex).controller;t&&t[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((({datasetIndex:e,index:t})=>{const n=this.getDatasetMeta(e);if(!n)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:n.data[t],index:t}}));!r._elementsEqual(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const r=this.options.hover,i=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),o=i(t,e),a=n?e:i(e,t);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:o}=this,a=t,s=this._getActiveElements(e,i,n,a),u=r._isClickEvent(e),c=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,u);n&&(this._lastEvent=null,r.callback(o.onHover,[e,s,this],this),u&&r.callback(o.onClick,[e,s,this],this));const l=!r._elementsEqual(s,i);return(l||t)&&(this._active=s,this._updateHoverStyles(s,i,t)),this._lastEvent=c,l}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}function at(){return r.each(ot.instances,(e=>e._plugins.invalidate()))}function st(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function ut(e,t,n,i,o,a){const{x:s,y:u,startAngle:c,pixelMargin:l,innerRadius:f}=t,d=Math.max(t.outerRadius+i+n-l,0),h=f>0?f+i+n+l:0;let p=0;const v=o-c;if(i){const e=((f>0?f-i:0)+(d>0?d-i:0))/2;p=(v-(0!==e?v*e/(e+i):v))/2}const y=(v-Math.max(.001,v*d-n/r.PI)/d)/2,g=c+y+p,m=o-y-p,{outerStart:b,outerEnd:w,innerStart:S,innerEnd:E}=function(e,t,n,i){const o=(a=e.options.borderRadius,r._readValueToProps(a,["outerStart","outerEnd","innerStart","innerEnd"]));var a;const s=(n-t)/2,u=Math.min(s,i*t/2),c=e=>{const t=(n-Math.min(s,e))*i/2;return r._limitValue(e,0,Math.min(s,t))};return{outerStart:c(o.outerStart),outerEnd:c(o.outerEnd),innerStart:r._limitValue(o.innerStart,0,u),innerEnd:r._limitValue(o.innerEnd,0,u)}}(t,h,d,m-g),_=d-b,x=d-w,A=g+b/_,T=m-w/x,C=h+S,I=h+E,P=g+S/C,O=m-E/I;if(e.beginPath(),a){const t=(A+T)/2;if(e.arc(s,u,d,A,t),e.arc(s,u,d,t,T),w>0){const t=st(x,T,s,u);e.arc(t.x,t.y,w,T,m+r.HALF_PI)}const n=st(I,m,s,u);if(e.lineTo(n.x,n.y),E>0){const t=st(I,O,s,u);e.arc(t.x,t.y,E,m+r.HALF_PI,O+Math.PI)}const i=(m-E/h+(g+S/h))/2;if(e.arc(s,u,h,m-E/h,i,!0),e.arc(s,u,h,i,g+S/h,!0),S>0){const t=st(C,P,s,u);e.arc(t.x,t.y,S,P+Math.PI,g-r.HALF_PI)}const o=st(_,g,s,u);if(e.lineTo(o.x,o.y),b>0){const t=st(_,A,s,u);e.arc(t.x,t.y,b,g-r.HALF_PI,A)}}else{e.moveTo(s,u);const t=Math.cos(A)*d+s,n=Math.sin(A)*d+u;e.lineTo(t,n);const r=Math.cos(T)*d+s,i=Math.sin(T)*d+u;e.lineTo(r,i)}e.closePath()}class ct extends xe{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:o,distance:a}=r.getAngleFromPoint(i,{x:e,y:t}),{startAngle:s,endAngle:u,innerRadius:c,outerRadius:l,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=this.options.spacing/2,h=r.valueOrDefault(f,u-s)>=r.TAU||r._angleBetween(o,s,u),p=r._isBetween(a,c+d,l+d);return h&&p}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:i,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:s,spacing:u}=this.options,c=(r+i)/2,l=(o+a+u+s)/2;return{x:t+Math.cos(c)*l,y:n+Math.sin(c)*l}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,i=(t.offset||0)/4,o=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>r.TAU?Math.floor(n/r.TAU):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const s=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(s)*i,Math.sin(s)*i);const u=i*(1-Math.sin(Math.min(r.PI,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,i,o){const{fullCircles:a,startAngle:s,circumference:u}=t;let c=t.endAngle;if(a){ut(e,t,n,i,c,o);for(let t=0;t<a;++t)e.fill();isNaN(u)||(c=s+(u%r.TAU||r.TAU))}ut(e,t,n,i,c,o),e.fill()}(e,this,u,o,a),function(e,t,n,i,o){const{fullCircles:a,startAngle:s,circumference:u,options:c}=t,{borderWidth:l,borderJoinStyle:f}=c,d="inner"===c.borderAlign;if(!l)return;d?(e.lineWidth=2*l,e.lineJoin=f||"round"):(e.lineWidth=l,e.lineJoin=f||"bevel");let h=t.endAngle;if(a){ut(e,t,n,i,h,o);for(let t=0;t<a;++t)e.stroke();isNaN(u)||(h=s+(u%r.TAU||r.TAU))}d&&function(e,t,n){const{startAngle:i,pixelMargin:o,x:a,y:s,outerRadius:u,innerRadius:c}=t;let l=o/u;e.beginPath(),e.arc(a,s,u,i-l,n+l),c>o?(l=o/c,e.arc(a,s,c,n+l,i-l,!0)):e.arc(a,s,o,n+r.HALF_PI,i-r.HALF_PI),e.closePath(),e.clip()}(e,t,h),a||(ut(e,t,n,i,h,o),e.stroke())}(e,this,u,o,a),e.restore()}}function lt(e,t,n=t){e.lineCap=r.valueOrDefault(n.borderCapStyle,t.borderCapStyle),e.setLineDash(r.valueOrDefault(n.borderDash,t.borderDash)),e.lineDashOffset=r.valueOrDefault(n.borderDashOffset,t.borderDashOffset),e.lineJoin=r.valueOrDefault(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=r.valueOrDefault(n.borderWidth,t.borderWidth),e.strokeStyle=r.valueOrDefault(n.borderColor,t.borderColor)}function ft(e,t,n){e.lineTo(n.x,n.y)}function dt(e,t,n={}){const r=e.length,{start:i=0,end:o=r-1}=n,{start:a,end:s}=t,u=Math.max(i,a),c=Math.min(o,s),l=i<a&&o<a||i>s&&o>s;return{count:r,start:u,loop:t.loop,ilen:c<u&&!l?r+c-u:c-u}}function ht(e,t,n,i){const{points:o,options:a}=t,{count:s,start:u,loop:c,ilen:l}=dt(o,n,i),f=function(e){return e.stepped?r._steppedLineTo:e.tension||"monotone"===e.cubicInterpolationMode?r._bezierCurveTo:ft}(a);let d,h,p,{move:v=!0,reverse:y}=i||{};for(d=0;d<=l;++d)h=o[(u+(y?l-d:d))%s],h.skip||(v?(e.moveTo(h.x,h.y),v=!1):f(e,p,h,y,a.stepped),p=h);return c&&(h=o[(u+(y?l:0))%s],f(e,p,h,y,a.stepped)),!!c}function pt(e,t,n,r){const i=t.points,{count:o,start:a,ilen:s}=dt(i,n,r),{move:u=!0,reverse:c}=r||{};let l,f,d,h,p,v,y=0,g=0;const m=e=>(a+(c?s-e:e))%o,b=()=>{h!==p&&(e.lineTo(y,p),e.lineTo(y,h),e.lineTo(y,v))};for(u&&(f=i[m(0)],e.moveTo(f.x,f.y)),l=0;l<=s;++l){if(f=i[m(l)],f.skip)continue;const t=f.x,n=f.y,r=0|t;r===d?(n<h?h=n:n>p&&(p=n),y=(g*y+t)/++g):(b(),e.lineTo(t,n),d=r,g=0,h=p=n),v=n}b()}function vt(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||n?ht:pt}const yt="function"==typeof Path2D;class gt extends xe{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;r._updateBezierControlPoints(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=r._computeSegments(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],o=this.points,a=r._boundSegments(this,{property:t,start:i,end:i});if(!a.length)return;const s=[],u=function(e){return e.stepped?r._steppedInterpolation:e.tension||"monotone"===e.cubicInterpolationMode?r._bezierInterpolation:r._pointInLine}(n);let c,l;for(c=0,l=a.length;c<l;++c){const{start:r,end:l}=a[c],f=o[r],d=o[l];if(f===d){s.push(f);continue}const h=u(f,d,Math.abs((i-f[t])/(d[t]-f[t])),n.stepped);h[t]=e[t],s.push(h)}return 1===s.length?s[0]:s}pathSegment(e,t,n){return vt(this)(e,this,t,n)}path(e,t,n){const r=this.segments,i=vt(this);let o=this._loop;t=t||0,n=n||this.points.length-t;for(const a of r)o&=i(e,this,a,{start:t,end:t+n-1});return!!o}draw(e,t,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),function(e,t,n,r){yt&&!t.options.segment?function(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),lt(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){const{segments:i,options:o}=t,a=vt(t);for(const s of i)lt(e,o,s.style),e.beginPath(),a(e,t,s,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function mt(e,t,n,r){const i=e.options,{[n]:o}=e.getProps([n],r);return Math.abs(t-o)<i.radius+i.hitRadius}class bt extends xe{static id="point";static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:i,y:o}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return mt(this,e,"x",t)}inYRange(e,t){return mt(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;return t=Math.max(t,t&&e.hoverRadius||0),2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!r._isPointInArea(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,r.drawPoint(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function wt(e,t){const{x:n,y:r,base:i,width:o,height:a}=e.getProps(["x","y","base","width","height"],t);let s,u,c,l,f;return e.horizontal?(f=a/2,s=Math.min(n,i),u=Math.max(n,i),c=r-f,l=r+f):(f=o/2,s=n-f,u=n+f,c=Math.min(r,i),l=Math.max(r,i)),{left:s,top:c,right:u,bottom:l}}function St(e,t,n,i){return e?0:r._limitValue(t,n,i)}function Et(e,t,n,i){const o=null===t,a=null===n,s=e&&!(o&&a)&&wt(e,i);return s&&(o||r._isBetween(t,s.left,s.right))&&(a||r._isBetween(n,s.top,s.bottom))}function _t(e,t){e.rect(t.x,t.y,t.w,t.h)}function xt(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-r,a=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+o,h:e.h+a,radius:e.radius}}class At extends xe{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:o,outer:a}=function(e){const t=wt(e),n=t.right-t.left,i=t.bottom-t.top,o=function(e,t,n){const i=e.options.borderWidth,o=e.borderSkipped,a=r.toTRBL(i);return{t:St(o.top,a.top,0,n),r:St(o.right,a.right,0,t),b:St(o.bottom,a.bottom,0,n),l:St(o.left,a.left,0,t)}}(e,n/2,i/2),a=function(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),o=e.options.borderRadius,a=r.toTRBLCorners(o),s=Math.min(t,n),u=e.borderSkipped,c=i||r.isObject(o);return{topLeft:St(!c||u.top||u.left,a.topLeft,0,s),topRight:St(!c||u.top||u.right,a.topRight,0,s),bottomLeft:St(!c||u.bottom||u.left,a.bottomLeft,0,s),bottomRight:St(!c||u.bottom||u.right,a.bottomRight,0,s)}}(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:a},inner:{x:t.left+o.l,y:t.top+o.t,w:n-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,a.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(o.b,o.r))}}}}(this),s=(u=a.radius).topLeft||u.topRight||u.bottomLeft||u.bottomRight?r.addRoundedRectPath:_t;var u;e.save(),a.w===o.w&&a.h===o.h||(e.beginPath(),s(e,xt(a,t,o)),e.clip(),s(e,xt(o,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),s(e,xt(o,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return Et(this,e,t,n)}inXRange(e,t){return Et(this,e,null,t)}inYRange(e,t){return Et(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+r)/2:t,y:i?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}var Tt=Object.freeze({__proto__:null,ArcElement:ct,LineElement:gt,PointElement:bt,BarElement:At});const Ct=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],It=Ct.map((e=>e.replace("rgb(","rgba(").replace(")",", 0.5)")));function Pt(e){return Ct[e%Ct.length]}function Ot(e){return It[e%It.length]}function kt(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var Rt={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=e.config,{elements:o}=i;if(!n.forceOverride&&(kt(r)||(a=i)&&(a.borderColor||a.backgroundColor)||o&&kt(o)))return;var a;const s=function(e){let t=0;return(n,r)=>{const i=e.getDatasetMeta(r).controller;i instanceof R?t=function(e,t){return e.backgroundColor=e.data.map((()=>Pt(t++))),t}(n,t):i instanceof N?t=function(e,t){return e.backgroundColor=e.data.map((()=>Ot(t++))),t}(n,t):i&&(t=function(e,t){return e.borderColor=Pt(t),e.backgroundColor=Ot(t),++t}(n,t))}}(e);r.forEach(s)}};function Lt(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:t})}}function Nt(e){e.data.datasets.forEach((e=>{Lt(e)}))}var Dt={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled)return void Nt(e);const i=e.width;e.data.datasets.forEach(((t,o)=>{const{_data:a,indexAxis:s}=t,u=e.getDatasetMeta(o),c=a||t.data;if("y"===r.resolve([s,e.options.indexAxis]))return;if(!u.controller.supportsDecimation)return;const l=e.scales[u.xAxisID];if("linear"!==l.type&&"time"!==l.type)return;if(e.options.parsing)return;let f,{start:d,count:h}=function(e,t){const n=t.length;let i,o=0;const{iScale:a}=e,{min:s,max:u,minDefined:c,maxDefined:l}=a.getUserBounds();return c&&(o=r._limitValue(r._lookupByKey(t,a.axis,s).lo,0,n-1)),i=l?r._limitValue(r._lookupByKey(t,a.axis,u).hi+1,o,n)-o:n-o,{start:o,count:i}}(u,c);if(h<=(n.threshold||4*i))Lt(t);else{switch(r.isNullOrUndef(a)&&(t._data=c,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":f=function(e,t,n,r,i){const o=i.samples||r;if(o>=n)return e.slice(t,t+n);const a=[],s=(n-2)/(o-2);let u=0;const c=t+n-1;let l,f,d,h,p,v=t;for(a[u++]=e[v],l=0;l<o-2;l++){let r,i=0,o=0;const c=Math.floor((l+1)*s)+1+t,y=Math.min(Math.floor((l+2)*s)+1,n)+t,g=y-c;for(r=c;r<y;r++)i+=e[r].x,o+=e[r].y;i/=g,o/=g;const m=Math.floor(l*s)+1+t,b=Math.min(Math.floor((l+1)*s)+1,n)+t,{x:w,y:S}=e[v];for(d=h=-1,r=m;r<b;r++)h=.5*Math.abs((w-i)*(e[r].y-S)-(w-e[r].x)*(o-S)),h>d&&(d=h,f=e[r],p=r);a[u++]=f,v=p}return a[u++]=e[c],a}(c,d,h,i,n);break;case"min-max":f=function(e,t,n,i){let o,a,s,u,c,l,f,d,h,p,v=0,y=0;const g=[],m=t+n-1,b=e[t].x,w=e[m].x-b;for(o=t;o<t+n;++o){a=e[o],s=(a.x-b)/w*i,u=a.y;const t=0|s;if(t===c)u<h?(h=u,l=o):u>p&&(p=u,f=o),v=(y*v+a.x)/++y;else{const n=o-1;if(!r.isNullOrUndef(l)&&!r.isNullOrUndef(f)){const t=Math.min(l,f),r=Math.max(l,f);t!==d&&t!==n&&g.push({...e[t],x:v}),r!==d&&r!==n&&g.push({...e[r],x:v})}o>0&&n!==d&&g.push(e[n]),g.push(a),c=t,y=0,h=p=u,l=f=d=o}}return g}(c,d,h,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}t._decimated=f}}))},destroy(e){Nt(e)}};function Mt(e,t,n,i){if(i)return;let o=t[e],a=n[e];return"angle"===e&&(o=r._normalizeAngle(o),a=r._normalizeAngle(a)),{property:e,start:o,end:a}}function jt(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function Ut(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function Ft(e,t){let n=[],i=!1;return r.isArray(e)?(i=!0,n=e):n=function(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,o=[];return t.segments.forEach((({start:e,end:t})=>{t=jt(e,t,i);const a=i[e],s=i[t];null!==r?(o.push({x:a.x,y:r}),o.push({x:s.x,y:r})):null!==n&&(o.push({x:n,y:a.y}),o.push({x:n,y:s.y}))})),o}(e,t),n.length?new gt({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function zt(e){return e&&!1!==e.fill}function Bt(e,t,n){let i=e[t].fill;const o=[t];let a;if(!n)return i;for(;!1!==i&&-1===o.indexOf(i);){if(!r.isNumberFinite(i))return i;if(a=e[i],!a)return!1;if(a.visible)return i;o.push(i),i=a.fill}return!1}function qt(e,t,n){const i=function(e){const t=e.options,n=t.fill;let i=r.valueOrDefault(n&&n.target,n);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(e);if(r.isObject(i))return!isNaN(i.value)&&i;let o=parseFloat(i);return r.isNumberFinite(o)&&Math.floor(o)===o?function(e,t,n,r){return"-"!==e&&"+"!==e||(n=t+n),!(n===t||n<0||n>=r)&&n}(i[0],t,o,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Kt(e,t,n){const r=[];for(let i=0;i<n.length;i++){const o=n[i],{first:a,last:s,point:u}=Ht(o,t,"x");if(!(!u||a&&s))if(a)r.unshift(u);else if(e.push(u),!s)break}e.push(...r)}function Ht(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const o=i[n],a=e.segments,s=e.points;let u=!1,c=!1;for(let e=0;e<a.length;e++){const t=a[e],i=s[t.start][n],l=s[t.end][n];if(r._isBetween(o,i,l)){u=o===i,c=o===l;break}}return{first:u,last:c,point:i}}class Gt{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:i,y:o,radius:a}=this;return t=t||{start:0,end:r.TAU},e.arc(i,o,a,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:r}=this,i=e.angle;return{x:t+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}function Vt(e,t,n){const i=function(e){const{chart:t,fill:n,line:i}=e;if(r.isNumberFinite(n))return function(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:r}=e,i=[],o=r.segments,a=r.points,s=function(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let e=0;e<r.length;e++){const i=r[e];if(i.index===t)break;i.hidden||n.unshift(i.dataset)}return n}(t,n);s.push(Ft({x:null,y:t.bottom},r));for(let e=0;e<o.length;e++){const t=o[e];for(let e=t.start;e<=t.end;e++)Kt(i,a[e],s)}return new gt({points:i,options:{}})}(e);if("shape"===n)return!0;const o=function(e){return(e.scale||{}).getPointPositionForValue?function(e){const{scale:t,fill:n}=e,i=t.options,o=t.getLabels().length,a=i.reverse?t.max:t.min,s=function(e,t,n){let i;return i="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:r.isObject(e)?e.value:t.getBaseValue(),i}(n,t,a),u=[];if(i.grid.circular){const e=t.getPointPositionForValue(0,a);return new Gt({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(s)})}for(let e=0;e<o;++e)u.push(t.getPointPositionForValue(e,s));return u}(e):function(e){const{scale:t={},fill:n}=e,i=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:r.isObject(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(r.isNumberFinite(i)){const e=t.isHorizontal();return{x:e?i:null,y:e?null:i}}return null}(e)}(e);return o instanceof Gt?o:Ft(o,i)}(t),{line:o,scale:a,axis:s}=t,u=o.options,c=u.fill,l=u.backgroundColor,{above:f=l,below:d=l}=c||{};i&&o.points.length&&(r.clipArea(e,n),function(e,t){const{line:n,target:r,above:i,below:o,area:a,scale:s}=t,u=n._loop?"angle":t.axis;e.save(),"x"===u&&o!==i&&($t(e,r,a.top),Wt(e,{line:n,target:r,color:i,scale:s,property:u}),e.restore(),e.save(),$t(e,r,a.bottom)),Wt(e,{line:n,target:r,color:o,scale:s,property:u}),e.restore()}(e,{line:o,target:i,above:f,below:d,area:n,scale:a,axis:s}),r.unclipArea(e))}function $t(e,t,n){const{segments:r,points:i}=t;let o=!0,a=!1;e.beginPath();for(const s of r){const{start:r,end:u}=s,c=i[r],l=i[jt(r,u,i)];o?(e.moveTo(c.x,c.y),o=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),a=!!t.pathSegment(e,s,{move:a}),a?e.closePath():e.lineTo(l.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Wt(e,t){const{line:n,target:i,property:o,color:a,scale:s}=t,u=function(e,t,n){const i=e.segments,o=e.points,a=t.points,s=[];for(const e of i){let{start:i,end:u}=e;u=jt(i,u,o);const c=Mt(n,o[i],o[u],e.loop);if(!t.segments){s.push({source:e,target:c,start:o[i],end:o[u]});continue}const l=r._boundSegments(t,c);for(const t of l){const i=Mt(n,a[t.start],a[t.end],t.loop),u=r._boundSegment(e,o,i);for(const e of u)s.push({source:e,target:t,start:{[n]:Ut(c,i,"start",Math.max)},end:{[n]:Ut(c,i,"end",Math.min)}})}}return s}(n,i,o);for(const{source:t,target:r,start:c,end:l}of u){const{style:{backgroundColor:u=a}={}}=t,f=!0!==i;e.save(),e.fillStyle=u,Yt(e,s,f&&Mt(o,c,l)),e.beginPath();const d=!!n.pathSegment(e,t);let h;if(f){d?e.closePath():Zt(e,i,l,o);const t=!!i.pathSegment(e,r,{move:d,reverse:!0});h=d&&t,h||Zt(e,i,c,o)}e.closePath(),e.fill(h?"evenodd":"nonzero"),e.restore()}}function Yt(e,t,n){const{top:r,bottom:i}=t.chart.chartArea,{property:o,start:a,end:s}=n||{};"x"===o&&(e.beginPath(),e.rect(a,r,s-a,i-r),e.clip())}function Zt(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var Jt={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let o,a,s,u;for(a=0;a<r;++a)o=e.getDatasetMeta(a),s=o.dataset,u=null,s&&s.options&&s instanceof gt&&(u={visible:e.isDatasetVisible(a),index:a,fill:qt(s,a,r),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:s}),o.$filler=u,i.push(u);for(a=0;a<r;++a)u=i[a],u&&!1!==u.fill&&(u.fill=Bt(i,a,n.propagate))},beforeDraw(e,t,n){const r="beforeDraw"===n.drawTime,i=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let t=i.length-1;t>=0;--t){const n=i[t].$filler;n&&(n.line.updateControlPoints(o,n.axis),r&&n.fill&&Vt(e.ctx,n,o))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=e.getSortedVisibleDatasetMetas();for(let t=r.length-1;t>=0;--t){const n=r[t].$filler;zt(n)&&Vt(e.ctx,n,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;zt(r)&&"beforeDatasetDraw"===n.drawTime&&Vt(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Xt=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class Qt extends xe{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=r.callback(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,i=r.toFont(n.font),o=i.size,a=this._computeTitleHeight(),{boxWidth:s,itemHeight:u}=Xt(n,o);let c,l;t.font=i.string,this.isHorizontal()?(c=this.maxWidth,l=this._fitRows(a,o,s,u)+10):(l=this.maxHeight,c=this._fitCols(a,i,s,u)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(l,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],u=this.lineWidths=[0],c=r+a;let l=e;i.textAlign="left",i.textBaseline="middle";let f=-1,d=-c;return this.legendItems.forEach(((e,h)=>{const p=n+t/2+i.measureText(e.text).width;(0===h||u[u.length-1]+p+2*a>o)&&(l+=c,u[u.length-(h>0?0:1)]=0,d+=c,f++),s[h]={left:0,top:d,row:f,width:p,height:r},u[u.length-1]+=p+a})),l}_fitCols(e,t,n,r){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-e;let l=a,f=0,d=0,h=0,p=0;return this.legendItems.forEach(((e,o)=>{const{itemWidth:v,itemHeight:y}=function(e,t,n,r,i){const o=function(e,t,n,r){let i=e.text;return i&&"string"!=typeof i&&(i=i.reduce(((e,t)=>e.length>t.length?e:t))),t+n.size/2+r.measureText(i).width}(r,e,t,n),a=function(e,t,n){let r=e;return"string"!=typeof t.text&&(r=en(t,n)),r}(i,r,t.lineHeight);return{itemWidth:o,itemHeight:a}}(n,t,i,e,r);o>0&&d+y+2*a>c&&(l+=f+a,u.push({width:f,height:d}),h+=f+a,p++,f=d=0),s[o]={left:h,top:d,col:p,width:v,height:y},f=Math.max(f,v),d+=y+a})),l+=f,u.push({width:f,height:d}),l}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:o}}=this,a=r.getRtlAdapter(o,this.left,this.width);if(this.isHorizontal()){let o=0,s=r._alignStartEnd(n,this.left+i,this.right-this.lineWidths[o]);for(const u of t)o!==u.row&&(o=u.row,s=r._alignStartEnd(n,this.left+i,this.right-this.lineWidths[o])),u.top+=this.top+e+i,u.left=a.leftForLtr(a.x(s),u.width),s+=u.width+i}else{let o=0,s=r._alignStartEnd(n,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const u of t)u.col!==o&&(o=u.col,s=r._alignStartEnd(n,this.top+e+i,this.bottom-this.columnSizes[o].height)),u.top=s,u.left+=this.left+i,u.left=a.leftForLtr(a.x(u.left),u.width),s+=u.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;r.clipArea(e,this),this._draw(),r.unclipArea(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:o,labels:a}=e,s=r.defaults.color,u=r.getRtlAdapter(e.rtl,this.left,this.width),c=r.toFont(a.font),{padding:l}=a,f=c.size,d=f/2;let h;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:v,itemHeight:y}=Xt(a,f),g=this.isHorizontal(),m=this._computeTitleHeight();h=g?{x:r._alignStartEnd(o,this.left+l,this.right-n[0]),y:this.top+l+m,line:0}:{x:this.left+l,y:r._alignStartEnd(o,this.top+m+l,this.bottom-t[0].height),line:0},r.overrideTextDirection(this.ctx,e.textDirection);const b=y+l;this.legendItems.forEach(((w,S)=>{i.strokeStyle=w.fontColor,i.fillStyle=w.fontColor;const E=i.measureText(w.text).width,_=u.textAlign(w.textAlign||(w.textAlign=a.textAlign)),x=p+d+E;let A=h.x,T=h.y;if(u.setWidth(this.width),g?S>0&&A+x+l>this.right&&(T=h.y+=b,h.line++,A=h.x=r._alignStartEnd(o,this.left+l,this.right-n[h.line])):S>0&&T+b>this.bottom&&(A=h.x=A+t[h.line].width+l,h.line++,T=h.y=r._alignStartEnd(o,this.top+m+l,this.bottom-t[h.line].height)),function(e,t,n){if(isNaN(p)||p<=0||isNaN(v)||v<0)return;i.save();const o=r.valueOrDefault(n.lineWidth,1);if(i.fillStyle=r.valueOrDefault(n.fillStyle,s),i.lineCap=r.valueOrDefault(n.lineCap,"butt"),i.lineDashOffset=r.valueOrDefault(n.lineDashOffset,0),i.lineJoin=r.valueOrDefault(n.lineJoin,"miter"),i.lineWidth=o,i.strokeStyle=r.valueOrDefault(n.strokeStyle,s),i.setLineDash(r.valueOrDefault(n.lineDash,[])),a.usePointStyle){const s={radius:v*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:o},c=u.xPlus(e,p/2),l=t+d;r.drawPointLegend(i,s,c,l,a.pointStyleWidth&&p)}else{const a=t+Math.max((f-v)/2,0),s=u.leftForLtr(e,p),c=r.toTRBLCorners(n.borderRadius);i.beginPath(),Object.values(c).some((e=>0!==e))?r.addRoundedRectPath(i,{x:s,y:a,w:p,h:v,radius:c}):i.rect(s,a,p,v),i.fill(),0!==o&&i.stroke()}i.restore()}(u.x(A),T,w),A=r._textX(_,A+p+d,g?A+x:this.right,e.rtl),function(e,t,n){r.renderText(i,n.text,e,t+y/2,c,{strikethrough:n.hidden,textAlign:u.textAlign(n.textAlign)})}(u.x(A),T,w),g)h.x+=x+l;else if("string"!=typeof w.text){const e=c.lineHeight;h.y+=en(w,e)}else h.y+=b})),r.restoreTextDirection(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=r.toFont(t.font),i=r.toPadding(t.padding);if(!t.display)return;const o=r.getRtlAdapter(e.rtl,this.left,this.width),a=this.ctx,s=t.position,u=n.size/2,c=i.top+u;let l,f=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),l=this.top+c,f=r._alignStartEnd(e.align,f,this.right-d);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);l=c+r._alignStartEnd(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=r._alignStartEnd(s,f,f+d);a.textAlign=o.textAlign(r._toLeftRightCenter(s)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,r.renderText(a,t.text,h,l,n)}_computeTitleHeight(){const e=this.options.title,t=r.toFont(e.font),n=r.toPadding(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,o;if(r._isBetween(e,this.left,this.right)&&r._isBetween(t,this.top,this.bottom))for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(i=o[n],r._isBetween(e,i.left,i.left+i.width)&&r._isBetween(t,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){return!("mousemove"!==e&&"mouseout"!==e||!t.onHover&&!t.onLeave)||!(!t.onClick||"click"!==e&&"mouseup"!==e)}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const a=this._hoveredItem,s=(o=n,null!==(i=a)&&null!==o&&i.datasetIndex===o.datasetIndex&&i.index===o.index);a&&!s&&r.callback(t.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!s&&r.callback(t.onHover,[e,n,this],this)}else n&&r.callback(t.onClick,[e,n,this],this);var i,o}}function en(e,t){return t*(e.text?e.text.length+.5:0)}var tn={id:"legend",_element:Qt,start(e,t,n){const r=e.legend=new Qt({ctx:e.ctx,options:n,chart:e});oe.configure(e,r,n),oe.addBox(e,r)},stop(e){oe.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;oe.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:o,color:a,useBorderRadius:s,borderRadius:u}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const c=e.controller.getStyle(n?0:void 0),l=r.toPadding(c.borderWidth);return{text:t[e.index].label,fillStyle:c.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:o||c.textAlign,borderRadius:s&&(u||c.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class nn extends xe{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const i=r.isArray(n.text)?n.text.length:1;this._padding=r.toPadding(n.padding);const o=i*r.toFont(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:i,right:o,options:a}=this,s=a.align;let u,c,l,f=0;return this.isHorizontal()?(c=r._alignStartEnd(s,n,o),l=t+e,u=o-n):("left"===a.position?(c=n+e,l=r._alignStartEnd(s,i,t),f=-.5*r.PI):(c=o-e,l=r._alignStartEnd(s,t,i),f=.5*r.PI),u=i-t),{titleX:c,titleY:l,maxWidth:u,rotation:f}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=r.toFont(t.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:s,rotation:u}=this._drawArgs(i);r.renderText(e,t.text,0,0,n,{color:t.color,maxWidth:s,rotation:u,textAlign:r._toLeftRightCenter(t.align),textBaseline:"middle",translation:[o,a]})}}var rn={id:"title",_element:nn,start(e,t,n){!function(e,t){const n=new nn({ctx:e.ctx,options:t,chart:e});oe.configure(e,n,t),oe.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;oe.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;oe.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const on=new WeakMap;var an={id:"subtitle",start(e,t,n){const r=new nn({ctx:e.ctx,options:n,chart:e});oe.configure(e,r,n),oe.addBox(e,r),on.set(e,r)},stop(e){oe.removeBox(e,on.get(e)),on.delete(e)},beforeUpdate(e,t,n){const r=on.get(e);oe.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const sn={average(e){if(!e.length)return!1;let t,n,r=0,i=0,o=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r+=e.x,i+=e.y,++o}}return{x:r/o,y:i/o}},nearest(e,t){if(!e.length)return!1;let n,i,o,a=t.x,s=t.y,u=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){const i=e[n].element;if(i&&i.hasValue()){const e=i.getCenterPoint(),n=r.distanceBetweenPoints(t,e);n<u&&(u=n,o=i)}}if(o){const e=o.tooltipPosition();a=e.x,s=e.y}return{x:a,y:s}}};function un(e,t){return t&&(r.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function cn(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function ln(e,t){const{element:n,datasetIndex:r,index:i}=t,o=e.getDatasetMeta(r).controller,{label:a,value:s}=o.getLabelAndValue(i);return{chart:e,label:a,parsed:o.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:s,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function fn(e,t){const n=e.chart.ctx,{body:i,footer:o,title:a}=e,{boxWidth:s,boxHeight:u}=t,c=r.toFont(t.bodyFont),l=r.toFont(t.titleFont),f=r.toFont(t.footerFont),d=a.length,h=o.length,p=i.length,v=r.toPadding(t.padding);let y=v.height,g=0,m=i.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);m+=e.beforeBody.length+e.afterBody.length,d&&(y+=d*l.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),m&&(y+=p*(t.displayColors?Math.max(u,c.lineHeight):c.lineHeight)+(m-p)*c.lineHeight+(m-1)*t.bodySpacing),h&&(y+=t.footerMarginTop+h*f.lineHeight+(h-1)*t.footerSpacing);let b=0;const w=function(e){g=Math.max(g,n.measureText(e).width+b)};return n.save(),n.font=l.string,r.each(e.title,w),n.font=c.string,r.each(e.beforeBody.concat(e.afterBody),w),b=t.displayColors?s+2+t.boxPadding:0,r.each(i,(e=>{r.each(e.before,w),r.each(e.lines,w),r.each(e.after,w)})),b=0,n.font=f.string,r.each(e.footer,w),n.restore(),g+=v.width,{width:g,height:y}}function dn(e,t,n,r){const{x:i,width:o}=n,{width:a,chartArea:{left:s,right:u}}=e;let c="center";return"center"===r?c=i<=(s+u)/2?"left":"right":i<=o/2?c="left":i>=a-o/2&&(c="right"),function(e,t,n,r){const{x:i,width:o}=r,a=n.caretSize+n.caretPadding;return"left"===e&&i+o+a>t.width||"right"===e&&i-o-a<0||void 0}(c,e,t,n)&&(c="center"),c}function hn(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||dn(e,t,n,r),yAlign:r}}function pn(e,t,n,i){const{caretSize:o,caretPadding:a,cornerRadius:s}=e,{xAlign:u,yAlign:c}=n,l=o+a,{topLeft:f,topRight:d,bottomLeft:h,bottomRight:p}=r.toTRBLCorners(s);let v=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,u);const y=function(e,t,n){let{y:r,height:i}=e;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,c,l);return"center"===c?"left"===u?v+=l:"right"===u&&(v-=l):"left"===u?v-=Math.max(f,h)+o:"right"===u&&(v+=Math.max(d,p)+o),{x:r._limitValue(v,0,i.width-t.width),y:r._limitValue(y,0,i.height-t.height)}}function vn(e,t,n){const i=r.toPadding(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function yn(e){return un([],cn(e))}function gn(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const mn={beforeTitle:r.noop,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:r.noop,beforeBody:r.noop,beforeLabel:r.noop,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return r.isNullOrUndef(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:r.noop,afterBody:r.noop,beforeFooter:r.noop,footer:r.noop,afterFooter:r.noop};function bn(e,t,n,r){const i=e[t].call(n,r);return void 0===i?mn[t].call(n,r):i}class wn extends xe{static positioners=sn;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new c(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),this,t=this._tooltipItems,r.createContext(e,{tooltip:this,tooltipItems:t,type:"tooltip"})));var e,t}getTitle(e,t){const{callbacks:n}=t,r=bn(n,"beforeTitle",this,e),i=bn(n,"title",this,e),o=bn(n,"afterTitle",this,e);let a=[];return a=un(a,cn(r)),a=un(a,cn(i)),a=un(a,cn(o)),a}getBeforeBody(e,t){return yn(bn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return r.each(e,(e=>{const t={before:[],lines:[],after:[]},r=gn(n,e);un(t.before,cn(bn(r,"beforeLabel",this,e))),un(t.lines,bn(r,"label",this,e)),un(t.after,cn(bn(r,"afterLabel",this,e))),i.push(t)})),i}getAfterBody(e,t){return yn(bn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=bn(n,"beforeFooter",this,e),i=bn(n,"footer",this,e),o=bn(n,"afterFooter",this,e);let a=[];return a=un(a,cn(r)),a=un(a,cn(i)),a=un(a,cn(o)),a}_createItems(e){const t=this._active,n=this.chart.data,i=[],o=[],a=[];let s,u,c=[];for(s=0,u=t.length;s<u;++s)c.push(ln(this.chart,t[s]));return e.filter&&(c=c.filter(((t,r,i)=>e.filter(t,r,i,n)))),e.itemSort&&(c=c.sort(((t,r)=>e.itemSort(t,r,n)))),r.each(c,(t=>{const n=gn(e.callbacks,t);i.push(bn(n,"labelColor",this,t)),o.push(bn(n,"labelPointStyle",this,t)),a.push(bn(n,"labelTextColor",this,t))})),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(r.length){const e=sn[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const t=this._size=fn(this,n),a=Object.assign({},e,t),s=hn(this.chart,n,a),u=pn(n,a,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,i={opacity:1,x:u.x,y:u.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:o}=this,{caretSize:a,cornerRadius:s}=n,{topLeft:u,topRight:c,bottomLeft:l,bottomRight:f}=r.toTRBLCorners(s),{x:d,y:h}=e,{width:p,height:v}=t;let y,g,m,b,w,S;return"center"===o?(w=h+v/2,"left"===i?(y=d,g=y-a,b=w+a,S=w-a):(y=d+p,g=y+a,b=w-a,S=w+a),m=y):(g="left"===i?d+Math.max(u,l)+a:"right"===i?d+p-Math.max(c,f)-a:this.caretX,"top"===o?(b=h,w=b-a,y=g-a,m=g+a):(b=h+v,w=b+a,y=g+a,m=g-a),S=b),{x1:y,x2:g,x3:m,y1:b,y2:w,y3:S}}drawTitle(e,t,n){const i=this.title,o=i.length;let a,s,u;if(o){const c=r.getRtlAdapter(n.rtl,this.x,this.width);for(e.x=vn(this,n.titleAlign,n),t.textAlign=c.textAlign(n.titleAlign),t.textBaseline="middle",a=r.toFont(n.titleFont),s=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,u=0;u<o;++u)t.fillText(i[u],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+s,u+1===o&&(e.y+=n.titleMarginBottom-s)}}_drawColorBox(e,t,n,i,o){const a=this.labelColors[n],s=this.labelPointStyles[n],{boxHeight:u,boxWidth:c,boxPadding:l}=o,f=r.toFont(o.bodyFont),d=vn(this,"left",o),h=i.x(d),p=u<f.lineHeight?(f.lineHeight-u)/2:0,v=t.y+p;if(o.usePointStyle){const t={radius:Math.min(c,u)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},n=i.leftForLtr(h,c)+c/2,l=v+u/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,r.drawPoint(e,t,n,l),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,r.drawPoint(e,t,n,l)}else{e.lineWidth=r.isObject(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=i.leftForLtr(h,c-l),n=i.leftForLtr(i.xPlus(h,1),c-l-2),s=r.toTRBLCorners(a.borderRadius);Object.values(s).some((e=>0!==e))?(e.beginPath(),e.fillStyle=o.multiKeyBackground,r.addRoundedRectPath(e,{x:t,y:v,w:c,h:u,radius:s}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),r.addRoundedRectPath(e,{x:n,y:v+1,w:c-2,h:u-2,radius:s}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(t,v,c,u),e.strokeRect(t,v,c,u),e.fillStyle=a.backgroundColor,e.fillRect(n,v+1,c-2,u-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:o,bodyAlign:a,displayColors:s,boxHeight:u,boxWidth:c,boxPadding:l}=n,f=r.toFont(n.bodyFont);let d=f.lineHeight,h=0;const p=r.getRtlAdapter(n.rtl,this.x,this.width),v=function(n){t.fillText(n,p.x(e.x+h),e.y+d/2),e.y+=d+o},y=p.textAlign(a);let g,m,b,w,S,E,_;for(t.textAlign=a,t.textBaseline="middle",t.font=f.string,e.x=vn(this,y,n),t.fillStyle=n.bodyColor,r.each(this.beforeBody,v),h=s&&"right"!==y?"center"===a?c/2+l:c+2+l:0,w=0,E=i.length;w<E;++w){for(g=i[w],m=this.labelTextColors[w],t.fillStyle=m,r.each(g.before,v),b=g.lines,s&&b.length&&(this._drawColorBox(t,e,w,p,n),d=Math.max(f.lineHeight,u)),S=0,_=b.length;S<_;++S)v(b[S]),d=f.lineHeight;r.each(g.after,v)}h=0,d=f.lineHeight,r.each(this.afterBody,v),e.y-=o}drawFooter(e,t,n){const i=this.footer,o=i.length;let a,s;if(o){const u=r.getRtlAdapter(n.rtl,this.x,this.width);for(e.x=vn(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=u.textAlign(n.footerAlign),t.textBaseline="middle",a=r.toFont(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,s=0;s<o;++s)t.fillText(i[s],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:o,yAlign:a}=this,{x:s,y:u}=e,{width:c,height:l}=n,{topLeft:f,topRight:d,bottomLeft:h,bottomRight:p}=r.toTRBLCorners(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(s+f,u),"top"===a&&this.drawCaret(e,t,n,i),t.lineTo(s+c-d,u),t.quadraticCurveTo(s+c,u,s+c,u+d),"center"===a&&"right"===o&&this.drawCaret(e,t,n,i),t.lineTo(s+c,u+l-p),t.quadraticCurveTo(s+c,u+l,s+c-p,u+l),"bottom"===a&&this.drawCaret(e,t,n,i),t.lineTo(s+h,u+l),t.quadraticCurveTo(s,u+l,s,u+l-h),"center"===a&&"left"===o&&this.drawCaret(e,t,n,i),t.lineTo(s,u+f),t.quadraticCurveTo(s,u,s+f,u),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=sn[e.position].call(this,this._active,this._eventPosition);if(!n)return;const o=this._size=fn(this,e),a=Object.assign({},n,this._size),s=hn(t,e,a),u=pn(e,a,s,t);r._to===u.x&&i._to===u.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=o.width,this.height=o.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=r.toPadding(t.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&s&&(e.save(),e.globalAlpha=n,this.drawBackground(o,e,i,t),r.overrideTextDirection(e,t.textDirection),o.y+=a.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),r.restoreTextDirection(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map((({datasetIndex:e,index:t})=>{const n=this.chart.getDatasetMeta(e);if(!n)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:n.data[t],index:t}})),o=!r._elementsEqual(n,i),a=this._positionChanged(i,t);(o||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],a=this._getActiveElements(e,o,t,n),s=this._positionChanged(a,e),u=t||!r._elementsEqual(a,o)||s;return u&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),u}_getActiveElements(e,t,n,r){const i=this.options;if("mouseout"===e.type)return[];if(!r)return t;const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:n,caretY:r,options:i}=this,o=sn[i.position].call(this,e,t);return!1!==o&&(n!==o.x||r!==o.y)}}var Sn={id:"tooltip",_element:wn,positioners:sn,afterInit(e,t,n){n&&(e.tooltip=new wn({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:mn},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},En=Object.freeze({__proto__:null,Colors:Rt,Decimation:Dt,Filler:Jt,Legend:tn,SubTitle:an,Title:rn,Tooltip:Sn});function _n(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class xn extends Re{static id="category";static defaults={ticks:{callback:_n}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(r.isNullOrUndef(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:r._limitValue(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:function(e,t,n,r){const i=e.indexOf(t);return-1===i?((e,t,n,r)=>("string"==typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r):i!==e.lastIndexOf(t)?n:i}(n,e,r.valueOrDefault(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let n=e;n<=t;n++)r.push({value:n});return r}getLabelForValue(e){return _n.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function An(e,t,{horizontal:n,minRotation:i}){const o=r.toRadians(i),a=(n?Math.sin(o):Math.cos(o))||.001,s=.75*t*(""+e).length;return Math.min(t/a,s)}class Tn extends Re{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return r.isNullOrUndef(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this;const a=e=>i=t?i:e,s=e=>o=n?o:e;if(e){const e=r.sign(i),t=r.sign(o);e<0&&t<0?s(0):e>0&&t>0&&a(0)}if(i===o){let t=0===o?1:Math.abs(.05*o);s(o+t),e||a(i-t)}this.min=i,this.max=o}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=function(e,t){const n=[],{bounds:i,step:o,min:a,max:s,precision:u,count:c,maxTicks:l,maxDigits:f,includeBounds:d}=e,h=o||1,p=l-1,{min:v,max:y}=t,g=!r.isNullOrUndef(a),m=!r.isNullOrUndef(s),b=!r.isNullOrUndef(c),w=(y-v)/(f+1);let S,E,_,x,A=r.niceNum((y-v)/p/h)*h;if(A<1e-14&&!g&&!m)return[{value:v},{value:y}];x=Math.ceil(y/A)-Math.floor(v/A),x>p&&(A=r.niceNum(x*A/p/h)*h),r.isNullOrUndef(u)||(S=Math.pow(10,u),A=Math.ceil(A*S)/S),"ticks"===i?(E=Math.floor(v/A)*A,_=Math.ceil(y/A)*A):(E=v,_=y),g&&m&&o&&r.almostWhole((s-a)/o,A/1e3)?(x=Math.round(Math.min((s-a)/A,l)),A=(s-a)/x,E=a,_=s):b?(E=g?a:E,_=m?s:_,x=c-1,A=(_-E)/x):(x=(_-E)/A,x=r.almostEquals(x,Math.round(x),A/1e3)?Math.round(x):Math.ceil(x));const T=Math.max(r._decimalPlaces(A),r._decimalPlaces(E));S=Math.pow(10,r.isNullOrUndef(u)?T:u),E=Math.round(E*S)/S,_=Math.round(_*S)/S;let C=0;for(g&&(d&&E!==a?(n.push({value:a}),E<a&&C++,r.almostEquals(Math.round((E+C*A)*S)/S,a,An(a,w,e))&&C++):E<a&&C++);C<x;++C)n.push({value:Math.round((E+C*A)*S)/S});return m&&d&&_!==s?n.length&&r.almostEquals(n[n.length-1].value,s,An(s,w,e))?n[n.length-1].value=s:n.push({value:s}):m&&_!==s||n.push({value:_}),n}({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&r._setMinAndMaxByKey(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return r.formatNumber(e,this.chart.options.locale,this.options.ticks.format)}}class Cn extends Tn{static id="linear";static defaults={ticks:{callback:r.Ticks.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=r.isNumberFinite(e)?e:0,this.max=r.isNumberFinite(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=r.toRadians(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const In=e=>Math.floor(r.log10(e)),Pn=(e,t)=>Math.pow(10,In(e)+t);function On(e){return 1==e/Math.pow(10,In(e))}function kn(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}class Rn extends Re{static id="logarithmic";static defaults={ticks:{callback:r.Ticks.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=Tn.prototype.parse.apply(this,[e,t]);if(0!==n)return r.isNumberFinite(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=r.isNumberFinite(e)?Math.max(0,e):null,this.max=r.isNumberFinite(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!r.isNumberFinite(this._userMin)&&(this.min=e===Pn(this.min,0)?Pn(this.min,-1):Pn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const i=t=>n=e?n:t,o=e=>r=t?r:e;n===r&&(n<=0?(i(1),o(10)):(i(Pn(n,-1)),o(Pn(r,1)))),n<=0&&i(Pn(r,-1)),r<=0&&o(Pn(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t=function(e,{min:t,max:n}){t=r.finiteOrDefault(e.min,t);const i=[],o=In(t);let a=function(e,t){let n=In(t-e);for(;kn(e,t,n)>10;)n++;for(;kn(e,t,n)<10;)n--;return Math.min(n,In(e))}(t,n),s=a<0?Math.pow(10,Math.abs(a)):1;const u=Math.pow(10,a),c=o>a?Math.pow(10,o):0,l=Math.round((t-c)*s)/s,f=Math.floor((t-c)/u/10)*u*10;let d=Math.floor((l-f)/Math.pow(10,a)),h=r.finiteOrDefault(e.min,Math.round((c+f+d*Math.pow(10,a))*s)/s);for(;h<n;)i.push({value:h,major:On(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(a++,d=2,s=a>=0?1:s),h=Math.round((c+f+d*Math.pow(10,a))*s)/s;const p=r.finiteOrDefault(e.max,h);return i.push({value:p,major:On(p),significand:d}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&r._setMinAndMaxByKey(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":r.formatNumber(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=r.log10(e),this._valueRange=r.log10(this.max)-r.log10(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(r.log10(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Ln(e){const t=e.ticks;if(t.display&&e.display){const e=r.toPadding(t.backdropPadding);return r.valueOrDefault(t.font&&t.font.size,r.defaults.font.size)+e.height}return 0}function Nn(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function Dn(e,t,n,r,i){const o=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let s=0,u=0;r.start<t.l?(s=(t.l-r.start)/o,e.l=Math.min(e.l,t.l-s)):r.end>t.r&&(s=(r.end-t.r)/o,e.r=Math.max(e.r,t.r+s)),i.start<t.t?(u=(t.t-i.start)/a,e.t=Math.min(e.t,t.t-u)):i.end>t.b&&(u=(i.end-t.b)/a,e.b=Math.max(e.b,t.b+u))}function Mn(e){return 0===e||180===e?"center":e<180?"left":"right"}function jn(e,t,n){return 90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t),e}function Un(e,t,n,i){const{ctx:o}=e;if(n)o.arc(e.xCenter,e.yCenter,t,0,r.TAU);else{let n=e.getPointPosition(0,t);o.moveTo(n.x,n.y);for(let r=1;r<i;r++)n=e.getPointPosition(r,t),o.lineTo(n.x,n.y)}}class Fn extends Tn{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:r.Ticks.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=r.toPadding(Ln(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=r.isNumberFinite(e)&&!isNaN(e)?e:0,this.max=r.isNumberFinite(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ln(this.options))}generateTickLabels(e){Tn.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=r.callback(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?function(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],o=[],a=e._pointLabels.length,s=e.options.pointLabels,u=s.centerPointLabels?r.PI/a:0;for(let d=0;d<a;d++){const a=s.setContext(e.getPointLabelContext(d));o[d]=a.padding;const h=e.getPointPosition(d,e.drawingArea+o[d],u),p=r.toFont(a.font),v=(c=e.ctx,l=p,f=e._pointLabels[d],f=r.isArray(f)?f:[f],{w:r._longestText(c,l.string,f),h:f.length*l.lineHeight});i[d]=v;const y=r._normalizeAngle(e.getIndexAngle(d)+u),g=Math.round(r.toDegrees(y));Dn(n,t,y,Nn(g,h.x,v.w,0,180),Nn(g,h.y,v.h,90,270))}var c,l,f;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const i=[],o=e._pointLabels.length,a=e.options,s=Ln(a)/2,u=e.drawingArea,c=a.pointLabels.centerPointLabels?r.PI/o:0;for(let a=0;a<o;a++){const o=e.getPointPosition(a,u+s+n[a],c),h=Math.round(r.toDegrees(r._normalizeAngle(o.angle+r.HALF_PI))),p=t[a],v=jn(o.y,p.h,h),y=Mn(h),g=(l=o.x,f=p.w,"right"===(d=y)?l-=f:"center"===d&&(l-=f/2),l);i.push({x:o.x,y:v,textAlign:y,left:g,top:v,right:g+p.w,bottom:v+p.h})}var l,f,d;return i}(e,i,o)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){const t=r.TAU/(this._pointLabels.length||1),n=this.options.startAngle||0;return r._normalizeAngle(e*t+r.toRadians(n))}getDistanceFromCenterForValue(e){if(r.isNullOrUndef(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(r.isNullOrUndef(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return r.createContext(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const i=this.getIndexAngle(e)-r.HALF_PI+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:i}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Un(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i,border:o}=t,a=this._pointLabels.length;let s,u,c;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let o=t-1;o>=0;o--){const t=i.setContext(e.getPointLabelContext(o)),a=r.toFont(t.font),{x:s,y:u,textAlign:c,left:l,top:f,right:d,bottom:h}=e._pointLabelItems[o],{backdropColor:p}=t;if(!r.isNullOrUndef(p)){const e=r.toTRBLCorners(t.borderRadius),i=r.toPadding(t.backdropPadding);n.fillStyle=p;const o=l-i.left,a=f-i.top,s=d-l+i.width,u=h-f+i.height;Object.values(e).some((e=>0!==e))?(n.beginPath(),r.addRoundedRectPath(n,{x:o,y:a,w:s,h:u,radius:e}),n.fill()):n.fillRect(o,a,s,u)}r.renderText(n,e._pointLabels[o],s,u+a.lineHeight/2,a,{color:t.color,textAlign:c,textBaseline:"middle"})}}(this,a),i.display&&this.ticks.forEach(((e,t)=>{if(0!==t){u=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),r=i.setContext(n),s=o.setContext(n);!function(e,t,n,r,i){const o=e.ctx,a=t.circular,{color:s,lineWidth:u}=t;!a&&!r||!s||!u||n<0||(o.save(),o.strokeStyle=s,o.lineWidth=u,o.setLineDash(i.dash),o.lineDashOffset=i.dashOffset,o.beginPath(),Un(e,n,a,r),o.closePath(),o.stroke(),o.restore())}(this,r,u,a,s)}})),n.display){for(e.save(),s=a-1;s>=0;s--){const r=n.setContext(this.getPointLabelContext(s)),{color:i,lineWidth:o}=r;o&&i&&(e.lineWidth=o,e.strokeStyle=i,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,u=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),c=this.getPointPosition(s,u),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let o,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((i,s)=>{if(0===s&&!t.reverse)return;const u=n.setContext(this.getContext(s)),c=r.toFont(u.font);if(o=this.getDistanceFromCenterForValue(this.ticks[s].value),u.showLabelBackdrop){e.font=c.string,a=e.measureText(i.label).width,e.fillStyle=u.backdropColor;const t=r.toPadding(u.backdropPadding);e.fillRect(-a/2-t.left,-o-c.size/2-t.top,a+t.width,c.size+t.height)}r.renderText(e,i.label,0,-o,c,{color:u.color})})),e.restore()}drawTitle(){}}const zn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bn=Object.keys(zn);function qn(e,t){return e-t}function Kn(e,t){if(r.isNullOrUndef(t))return null;const n=e._adapter,{parser:i,round:o,isoWeekday:a}=e._parseOpts;let s=t;return"function"==typeof i&&(s=i(s)),r.isNumberFinite(s)||(s="string"==typeof i?n.parse(s,i):n.parse(s)),null===s?null:(o&&(s="week"!==o||!r.isNumber(a)&&!0!==a?n.startOf(s,o):n.startOf(s,"isoWeek",a)),+s)}function Hn(e,t,n,r){const i=Bn.length;for(let o=Bn.indexOf(e);o<i-1;++o){const e=zn[Bn[o]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=r)return Bn[o]}return Bn[i-1]}function Gn(e,t,n){if(n){if(n.length){const{lo:i,hi:o}=r._lookup(n,t);e[n[i]>=t?n[i]:n[o]]=!0}}else e[t]=!0}function Vn(e,t,n){const r=[],i={},o=t.length;let a,s;for(a=0;a<o;++a)s=t[a],i[s]=a,r.push({value:s,major:!1});return 0!==o&&n?function(e,t,n,r){const i=e._adapter,o=+i.startOf(t[0].value,r),a=t[t.length-1].value;let s,u;for(s=o;s<=a;s=+i.add(s,1,r))u=n[s],u>=0&&(t[u].major=!0);return t}(e,r,i,n):r}class $n extends Re{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),i=this._adapter=new B._date(e.adapters.date);i.init(t),r.mergeIf(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Kn(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:o,minDefined:a,maxDefined:s}=this.getUserBounds();function u(e){a||isNaN(e.min)||(i=Math.min(i,e.min)),s||isNaN(e.max)||(o=Math.max(o,e.max))}a&&s||(u(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||u(this.getMinMax(!1))),i=r.isNumberFinite(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),o=r.isNumberFinite(o)&&!isNaN(o)?o:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,a=this.max,s=r._filterBetween(i,o,a);return this._unit=t.unit||(n.autoSkip?Hn(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):function(e,t,n,r,i){for(let o=Bn.length-1;o>=Bn.indexOf(n);o--){const n=Bn[o];if(zn[n].common&&e._adapter.diff(i,r,n)>=t-1)return n}return Bn[n?Bn.indexOf(n):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=Bn.indexOf(e)+1,n=Bn.length;t<n;++t)if(zn[Bn[t]].common)return Bn[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&s.reverse(),Vn(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(e=[]){let t,n,i=0,o=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),i=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,n=this.getDecimalForValue(e[e.length-1]),o=1===e.length?n:(n-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;i=r._limitValue(i,0,a),o=r._limitValue(o,0,a),this._offsets={start:i,end:o,factor:1/(i+1+o)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,o=i.time,a=o.unit||Hn(o.minUnit,t,n,this._getLabelCapacity(t)),s=r.valueOrDefault(i.ticks.stepSize,1),u="week"===a&&o.isoWeekday,c=r.isNumber(u)||!0===u,l={};let f,d,h=t;if(c&&(h=+e.startOf(h,"isoWeek",u)),h=+e.startOf(h,c?"day":a),e.diff(n,t,a)>1e5*s)throw new Error(t+" and "+n+" are too far apart with stepSize of "+s+" "+a);const p="data"===i.ticks.source&&this.getDataTimestamps();for(f=h,d=0;f<n;f=+e.add(f,s,a),d++)Gn(l,f,p);return f!==n&&"ticks"!==i.bounds&&1!==d||Gn(l,f,p),Object.keys(l).sort(((e,t)=>e-t)).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,i=t||n[r];return this._adapter.format(e,i)}_tickFormatFunction(e,t,n,i){const o=this.options,a=o.ticks.callback;if(a)return r.callback(a,[e,t,n],this);const s=o.time.displayFormats,u=this._unit,c=this._majorUnit,l=u&&s[u],f=c&&s[c],d=n[t],h=c&&f&&d&&d.major;return this._adapter.format(e,i||(h?f:l))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=r.toRadians(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(i),a=Math.sin(i),s=this._resolveTickFontOptions(0).size;return{w:n*o+s*a,h:n*a+s*o}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,Vn(this,[e],this._majorUnit),r),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(Kn(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return r._arrayUnique(e.sort(qn))}}function Wn(e,t,n){let i,o,a,s,u=0,c=e.length-1;n?(t>=e[u].pos&&t<=e[c].pos&&({lo:u,hi:c}=r._lookupByKey(e,"pos",t)),({pos:i,time:a}=e[u]),({pos:o,time:s}=e[c])):(t>=e[u].time&&t<=e[c].time&&({lo:u,hi:c}=r._lookupByKey(e,"time",t)),({time:i,pos:a}=e[u]),({time:o,pos:s}=e[c]));const l=o-i;return l?a+(s-a)*(t-i)/l:a}class Yn extends $n{static id="timeseries";static defaults=$n.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Wn(t,this.min),this._tableRange=Wn(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],i=[];let o,a,s,u,c;for(o=0,a=e.length;o<a;++o)u=e[o],u>=t&&u<=n&&r.push(u);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,a=r.length;o<a;++o)c=r[o+1],s=r[o-1],u=r[o],Math.round((c+s)/2)!==u&&i.push({time:u,pos:o/(a-1)});return i}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Wn(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Wn(this._table,n*this._tableRange+this._minPos,!0)}}var Zn=Object.freeze({__proto__:null,CategoryScale:xn,LinearScale:Cn,LogarithmicScale:Rn,RadialLinearScale:Fn,TimeScale:$n,TimeSeriesScale:Yn});const Jn=[U,Tt,En,Zn];t.Ticks=r.Ticks,t.defaults=r.defaults,t.Animation=u,t.Animations=c,t.ArcElement=ct,t.BarController=O,t.BarElement=At,t.BasePlatform=ae,t.BasicPlatform=se,t.BubbleController=k,t.CategoryScale=xn,t.Chart=ot,t.Colors=Rt,t.DatasetController=S,t.Decimation=Dt,t.DomPlatform=Ee,t.DoughnutController=R,t.Element=xe,t.Filler=Jt,t.Interaction=$,t.Legend=tn,t.LineController=L,t.LineElement=gt,t.LinearScale=Cn,t.LogarithmicScale=Rn,t.PieController=D,t.PointElement=bt,t.PolarAreaController=N,t.RadarController=M,t.RadialLinearScale=Fn,t.Scale=Re,t.ScatterController=j,t.SubTitle=an,t.TimeScale=$n,t.TimeSeriesScale=Yn,t.Title=rn,t.Tooltip=Sn,t._adapters=B,t._detectPlatform=_e,t.animator=o,t.controllers=U,t.elements=Tt,t.layouts=oe,t.plugins=En,t.registerables=Jn,t.registry=De,t.scales=Zn},4197:(e,t,n)=>{"use strict";var r=n(4582);const i=(()=>{let e=0;return()=>e++})();function o(e){return null==e}function a(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function s(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function u(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function c(e,t){return void 0===e?t:e}const l=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function f(e){if(a(e))return e.map(f);if(s(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=f(e[n[i]]);return t}return e}function d(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function h(e,t,n,r){if(!d(e))return;const i=t[e],o=n[e];s(i)&&s(o)?p(i,o,r):t[e]=f(o)}function p(e,t,n){const r=a(t)?t:[t],i=r.length;if(!s(e))return e;const o=(n=n||{}).merger||h;let u;for(let t=0;t<i;++t){if(u=r[t],!s(u))continue;const i=Object.keys(u);for(let t=0,r=i.length;t<r;++t)o(i[t],e,u,n)}return e}function v(e,t){return p(e,t,{merger:y})}function y(e,t,n){if(!d(e))return;const r=t[e],i=n[e];s(r)&&s(i)?v(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=f(i))}const g={"":e=>e,x:e=>e.x,y:e=>e.y};function m(e){const t=e.split("."),n=[];let r="";for(const e of t)r+=e,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function b(e,t){const n=g[t]||(g[t]=function(e){const t=m(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function w(e){return e.charAt(0).toUpperCase()+e.slice(1)}const S=e=>void 0!==e,E=e=>"function"==typeof e,_=Math.PI,x=2*_,A=x+_,T=Number.POSITIVE_INFINITY,C=_/180,I=_/2,P=_/4,O=2*_/3,k=Math.log10,R=Math.sign;function L(e,t,n){return Math.abs(e-t)<n}function N(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function D(e,t){return(e-t+A)%x-_}function M(e){return(e%x+x)%x}function j(e,t,n,r){const i=M(e),o=M(t),a=M(n),s=M(o-i),u=M(a-i),c=M(i-o),l=M(i-a);return i===o||i===a||r&&o===a||s>u&&c<l}function U(e,t,n){return Math.max(t,Math.min(n,e))}function F(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function z(e,t,n){n=n||(n=>e[n]<t);let r,i=e.length-1,o=0;for(;i-o>1;)r=o+i>>1,n(r)?o=r:i=r;return{lo:o,hi:i}}const B=(e,t,n,r)=>z(e,n,r?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),q=["push","pop","shift","splice","unshift"],K="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame,H=e=>0===e||1===e,G=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*x/n),V=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*x/n)+1,$={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*I),easeOutSine:e=>Math.sin(e*I),easeInOutSine:e=>-.5*(Math.cos(_*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>H(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>H(e)?e:G(e,.075,.3),easeOutElastic:e=>H(e)?e:V(e,.075,.3),easeInOutElastic(e){const t=.1125;return H(e)?e:e<.5?.5*G(2*e,t,.45):.5+.5*V(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-$.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*$.easeInBounce(2*e):.5*$.easeOutBounce(2*e-1)+.5};function W(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Y(e){return W(e)?e:new r.Color(e).saturate(.5).darken(.1).hexString()}const Z=["x","y","borderWidth","radius","tension"],J=["color","borderColor","backgroundColor"],X=new Map;function Q(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=X.get(n);return r||(r=new Intl.NumberFormat(e,t),X.set(n,r)),r}(t,n).format(e)}const ee={values:e=>a(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let i,o=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),o=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}(e,n)}const a=k(Math.abs(o)),s=Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:i,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(u,this.options.ticks.format),Q(e,r,u)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(k(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?ee.numeric.call(this,e,t,n):""}};var te={formatters:ee};const ne=Object.create(null),re=Object.create(null);function ie(e,t){if(!t)return e;const n=t.split(".");for(let t=0,r=n.length;t<r;++t){const r=n[t];e=e[r]||(e[r]=Object.create(null))}return e}function oe(e,t,n){return"string"==typeof t?p(ie(e,t),n):p(ie(e,""),t)}class ae{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Y(t.backgroundColor),this.hoverBorderColor=(e,t)=>Y(t.borderColor),this.hoverColor=(e,t)=>Y(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return oe(this,e,t)}get(e){return ie(this,e)}describe(e,t){return oe(re,e,t)}override(e,t){return oe(ne,e,t)}route(e,t,n,r){const i=ie(this,e),o=ie(this,n),a="_"+t;Object.defineProperties(i,{[a]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[a],t=o[r];return s(e)?Object.assign({},t,e):c(e,t)},set(e){this[a]=e}}})}apply(e){e.forEach((e=>e(this)))}}var se=new ae({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:J},numbers:{type:"number",properties:Z}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:te.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function ue(e){return!e||o(e.size)||o(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function ce(e,t,n,r,i){let o=t[i];return o||(o=t[i]=e.measureText(i).width,n.push(i)),o>r&&(r=o),r}function le(e,t,n,r,i){let o,a,s,u,c,l,f,d;const h=t.pointStyle,p=t.rotation,v=t.radius;let y=(p||0)*C;if(h&&"object"==typeof h&&(o=h.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return e.save(),e.translate(n,r),e.rotate(y),e.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),void e.restore();if(!(isNaN(v)||v<=0)){switch(e.beginPath(),h){default:i?e.ellipse(n,r,i/2,v,0,0,x):e.arc(n,r,v,0,x),e.closePath();break;case"triangle":l=i?i/2:v,e.moveTo(n+Math.sin(y)*l,r-Math.cos(y)*v),y+=O,e.lineTo(n+Math.sin(y)*l,r-Math.cos(y)*v),y+=O,e.lineTo(n+Math.sin(y)*l,r-Math.cos(y)*v),e.closePath();break;case"rectRounded":c=.516*v,u=v-c,a=Math.cos(y+P)*u,f=Math.cos(y+P)*(i?i/2-c:u),s=Math.sin(y+P)*u,d=Math.sin(y+P)*(i?i/2-c:u),e.arc(n-f,r-s,c,y-_,y-I),e.arc(n+d,r-a,c,y-I,y),e.arc(n+f,r+s,c,y,y+I),e.arc(n-d,r+a,c,y+I,y+_),e.closePath();break;case"rect":if(!p){u=Math.SQRT1_2*v,l=i?i/2:u,e.rect(n-l,r-u,2*l,2*u);break}y+=P;case"rectRot":f=Math.cos(y)*(i?i/2:v),a=Math.cos(y)*v,s=Math.sin(y)*v,d=Math.sin(y)*(i?i/2:v),e.moveTo(n-f,r-s),e.lineTo(n+d,r-a),e.lineTo(n+f,r+s),e.lineTo(n-d,r+a),e.closePath();break;case"crossRot":y+=P;case"cross":f=Math.cos(y)*(i?i/2:v),a=Math.cos(y)*v,s=Math.sin(y)*v,d=Math.sin(y)*(i?i/2:v),e.moveTo(n-f,r-s),e.lineTo(n+f,r+s),e.moveTo(n+d,r-a),e.lineTo(n-d,r+a);break;case"star":f=Math.cos(y)*(i?i/2:v),a=Math.cos(y)*v,s=Math.sin(y)*v,d=Math.sin(y)*(i?i/2:v),e.moveTo(n-f,r-s),e.lineTo(n+f,r+s),e.moveTo(n+d,r-a),e.lineTo(n-d,r+a),y+=P,f=Math.cos(y)*(i?i/2:v),a=Math.cos(y)*v,s=Math.sin(y)*v,d=Math.sin(y)*(i?i/2:v),e.moveTo(n-f,r-s),e.lineTo(n+f,r+s),e.moveTo(n+d,r-a),e.lineTo(n-d,r+a);break;case"line":a=i?i/2:Math.cos(y)*v,s=Math.sin(y)*v,e.moveTo(n-a,r-s),e.lineTo(n+a,r+s);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(y)*(i?i/2:v),r+Math.sin(y)*v);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function fe(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function de(e,t,n,r,i){if(i.strikethrough||i.underline){const o=e.measureText(r),a=t-o.actualBoundingBoxLeft,s=t+o.actualBoundingBoxRight,u=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,l=i.strikethrough?(u+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(a,l),e.lineTo(s,l),e.stroke()}}function he(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}const pe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ve=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ye(e,t){const n=(""+e).match(pe);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}function ge(e,t){const n={},r=s(t),i=r?Object.keys(t):t,o=s(e)?r?n=>c(e[n],e[t[n]]):t=>e[t]:()=>e;for(const e of i)n[e]=+o(e)||0;return n}function me(e){return ge(e,{top:"y",right:"x",bottom:"y",left:"x"})}function be(e,t){return Object.assign(Object.create(e),t)}function we(e,t=[""],n=e,r,i=(()=>e[0])){S(r)||(r=Oe("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:r,_getTarget:i,override:i=>we([i,...e],t,n,r)};return new Proxy(o,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>xe(n,r,(()=>function(e,t,n,r){let i;for(const o of t)if(i=Oe(Ee(o,e),n),S(i))return _e(e,i)?Ie(n,r,e,i):i}(r,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>ke(e).includes(t),ownKeys:e=>ke(e),set(e,t,n){const r=e._storage||(e._storage=i());return e[t]=r[t]=n,delete e._keys,!0}})}function Se(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:E(n)?n:()=>n,isIndexable:E(r)?r:()=>r}}const Ee=(e,t)=>e?e+w(t):t,_e=(e,t)=>s(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function xe(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const r=n();return e[t]=r,r}function Ae(e,t,n){return E(e)?e(t,n):e}const Te=(e,t)=>!0===e?t:"string"==typeof e?b(t,e):void 0;function Ce(e,t,n,r,i){for(const o of t){const t=Te(n,o);if(t){e.add(t);const o=Ae(t._fallback,n,i);if(S(o)&&o!==n&&o!==r)return o}else if(!1===t&&S(r)&&n!==r)return null}return!1}function Ie(e,t,n,r){const i=t._rootScopes,o=Ae(t._fallback,n,r),u=[...e,...i],c=new Set;c.add(r);let l=Pe(c,u,n,o||n,r);return null!==l&&(!S(o)||o===n||(l=Pe(c,u,o,l,r),null!==l))&&we(Array.from(c),[""],i,o,(()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return a(i)&&s(n)?n:i||{}}(t,n,r)))}function Pe(e,t,n,r,i){for(;n;)n=Ce(e,t,n,r,i);return n}function Oe(e,t){for(const n of t){if(!n)continue;const t=n[e];if(S(t))return t}}function ke(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}const Re=Number.EPSILON||1e-14,Le=(e,t)=>t<e.length&&!e[t].skip&&e[t],Ne=e=>"x"===e?"y":"x";function De(e,t,n,r){const i=e.skip?t:e,o=t,a=n.skip?t:n,s=N(o,i),u=N(a,o);let c=s/(s+u),l=u/(s+u);c=isNaN(c)?0:c,l=isNaN(l)?0:l;const f=r*c,d=r*l;return{previous:{x:o.x-f*(a.x-i.x),y:o.y-f*(a.y-i.y)},next:{x:o.x+d*(a.x-i.x),y:o.y+d*(a.y-i.y)}}}function Me(e,t="x"){const n=Ne(t),r=e.length,i=Array(r).fill(0),o=Array(r);let a,s,u,c=Le(e,0);for(a=0;a<r;++a)if(s=u,u=c,c=Le(e,a+1),u){if(c){const e=c[t]-u[t];i[a]=0!==e?(c[n]-u[n])/e:0}o[a]=s?c?R(i[a-1])!==R(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}!function(e,t,n){const r=e.length;let i,o,a,s,u,c=Le(e,0);for(let l=0;l<r-1;++l)u=c,c=Le(e,l+1),u&&c&&(L(t[l],0,Re)?n[l]=n[l+1]=0:(i=n[l]/t[l],o=n[l+1]/t[l],s=Math.pow(i,2)+Math.pow(o,2),s<=9||(a=3/Math.sqrt(s),n[l]=i*a*t[l],n[l+1]=o*a*t[l])))}(e,i,o),function(e,t,n="x"){const r=Ne(n),i=e.length;let o,a,s,u=Le(e,0);for(let c=0;c<i;++c){if(a=s,s=u,u=Le(e,c+1),!s)continue;const i=s[n],l=s[r];a&&(o=(i-a[n])/3,s[`cp1${n}`]=i-o,s[`cp1${r}`]=l-o*t[c]),u&&(o=(u[n]-i)/3,s[`cp2${n}`]=i+o,s[`cp2${r}`]=l+o*t[c])}}(e,o,t)}function je(e,t,n){return Math.max(Math.min(e,n),t)}function Ue(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Fe(e,t,n){let r;return"string"==typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const ze=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Be(e,t){return ze(e).getPropertyValue(t)}const qe=["top","right","bottom","left"];function Ke(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=qe[i];r[o]=parseFloat(e[t+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const He=e=>Math.round(10*e)/10,Ge=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function Ve(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function $e(e){return"angle"===e?{between:j,compare:D,normalize:M}:{between:F,compare:(e,t)=>e-t,normalize:e=>e}}function We({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n==0,style:i}}function Ye(e,t,n){if(!n)return[e];const{property:r,start:i,end:o}=n,a=t.length,{compare:s,between:u,normalize:c}=$e(r),{start:l,end:f,loop:d,style:h}=function(e,t,n){const{property:r,start:i,end:o}=n,{between:a,normalize:s}=$e(r),u=t.length;let c,l,{start:f,end:d,loop:h}=e;if(h){for(f+=u,d+=u,c=0,l=u;c<l&&a(s(t[f%u][r]),i,o);++c)f--,d--;f%=u,d%=u}return d<f&&(d+=u),{start:f,end:d,loop:h,style:e.style}}(e,t,n),p=[];let v,y,g,m=!1,b=null;for(let e=l,n=l;e<=f;++e)y=t[e%a],y.skip||(v=c(y[r]),v!==g&&(m=u(v,i,o),null===b&&(m||u(i,g,v)&&0!==s(i,g))&&(b=0===s(v,i)?e:n),null!==b&&(!m||0===s(o,v)||u(o,g,v))&&(p.push(We({start:b,end:e,loop:d,count:a,style:h})),b=null),n=e,g=v));return null!==b&&p.push(We({start:b,end:f,loop:d,count:a,style:h})),p}function Ze(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Je(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}t.HALF_PI=I,t.INFINITY=T,t.PI=_,t.PITAU=A,t.QUARTER_PI=P,t.RAD_PER_DEG=C,t.TAU=x,t.TWO_THIRDS_PI=O,t.Ticks=te,t._addGrace=function(e,t,n){const{min:r,max:i}=e,o=l(t,(i-r)/2),a=(e,t)=>n&&0===e?0:e+t;return{min:a(r,-Math.abs(o)),max:a(i,o)}},t._alignPixel=function(e,t,n){const r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i},t._alignStartEnd=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2,t._angleBetween=j,t._angleDiff=D,t._arrayUnique=function(e){const t=new Set;let n,r;for(n=0,r=e.length;n<r;++n)t.add(e[n]);return t.size===r?e:Array.from(t)},t._attachContext=function e(t,n,r,i){const o={_cacheable:!1,_proxy:t,_context:n,_subProxy:r,_stack:new Set,_descriptors:Se(t,i),setContext:n=>e(t,n,r,i),override:o=>e(t.override(o),n,r,i)};return new Proxy(o,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,n,r)=>xe(t,n,(()=>function(t,n,r){const{_proxy:i,_context:o,_subProxy:u,_descriptors:c}=t;let l=i[n];return E(l)&&c.isScriptable(n)&&(l=function(e,t,n,r){const{_proxy:i,_context:o,_subProxy:a,_stack:s}=n;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);return s.add(e),t=t(o,a||r),s.delete(e),_e(e,t)&&(t=Ie(i._scopes,i,e,t)),t}(n,l,t,r)),a(l)&&l.length&&(l=function(t,n,r,i){const{_proxy:o,_context:a,_subProxy:u,_descriptors:c}=r;if(S(a.index)&&i(t))n=n[a.index%n.length];else if(s(n[0])){const r=n,i=o._scopes.filter((e=>e!==r));n=[];for(const s of r){const r=Ie(i,o,t,s);n.push(e(r,a,u&&u[t],c))}}return n}(n,l,t,c.isIndexable)),_e(n,l)&&(l=e(l,o,u&&u[n],c)),l}(t,n,r))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,r)=>(t[n]=r,delete e[n],!0)})},t._bezierCurveTo=function(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)},t._bezierInterpolation=function(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},a=Ve(e,i,n),s=Ve(i,o,n),u=Ve(o,t,n),c=Ve(a,s,n),l=Ve(s,u,n);return Ve(c,l,n)},t._boundSegment=Ye,t._boundSegments=function(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const o=Ye(r[i],e.points,t);o.length&&n.push(...o)}return n},t._capitalize=w,t._computeSegments=function(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const o=!!e._loop,{start:a,end:s}=function(e,t,n,r){let i=0,o=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(o+=i);o>i&&e[o%t].skip;)o--;return o%=t,{start:i,end:o}}(n,i,o,r);return function(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const i=e._chart.getContext(),o=Ze(e.options),{_datasetIndex:a,options:{spanGaps:s}}=e,u=n.length,c=[];let l=o,f=t[0].start,d=f;function h(e,t,r,i){const o=s?-1:1;if(e!==t){for(e+=u;n[e%u].skip;)e-=o;for(;n[t%u].skip;)t+=o;e%u!=t%u&&(c.push({start:e%u,end:t%u,loop:r,style:i}),l=i,f=t%u)}}for(const e of t){f=s?f:e.start;let t,o=n[f%u];for(d=f+1;d<=e.end;d++){const s=n[d%u];t=Ze(r.setContext(be(i,{type:"segment",p0:o,p1:s,p0DataIndex:(d-1)%u,p1DataIndex:d%u,datasetIndex:a}))),Je(t,l)&&h(f,d-1,e.loop,l),o=s,l=t}f<d-1&&h(f,d-1,e.loop,l)}return c}(e,t,n,r):t}(e,!0===r?[{start:a,end:s,loop:o}]:function(e,t,n,r){const i=e.length,o=[];let a,s=t,u=e[t];for(a=t+1;a<=n;++a){const n=e[a%i];n.skip||n.stop?u.skip||(r=!1,o.push({start:t%i,end:(a-1)%i,loop:r}),t=s=n.stop?a:null):(s=a,u.skip&&(t=a)),u=n}return null!==s&&o.push({start:t%i,end:s%i,loop:r}),o}(n,a,s<a?s+i:s,!!e._fullLoop&&0===a&&s===i-1),n,t)},t._createResolver=we,t._decimalPlaces=function(e){if(!u(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n},t._deprecated=function(e,t,n,r){void 0!==t&&console.warn(e+': "'+n+'" is deprecated. Please use "'+r+'" instead')},t._descriptors=Se,t._elementsEqual=function(e,t){let n,r,i,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],o=t[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0},t._factorize=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r==0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t},t._filterBetween=function(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e},t._getParentNode=Ue,t._getStartAndCountOfVisiblePoints=function(e,t,n){const r=t.length;let i=0,o=r;if(e._sorted){const{iScale:a,_parsed:s}=e,u=a.axis,{min:c,max:l,minDefined:f,maxDefined:d}=a.getUserBounds();f&&(i=U(Math.min(B(s,a.axis,c).lo,n?r:B(t,u,a.getPixelForValue(c)).lo),0,r-1)),o=d?U(Math.max(B(s,a.axis,l,!0).hi+1,n?0:B(t,u,a.getPixelForValue(l),!0).hi+1),i,r)-i:r-i}return{start:i,count:o}},t._int16Range=function(e){return U(e,-32768,32767)},t._isBetween=F,t._isClickEvent=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type},t._isDomSupported=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},t._isPointInArea=fe,t._limitValue=U,t._longestText=function(e,t,n,r){let i=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},o=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let s=0;const u=n.length;let c,l,f,d,h;for(c=0;c<u;c++)if(d=n[c],null!=d&&!0!==a(d))s=ce(e,i,o,s,d);else if(a(d))for(l=0,f=d.length;l<f;l++)h=d[l],null==h||a(h)||(s=ce(e,i,o,s,h));e.restore();const p=o.length/2;if(p>n.length){for(c=0;c<p;c++)delete i[o[c]];o.splice(0,p)}return s},t._lookup=z,t._lookupByKey=B,t._measureText=ce,t._merger=h,t._mergerIf=y,t._normalizeAngle=M,t._parseObjectDataRadialScale=function(e,t,n,r){const{iScale:i}=e,{key:o="r"}=this._parsing,a=new Array(r);let s,u,c,l;for(s=0,u=r;s<u;++s)c=s+n,l=t[c],a[s]={r:i.parse(b(l,o),c)};return a},t._pointInLine=Ve,t._readValueToProps=ge,t._rlookupByKey=(e,t,n)=>z(e,n,(r=>e[r][t]>=n)),t._scaleRangesChanged=function(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const o=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o},t._setMinAndMaxByKey=function(e,t,n){let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))},t._splitKey=m,t._steppedInterpolation=function(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}},t._steppedLineTo=function(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===i!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)},t._textX=(e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t,t._toLeftRightCenter=e=>"start"===e?"left":"end"===e?"right":"center",t._updateBezierControlPoints=function(e,t,n,r,i){let o,a,s,u;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)Me(e,i);else{let n=r?e[e.length-1]:e[0];for(o=0,a=e.length;o<a;++o)s=e[o],u=De(n,s,e[Math.min(o+1,a-(r?0:1))%a],t.tension),s.cp1x=u.previous.x,s.cp1y=u.previous.y,s.cp2x=u.next.x,s.cp2y=u.next.y,n=s}t.capBezierPoints&&function(e,t){let n,r,i,o,a,s=fe(e[0],t);for(n=0,r=e.length;n<r;++n)a=o,o=s,s=n<r-1&&fe(e[n+1],t),o&&(i=e[n],a&&(i.cp1x=je(i.cp1x,t.left,t.right),i.cp1y=je(i.cp1y,t.top,t.bottom)),s&&(i.cp2x=je(i.cp2x,t.left,t.right),i.cp2y=je(i.cp2y,t.top,t.bottom)))}(e,n)},t.addRoundedRectPath=function(e,t){const{x:n,y:r,w:i,h:o,radius:a}=t;e.arc(n+a.topLeft,r+a.topLeft,a.topLeft,-I,_,!0),e.lineTo(n,r+o-a.bottomLeft),e.arc(n+a.bottomLeft,r+o-a.bottomLeft,a.bottomLeft,_,I,!0),e.lineTo(n+i-a.bottomRight,r+o),e.arc(n+i-a.bottomRight,r+o-a.bottomRight,a.bottomRight,I,0,!0),e.lineTo(n+i,r+a.topRight),e.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-I,!0),e.lineTo(n+a.topLeft,r)},t.almostEquals=L,t.almostWhole=function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e},t.callback=function(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)},t.clearCanvas=function(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()},t.clipArea=function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},t.clone=f,t.color=function(e){return W(e)?e:new r.Color(e)},t.createContext=be,t.debounce=function(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}},t.defaults=se,t.defined=S,t.descriptors=re,t.distanceBetweenPoints=N,t.drawPoint=function(e,t,n,r){le(e,t,n,r,null)},t.drawPointLegend=le,t.each=function(e,t,n,r){let i,o,u;if(a(e))if(o=e.length,r)for(i=o-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<o;i++)t.call(n,e[i],i);else if(s(e))for(u=Object.keys(e),o=u.length,i=0;i<o;i++)t.call(n,e[u[i]],u[i])},t.effects=$,t.finiteOrDefault=function(e,t){return u(e)?e:t},t.fontString=function(e,t,n){return t+" "+e+"px "+n},t.formatNumber=Q,t.getAngleFromPoint=function(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*_&&(o+=x),{angle:o,distance:i}},t.getHoverColor=Y,t.getMaximumSize=function(e,t,n,r){const i=ze(e),o=Ke(i,"margin"),a=Fe(i.maxWidth,e,"clientWidth")||T,s=Fe(i.maxHeight,e,"clientHeight")||T,u=function(e,t,n){let r,i;if(void 0===t||void 0===n){const o=Ue(e);if(o){const e=o.getBoundingClientRect(),a=ze(o),s=Ke(a,"border","width"),u=Ke(a,"padding");t=e.width-u.width-s.width,n=e.height-u.height-s.height,r=Fe(a.maxWidth,o,"clientWidth"),i=Fe(a.maxHeight,o,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||T,maxHeight:i||T}}(e,t,n);let{width:c,height:l}=u;if("content-box"===i.boxSizing){const e=Ke(i,"border","width"),t=Ke(i,"padding");c-=t.width+e.width,l-=t.height+e.height}return c=Math.max(0,c-o.width),l=Math.max(0,r?c/r:l-o.height),c=He(Math.min(c,a,u.maxWidth)),l=He(Math.min(l,s,u.maxHeight)),c&&!l&&(l=He(c/2)),(void 0!==t||void 0!==n)&&r&&u.height&&l>u.height&&(l=u.height,c=He(Math.floor(l*r))),{width:c,height:l}},t.getRelativePosition=function(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=ze(n),o="border-box"===i.boxSizing,a=Ke(i,"padding"),s=Ke(i,"border","width"),{x:u,y:c,box:l}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:o}=r;let a,s,u=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(i,o,e.target))a=i,s=o;else{const e=t.getBoundingClientRect();a=r.clientX-e.left,s=r.clientY-e.top,u=!0}return{x:a,y:s,box:u}}(e,n),f=a.left+(l&&s.left),d=a.top+(l&&s.top);let{width:h,height:p}=t;return o&&(h-=a.width+s.width,p-=a.height+s.height),{x:Math.round((u-f)/h*n.width/r),y:Math.round((c-d)/p*n.height/r)}},t.getRtlAdapter=function(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}},t.getStyle=Be,t.isArray=a,t.isFunction=E,t.isNullOrUndef=o,t.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},t.isNumberFinite=u,t.isObject=s,t.isPatternOrGradient=W,t.listenArrayEvents=function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),q.forEach((t=>{const n="_onData"+w(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...t){const i=r.apply(this,t);return e._chartjs.listeners.forEach((e=>{"function"==typeof e[n]&&e[n](...t)})),i}})})))},t.log10=k,t.merge=p,t.mergeIf=v,t.niceNum=function(e){const t=Math.round(e);e=L(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(k(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n},t.noop=function(){},t.overrideTextDirection=function(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)},t.overrides=ne,t.readUsedSize=function(e,t){const n=Be(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0},t.renderText=function(e,t,n,r,i,s={}){const u=a(t)?t:[t],c=s.strokeWidth>0&&""!==s.strokeColor;let l,f;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),o(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<u.length;++l)f=u[l],s.backdrop&&he(e,s.backdrop),c&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),o(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(f,n,r,s.maxWidth)),e.fillText(f,n,r,s.maxWidth),de(e,n,r,f,s),r+=i.lineHeight;e.restore()},t.requestAnimFrame=K,t.resolve=function(e,t,n,r){let i,o,s,u=!0;for(i=0,o=e.length;i<o;++i)if(s=e[i],void 0!==s&&(void 0!==t&&"function"==typeof s&&(s=s(t),u=!1),void 0!==n&&a(s)&&(s=s[n%s.length],u=!1),void 0!==s))return r&&!u&&(r.cacheable=!1),s},t.resolveObjectKey=b,t.restoreTextDirection=function(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))},t.retinaScale=function(e,t,n){const r=t||1,i=Math.floor(e.height*r),o=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==r||a.height!==i||a.width!==o)&&(e.currentDevicePixelRatio=r,a.height=i,a.width=o,e.ctx.setTransform(r,0,0,r,0,0),!0)},t.setsEqual=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0},t.sign=R,t.splineCurve=De,t.splineCurveMonotone=Me,t.supportsEventListenerOptions=Ge,t.throttled=function(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,K.call(window,(()=>{r=!1,e.apply(t,n)})))}},t.toDegrees=function(e){return e*(180/_)},t.toDimension=l,t.toFont=function(e,t){e=e||{},t=t||se.font;let n=c(e.size,t.size);"string"==typeof n&&(n=parseInt(n,10));let r=c(e.style,t.style);r&&!(""+r).match(ve)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:c(e.family,t.family),lineHeight:ye(c(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:c(e.weight,t.weight),string:""};return i.string=ue(i),i},t.toFontString=ue,t.toLineHeight=ye,t.toPadding=function(e){const t=me(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t},t.toPercentage=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t,t.toRadians=function(e){return e*(_/180)},t.toTRBL=me,t.toTRBLCorners=function(e){return ge(e,["topLeft","topRight","bottomLeft","bottomRight"])},t.uid=i,t.unclipArea=function(e){e.restore()},t.unlistenArrayEvents=function(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(q.forEach((t=>{delete e[t]})),delete e._chartjs)},t.valueOrDefault=c}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{const e=n(8822),t=n(589),r=n(5739);console.log(e),n.g.window.modules={"aws-amplify":e,"@aws-sdk/client-dynamodb":t,"chart.js/auto":r}})()})();