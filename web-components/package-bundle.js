/*! For license information please see package-bundle.js.LICENSE.txt */
(()=>{var e={5885:(e,t,n)=>{var r=n(8010),o=n(5705),i=o;i.v1=r,i.v4=o,e.exports=i},1901:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},4478:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},8010:(e,t,n)=>{var r,o,i=n(4478),a=n(1901),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=h-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,o=d;var m=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=m>>>24&255,l[c++]=m>>>16&255,l[c++]=m>>>8&255,l[c++]=255&m;var g=h/4294967296*1e4&268435455;l[c++]=g>>>8&255,l[c++]=255&g,l[c++]=g>>>24&15|16,l[c++]=g>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},5705:(e,t,n)=>{var r=n(4478),o=n(1901);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},1774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(1888),o=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var o=this.bufferLength;o<r.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<r.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(r.DIGEST_LENGTH);for(o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],p=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,h=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(p+this.temp[f-7]|0)+(h+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;l=c,c=u,u=s,s=a+v|0,a=i,i=o,o=n,n=v+y|0}t[0]+=n,t[1]+=o,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=o},1888:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},6051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(8008).__exportStar)(n(8036),t)},8036:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(8008),o=n(1888),i=n(1774),a=n(2823),s=function(){function e(e){if(this.hash=new i.RawSha256,e){this.outer=new i.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>o.BLOCK_SIZE){var n=new i.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(o.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(o.BLOCK_SIZE);n.set(t);for(var r=0;r<o.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},8647:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(2084),o="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},2823:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(8647);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var o=n(914);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var i=n(4513);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var a=n(7092);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},914:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},4513:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},7092:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},8008:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},8029:(e,t,n)=>{var r=n(8144),o=n(7520),i=o;i.v1=r,i.v4=o,e.exports=i},3163:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},1831:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},8144:(e,t,n)=>{var r,o,i=n(1831),a=n(3163),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=h-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,o=d;var m=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=m>>>24&255,l[c++]=m>>>16&255,l[c++]=m>>>8&255,l[c++]=255&m;var g=h/4294967296*1e4&268435455;l[c++]=g>>>8&255,l[c++]=255&g,l[c++]=g>>>24&15|16,l[c++]=g>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},7520:(e,t,n)=>{var r=n(1831),o=n(3163);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},3942:(e,t,n)=>{var r=n(6044),o=n(1924),i=o;i.v1=r,i.v4=o,e.exports=i},7219:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},8438:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},6044:(e,t,n)=>{var r,o,i=n(8438),a=n(7219),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=h-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,o=d;var m=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=m>>>24&255,l[c++]=m>>>16&255,l[c++]=m>>>8&255,l[c++]=255&m;var g=h/4294967296*1e4&268435455;l[c++]=g>>>8&255,l[c++]=255&g,l[c++]=g>>>24&15|16,l[c++]=g>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},1924:(e,t,n)=>{var r=n(8438),o=n(7219);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},5408:(e,t,n)=>{var r=n(1330),o=n(4701),i=o;i.v1=r,i.v4=o,e.exports=i},1178:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},9513:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},1330:(e,t,n)=>{var r,o,i=n(9513),a=n(1178),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=h-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,o=d;var m=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=m>>>24&255,l[c++]=m>>>16&255,l[c++]=m>>>8&255,l[c++]=255&m;var g=h/4294967296*1e4&268435455;l[c++]=g>>>8&255,l[c++]=255&g,l[c++]=g>>>24&15|16,l[c++]=g>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},4701:(e,t,n)=>{var r=n(9513),o=n(1178);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},8260:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6665:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5470:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},969:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5287:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,o=t.subtle;return n.map((function(e){return o[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},5521:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1980);r.__exportStar(n(8260),t),r.__exportStar(n(6665),t),r.__exportStar(n(5470),t),r.__exportStar(n(969),t),r.__exportStar(n(5287),t)},1980:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},7333:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},2769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(3479),o=n(8889),i=n(1938),a=n(21),s=n(5521),u=n(6495),c=function(){function e(e){(0,a.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new o.Sha256(e):(0,s.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new i.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},3479:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(2064),o=n(7333),i=n(2084),a=n(6495),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",u(e),o.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(o.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?(0,i.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},7643:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(5789).__exportStar)(n(2769),t);var r=n(3479);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var o=n(8889);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return o.Sha256}})},2064:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},8889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(7658),o=n(7333),i=n(6495),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,i.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),o.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,i.locateWindow)().crypto.subtle.sign(o.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(o.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,i.locateWindow)().crypto.subtle.digest(o.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},5789:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},7449:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(9945),o=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var o=this.bufferLength;o<r.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<r.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(r.DIGEST_LENGTH);for(o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],p=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,h=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(p+this.temp[f-7]|0)+(h+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;l=c,c=u,u=s,s=a+v|0,a=i,i=o,o=n,n=v+y|0}t[0]+=n,t[1]+=o,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=o},9945:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},1938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(3541).__exportStar)(n(5430),t)},5430:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(3541),o=n(9945),i=n(7449),a=n(7658),s=function(){function e(e){if(this.hash=new i.RawSha256,e){this.outer=new i.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>o.BLOCK_SIZE){var n=new i.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(o.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(o.BLOCK_SIZE);n.set(t);for(var r=0;r<o.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},3541:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},21:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7840).__exportStar(n(7787),t)},7787:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(7840),o=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function i(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&o.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!i(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=i,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},7840:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},1106:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(2084),o="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},7658:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(1106);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var o=n(4304);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var i=n(2174);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var a=n(1558);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},4304:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},2174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},1558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},9944:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2811:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8274:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4488:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7557:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,o=t.subtle;return n.map((function(e){return o[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},3141:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9574);r.__exportStar(n(9944),t),r.__exportStar(n(2811),t),r.__exportStar(n(8274),t),r.__exportStar(n(4488),t),r.__exportStar(n(7557),t)},9574:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6168:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},866:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(169),o=n(9667),i=n(2305),a=n(6669),s=n(3141),u=n(6495),c=function(){function e(e){(0,a.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new o.Sha256(e):(0,s.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new i.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},169:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(230),o=n(6168),i=n(979),a=n(6495),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",u(e),o.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(o.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?(0,i.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},1597:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(7815).__exportStar)(n(866),t);var r=n(169);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var o=n(9667);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return o.Sha256}})},230:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},9667:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(4712),o=n(6168),i=n(6495),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,i.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),o.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,i.locateWindow)().crypto.subtle.sign(o.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(o.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,i.locateWindow)().crypto.subtle.digest(o.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},7815:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},5237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(846),o=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var o=this.bufferLength;o<r.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<r.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(r.DIGEST_LENGTH);for(o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],p=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,h=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(p+this.temp[f-7]|0)+(h+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;l=c,c=u,u=s,s=a+v|0,a=i,i=o,o=n,n=v+y|0}t[0]+=n,t[1]+=o,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=o},846:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},2305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(7338).__exportStar)(n(3390),t)},3390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(7338),o=n(846),i=n(5237),a=n(4712),s=function(){function e(e){if(this.hash=new i.RawSha256,e){this.outer=new i.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>o.BLOCK_SIZE){var n=new i.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(o.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(o.BLOCK_SIZE);n.set(t);for(var r=0;r<o.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},7338:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6669:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(6468).__exportStar(n(5529),t)},5529:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(6468),o=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function i(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&o.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!i(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=i,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},6468:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6334:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(979),o="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},4712:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(6334);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var o=n(2862);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var i=n(5819);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var a=n(6784);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},2862:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},5819:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},6784:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},979:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>o});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},o=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},7134:(e,t,n)=>{var r=n(694),o=n(4122),i=o;i.v1=r,i.v4=o,e.exports=i},9293:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},2257:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},694:(e,t,n)=>{var r,o,i=n(2257),a=n(9293),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=h-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,o=d;var m=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=m>>>24&255,l[c++]=m>>>16&255,l[c++]=m>>>8&255,l[c++]=255&m;var g=h/4294967296*1e4&268435455;l[c++]=g>>>8&255,l[c++]=255&g,l[c++]=g>>>24&15|16,l[c++]=g>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},4122:(e,t,n)=>{var r=n(2257),o=n(9293);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},7394:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1609:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9333:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1995:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3543:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,o=t.subtle;return n.map((function(e){return o[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},9365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1942);r.__exportStar(n(7394),t),r.__exportStar(n(1609),t),r.__exportStar(n(9333),t),r.__exportStar(n(1995),t),r.__exportStar(n(3543),t)},1942:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},5836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},8254:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(2455),o=n(1699),i=n(6642),a=n(3787),s=n(9365),u=n(6495),c=function(){function e(e){(0,a.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new o.Sha256(e):(0,s.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new i.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},2455:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(1317),o=n(5836),i=n(367),a=n(6495),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",u(e),o.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(o.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?(0,i.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},7381:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(4948).__exportStar)(n(8254),t);var r=n(2455);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var o=n(1699);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return o.Sha256}})},1317:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},1699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(458),o=n(5836),i=n(6495),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,i.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),o.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,i.locateWindow)().crypto.subtle.sign(o.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(o.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,i.locateWindow)().crypto.subtle.digest(o.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},4948:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},3784:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(5538),o=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var o=this.bufferLength;o<r.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<r.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(r.DIGEST_LENGTH);for(o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],p=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,h=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(p+this.temp[f-7]|0)+(h+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;l=c,c=u,u=s,s=a+v|0,a=i,i=o,o=n,n=v+y|0}t[0]+=n,t[1]+=o,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=o},5538:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},6642:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(3917).__exportStar)(n(1016),t)},1016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(3917),o=n(5538),i=n(3784),a=n(458),s=function(){function e(e){if(this.hash=new i.RawSha256,e){this.outer=new i.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>o.BLOCK_SIZE){var n=new i.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(o.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(o.BLOCK_SIZE);n.set(t);for(var r=0;r<o.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},3917:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},3787:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(5497).__exportStar(n(14),t)},14:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(5497),o=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function i(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&o.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!i(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=i,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},5497:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},1346:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(367),o="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(1346);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var o=n(2498);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var i=n(5276);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var a=n(4665);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},2498:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},5276:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},4665:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},367:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>o});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},o=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},1856:(e,t,n)=>{var r=n(7078),o=n(7348),i=o;i.v1=r,i.v4=o,e.exports=i},6076:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},8619:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},7078:(e,t,n)=>{var r,o,i=n(8619),a=n(6076),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=h-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,o=d;var m=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=m>>>24&255,l[c++]=m>>>16&255,l[c++]=m>>>8&255,l[c++]=255&m;var g=h/4294967296*1e4&268435455;l[c++]=g>>>8&255,l[c++]=255&g,l[c++]=g>>>24&15|16,l[c++]=g>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},7348:(e,t,n)=>{var r=n(8619),o=n(6076);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},589:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ArchivalSummaryFilterSensitiveLog:()=>ut,AttributeAction:()=>$,AttributeDefinitionFilterSensitiveLog:()=>ct,AttributeValue:()=>Pe,AttributeValueFilterSensitiveLog:()=>ro,AttributeValueUpdateFilterSensitiveLog:()=>oo,AutoScalingPolicyDescriptionFilterSensitiveLog:()=>ft,AutoScalingPolicyUpdateFilterSensitiveLog:()=>pt,AutoScalingSettingsDescriptionFilterSensitiveLog:()=>ht,AutoScalingSettingsUpdateFilterSensitiveLog:()=>vt,AutoScalingTargetTrackingScalingPolicyConfigurationDescriptionFilterSensitiveLog:()=>lt,AutoScalingTargetTrackingScalingPolicyConfigurationUpdateFilterSensitiveLog:()=>dt,BackupDescriptionFilterSensitiveLog:()=>At,BackupDetailsFilterSensitiveLog:()=>yt,BackupInUseException:()=>Oe,BackupNotFoundException:()=>ke,BackupStatus:()=>Y,BackupSummaryFilterSensitiveLog:()=>Ct,BackupType:()=>Z,BackupTypeFilter:()=>oe,BatchExecuteStatementCommand:()=>Pc,BatchExecuteStatementInputFilterSensitiveLog:()=>So,BatchExecuteStatementOutputFilterSensitiveLog:()=>Eo,BatchGetItemCommand:()=>Oc,BatchGetItemInputFilterSensitiveLog:()=>Io,BatchGetItemOutputFilterSensitiveLog:()=>Bo,BatchStatementErrorCodeEnum:()=>ae,BatchStatementErrorFilterSensitiveLog:()=>kt,BatchStatementRequestFilterSensitiveLog:()=>io,BatchStatementResponseFilterSensitiveLog:()=>ao,BatchWriteItemCommand:()=>kc,BatchWriteItemInputFilterSensitiveLog:()=>Ko,BatchWriteItemOutputFilterSensitiveLog:()=>$o,BillingMode:()=>J,BillingModeSummaryFilterSensitiveLog:()=>Rt,CancellationReasonFilterSensitiveLog:()=>so,CapacityFilterSensitiveLog:()=>Pt,ComparisonOperator:()=>ue,ConditionCheckFilterSensitiveLog:()=>Oo,ConditionFilterSensitiveLog:()=>uo,ConditionalCheckFailedException:()=>Ue,ConditionalOperator:()=>ce,ConsumedCapacityFilterSensitiveLog:()=>Ot,ContinuousBackupsDescriptionFilterSensitiveLog:()=>Lt,ContinuousBackupsStatus:()=>fe,ContinuousBackupsUnavailableException:()=>Fe,ContributorInsightsAction:()=>pe,ContributorInsightsStatus:()=>he,ContributorInsightsSummaryFilterSensitiveLog:()=>Dt,CreateBackupCommand:()=>Rc,CreateBackupInputFilterSensitiveLog:()=>Mt,CreateBackupOutputFilterSensitiveLog:()=>jt,CreateGlobalSecondaryIndexActionFilterSensitiveLog:()=>Ut,CreateGlobalTableCommand:()=>Nc,CreateGlobalTableInputFilterSensitiveLog:()=>zt,CreateGlobalTableOutputFilterSensitiveLog:()=>Vt,CreateReplicaActionFilterSensitiveLog:()=>$t,CreateReplicationGroupMemberActionFilterSensitiveLog:()=>Yt,CreateTableCommand:()=>Lc,CreateTableInputFilterSensitiveLog:()=>en,CreateTableOutputFilterSensitiveLog:()=>sn,CsvOptionsFilterSensitiveLog:()=>un,DeleteBackupCommand:()=>Dc,DeleteBackupInputFilterSensitiveLog:()=>cn,DeleteBackupOutputFilterSensitiveLog:()=>ln,DeleteFilterSensitiveLog:()=>ko,DeleteGlobalSecondaryIndexActionFilterSensitiveLog:()=>fn,DeleteItemCommand:()=>Mc,DeleteItemInputFilterSensitiveLog:()=>Go,DeleteItemOutputFilterSensitiveLog:()=>Lo,DeleteReplicaActionFilterSensitiveLog:()=>dn,DeleteReplicationGroupMemberActionFilterSensitiveLog:()=>pn,DeleteRequestFilterSensitiveLog:()=>co,DeleteTableCommand:()=>jc,DeleteTableInputFilterSensitiveLog:()=>hn,DeleteTableOutputFilterSensitiveLog:()=>vn,DescribeBackupCommand:()=>Uc,DescribeBackupInputFilterSensitiveLog:()=>yn,DescribeBackupOutputFilterSensitiveLog:()=>mn,DescribeContinuousBackupsCommand:()=>Fc,DescribeContinuousBackupsInputFilterSensitiveLog:()=>gn,DescribeContinuousBackupsOutputFilterSensitiveLog:()=>bn,DescribeContributorInsightsCommand:()=>zc,DescribeContributorInsightsInputFilterSensitiveLog:()=>wn,DescribeContributorInsightsOutputFilterSensitiveLog:()=>En,DescribeEndpointsCommand:()=>Bc,DescribeEndpointsRequestFilterSensitiveLog:()=>_n,DescribeEndpointsResponseFilterSensitiveLog:()=>Tn,DescribeExportCommand:()=>qc,DescribeExportInputFilterSensitiveLog:()=>In,DescribeExportOutputFilterSensitiveLog:()=>Cn,DescribeGlobalTableCommand:()=>Kc,DescribeGlobalTableInputFilterSensitiveLog:()=>Pn,DescribeGlobalTableOutputFilterSensitiveLog:()=>On,DescribeGlobalTableSettingsCommand:()=>Gc,DescribeGlobalTableSettingsInputFilterSensitiveLog:()=>kn,DescribeGlobalTableSettingsOutputFilterSensitiveLog:()=>Ln,DescribeImportCommand:()=>Hc,DescribeImportInputFilterSensitiveLog:()=>Dn,DescribeImportOutputFilterSensitiveLog:()=>zn,DescribeKinesisStreamingDestinationCommand:()=>Vc,DescribeKinesisStreamingDestinationInputFilterSensitiveLog:()=>Bn,DescribeKinesisStreamingDestinationOutputFilterSensitiveLog:()=>Kn,DescribeLimitsCommand:()=>$c,DescribeLimitsInputFilterSensitiveLog:()=>Gn,DescribeLimitsOutputFilterSensitiveLog:()=>Hn,DescribeTableCommand:()=>Wc,DescribeTableInputFilterSensitiveLog:()=>Vn,DescribeTableOutputFilterSensitiveLog:()=>$n,DescribeTableReplicaAutoScalingCommand:()=>Yc,DescribeTableReplicaAutoScalingInputFilterSensitiveLog:()=>Wn,DescribeTableReplicaAutoScalingOutputFilterSensitiveLog:()=>Xn,DescribeTimeToLiveCommand:()=>Zc,DescribeTimeToLiveInputFilterSensitiveLog:()=>Qn,DescribeTimeToLiveOutputFilterSensitiveLog:()=>er,DestinationStatus:()=>Ae,DisableKinesisStreamingDestinationCommand:()=>Jc,DuplicateItemException:()=>Ye,DynamoDB:()=>hp,DynamoDBClient:()=>pp,DynamoDBServiceException:()=>V,EnableKinesisStreamingDestinationCommand:()=>Xc,EndpointFilterSensitiveLog:()=>xn,ExecuteStatementCommand:()=>Qc,ExecuteStatementInputFilterSensitiveLog:()=>lo,ExecuteStatementOutputFilterSensitiveLog:()=>Do,ExecuteTransactionCommand:()=>el,ExecuteTransactionInputFilterSensitiveLog:()=>_o,ExecuteTransactionOutputFilterSensitiveLog:()=>xo,ExpectedAttributeValueFilterSensitiveLog:()=>Ao,ExportConflictException:()=>Xe,ExportDescriptionFilterSensitiveLog:()=>An,ExportFormat:()=>Se,ExportNotFoundException:()=>Ve,ExportStatus:()=>Ee,ExportSummaryFilterSensitiveLog:()=>dr,ExportTableToPointInTimeCommand:()=>tl,ExportTableToPointInTimeInputFilterSensitiveLog:()=>rr,ExportTableToPointInTimeOutputFilterSensitiveLog:()=>or,FailureExceptionFilterSensitiveLog:()=>Sn,GetFilterSensitiveLog:()=>fo,GetItemCommand:()=>nl,GetItemInputFilterSensitiveLog:()=>po,GetItemOutputFilterSensitiveLog:()=>ho,GlobalSecondaryIndexAutoScalingUpdateFilterSensitiveLog:()=>Yr,GlobalSecondaryIndexDescriptionFilterSensitiveLog:()=>nn,GlobalSecondaryIndexFilterSensitiveLog:()=>Zt,GlobalSecondaryIndexInfoFilterSensitiveLog:()=>St,GlobalSecondaryIndexUpdateFilterSensitiveLog:()=>Gr,GlobalTableAlreadyExistsException:()=>Ke,GlobalTableDescriptionFilterSensitiveLog:()=>Ht,GlobalTableFilterSensitiveLog:()=>vr,GlobalTableGlobalSecondaryIndexSettingsUpdateFilterSensitiveLog:()=>Ur,GlobalTableNotFoundException:()=>$e,GlobalTableStatus:()=>ve,IdempotentParameterMismatchException:()=>Ze,ImportConflictException:()=>tt,ImportNotFoundException:()=>We,ImportStatus:()=>xe,ImportSummaryFilterSensitiveLog:()=>gr,ImportTableCommand:()=>rl,ImportTableDescriptionFilterSensitiveLog:()=>Fn,ImportTableInputFilterSensitiveLog:()=>ir,ImportTableOutputFilterSensitiveLog:()=>ar,IndexNotFoundException:()=>at,IndexStatus:()=>ge,InputCompressionType:()=>Te,InputFormat:()=>Ie,InputFormatOptionsFilterSensitiveLog:()=>Mn,InternalServerError:()=>Re,InvalidEndpointException:()=>Le,InvalidExportTimeException:()=>Qe,InvalidRestoreTimeException:()=>rt,ItemCollectionMetricsFilterSensitiveLog:()=>vo,ItemCollectionSizeLimitExceededException:()=>je,ItemResponseFilterSensitiveLog:()=>yo,KeySchemaElementFilterSensitiveLog:()=>mt,KeyType:()=>X,KeysAndAttributesFilterSensitiveLog:()=>bo,KinesisDataStreamDestinationFilterSensitiveLog:()=>qn,KinesisStreamingDestinationInputFilterSensitiveLog:()=>tr,KinesisStreamingDestinationOutputFilterSensitiveLog:()=>nr,LimitExceededException:()=>ze,ListBackupsCommand:()=>ol,ListBackupsInputFilterSensitiveLog:()=>sr,ListBackupsOutputFilterSensitiveLog:()=>ur,ListContributorInsightsCommand:()=>il,ListContributorInsightsInputFilterSensitiveLog:()=>cr,ListContributorInsightsOutputFilterSensitiveLog:()=>lr,ListExportsCommand:()=>al,ListExportsInputFilterSensitiveLog:()=>fr,ListExportsOutputFilterSensitiveLog:()=>pr,ListGlobalTablesCommand:()=>sl,ListGlobalTablesInputFilterSensitiveLog:()=>hr,ListGlobalTablesOutputFilterSensitiveLog:()=>yr,ListImportsCommand:()=>ul,ListImportsInputFilterSensitiveLog:()=>mr,ListImportsOutputFilterSensitiveLog:()=>br,ListTablesCommand:()=>cl,ListTablesInputFilterSensitiveLog:()=>wr,ListTablesOutputFilterSensitiveLog:()=>Sr,ListTagsOfResourceCommand:()=>ll,ListTagsOfResourceInputFilterSensitiveLog:()=>Er,ListTagsOfResourceOutputFilterSensitiveLog:()=>_r,LocalSecondaryIndexDescriptionFilterSensitiveLog:()=>rn,LocalSecondaryIndexFilterSensitiveLog:()=>Jt,LocalSecondaryIndexInfoFilterSensitiveLog:()=>Et,ParameterizedStatementFilterSensitiveLog:()=>mo,PointInTimeRecoveryDescriptionFilterSensitiveLog:()=>Nt,PointInTimeRecoverySpecificationFilterSensitiveLog:()=>Or,PointInTimeRecoveryStatus:()=>de,PointInTimeRecoveryUnavailableException:()=>et,ProjectionFilterSensitiveLog:()=>wt,ProjectionType:()=>Q,ProvisionedThroughputDescriptionFilterSensitiveLog:()=>tn,ProvisionedThroughputExceededException:()=>De,ProvisionedThroughputFilterSensitiveLog:()=>gt,ProvisionedThroughputOverrideFilterSensitiveLog:()=>Bt,PutFilterSensitiveLog:()=>Ro,PutItemCommand:()=>fl,PutItemInputFilterSensitiveLog:()=>Ho,PutItemOutputFilterSensitiveLog:()=>Mo,PutRequestFilterSensitiveLog:()=>go,QueryCommand:()=>dl,QueryInputFilterSensitiveLog:()=>Vo,QueryOutputFilterSensitiveLog:()=>jo,ReplicaAlreadyExistsException:()=>ot,ReplicaAutoScalingDescriptionFilterSensitiveLog:()=>Zn,ReplicaAutoScalingUpdateFilterSensitiveLog:()=>Jr,ReplicaDescriptionFilterSensitiveLog:()=>Gt,ReplicaFilterSensitiveLog:()=>Ft,ReplicaGlobalSecondaryIndexAutoScalingDescriptionFilterSensitiveLog:()=>Yn,ReplicaGlobalSecondaryIndexAutoScalingUpdateFilterSensitiveLog:()=>Zr,ReplicaGlobalSecondaryIndexDescriptionFilterSensitiveLog:()=>qt,ReplicaGlobalSecondaryIndexFilterSensitiveLog:()=>Wt,ReplicaGlobalSecondaryIndexSettingsDescriptionFilterSensitiveLog:()=>Rn,ReplicaGlobalSecondaryIndexSettingsUpdateFilterSensitiveLog:()=>Fr,ReplicaNotFoundException:()=>it,ReplicaSettingsDescriptionFilterSensitiveLog:()=>Nn,ReplicaSettingsUpdateFilterSensitiveLog:()=>zr,ReplicaStatus:()=>ye,ReplicaUpdateFilterSensitiveLog:()=>Dr,ReplicationGroupUpdateFilterSensitiveLog:()=>Vr,RequestLimitExceeded:()=>Ne,ResourceInUseException:()=>Ge,ResourceNotFoundException:()=>Me,RestoreSummaryFilterSensitiveLog:()=>on,RestoreTableFromBackupCommand:()=>pl,RestoreTableFromBackupInputFilterSensitiveLog:()=>xr,RestoreTableFromBackupOutputFilterSensitiveLog:()=>Tr,RestoreTableToPointInTimeCommand:()=>hl,RestoreTableToPointInTimeInputFilterSensitiveLog:()=>Ir,RestoreTableToPointInTimeOutputFilterSensitiveLog:()=>Ar,ReturnConsumedCapacity:()=>ie,ReturnItemCollectionMetrics:()=>se,ReturnValue:()=>we,ReturnValuesOnConditionCheckFailure:()=>le,S3BucketSourceFilterSensitiveLog:()=>jn,S3SseAlgorithm:()=>_e,SSEDescriptionFilterSensitiveLog:()=>_t,SSESpecificationFilterSensitiveLog:()=>Xt,SSEStatus:()=>te,SSEType:()=>ee,ScalarAttributeType:()=>W,ScanCommand:()=>vl,ScanInputFilterSensitiveLog:()=>qo,ScanOutputFilterSensitiveLog:()=>Uo,Select:()=>Ce,SourceTableDetailsFilterSensitiveLog:()=>bt,SourceTableFeatureDetailsFilterSensitiveLog:()=>It,StreamSpecificationFilterSensitiveLog:()=>xt,StreamViewType:()=>ne,TableAlreadyExistsException:()=>nt,TableAutoScalingDescriptionFilterSensitiveLog:()=>Jn,TableClass:()=>me,TableClassSummaryFilterSensitiveLog:()=>Kt,TableCreationParametersFilterSensitiveLog:()=>Un,TableDescriptionFilterSensitiveLog:()=>an,TableInUseException:()=>Be,TableNotFoundException:()=>qe,TableStatus:()=>be,TagFilterSensitiveLog:()=>Qt,TagResourceCommand:()=>yl,TagResourceInputFilterSensitiveLog:()=>Cr,TimeToLiveDescriptionFilterSensitiveLog:()=>Tt,TimeToLiveSpecificationFilterSensitiveLog:()=>eo,TimeToLiveStatus:()=>re,TransactGetItemFilterSensitiveLog:()=>wo,TransactGetItemsCommand:()=>ml,TransactGetItemsInputFilterSensitiveLog:()=>Co,TransactGetItemsOutputFilterSensitiveLog:()=>To,TransactWriteItemFilterSensitiveLog:()=>Yo,TransactWriteItemsCommand:()=>gl,TransactWriteItemsInputFilterSensitiveLog:()=>Zo,TransactWriteItemsOutputFilterSensitiveLog:()=>Po,TransactionCanceledException:()=>st,TransactionConflictException:()=>He,TransactionInProgressException:()=>Je,UntagResourceCommand:()=>bl,UntagResourceInputFilterSensitiveLog:()=>Pr,UpdateContinuousBackupsCommand:()=>wl,UpdateContinuousBackupsInputFilterSensitiveLog:()=>kr,UpdateContinuousBackupsOutputFilterSensitiveLog:()=>Rr,UpdateContributorInsightsCommand:()=>Sl,UpdateContributorInsightsInputFilterSensitiveLog:()=>Nr,UpdateContributorInsightsOutputFilterSensitiveLog:()=>Lr,UpdateFilterSensitiveLog:()=>No,UpdateGlobalSecondaryIndexActionFilterSensitiveLog:()=>Kr,UpdateGlobalTableCommand:()=>El,UpdateGlobalTableInputFilterSensitiveLog:()=>Mr,UpdateGlobalTableOutputFilterSensitiveLog:()=>jr,UpdateGlobalTableSettingsCommand:()=>_l,UpdateGlobalTableSettingsInputFilterSensitiveLog:()=>Br,UpdateGlobalTableSettingsOutputFilterSensitiveLog:()=>qr,UpdateItemCommand:()=>xl,UpdateItemInputFilterSensitiveLog:()=>Wo,UpdateItemOutputFilterSensitiveLog:()=>Fo,UpdateReplicationGroupMemberActionFilterSensitiveLog:()=>Hr,UpdateTableCommand:()=>Tl,UpdateTableInputFilterSensitiveLog:()=>$r,UpdateTableOutputFilterSensitiveLog:()=>Wr,UpdateTableReplicaAutoScalingCommand:()=>Il,UpdateTableReplicaAutoScalingInputFilterSensitiveLog:()=>Xr,UpdateTableReplicaAutoScalingOutputFilterSensitiveLog:()=>Qr,UpdateTimeToLiveCommand:()=>Al,UpdateTimeToLiveInputFilterSensitiveLog:()=>to,UpdateTimeToLiveOutputFilterSensitiveLog:()=>no,WriteRequestFilterSensitiveLog:()=>zo,paginateListContributorInsights:()=>mp,paginateListExports:()=>wp,paginateListImports:()=>_p,paginateListTables:()=>Ip,paginateQuery:()=>Pp,paginateScan:()=>Rp,waitForTableExists:()=>Kp,waitForTableNotExists:()=>Vp,waitUntilTableExists:()=>Gp,waitUntilTableNotExists:()=>$p});var r={};n.r(r),n.d(r,{isVirtualHostableS3Bucket:()=>yd,parseArn:()=>md,partition:()=>ud});var o={};n.r(o),n.d(o,{aws:()=>r,booleanEquals:()=>gd,getAttr:()=>bd,isSet:()=>wd,isValidHostLabel:()=>vd,not:()=>Sd,parseURL:()=>xd,stringEquals:()=>Td,substring:()=>Id,uriEncode:()=>Ad});const i={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},a={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function s(e,t,n){return{applyToStack:r=>{r.add(((e,t)=>(n,r)=>async r=>{const{response:o}=await n(r);try{return{response:o,output:await t(o,e)}}catch(e){throw Object.defineProperty(e,"$response",{value:o}),e}})(e,n),i),r.add(((e,t)=>(n,r)=>async o=>{const i=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint;if(!i)throw new Error("No valid endpoint provider available.");const a=await t(o.input,{...e,endpoint:i});return n({...o,request:a})})(e,t),a)}}}const u=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,c=/(\d+\.){3}\d+/,l=/\.\./,f=(e,t,n)=>{const r=async()=>{const r=n[e]??n[t];return"function"==typeof r?r():r};return"endpoint"===e||"endpoint"===t?async()=>{const e=await r();if(e&&"object"==typeof e){if("url"in e)return e.url.href;if("hostname"in e){const{protocol:t,hostname:n,port:r,path:o}=e;return`${t}//${n}${r?":"+r:""}${o}`}}return e}:r},d=async(e,t,n)=>{const r={},o=t?.getEndpointParameterInstructions?.()||{};for(const[t,i]of Object.entries(o))switch(i.type){case"staticContextParams":r[t]=i.value;break;case"contextParams":r[t]=e[i.name];break;case"clientContextParams":case"builtInParams":r[t]=await f(i.name,t,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return 0===Object.keys(o).length&&Object.assign(r,n),"s3"===String(n.serviceId).toLowerCase()&&await(async e=>{const t=e?.Bucket||"";if("string"==typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),(e=>{const[t,n,r,o,i,a]=e.split(":"),s="arn"===t&&e.split(":").length>=6,u=5===[t,n,r,i,a].filter(Boolean).length;if(s&&!u)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return!!("arn"===t&&n&&r&&i&&a)})(t)){if(!0===e.ForcePathStyle)throw new Error("Path-style addressing cannot be used with ARN buckets")}else n=t,(!u.test(n)||c.test(n)||l.test(n)||-1!==t.indexOf(".")&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);var n;return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e})(r),r},p={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:a.name},h=(e,t)=>({applyToStack:n=>{n.addRelativeTo((({config:e,instructions:t})=>(n,r)=>async o=>{const i=await(async(e,t,n,r)=>{const o=await d(e,t,n);if("function"!=typeof n.endpointProvider)throw new Error("config.endpointProvider is not set.");return n.endpointProvider(o,r)})(o.input,{getEndpointParameterInstructions:()=>t},{...e},r);r.endpointV2=i,r.authSchemes=i.properties?.authSchemes;const a=r.authSchemes?.[0];return a&&(r.signing_region=a.signingRegion,r.signing_service=a.signingName),n({...o})})({config:e,instructions:t}),p)}}),v=e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t},y=e=>{if("string"==typeof e)return y(new URL(e));const{hostname:t,pathname:n,port:r,protocol:o,search:i}=e;let a;return i&&(a=function(e){const t={};if(e=e.replace(/^\?/,""))for(const n of e.split("&")){let[e,r=null]=n.split("=");e=decodeURIComponent(e),r&&(r=decodeURIComponent(r)),e in t?Array.isArray(t[e])?t[e].push(r):t[e]=[t[e],r]:t[e]=r}return t}(i)),{hostname:t,port:r?parseInt(r):void 0,protocol:o,path:n,query:a}};class m{trace(){}debug(){}info(){}warn(){}error(){}}const g=()=>{let e=[],t=[];const n=new Set,r=n=>(e.forEach((e=>{n.add(e.middleware,{...e})})),t.forEach((e=>{n.addRelativeTo(e.middleware,{...e})})),n),o=e=>{const t=[];return e.before.forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...o(e))})),t.push(e),e.after.reverse().forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...o(e))})),t},i=(n=!1)=>{const r=[],i=[],a={};e.forEach((e=>{const t={...e,before:[],after:[]};t.name&&(a[t.name]=t),r.push(t)})),t.forEach((e=>{const t={...e,before:[],after:[]};t.name&&(a[t.name]=t),i.push(t)})),i.forEach((e=>{if(e.toMiddleware){const t=a[e.toMiddleware];if(void 0===t){if(n)return;throw new Error(`${e.toMiddleware} is not found when adding ${e.name||"anonymous"} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var s;return(s=r,s.sort(((e,t)=>b[t.step]-b[e.step]||w[t.priority||"normal"]-w[e.priority||"normal"]))).map(o).reduce(((e,t)=>(e.push(...t),e)),[])},a={add:(t,r={})=>{const{name:o,override:i}=r,a={step:"initialize",priority:"normal",middleware:t,...r};if(o){if(n.has(o)){if(!i)throw new Error(`Duplicate middleware name '${o}'`);const t=e.findIndex((e=>e.name===o)),n=e[t];if(n.step!==a.step||n.priority!==a.priority)throw new Error(`"${o}" middleware with ${n.priority} priority in ${n.step} step cannot be overridden by same-name middleware with ${a.priority} priority in ${a.step} step.`);e.splice(t,1)}n.add(o)}e.push(a)},addRelativeTo:(e,r)=>{const{name:o,override:i}=r,a={middleware:e,...r};if(o){if(n.has(o)){if(!i)throw new Error(`Duplicate middleware name '${o}'`);const e=t.findIndex((e=>e.name===o)),n=t[e];if(n.toMiddleware!==a.toMiddleware||n.relation!==a.relation)throw new Error(`"${o}" middleware ${n.relation} "${n.toMiddleware}" middleware cannot be overridden by same-name middleware ${a.relation} "${a.toMiddleware}" middleware.`);t.splice(e,1)}n.add(o)}t.push(a)},clone:()=>r(g()),use:e=>{e.applyToStack(a)},remove:r=>"string"==typeof r?(r=>{let o=!1;const i=e=>!e.name||e.name!==r||(o=!0,n.delete(r),!1);return e=e.filter(i),t=t.filter(i),o})(r):(r=>{let o=!1;const i=e=>e.middleware!==r||(o=!0,e.name&&n.delete(e.name),!1);return e=e.filter(i),t=t.filter(i),o})(r),removeByTag:r=>{let o=!1;const i=e=>{const{tags:t,name:i}=e;return!t||!t.includes(r)||(i&&n.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:e=>{const t=r(g());return t.use(e),t},applyToStack:r,identify:()=>i(!0).map((e=>e.name+": "+(e.tags||[]).join(","))),resolve:(e,t)=>{for(const n of i().map((e=>e.middleware)).reverse())e=n(e,t);return e}};return a},b={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},w={high:3,normal:2,low:1};class S{constructor(e){this.middlewareStack=g(),this.config=e}send(e,t,n){const r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return i(e).then((e=>e.output));i(e).then((e=>o(null,e.output)),(e=>o(e))).catch((()=>{}))}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}class E{constructor(){this.middlewareStack=g()}}const _=e=>{if(null!=e){if("number"==typeof e){if(0!==e&&1!==e||j.warn(M(`Expected boolean, got ${typeof e}: ${e}`)),0===e)return!1;if(1===e)return!0}if("string"==typeof e){const t=e.toLowerCase();if("false"!==t&&"true"!==t||j.warn(M(`Expected boolean, got ${typeof e}: ${e}`)),"false"===t)return!1;if("true"===t)return!0}if("boolean"==typeof e)return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},x=e=>{if(null!=e){if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&j.warn(M(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},T=(Math.ceil(2**127*(2-2**-23)),e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}}),I=e=>A(e,32),A=(e,t)=>{const n=T(e);if(void 0!==n&&C(n,t)!==n)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return n},C=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},P=(e,t)=>{if(null==e){if(t)throw new TypeError(`Expected a non-null value for ${t}`);throw new TypeError("Expected a non-null value")}return e},O=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return j.warn(M(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},k=e=>{if(null==e)return;const t=(e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)})(e),n=Object.entries(t).filter((([,e])=>null!=e)).map((([e])=>e));if(0===n.length)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(n.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${n} were not null.`);return t},R=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,N=e=>{const t=e.match(R);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},L=e=>"string"==typeof e?D(e):x(e),D=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},M=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((e=>!e.includes("stackTraceWarning"))).join("\n"),j={warn:console.warn},U=e=>{if(null==e)return;let t;if("number"==typeof e)t=e;else{if("string"!=typeof e)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");t=(e=>x("string"==typeof e?N(e):e))(e)}if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*t))};class F extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,F.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const z=(e,t={})=>{Object.entries(t).filter((([,e])=>void 0!==e)).forEach((([t,n])=>{null!=e[t]&&""!==e[t]||(e[t]=n)}));const n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},B=({output:e,parsedBody:t,exceptionCtor:n,errorCode:r})=>{const o=q(e),i=o.httpStatusCode?o.httpStatusCode+"":void 0,a=new n({name:t.code||t.Code||r||i||"UnknownError",$fault:"client",$metadata:o});throw z(a,t)},q=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),K=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},G=function(){const e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),n=new t;return Object.setPrototypeOf(n,e.prototype),n};G.prototype=Object.create(String.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(G,String);const H=e=>{if(e!=e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}};class V extends F{constructor(e){super(e),Object.setPrototypeOf(this,V.prototype)}}var $,W,Y,Z,J,X,Q,ee,te,ne,re,oe,ie,ae,se,ue,ce,le,fe,de,pe,he,ve,ye,me,ge,be,we,Se,Ee,_e,xe,Te,Ie,Ae,Ce,Pe;!function(e){e.ADD="ADD",e.DELETE="DELETE",e.PUT="PUT"}($||($={})),function(e){e.B="B",e.N="N",e.S="S"}(W||(W={})),function(e){e.AVAILABLE="AVAILABLE",e.CREATING="CREATING",e.DELETED="DELETED"}(Y||(Y={})),function(e){e.AWS_BACKUP="AWS_BACKUP",e.SYSTEM="SYSTEM",e.USER="USER"}(Z||(Z={})),function(e){e.PAY_PER_REQUEST="PAY_PER_REQUEST",e.PROVISIONED="PROVISIONED"}(J||(J={})),function(e){e.HASH="HASH",e.RANGE="RANGE"}(X||(X={})),function(e){e.ALL="ALL",e.INCLUDE="INCLUDE",e.KEYS_ONLY="KEYS_ONLY"}(Q||(Q={})),function(e){e.AES256="AES256",e.KMS="KMS"}(ee||(ee={})),function(e){e.DISABLED="DISABLED",e.DISABLING="DISABLING",e.ENABLED="ENABLED",e.ENABLING="ENABLING",e.UPDATING="UPDATING"}(te||(te={})),function(e){e.KEYS_ONLY="KEYS_ONLY",e.NEW_AND_OLD_IMAGES="NEW_AND_OLD_IMAGES",e.NEW_IMAGE="NEW_IMAGE",e.OLD_IMAGE="OLD_IMAGE"}(ne||(ne={})),function(e){e.DISABLED="DISABLED",e.DISABLING="DISABLING",e.ENABLED="ENABLED",e.ENABLING="ENABLING"}(re||(re={}));class Oe extends V{constructor(e){super({name:"BackupInUseException",$fault:"client",...e}),this.name="BackupInUseException",this.$fault="client",Object.setPrototypeOf(this,Oe.prototype)}}class ke extends V{constructor(e){super({name:"BackupNotFoundException",$fault:"client",...e}),this.name="BackupNotFoundException",this.$fault="client",Object.setPrototypeOf(this,ke.prototype)}}!function(e){e.ALL="ALL",e.AWS_BACKUP="AWS_BACKUP",e.SYSTEM="SYSTEM",e.USER="USER"}(oe||(oe={})),function(e){e.INDEXES="INDEXES",e.NONE="NONE",e.TOTAL="TOTAL"}(ie||(ie={})),function(e){e.AccessDenied="AccessDenied",e.ConditionalCheckFailed="ConditionalCheckFailed",e.DuplicateItem="DuplicateItem",e.InternalServerError="InternalServerError",e.ItemCollectionSizeLimitExceeded="ItemCollectionSizeLimitExceeded",e.ProvisionedThroughputExceeded="ProvisionedThroughputExceeded",e.RequestLimitExceeded="RequestLimitExceeded",e.ResourceNotFound="ResourceNotFound",e.ThrottlingError="ThrottlingError",e.TransactionConflict="TransactionConflict",e.ValidationError="ValidationError"}(ae||(ae={}));class Re extends V{constructor(e){super({name:"InternalServerError",$fault:"server",...e}),this.name="InternalServerError",this.$fault="server",Object.setPrototypeOf(this,Re.prototype)}}class Ne extends V{constructor(e){super({name:"RequestLimitExceeded",$fault:"client",...e}),this.name="RequestLimitExceeded",this.$fault="client",Object.setPrototypeOf(this,Ne.prototype)}}class Le extends V{constructor(e){super({name:"InvalidEndpointException",$fault:"client",...e}),this.name="InvalidEndpointException",this.$fault="client",Object.setPrototypeOf(this,Le.prototype),this.Message=e.Message}}class De extends V{constructor(e){super({name:"ProvisionedThroughputExceededException",$fault:"client",...e}),this.name="ProvisionedThroughputExceededException",this.$fault="client",Object.setPrototypeOf(this,De.prototype)}}class Me extends V{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Me.prototype)}}!function(e){e.NONE="NONE",e.SIZE="SIZE"}(se||(se={}));class je extends V{constructor(e){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...e}),this.name="ItemCollectionSizeLimitExceededException",this.$fault="client",Object.setPrototypeOf(this,je.prototype)}}!function(e){e.BEGINS_WITH="BEGINS_WITH",e.BETWEEN="BETWEEN",e.CONTAINS="CONTAINS",e.EQ="EQ",e.GE="GE",e.GT="GT",e.IN="IN",e.LE="LE",e.LT="LT",e.NE="NE",e.NOT_CONTAINS="NOT_CONTAINS",e.NOT_NULL="NOT_NULL",e.NULL="NULL"}(ue||(ue={}));class Ue extends V{constructor(e){super({name:"ConditionalCheckFailedException",$fault:"client",...e}),this.name="ConditionalCheckFailedException",this.$fault="client",Object.setPrototypeOf(this,Ue.prototype)}}!function(e){e.AND="AND",e.OR="OR"}(ce||(ce={})),function(e){e.ALL_OLD="ALL_OLD",e.NONE="NONE"}(le||(le={})),function(e){e.DISABLED="DISABLED",e.ENABLED="ENABLED"}(fe||(fe={})),function(e){e.DISABLED="DISABLED",e.ENABLED="ENABLED"}(de||(de={}));class Fe extends V{constructor(e){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...e}),this.name="ContinuousBackupsUnavailableException",this.$fault="client",Object.setPrototypeOf(this,Fe.prototype)}}!function(e){e.DISABLE="DISABLE",e.ENABLE="ENABLE"}(pe||(pe={})),function(e){e.DISABLED="DISABLED",e.DISABLING="DISABLING",e.ENABLED="ENABLED",e.ENABLING="ENABLING",e.FAILED="FAILED"}(he||(he={}));class ze extends V{constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,ze.prototype)}}class Be extends V{constructor(e){super({name:"TableInUseException",$fault:"client",...e}),this.name="TableInUseException",this.$fault="client",Object.setPrototypeOf(this,Be.prototype)}}class qe extends V{constructor(e){super({name:"TableNotFoundException",$fault:"client",...e}),this.name="TableNotFoundException",this.$fault="client",Object.setPrototypeOf(this,qe.prototype)}}!function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING",e.UPDATING="UPDATING"}(ve||(ve={})),function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.CREATION_FAILED="CREATION_FAILED",e.DELETING="DELETING",e.INACCESSIBLE_ENCRYPTION_CREDENTIALS="INACCESSIBLE_ENCRYPTION_CREDENTIALS",e.REGION_DISABLED="REGION_DISABLED",e.UPDATING="UPDATING"}(ye||(ye={})),function(e){e.STANDARD="STANDARD",e.STANDARD_INFREQUENT_ACCESS="STANDARD_INFREQUENT_ACCESS"}(me||(me={}));class Ke extends V{constructor(e){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...e}),this.name="GlobalTableAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,Ke.prototype)}}!function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING",e.UPDATING="UPDATING"}(ge||(ge={})),function(e){e.ACTIVE="ACTIVE",e.ARCHIVED="ARCHIVED",e.ARCHIVING="ARCHIVING",e.CREATING="CREATING",e.DELETING="DELETING",e.INACCESSIBLE_ENCRYPTION_CREDENTIALS="INACCESSIBLE_ENCRYPTION_CREDENTIALS",e.UPDATING="UPDATING"}(be||(be={}));class Ge extends V{constructor(e){super({name:"ResourceInUseException",$fault:"client",...e}),this.name="ResourceInUseException",this.$fault="client",Object.setPrototypeOf(this,Ge.prototype)}}!function(e){e.ALL_NEW="ALL_NEW",e.ALL_OLD="ALL_OLD",e.NONE="NONE",e.UPDATED_NEW="UPDATED_NEW",e.UPDATED_OLD="UPDATED_OLD"}(we||(we={}));class He extends V{constructor(e){super({name:"TransactionConflictException",$fault:"client",...e}),this.name="TransactionConflictException",this.$fault="client",Object.setPrototypeOf(this,He.prototype)}}!function(e){e.DYNAMODB_JSON="DYNAMODB_JSON",e.ION="ION"}(Se||(Se={})),function(e){e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.IN_PROGRESS="IN_PROGRESS"}(Ee||(Ee={})),function(e){e.AES256="AES256",e.KMS="KMS"}(_e||(_e={}));class Ve extends V{constructor(e){super({name:"ExportNotFoundException",$fault:"client",...e}),this.name="ExportNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Ve.prototype)}}class $e extends V{constructor(e){super({name:"GlobalTableNotFoundException",$fault:"client",...e}),this.name="GlobalTableNotFoundException",this.$fault="client",Object.setPrototypeOf(this,$e.prototype)}}!function(e){e.CANCELLED="CANCELLED",e.CANCELLING="CANCELLING",e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.IN_PROGRESS="IN_PROGRESS"}(xe||(xe={})),function(e){e.GZIP="GZIP",e.NONE="NONE",e.ZSTD="ZSTD"}(Te||(Te={})),function(e){e.CSV="CSV",e.DYNAMODB_JSON="DYNAMODB_JSON",e.ION="ION"}(Ie||(Ie={}));class We extends V{constructor(e){super({name:"ImportNotFoundException",$fault:"client",...e}),this.name="ImportNotFoundException",this.$fault="client",Object.setPrototypeOf(this,We.prototype)}}!function(e){e.ACTIVE="ACTIVE",e.DISABLED="DISABLED",e.DISABLING="DISABLING",e.ENABLE_FAILED="ENABLE_FAILED",e.ENABLING="ENABLING"}(Ae||(Ae={}));class Ye extends V{constructor(e){super({name:"DuplicateItemException",$fault:"client",...e}),this.name="DuplicateItemException",this.$fault="client",Object.setPrototypeOf(this,Ye.prototype)}}class Ze extends V{constructor(e){super({name:"IdempotentParameterMismatchException",$fault:"client",...e}),this.name="IdempotentParameterMismatchException",this.$fault="client",Object.setPrototypeOf(this,Ze.prototype),this.Message=e.Message}}class Je extends V{constructor(e){super({name:"TransactionInProgressException",$fault:"client",...e}),this.name="TransactionInProgressException",this.$fault="client",Object.setPrototypeOf(this,Je.prototype),this.Message=e.Message}}class Xe extends V{constructor(e){super({name:"ExportConflictException",$fault:"client",...e}),this.name="ExportConflictException",this.$fault="client",Object.setPrototypeOf(this,Xe.prototype)}}class Qe extends V{constructor(e){super({name:"InvalidExportTimeException",$fault:"client",...e}),this.name="InvalidExportTimeException",this.$fault="client",Object.setPrototypeOf(this,Qe.prototype)}}class et extends V{constructor(e){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...e}),this.name="PointInTimeRecoveryUnavailableException",this.$fault="client",Object.setPrototypeOf(this,et.prototype)}}class tt extends V{constructor(e){super({name:"ImportConflictException",$fault:"client",...e}),this.name="ImportConflictException",this.$fault="client",Object.setPrototypeOf(this,tt.prototype)}}!function(e){e.ALL_ATTRIBUTES="ALL_ATTRIBUTES",e.ALL_PROJECTED_ATTRIBUTES="ALL_PROJECTED_ATTRIBUTES",e.COUNT="COUNT",e.SPECIFIC_ATTRIBUTES="SPECIFIC_ATTRIBUTES"}(Ce||(Ce={}));class nt extends V{constructor(e){super({name:"TableAlreadyExistsException",$fault:"client",...e}),this.name="TableAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,nt.prototype)}}class rt extends V{constructor(e){super({name:"InvalidRestoreTimeException",$fault:"client",...e}),this.name="InvalidRestoreTimeException",this.$fault="client",Object.setPrototypeOf(this,rt.prototype)}}class ot extends V{constructor(e){super({name:"ReplicaAlreadyExistsException",$fault:"client",...e}),this.name="ReplicaAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,ot.prototype)}}class it extends V{constructor(e){super({name:"ReplicaNotFoundException",$fault:"client",...e}),this.name="ReplicaNotFoundException",this.$fault="client",Object.setPrototypeOf(this,it.prototype)}}class at extends V{constructor(e){super({name:"IndexNotFoundException",$fault:"client",...e}),this.name="IndexNotFoundException",this.$fault="client",Object.setPrototypeOf(this,at.prototype)}}!function(e){e.visit=(e,t)=>void 0!==e.S?t.S(e.S):void 0!==e.N?t.N(e.N):void 0!==e.B?t.B(e.B):void 0!==e.SS?t.SS(e.SS):void 0!==e.NS?t.NS(e.NS):void 0!==e.BS?t.BS(e.BS):void 0!==e.M?t.M(e.M):void 0!==e.L?t.L(e.L):void 0!==e.NULL?t.NULL(e.NULL):void 0!==e.BOOL?t.BOOL(e.BOOL):t._(e.$unknown[0],e.$unknown[1])}(Pe||(Pe={}));class st extends V{constructor(e){super({name:"TransactionCanceledException",$fault:"client",...e}),this.name="TransactionCanceledException",this.$fault="client",Object.setPrototypeOf(this,st.prototype),this.Message=e.Message,this.CancellationReasons=e.CancellationReasons}}const ut=e=>({...e}),ct=e=>({...e}),lt=e=>({...e}),ft=e=>({...e}),dt=e=>({...e}),pt=e=>({...e}),ht=e=>({...e}),vt=e=>({...e}),yt=e=>({...e}),mt=e=>({...e}),gt=e=>({...e}),bt=e=>({...e}),wt=e=>({...e}),St=e=>({...e}),Et=e=>({...e}),_t=e=>({...e}),xt=e=>({...e}),Tt=e=>({...e}),It=e=>({...e}),At=e=>({...e}),Ct=e=>({...e}),Pt=e=>({...e}),Ot=e=>({...e}),kt=e=>({...e}),Rt=e=>({...e}),Nt=e=>({...e}),Lt=e=>({...e}),Dt=e=>({...e}),Mt=e=>({...e}),jt=e=>({...e}),Ut=e=>({...e}),Ft=e=>({...e}),zt=e=>({...e}),Bt=e=>({...e}),qt=e=>({...e}),Kt=e=>({...e}),Gt=e=>({...e}),Ht=e=>({...e}),Vt=e=>({...e}),$t=e=>({...e}),Wt=e=>({...e}),Yt=e=>({...e}),Zt=e=>({...e}),Jt=e=>({...e}),Xt=e=>({...e}),Qt=e=>({...e}),en=e=>({...e}),tn=e=>({...e}),nn=e=>({...e}),rn=e=>({...e}),on=e=>({...e}),an=e=>({...e}),sn=e=>({...e}),un=e=>({...e}),cn=e=>({...e}),ln=e=>({...e}),fn=e=>({...e}),dn=e=>({...e}),pn=e=>({...e}),hn=e=>({...e}),vn=e=>({...e}),yn=e=>({...e}),mn=e=>({...e}),gn=e=>({...e}),bn=e=>({...e}),wn=e=>({...e}),Sn=e=>({...e}),En=e=>({...e}),_n=e=>({...e}),xn=e=>({...e}),Tn=e=>({...e}),In=e=>({...e}),An=e=>({...e}),Cn=e=>({...e}),Pn=e=>({...e}),On=e=>({...e}),kn=e=>({...e}),Rn=e=>({...e}),Nn=e=>({...e}),Ln=e=>({...e}),Dn=e=>({...e}),Mn=e=>({...e}),jn=e=>({...e}),Un=e=>({...e}),Fn=e=>({...e}),zn=e=>({...e}),Bn=e=>({...e}),qn=e=>({...e}),Kn=e=>({...e}),Gn=e=>({...e}),Hn=e=>({...e}),Vn=e=>({...e}),$n=e=>({...e}),Wn=e=>({...e}),Yn=e=>({...e}),Zn=e=>({...e}),Jn=e=>({...e}),Xn=e=>({...e}),Qn=e=>({...e}),er=e=>({...e}),tr=e=>({...e}),nr=e=>({...e}),rr=e=>({...e}),or=e=>({...e}),ir=e=>({...e}),ar=e=>({...e}),sr=e=>({...e}),ur=e=>({...e}),cr=e=>({...e}),lr=e=>({...e}),fr=e=>({...e}),dr=e=>({...e}),pr=e=>({...e}),hr=e=>({...e}),vr=e=>({...e}),yr=e=>({...e}),mr=e=>({...e}),gr=e=>({...e}),br=e=>({...e}),wr=e=>({...e}),Sr=e=>({...e}),Er=e=>({...e}),_r=e=>({...e}),xr=e=>({...e}),Tr=e=>({...e}),Ir=e=>({...e}),Ar=e=>({...e}),Cr=e=>({...e}),Pr=e=>({...e}),Or=e=>({...e}),kr=e=>({...e}),Rr=e=>({...e}),Nr=e=>({...e}),Lr=e=>({...e}),Dr=e=>({...e}),Mr=e=>({...e}),jr=e=>({...e}),Ur=e=>({...e}),Fr=e=>({...e}),zr=e=>({...e}),Br=e=>({...e}),qr=e=>({...e}),Kr=e=>({...e}),Gr=e=>({...e}),Hr=e=>({...e}),Vr=e=>({...e}),$r=e=>({...e}),Wr=e=>({...e}),Yr=e=>({...e}),Zr=e=>({...e}),Jr=e=>({...e}),Xr=e=>({...e}),Qr=e=>({...e}),eo=e=>({...e}),to=e=>({...e}),no=e=>({...e}),ro=e=>void 0!==e.S?{S:e.S}:void 0!==e.N?{N:e.N}:void 0!==e.B?{B:e.B}:void 0!==e.SS?{SS:e.SS}:void 0!==e.NS?{NS:e.NS}:void 0!==e.BS?{BS:e.BS}:void 0!==e.M?{M:Object.entries(e.M).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}:void 0!==e.L?{L:e.L.map((e=>ro(e)))}:void 0!==e.NULL?{NULL:e.NULL}:void 0!==e.BOOL?{BOOL:e.BOOL}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,oo=e=>({...e,...e.Value&&{Value:ro(e.Value)}}),io=e=>({...e,...e.Parameters&&{Parameters:e.Parameters.map((e=>ro(e)))}}),ao=e=>({...e,...e.Item&&{Item:Object.entries(e.Item).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),so=e=>({...e,...e.Item&&{Item:Object.entries(e.Item).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),uo=e=>({...e,...e.AttributeValueList&&{AttributeValueList:e.AttributeValueList.map((e=>ro(e)))}}),co=e=>({...e,...e.Key&&{Key:Object.entries(e.Key).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),lo=e=>({...e,...e.Parameters&&{Parameters:e.Parameters.map((e=>ro(e)))}}),fo=e=>({...e,...e.Key&&{Key:Object.entries(e.Key).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),po=e=>({...e,...e.Key&&{Key:Object.entries(e.Key).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),ho=e=>({...e,...e.Item&&{Item:Object.entries(e.Item).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),vo=e=>({...e,...e.ItemCollectionKey&&{ItemCollectionKey:Object.entries(e.ItemCollectionKey).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),yo=e=>({...e,...e.Item&&{Item:Object.entries(e.Item).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),mo=e=>({...e,...e.Parameters&&{Parameters:e.Parameters.map((e=>ro(e)))}}),go=e=>({...e,...e.Item&&{Item:Object.entries(e.Item).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),bo=e=>({...e,...e.Keys&&{Keys:e.Keys.map((e=>Object.entries(e).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})))}}),wo=e=>({...e,...e.Get&&{Get:fo(e.Get)}}),So=e=>({...e,...e.Statements&&{Statements:e.Statements.map((e=>io(e)))}}),Eo=e=>({...e,...e.Responses&&{Responses:e.Responses.map((e=>ao(e)))}}),_o=e=>({...e,...e.TransactStatements&&{TransactStatements:e.TransactStatements.map((e=>mo(e)))}}),xo=e=>({...e,...e.Responses&&{Responses:e.Responses.map((e=>yo(e)))}}),To=e=>({...e,...e.Responses&&{Responses:e.Responses.map((e=>yo(e)))}}),Io=e=>({...e,...e.RequestItems&&{RequestItems:Object.entries(e.RequestItems).reduce(((e,[t,n])=>(e[t]=bo(n),e)),{})}}),Ao=e=>({...e,...e.Value&&{Value:ro(e.Value)},...e.AttributeValueList&&{AttributeValueList:e.AttributeValueList.map((e=>ro(e)))}}),Co=e=>({...e,...e.TransactItems&&{TransactItems:e.TransactItems.map((e=>wo(e)))}}),Po=e=>({...e,...e.ItemCollectionMetrics&&{ItemCollectionMetrics:Object.entries(e.ItemCollectionMetrics).reduce(((e,[t,n])=>(e[t]=n.map((e=>vo(e))),e)),{})}}),Oo=e=>({...e,...e.Key&&{Key:Object.entries(e.Key).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})},...e.ExpressionAttributeValues&&{ExpressionAttributeValues:Object.entries(e.ExpressionAttributeValues).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),ko=e=>({...e,...e.Key&&{Key:Object.entries(e.Key).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})},...e.ExpressionAttributeValues&&{ExpressionAttributeValues:Object.entries(e.ExpressionAttributeValues).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),Ro=e=>({...e,...e.Item&&{Item:Object.entries(e.Item).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})},...e.ExpressionAttributeValues&&{ExpressionAttributeValues:Object.entries(e.ExpressionAttributeValues).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),No=e=>({...e,...e.Key&&{Key:Object.entries(e.Key).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})},...e.ExpressionAttributeValues&&{ExpressionAttributeValues:Object.entries(e.ExpressionAttributeValues).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),Lo=e=>({...e,...e.Attributes&&{Attributes:Object.entries(e.Attributes).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})},...e.ItemCollectionMetrics&&{ItemCollectionMetrics:vo(e.ItemCollectionMetrics)}}),Do=e=>({...e,...e.Items&&{Items:e.Items.map((e=>Object.entries(e).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})))},...e.LastEvaluatedKey&&{LastEvaluatedKey:Object.entries(e.LastEvaluatedKey).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),Mo=e=>({...e,...e.Attributes&&{Attributes:Object.entries(e.Attributes).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})},...e.ItemCollectionMetrics&&{ItemCollectionMetrics:vo(e.ItemCollectionMetrics)}}),jo=e=>({...e,...e.Items&&{Items:e.Items.map((e=>Object.entries(e).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})))},...e.LastEvaluatedKey&&{LastEvaluatedKey:Object.entries(e.LastEvaluatedKey).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),Uo=e=>({...e,...e.Items&&{Items:e.Items.map((e=>Object.entries(e).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})))},...e.LastEvaluatedKey&&{LastEvaluatedKey:Object.entries(e.LastEvaluatedKey).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),Fo=e=>({...e,...e.Attributes&&{Attributes:Object.entries(e.Attributes).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})},...e.ItemCollectionMetrics&&{ItemCollectionMetrics:vo(e.ItemCollectionMetrics)}}),zo=e=>({...e,...e.PutRequest&&{PutRequest:go(e.PutRequest)},...e.DeleteRequest&&{DeleteRequest:co(e.DeleteRequest)}}),Bo=e=>({...e,...e.Responses&&{Responses:Object.entries(e.Responses).reduce(((e,[t,n])=>(e[t]=n.map((e=>Object.entries(e).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{}))),e)),{})},...e.UnprocessedKeys&&{UnprocessedKeys:Object.entries(e.UnprocessedKeys).reduce(((e,[t,n])=>(e[t]=bo(n),e)),{})}}),qo=e=>({...e,...e.ScanFilter&&{ScanFilter:Object.entries(e.ScanFilter).reduce(((e,[t,n])=>(e[t]=uo(n),e)),{})},...e.ExclusiveStartKey&&{ExclusiveStartKey:Object.entries(e.ExclusiveStartKey).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})},...e.ExpressionAttributeValues&&{ExpressionAttributeValues:Object.entries(e.ExpressionAttributeValues).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),Ko=e=>({...e,...e.RequestItems&&{RequestItems:Object.entries(e.RequestItems).reduce(((e,[t,n])=>(e[t]=n.map((e=>zo(e))),e)),{})}}),Go=e=>({...e,...e.Key&&{Key:Object.entries(e.Key).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})},...e.Expected&&{Expected:Object.entries(e.Expected).reduce(((e,[t,n])=>(e[t]=Ao(n),e)),{})},...e.ExpressionAttributeValues&&{ExpressionAttributeValues:Object.entries(e.ExpressionAttributeValues).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),Ho=e=>({...e,...e.Item&&{Item:Object.entries(e.Item).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})},...e.Expected&&{Expected:Object.entries(e.Expected).reduce(((e,[t,n])=>(e[t]=Ao(n),e)),{})},...e.ExpressionAttributeValues&&{ExpressionAttributeValues:Object.entries(e.ExpressionAttributeValues).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),Vo=e=>({...e,...e.KeyConditions&&{KeyConditions:Object.entries(e.KeyConditions).reduce(((e,[t,n])=>(e[t]=uo(n),e)),{})},...e.QueryFilter&&{QueryFilter:Object.entries(e.QueryFilter).reduce(((e,[t,n])=>(e[t]=uo(n),e)),{})},...e.ExclusiveStartKey&&{ExclusiveStartKey:Object.entries(e.ExclusiveStartKey).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})},...e.ExpressionAttributeValues&&{ExpressionAttributeValues:Object.entries(e.ExpressionAttributeValues).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),$o=e=>({...e,...e.UnprocessedItems&&{UnprocessedItems:Object.entries(e.UnprocessedItems).reduce(((e,[t,n])=>(e[t]=n.map((e=>zo(e))),e)),{})},...e.ItemCollectionMetrics&&{ItemCollectionMetrics:Object.entries(e.ItemCollectionMetrics).reduce(((e,[t,n])=>(e[t]=n.map((e=>vo(e))),e)),{})}}),Wo=e=>({...e,...e.Key&&{Key:Object.entries(e.Key).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})},...e.AttributeUpdates&&{AttributeUpdates:Object.entries(e.AttributeUpdates).reduce(((e,[t,n])=>(e[t]=oo(n),e)),{})},...e.Expected&&{Expected:Object.entries(e.Expected).reduce(((e,[t,n])=>(e[t]=Ao(n),e)),{})},...e.ExpressionAttributeValues&&{ExpressionAttributeValues:Object.entries(e.ExpressionAttributeValues).reduce(((e,[t,n])=>(e[t]=ro(n),e)),{})}}),Yo=e=>({...e,...e.ConditionCheck&&{ConditionCheck:Oo(e.ConditionCheck)},...e.Put&&{Put:Ro(e.Put)},...e.Delete&&{Delete:ko(e.Delete)},...e.Update&&{Update:No(e.Update)}}),Zo=e=>({...e,...e.TransactItems&&{TransactItems:e.TransactItems.map((e=>Yo(e)))}});class Jo{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/"}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){const e=new Jo({...this,headers:{...this.headers}});var t;return e.query&&(e.query=(t=e.query,Object.keys(t).reduce(((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}}),{}))),e}}var Xo=n(4586);const Qo=async(e,t)=>{const n=e.body,r=ds(n,t),o=new Oe({$metadata:_c(e),...r});return z(o,n)},ei=async(e,t)=>{const n=e.body,r=ps(n,t),o=new ke({$metadata:_c(e),...r});return z(o,n)},ti=async(e,t)=>{const n=e.body,r=xs(n,t),o=new Ue({$metadata:_c(e),...r});return z(o,n)},ni=async(e,t)=>{const n=e.body,r=Cs(n,t),o=new Fe({$metadata:_c(e),...r});return z(o,n)},ri=async(e,t)=>{const n=e.body,r=Ds(n,t),o=new Ye({$metadata:_c(e),...r});return z(o,n)},oi=async(e,t)=>{const n=e.body,r=js(n,t),o=new Xe({$metadata:_c(e),...r});return z(o,n)},ii=async(e,t)=>{const n=e.body,r=Fs(n,t),o=new Ve({$metadata:_c(e),...r});return z(o,n)},ai=async(e,t)=>{const n=e.body,r=Ws(n,t),o=new Ke({$metadata:_c(e),...r});return z(o,n)},si=async(e,t)=>{const n=e.body,r=Js(n,t),o=new $e({$metadata:_c(e),...r});return z(o,n)},ui=async(e,t)=>{const n=e.body,r=Xs(n,t),o=new Ze({$metadata:_c(e),...r});return z(o,n)},ci=async(e,t)=>{const n=e.body,r=Qs(n,t),o=new tt({$metadata:_c(e),...r});return z(o,n)},li=async(e,t)=>{const n=e.body,r=eu(n,t),o=new We({$metadata:_c(e),...r});return z(o,n)},fi=async(e,t)=>{const n=e.body,r=ru(n,t),o=new at({$metadata:_c(e),...r});return z(o,n)},di=async(e,t)=>{const n=e.body,r=iu(n,t),o=new Re({$metadata:_c(e),...r});return z(o,n)},pi=async(e,t)=>{const n=e.body,r=au(n,t),o=new Le({$metadata:_c(e),...r});return z(o,n)},hi=async(e,t)=>{const n=e.body,r=su(n,t),o=new Qe({$metadata:_c(e),...r});return z(o,n)},vi=async(e,t)=>{const n=e.body,r=uu(n,t),o=new rt({$metadata:_c(e),...r});return z(o,n)},yi=async(e,t)=>{const n=e.body,r=pu(n,t),o=new je({$metadata:_c(e),...r});return z(o,n)},mi=async(e,t)=>{const n=e.body,r=_u(n,t),o=new ze({$metadata:_c(e),...r});return z(o,n)},gi=async(e,t)=>{const n=e.body,r=Nu(n,t),o=new et({$metadata:_c(e),...r});return z(o,n)},bi=async(e,t)=>{const n=e.body,r=ju(n,t),o=new De({$metadata:_c(e),...r});return z(o,n)},wi=async(e,t)=>{const n=e.body,r=Bu(n,t),o=new ot({$metadata:_c(e),...r});return z(o,n)},Si=async(e,t)=>{const n=e.body,r=Wu(n,t),o=new it({$metadata:_c(e),...r});return z(o,n)},Ei=async(e,t)=>{const n=e.body,r=Zu(n,t),o=new Ne({$metadata:_c(e),...r});return z(o,n)},_i=async(e,t)=>{const n=e.body,r=Ju(n,t),o=new Ge({$metadata:_c(e),...r});return z(o,n)},xi=async(e,t)=>{const n=e.body,r=Xu(n,t),o=new Me({$metadata:_c(e),...r});return z(o,n)},Ti=async(e,t)=>{const n=e.body,r=uc(n,t),o=new nt({$metadata:_c(e),...r});return z(o,n)},Ii=async(e,t)=>{const n=e.body,r=pc(n,t),o=new Be({$metadata:_c(e),...r});return z(o,n)},Ai=async(e,t)=>{const n=e.body,r=vc(n,t),o=new qe({$metadata:_c(e),...r});return z(o,n)},Ci=async(e,t)=>{const n=e.body,r=bc(n,t),o=new st({$metadata:_c(e),...r});return z(o,n)},Pi=async(e,t)=>{const n=e.body,r=wc(n,t),o=new He({$metadata:_c(e),...r});return z(o,n)},Oi=async(e,t)=>{const n=e.body,r=Sc(n,t),o=new Je({$metadata:_c(e),...r});return z(o,n)},ki=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.AttributeName&&{AttributeName:e.AttributeName},...null!=e.AttributeType&&{AttributeType:e.AttributeType}}))(e))),Ri=(e,t)=>e.filter((e=>null!=e)).map((e=>e)),Ni=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=Mi(r,t)),e)),{}),Li=(e,t)=>Pe.visit(e,{B:e=>({B:t.base64Encoder(e)}),BOOL:e=>({BOOL:e}),BS:e=>({BS:qi(e,t)}),L:e=>({L:ba(e,t)}),M:e=>({M:Sa(e,t)}),N:e=>({N:e}),NS:e=>({NS:_a(e,t)}),NULL:e=>({NULL:e}),S:e=>({S:e}),SS:e=>({SS:Ha(e,t)}),_:(e,t)=>({name:t})}),Di=(e,t)=>e.filter((e=>null!=e)).map((e=>Li(e,t))),Mi=(e,t)=>({...null!=e.Action&&{Action:e.Action},...null!=e.Value&&{Value:Li(e.Value,t)}}),ji=(e,t)=>({...null!=e.PolicyName&&{PolicyName:e.PolicyName},...null!=e.TargetTrackingScalingPolicyConfiguration&&{TargetTrackingScalingPolicyConfiguration:Fi(e.TargetTrackingScalingPolicyConfiguration,t)}}),Ui=(e,t)=>({...null!=e.AutoScalingDisabled&&{AutoScalingDisabled:e.AutoScalingDisabled},...null!=e.AutoScalingRoleArn&&{AutoScalingRoleArn:e.AutoScalingRoleArn},...null!=e.MaximumUnits&&{MaximumUnits:e.MaximumUnits},...null!=e.MinimumUnits&&{MinimumUnits:e.MinimumUnits},...null!=e.ScalingPolicyUpdate&&{ScalingPolicyUpdate:ji(e.ScalingPolicyUpdate,t)}}),Fi=(e,t)=>({...null!=e.DisableScaleIn&&{DisableScaleIn:e.DisableScaleIn},...null!=e.ScaleInCooldown&&{ScaleInCooldown:e.ScaleInCooldown},...null!=e.ScaleOutCooldown&&{ScaleOutCooldown:e.ScaleOutCooldown},...null!=e.TargetValue&&{TargetValue:H(e.TargetValue)}}),zi=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=va(r,t)),e)),{}),Bi=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=ts(r,t)),e)),{}),qi=(e,t)=>e.filter((e=>null!=e)).map((e=>t.base64Encoder(e))),Ki=(e,t)=>({...null!=e.AttributeValueList&&{AttributeValueList:Di(e.AttributeValueList,t)},...null!=e.ComparisonOperator&&{ComparisonOperator:e.ComparisonOperator}}),Gi=(e,t)=>({...null!=e.ConditionExpression&&{ConditionExpression:e.ConditionExpression},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.ExpressionAttributeValues&&{ExpressionAttributeValues:oa(e.ExpressionAttributeValues,t)},...null!=e.Key&&{Key:da(e.Key,t)},...null!=e.ReturnValuesOnConditionCheckFailure&&{ReturnValuesOnConditionCheckFailure:e.ReturnValuesOnConditionCheckFailure},...null!=e.TableName&&{TableName:e.TableName}}),Hi=(e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.KeySchema&&{KeySchema:ya(e.KeySchema,t)},...null!=e.Projection&&{Projection:Ca(e.Projection,t)},...null!=e.ProvisionedThroughput&&{ProvisionedThroughput:Pa(e.ProvisionedThroughput,t)}}),Vi=(e,t)=>({...null!=e.RegionName&&{RegionName:e.RegionName}}),$i=(e,t)=>({...null!=e.GlobalSecondaryIndexes&&{GlobalSecondaryIndexes:Ma(e.GlobalSecondaryIndexes,t)},...null!=e.KMSMasterKeyId&&{KMSMasterKeyId:e.KMSMasterKeyId},...null!=e.ProvisionedThroughputOverride&&{ProvisionedThroughputOverride:Oa(e.ProvisionedThroughputOverride,t)},...null!=e.RegionName&&{RegionName:e.RegionName},...null!=e.TableClassOverride&&{TableClassOverride:e.TableClassOverride}}),Wi=(e,t)=>e.filter((e=>null!=e)).map((e=>e)),Yi=(e,t)=>({...null!=e.Delimiter&&{Delimiter:e.Delimiter},...null!=e.HeaderList&&{HeaderList:Wi(e.HeaderList)}}),Zi=(e,t)=>({...null!=e.ConditionExpression&&{ConditionExpression:e.ConditionExpression},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.ExpressionAttributeValues&&{ExpressionAttributeValues:oa(e.ExpressionAttributeValues,t)},...null!=e.Key&&{Key:da(e.Key,t)},...null!=e.ReturnValuesOnConditionCheckFailure&&{ReturnValuesOnConditionCheckFailure:e.ReturnValuesOnConditionCheckFailure},...null!=e.TableName&&{TableName:e.TableName}}),Ji=(e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName}}),Xi=(e,t)=>({...null!=e.RegionName&&{RegionName:e.RegionName}}),Qi=(e,t)=>({...null!=e.RegionName&&{RegionName:e.RegionName}}),ea=(e,t)=>({...null!=e.Key&&{Key:da(e.Key,t)}}),ta=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=na(r,t)),e)),{}),na=(e,t)=>({...null!=e.AttributeValueList&&{AttributeValueList:Di(e.AttributeValueList,t)},...null!=e.ComparisonOperator&&{ComparisonOperator:e.ComparisonOperator},...null!=e.Exists&&{Exists:e.Exists},...null!=e.Value&&{Value:Li(e.Value,t)}}),ra=(e,t)=>Object.entries(e).reduce(((e,[t,n])=>(null===n||(e[t]=n),e)),{}),oa=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=Li(r,t)),e)),{}),ia=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=Ki(r,t)),e)),{}),aa=(e,t)=>({...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.Key&&{Key:da(e.Key,t)},...null!=e.ProjectionExpression&&{ProjectionExpression:e.ProjectionExpression},...null!=e.TableName&&{TableName:e.TableName}}),sa=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.ProvisionedWriteCapacityAutoScalingUpdate&&{ProvisionedWriteCapacityAutoScalingUpdate:Ui(e.ProvisionedWriteCapacityAutoScalingUpdate,t)}}))(e,t))),ua=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.KeySchema&&{KeySchema:ya(e.KeySchema,t)},...null!=e.Projection&&{Projection:Ca(e.Projection,t)},...null!=e.ProvisionedThroughput&&{ProvisionedThroughput:Pa(e.ProvisionedThroughput,t)}}))(e,t))),ca=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.Create&&{Create:Hi(e.Create,t)},...null!=e.Delete&&{Delete:Ji(e.Delete)},...null!=e.Update&&{Update:Qa(e.Update,t)}}))(e,t))),la=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.ProvisionedWriteCapacityAutoScalingSettingsUpdate&&{ProvisionedWriteCapacityAutoScalingSettingsUpdate:Ui(e.ProvisionedWriteCapacityAutoScalingSettingsUpdate,t)},...null!=e.ProvisionedWriteCapacityUnits&&{ProvisionedWriteCapacityUnits:e.ProvisionedWriteCapacityUnits}}))(e,t))),fa=(e,t)=>({...null!=e.Csv&&{Csv:Yi(e.Csv)}}),da=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=Li(r,t)),e)),{}),pa=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=Ki(r,t)),e)),{}),ha=(e,t)=>e.filter((e=>null!=e)).map((e=>da(e,t))),va=(e,t)=>({...null!=e.AttributesToGet&&{AttributesToGet:Ri(e.AttributesToGet)},...null!=e.ConsistentRead&&{ConsistentRead:e.ConsistentRead},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.Keys&&{Keys:ha(e.Keys,t)},...null!=e.ProjectionExpression&&{ProjectionExpression:e.ProjectionExpression}}),ya=(e,t)=>e.filter((e=>null!=e)).map((e=>ma(e,t))),ma=(e,t)=>({...null!=e.AttributeName&&{AttributeName:e.AttributeName},...null!=e.KeyType&&{KeyType:e.KeyType}}),ga=(e,t)=>({...null!=e.StreamArn&&{StreamArn:e.StreamArn},...null!=e.TableName&&{TableName:e.TableName}}),ba=(e,t)=>e.filter((e=>null!=e)).map((e=>Li(e,t))),wa=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.KeySchema&&{KeySchema:ya(e.KeySchema,t)},...null!=e.Projection&&{Projection:Ca(e.Projection,t)}}))(e,t))),Sa=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=Li(r,t)),e)),{}),Ea=(e,t)=>e.filter((e=>null!=e)).map((e=>e)),_a=(e,t)=>e.filter((e=>null!=e)).map((e=>e)),xa=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.Parameters&&{Parameters:Aa(e.Parameters,t)},...null!=e.Statement&&{Statement:e.Statement}}))(e,t))),Ta=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.ConsistentRead&&{ConsistentRead:e.ConsistentRead},...null!=e.Parameters&&{Parameters:Aa(e.Parameters,t)},...null!=e.Statement&&{Statement:e.Statement}}))(e,t))),Ia=(e,t)=>({...null!=e.PointInTimeRecoveryEnabled&&{PointInTimeRecoveryEnabled:e.PointInTimeRecoveryEnabled}}),Aa=(e,t)=>e.filter((e=>null!=e)).map((e=>Li(e,t))),Ca=(e,t)=>({...null!=e.NonKeyAttributes&&{NonKeyAttributes:Ea(e.NonKeyAttributes)},...null!=e.ProjectionType&&{ProjectionType:e.ProjectionType}}),Pa=(e,t)=>({...null!=e.ReadCapacityUnits&&{ReadCapacityUnits:e.ReadCapacityUnits},...null!=e.WriteCapacityUnits&&{WriteCapacityUnits:e.WriteCapacityUnits}}),Oa=(e,t)=>({...null!=e.ReadCapacityUnits&&{ReadCapacityUnits:e.ReadCapacityUnits}}),ka=(e,t)=>({...null!=e.ConditionExpression&&{ConditionExpression:e.ConditionExpression},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.ExpressionAttributeValues&&{ExpressionAttributeValues:oa(e.ExpressionAttributeValues,t)},...null!=e.Item&&{Item:Ra(e.Item,t)},...null!=e.ReturnValuesOnConditionCheckFailure&&{ReturnValuesOnConditionCheckFailure:e.ReturnValuesOnConditionCheckFailure},...null!=e.TableName&&{TableName:e.TableName}}),Ra=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=Li(r,t)),e)),{}),Na=(e,t)=>({...null!=e.Item&&{Item:Ra(e.Item,t)}}),La=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.RegionName&&{RegionName:e.RegionName},...null!=e.ReplicaGlobalSecondaryIndexUpdates&&{ReplicaGlobalSecondaryIndexUpdates:Da(e.ReplicaGlobalSecondaryIndexUpdates,t)},...null!=e.ReplicaProvisionedReadCapacityAutoScalingUpdate&&{ReplicaProvisionedReadCapacityAutoScalingUpdate:Ui(e.ReplicaProvisionedReadCapacityAutoScalingUpdate,t)}}))(e,t))),Da=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.ProvisionedReadCapacityAutoScalingUpdate&&{ProvisionedReadCapacityAutoScalingUpdate:Ui(e.ProvisionedReadCapacityAutoScalingUpdate,t)}}))(e,t))),Ma=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.ProvisionedThroughputOverride&&{ProvisionedThroughputOverride:Oa(e.ProvisionedThroughputOverride,t)}}))(e,t))),ja=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.ProvisionedReadCapacityAutoScalingSettingsUpdate&&{ProvisionedReadCapacityAutoScalingSettingsUpdate:Ui(e.ProvisionedReadCapacityAutoScalingSettingsUpdate,t)},...null!=e.ProvisionedReadCapacityUnits&&{ProvisionedReadCapacityUnits:e.ProvisionedReadCapacityUnits}}))(e,t))),Ua=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.RegionName&&{RegionName:e.RegionName}}))(e))),Fa=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.RegionName&&{RegionName:e.RegionName},...null!=e.ReplicaGlobalSecondaryIndexSettingsUpdate&&{ReplicaGlobalSecondaryIndexSettingsUpdate:ja(e.ReplicaGlobalSecondaryIndexSettingsUpdate,t)},...null!=e.ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate&&{ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate:Ui(e.ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate,t)},...null!=e.ReplicaProvisionedReadCapacityUnits&&{ReplicaProvisionedReadCapacityUnits:e.ReplicaProvisionedReadCapacityUnits},...null!=e.ReplicaTableClass&&{ReplicaTableClass:e.ReplicaTableClass}}))(e,t))),za=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.Create&&{Create:$i(e.Create,t)},...null!=e.Delete&&{Delete:Qi(e.Delete)},...null!=e.Update&&{Update:es(e.Update,t)}}))(e,t))),Ba=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.Create&&{Create:Vi(e.Create)},...null!=e.Delete&&{Delete:Xi(e.Delete)}}))(e))),qa=(e,t)=>({...null!=e.S3Bucket&&{S3Bucket:e.S3Bucket},...null!=e.S3BucketOwner&&{S3BucketOwner:e.S3BucketOwner},...null!=e.S3KeyPrefix&&{S3KeyPrefix:e.S3KeyPrefix}}),Ka=(e,t)=>({...null!=e.Enabled&&{Enabled:e.Enabled},...null!=e.KMSMasterKeyId&&{KMSMasterKeyId:e.KMSMasterKeyId},...null!=e.SSEType&&{SSEType:e.SSEType}}),Ga=(e,t)=>({...null!=e.StreamEnabled&&{StreamEnabled:e.StreamEnabled},...null!=e.StreamViewType&&{StreamViewType:e.StreamViewType}}),Ha=(e,t)=>e.filter((e=>null!=e)).map((e=>e)),Va=(e,t)=>({...null!=e.AttributeDefinitions&&{AttributeDefinitions:ki(e.AttributeDefinitions)},...null!=e.BillingMode&&{BillingMode:e.BillingMode},...null!=e.GlobalSecondaryIndexes&&{GlobalSecondaryIndexes:ua(e.GlobalSecondaryIndexes,t)},...null!=e.KeySchema&&{KeySchema:ya(e.KeySchema,t)},...null!=e.ProvisionedThroughput&&{ProvisionedThroughput:Pa(e.ProvisionedThroughput,t)},...null!=e.SSESpecification&&{SSESpecification:Ka(e.SSESpecification,t)},...null!=e.TableName&&{TableName:e.TableName}}),$a=(e,t)=>e.filter((e=>null!=e)).map((e=>e)),Wa=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.Key&&{Key:e.Key},...null!=e.Value&&{Value:e.Value}}))(e))),Ya=(e,t)=>({...null!=e.AttributeName&&{AttributeName:e.AttributeName},...null!=e.Enabled&&{Enabled:e.Enabled}}),Za=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.Get&&{Get:aa(e.Get,t)}}))(e,t))),Ja=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.ConditionCheck&&{ConditionCheck:Gi(e.ConditionCheck,t)},...null!=e.Delete&&{Delete:Zi(e.Delete,t)},...null!=e.Put&&{Put:ka(e.Put,t)},...null!=e.Update&&{Update:Xa(e.Update,t)}}))(e,t))),Xa=(e,t)=>({...null!=e.ConditionExpression&&{ConditionExpression:e.ConditionExpression},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.ExpressionAttributeValues&&{ExpressionAttributeValues:oa(e.ExpressionAttributeValues,t)},...null!=e.Key&&{Key:da(e.Key,t)},...null!=e.ReturnValuesOnConditionCheckFailure&&{ReturnValuesOnConditionCheckFailure:e.ReturnValuesOnConditionCheckFailure},...null!=e.TableName&&{TableName:e.TableName},...null!=e.UpdateExpression&&{UpdateExpression:e.UpdateExpression}}),Qa=(e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.ProvisionedThroughput&&{ProvisionedThroughput:Pa(e.ProvisionedThroughput,t)}}),es=(e,t)=>({...null!=e.GlobalSecondaryIndexes&&{GlobalSecondaryIndexes:Ma(e.GlobalSecondaryIndexes,t)},...null!=e.KMSMasterKeyId&&{KMSMasterKeyId:e.KMSMasterKeyId},...null!=e.ProvisionedThroughputOverride&&{ProvisionedThroughputOverride:Oa(e.ProvisionedThroughputOverride,t)},...null!=e.RegionName&&{RegionName:e.RegionName},...null!=e.TableClassOverride&&{TableClassOverride:e.TableClassOverride}}),ts=(e,t)=>e.filter((e=>null!=e)).map((e=>((e,t)=>({...null!=e.DeleteRequest&&{DeleteRequest:ea(e.DeleteRequest,t)},...null!=e.PutRequest&&{PutRequest:Na(e.PutRequest,t)}}))(e,t))),ns=(e,t)=>({ArchivalBackupArn:O(e.ArchivalBackupArn),ArchivalDateTime:null!=e.ArchivalDateTime?P(U(x(e.ArchivalDateTime))):void 0,ArchivalReason:O(e.ArchivalReason)}),rs=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({AttributeName:O(e.AttributeName),AttributeType:O(e.AttributeType)}))(e)));return n},os=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=as(k(r),t)),e)),{}),is=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:O(e)));return n},as=(e,t)=>null!=e.B?{B:t.base64Decoder(e.B)}:void 0!==_(e.BOOL)?{BOOL:_(e.BOOL)}:null!=e.BS?{BS:Ss(e.BS,t)}:null!=e.L?{L:xu(e.L,t)}:null!=e.M?{M:Cu(e.M,t)}:void 0!==O(e.N)?{N:O(e.N)}:null!=e.NS?{NS:Ou(e.NS,t)}:void 0!==_(e.NULL)?{NULL:_(e.NULL)}:void 0!==O(e.S)?{S:O(e.S)}:null!=e.SS?{SS:sc(e.SS,t)}:{$unknown:Object.entries(e)[0]},ss=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({PolicyName:O(e.PolicyName),TargetTrackingScalingPolicyConfiguration:null!=e.TargetTrackingScalingPolicyConfiguration?cs(e.TargetTrackingScalingPolicyConfiguration,t):void 0}))(e,t)));return n},us=(e,t)=>({AutoScalingDisabled:_(e.AutoScalingDisabled),AutoScalingRoleArn:O(e.AutoScalingRoleArn),MaximumUnits:T(e.MaximumUnits),MinimumUnits:T(e.MinimumUnits),ScalingPolicies:null!=e.ScalingPolicies?ss(e.ScalingPolicies,t):void 0}),cs=(e,t)=>({DisableScaleIn:_(e.DisableScaleIn),ScaleInCooldown:I(e.ScaleInCooldown),ScaleOutCooldown:I(e.ScaleOutCooldown),TargetValue:L(e.TargetValue)}),ls=(e,t)=>({BackupDetails:null!=e.BackupDetails?fs(e.BackupDetails,t):void 0,SourceTableDetails:null!=e.SourceTableDetails?nc(e.SourceTableDetails,t):void 0,SourceTableFeatureDetails:null!=e.SourceTableFeatureDetails?rc(e.SourceTableFeatureDetails,t):void 0}),fs=(e,t)=>({BackupArn:O(e.BackupArn),BackupCreationDateTime:null!=e.BackupCreationDateTime?P(U(x(e.BackupCreationDateTime))):void 0,BackupExpiryDateTime:null!=e.BackupExpiryDateTime?P(U(x(e.BackupExpiryDateTime))):void 0,BackupName:O(e.BackupName),BackupSizeBytes:T(e.BackupSizeBytes),BackupStatus:O(e.BackupStatus),BackupType:O(e.BackupType)}),ds=(e,t)=>({message:O(e.message)}),ps=(e,t)=>({message:O(e.message)}),hs=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:vs(e,t)));return n},vs=(e,t)=>({BackupArn:O(e.BackupArn),BackupCreationDateTime:null!=e.BackupCreationDateTime?P(U(x(e.BackupCreationDateTime))):void 0,BackupExpiryDateTime:null!=e.BackupExpiryDateTime?P(U(x(e.BackupExpiryDateTime))):void 0,BackupName:O(e.BackupName),BackupSizeBytes:T(e.BackupSizeBytes),BackupStatus:O(e.BackupStatus),BackupType:O(e.BackupType),TableArn:O(e.TableArn),TableId:O(e.TableId),TableName:O(e.TableName)}),ys=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=gu(r,t)),e)),{}),ms=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=hu(r,t)),e)),{}),gs=(e,t)=>({Code:O(e.Code),Message:O(e.Message)}),bs=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=Ec(r,t)),e)),{}),ws=(e,t)=>({BillingMode:O(e.BillingMode),LastUpdateToPayPerRequestDateTime:null!=e.LastUpdateToPayPerRequestDateTime?P(U(x(e.LastUpdateToPayPerRequestDateTime))):void 0}),Ss=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:t.base64Decoder(e)));return n},Es=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({Code:O(e.Code),Item:null!=e.Item?os(e.Item,t):void 0,Message:O(e.Message)}))(e,t)));return n},_s=(e,t)=>({CapacityUnits:L(e.CapacityUnits),ReadCapacityUnits:L(e.ReadCapacityUnits),WriteCapacityUnits:L(e.WriteCapacityUnits)}),xs=(e,t)=>({message:O(e.message)}),Ts=(e,t)=>({CapacityUnits:L(e.CapacityUnits),GlobalSecondaryIndexes:null!=e.GlobalSecondaryIndexes?tc(e.GlobalSecondaryIndexes,t):void 0,LocalSecondaryIndexes:null!=e.LocalSecondaryIndexes?tc(e.LocalSecondaryIndexes,t):void 0,ReadCapacityUnits:L(e.ReadCapacityUnits),Table:null!=e.Table?_s(e.Table):void 0,TableName:O(e.TableName),WriteCapacityUnits:L(e.WriteCapacityUnits)}),Is=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:Ts(e,t)));return n},As=(e,t)=>({ContinuousBackupsStatus:O(e.ContinuousBackupsStatus),PointInTimeRecoveryDescription:null!=e.PointInTimeRecoveryDescription?Ru(e.PointInTimeRecoveryDescription,t):void 0}),Cs=(e,t)=>({message:O(e.message)}),Ps=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:O(e)));return n},Os=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:ks(e,t)));return n},ks=(e,t)=>({ContributorInsightsStatus:O(e.ContributorInsightsStatus),IndexName:O(e.IndexName),TableName:O(e.TableName)}),Rs=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:O(e)));return n},Ns=(e,t)=>({Delimiter:O(e.Delimiter),HeaderList:null!=e.HeaderList?Rs(e.HeaderList):void 0}),Ls=(e,t)=>({Key:null!=e.Key?yu(e.Key,t):void 0}),Ds=(e,t)=>({message:O(e.message)}),Ms=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({Address:O(e.Address),CachePeriodInMinutes:T(e.CachePeriodInMinutes)}))(e)));return n},js=(e,t)=>({message:O(e.message)}),Us=(e,t)=>({BilledSizeBytes:T(e.BilledSizeBytes),ClientToken:O(e.ClientToken),EndTime:null!=e.EndTime?P(U(x(e.EndTime))):void 0,ExportArn:O(e.ExportArn),ExportFormat:O(e.ExportFormat),ExportManifest:O(e.ExportManifest),ExportStatus:O(e.ExportStatus),ExportTime:null!=e.ExportTime?P(U(x(e.ExportTime))):void 0,FailureCode:O(e.FailureCode),FailureMessage:O(e.FailureMessage),ItemCount:T(e.ItemCount),S3Bucket:O(e.S3Bucket),S3BucketOwner:O(e.S3BucketOwner),S3Prefix:O(e.S3Prefix),S3SseAlgorithm:O(e.S3SseAlgorithm),S3SseKmsKeyId:O(e.S3SseKmsKeyId),StartTime:null!=e.StartTime?P(U(x(e.StartTime))):void 0,TableArn:O(e.TableArn),TableId:O(e.TableId)}),Fs=(e,t)=>({message:O(e.message)}),zs=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:Bs(e,t)));return n},Bs=(e,t)=>({ExportArn:O(e.ExportArn),ExportStatus:O(e.ExportStatus)}),qs=(e,t)=>Object.entries(e).reduce(((e,[t,n])=>(null===n||(e[t]=O(n)),e)),{}),Ks=(e,t)=>({ExceptionDescription:O(e.ExceptionDescription),ExceptionName:O(e.ExceptionName)}),Gs=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({Backfilling:_(e.Backfilling),IndexArn:O(e.IndexArn),IndexName:O(e.IndexName),IndexSizeBytes:T(e.IndexSizeBytes),IndexStatus:O(e.IndexStatus),ItemCount:T(e.ItemCount),KeySchema:null!=e.KeySchema?bu(e.KeySchema,t):void 0,Projection:null!=e.Projection?Lu(e.Projection,t):void 0,ProvisionedThroughput:null!=e.ProvisionedThroughput?Mu(e.ProvisionedThroughput,t):void 0}))(e,t)));return n},Hs=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:Vs(e,t)));return n},Vs=(e,t)=>({IndexName:O(e.IndexName),KeySchema:null!=e.KeySchema?bu(e.KeySchema,t):void 0,Projection:null!=e.Projection?Lu(e.Projection,t):void 0,ProvisionedThroughput:null!=e.ProvisionedThroughput?Du(e.ProvisionedThroughput,t):void 0}),$s=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({IndexName:O(e.IndexName),KeySchema:null!=e.KeySchema?bu(e.KeySchema,t):void 0,Projection:null!=e.Projection?Lu(e.Projection,t):void 0,ProvisionedThroughput:null!=e.ProvisionedThroughput?Du(e.ProvisionedThroughput,t):void 0}))(e,t)));return n},Ws=(e,t)=>({message:O(e.message)}),Ys=(e,t)=>({CreationDateTime:null!=e.CreationDateTime?P(U(x(e.CreationDateTime))):void 0,GlobalTableArn:O(e.GlobalTableArn),GlobalTableName:O(e.GlobalTableName),GlobalTableStatus:O(e.GlobalTableStatus),ReplicationGroup:null!=e.ReplicationGroup?Ku(e.ReplicationGroup,t):void 0}),Zs=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({GlobalTableName:O(e.GlobalTableName),ReplicationGroup:null!=e.ReplicationGroup?$u(e.ReplicationGroup,t):void 0}))(e,t)));return n},Js=(e,t)=>({message:O(e.message)}),Xs=(e,t)=>({Message:O(e.Message)}),Qs=(e,t)=>({message:O(e.message)}),eu=(e,t)=>({message:O(e.message)}),tu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({CloudWatchLogGroupArn:O(e.CloudWatchLogGroupArn),EndTime:null!=e.EndTime?P(U(x(e.EndTime))):void 0,ImportArn:O(e.ImportArn),ImportStatus:O(e.ImportStatus),InputFormat:O(e.InputFormat),S3BucketSource:null!=e.S3BucketSource?ec(e.S3BucketSource,t):void 0,StartTime:null!=e.StartTime?P(U(x(e.StartTime))):void 0,TableArn:O(e.TableArn)}))(e,t)));return n},nu=(e,t)=>({ClientToken:O(e.ClientToken),CloudWatchLogGroupArn:O(e.CloudWatchLogGroupArn),EndTime:null!=e.EndTime?P(U(x(e.EndTime))):void 0,ErrorCount:T(e.ErrorCount),FailureCode:O(e.FailureCode),FailureMessage:O(e.FailureMessage),ImportArn:O(e.ImportArn),ImportStatus:O(e.ImportStatus),ImportedItemCount:T(e.ImportedItemCount),InputCompressionType:O(e.InputCompressionType),InputFormat:O(e.InputFormat),InputFormatOptions:null!=e.InputFormatOptions?ou(e.InputFormatOptions,t):void 0,ProcessedItemCount:T(e.ProcessedItemCount),ProcessedSizeBytes:T(e.ProcessedSizeBytes),S3BucketSource:null!=e.S3BucketSource?ec(e.S3BucketSource,t):void 0,StartTime:null!=e.StartTime?P(U(x(e.StartTime))):void 0,TableArn:O(e.TableArn),TableCreationParameters:null!=e.TableCreationParameters?fc(e.TableCreationParameters,t):void 0,TableId:O(e.TableId)}),ru=(e,t)=>({message:O(e.message)}),ou=(e,t)=>({Csv:null!=e.Csv?Ns(e.Csv):void 0}),iu=(e,t)=>({message:O(e.message)}),au=(e,t)=>({Message:O(e.Message)}),su=(e,t)=>({message:O(e.message)}),uu=(e,t)=>({message:O(e.message)}),cu=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=as(k(r),t)),e)),{}),lu=(e,t)=>({ItemCollectionKey:null!=e.ItemCollectionKey?cu(e.ItemCollectionKey,t):void 0,SizeEstimateRangeGB:null!=e.SizeEstimateRangeGB?du(e.SizeEstimateRangeGB,t):void 0}),fu=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:lu(e,t)));return n})(r,t)),e)),{}),du=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:L(e)));return n},pu=(e,t)=>({message:O(e.message)}),hu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:os(e,t)));return n},vu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({Item:null!=e.Item?os(e.Item,t):void 0}))(e,t)));return n},yu=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=as(k(r),t)),e)),{}),mu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:yu(e,t)));return n},gu=(e,t)=>({AttributesToGet:null!=e.AttributesToGet?is(e.AttributesToGet):void 0,ConsistentRead:_(e.ConsistentRead),ExpressionAttributeNames:null!=e.ExpressionAttributeNames?qs(e.ExpressionAttributeNames):void 0,Keys:null!=e.Keys?mu(e.Keys,t):void 0,ProjectionExpression:O(e.ProjectionExpression)}),bu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:wu(e,t)));return n},wu=(e,t)=>({AttributeName:O(e.AttributeName),KeyType:O(e.KeyType)}),Su=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({DestinationStatus:O(e.DestinationStatus),DestinationStatusDescription:O(e.DestinationStatusDescription),StreamArn:O(e.StreamArn)}))(e)));return n},Eu=(e,t)=>({DestinationStatus:O(e.DestinationStatus),StreamArn:O(e.StreamArn),TableName:O(e.TableName)}),_u=(e,t)=>({message:O(e.message)}),xu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:as(k(e),t)));return n},Tu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({IndexArn:O(e.IndexArn),IndexName:O(e.IndexName),IndexSizeBytes:T(e.IndexSizeBytes),ItemCount:T(e.ItemCount),KeySchema:null!=e.KeySchema?bu(e.KeySchema,t):void 0,Projection:null!=e.Projection?Lu(e.Projection,t):void 0}))(e,t)));return n},Iu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:Au(e,t)));return n},Au=(e,t)=>({IndexName:O(e.IndexName),KeySchema:null!=e.KeySchema?bu(e.KeySchema,t):void 0,Projection:null!=e.Projection?Lu(e.Projection,t):void 0}),Cu=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=as(k(r),t)),e)),{}),Pu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:O(e)));return n},Ou=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:O(e)));return n},ku=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({Error:null!=e.Error?gs(e.Error):void 0,Item:null!=e.Item?os(e.Item,t):void 0,TableName:O(e.TableName)}))(e,t)));return n},Ru=(e,t)=>({EarliestRestorableDateTime:null!=e.EarliestRestorableDateTime?P(U(x(e.EarliestRestorableDateTime))):void 0,LatestRestorableDateTime:null!=e.LatestRestorableDateTime?P(U(x(e.LatestRestorableDateTime))):void 0,PointInTimeRecoveryStatus:O(e.PointInTimeRecoveryStatus)}),Nu=(e,t)=>({message:O(e.message)}),Lu=(e,t)=>({NonKeyAttributes:null!=e.NonKeyAttributes?Pu(e.NonKeyAttributes):void 0,ProjectionType:O(e.ProjectionType)}),Du=(e,t)=>({ReadCapacityUnits:T(e.ReadCapacityUnits),WriteCapacityUnits:T(e.WriteCapacityUnits)}),Mu=(e,t)=>({LastDecreaseDateTime:null!=e.LastDecreaseDateTime?P(U(x(e.LastDecreaseDateTime))):void 0,LastIncreaseDateTime:null!=e.LastIncreaseDateTime?P(U(x(e.LastIncreaseDateTime))):void 0,NumberOfDecreasesToday:T(e.NumberOfDecreasesToday),ReadCapacityUnits:T(e.ReadCapacityUnits),WriteCapacityUnits:T(e.WriteCapacityUnits)}),ju=(e,t)=>({message:O(e.message)}),Uu=(e,t)=>({ReadCapacityUnits:T(e.ReadCapacityUnits)}),Fu=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=as(k(r),t)),e)),{}),zu=(e,t)=>({Item:null!=e.Item?Fu(e.Item,t):void 0}),Bu=(e,t)=>({message:O(e.message)}),qu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({GlobalSecondaryIndexes:null!=e.GlobalSecondaryIndexes?Gu(e.GlobalSecondaryIndexes,t):void 0,RegionName:O(e.RegionName),ReplicaProvisionedReadCapacityAutoScalingSettings:null!=e.ReplicaProvisionedReadCapacityAutoScalingSettings?us(e.ReplicaProvisionedReadCapacityAutoScalingSettings,t):void 0,ReplicaProvisionedWriteCapacityAutoScalingSettings:null!=e.ReplicaProvisionedWriteCapacityAutoScalingSettings?us(e.ReplicaProvisionedWriteCapacityAutoScalingSettings,t):void 0,ReplicaStatus:O(e.ReplicaStatus)}))(e,t)));return n},Ku=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({GlobalSecondaryIndexes:null!=e.GlobalSecondaryIndexes?Hu(e.GlobalSecondaryIndexes,t):void 0,KMSMasterKeyId:O(e.KMSMasterKeyId),ProvisionedThroughputOverride:null!=e.ProvisionedThroughputOverride?Uu(e.ProvisionedThroughputOverride):void 0,RegionName:O(e.RegionName),ReplicaInaccessibleDateTime:null!=e.ReplicaInaccessibleDateTime?P(U(x(e.ReplicaInaccessibleDateTime))):void 0,ReplicaStatus:O(e.ReplicaStatus),ReplicaStatusDescription:O(e.ReplicaStatusDescription),ReplicaStatusPercentProgress:O(e.ReplicaStatusPercentProgress),ReplicaTableClassSummary:null!=e.ReplicaTableClassSummary?lc(e.ReplicaTableClassSummary,t):void 0}))(e,t)));return n},Gu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({IndexName:O(e.IndexName),IndexStatus:O(e.IndexStatus),ProvisionedReadCapacityAutoScalingSettings:null!=e.ProvisionedReadCapacityAutoScalingSettings?us(e.ProvisionedReadCapacityAutoScalingSettings,t):void 0,ProvisionedWriteCapacityAutoScalingSettings:null!=e.ProvisionedWriteCapacityAutoScalingSettings?us(e.ProvisionedWriteCapacityAutoScalingSettings,t):void 0}))(e,t)));return n},Hu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({IndexName:O(e.IndexName),ProvisionedThroughputOverride:null!=e.ProvisionedThroughputOverride?Uu(e.ProvisionedThroughputOverride):void 0}))(e)));return n},Vu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({IndexName:O(e.IndexName),IndexStatus:O(e.IndexStatus),ProvisionedReadCapacityAutoScalingSettings:null!=e.ProvisionedReadCapacityAutoScalingSettings?us(e.ProvisionedReadCapacityAutoScalingSettings,t):void 0,ProvisionedReadCapacityUnits:T(e.ProvisionedReadCapacityUnits),ProvisionedWriteCapacityAutoScalingSettings:null!=e.ProvisionedWriteCapacityAutoScalingSettings?us(e.ProvisionedWriteCapacityAutoScalingSettings,t):void 0,ProvisionedWriteCapacityUnits:T(e.ProvisionedWriteCapacityUnits)}))(e,t)));return n},$u=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({RegionName:O(e.RegionName)}))(e)));return n},Wu=(e,t)=>({message:O(e.message)}),Yu=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({RegionName:O(e.RegionName),ReplicaBillingModeSummary:null!=e.ReplicaBillingModeSummary?ws(e.ReplicaBillingModeSummary):void 0,ReplicaGlobalSecondaryIndexSettings:null!=e.ReplicaGlobalSecondaryIndexSettings?Vu(e.ReplicaGlobalSecondaryIndexSettings,t):void 0,ReplicaProvisionedReadCapacityAutoScalingSettings:null!=e.ReplicaProvisionedReadCapacityAutoScalingSettings?us(e.ReplicaProvisionedReadCapacityAutoScalingSettings,t):void 0,ReplicaProvisionedReadCapacityUnits:T(e.ReplicaProvisionedReadCapacityUnits),ReplicaProvisionedWriteCapacityAutoScalingSettings:null!=e.ReplicaProvisionedWriteCapacityAutoScalingSettings?us(e.ReplicaProvisionedWriteCapacityAutoScalingSettings,t):void 0,ReplicaProvisionedWriteCapacityUnits:T(e.ReplicaProvisionedWriteCapacityUnits),ReplicaStatus:O(e.ReplicaStatus),ReplicaTableClassSummary:null!=e.ReplicaTableClassSummary?lc(e.ReplicaTableClassSummary,t):void 0}))(e,t)));return n},Zu=(e,t)=>({message:O(e.message)}),Ju=(e,t)=>({message:O(e.message)}),Xu=(e,t)=>({message:O(e.message)}),Qu=(e,t)=>({RestoreDateTime:null!=e.RestoreDateTime?P(U(x(e.RestoreDateTime))):void 0,RestoreInProgress:_(e.RestoreInProgress),SourceBackupArn:O(e.SourceBackupArn),SourceTableArn:O(e.SourceTableArn)}),ec=(e,t)=>({S3Bucket:O(e.S3Bucket),S3BucketOwner:O(e.S3BucketOwner),S3KeyPrefix:O(e.S3KeyPrefix)}),tc=(e,t)=>Object.entries(e).reduce(((e,[t,n])=>(null===n||(e[t]=_s(n)),e)),{}),nc=(e,t)=>({BillingMode:O(e.BillingMode),ItemCount:T(e.ItemCount),KeySchema:null!=e.KeySchema?bu(e.KeySchema,t):void 0,ProvisionedThroughput:null!=e.ProvisionedThroughput?Du(e.ProvisionedThroughput,t):void 0,TableArn:O(e.TableArn),TableCreationDateTime:null!=e.TableCreationDateTime?P(U(x(e.TableCreationDateTime))):void 0,TableId:O(e.TableId),TableName:O(e.TableName),TableSizeBytes:T(e.TableSizeBytes)}),rc=(e,t)=>({GlobalSecondaryIndexes:null!=e.GlobalSecondaryIndexes?Hs(e.GlobalSecondaryIndexes,t):void 0,LocalSecondaryIndexes:null!=e.LocalSecondaryIndexes?Iu(e.LocalSecondaryIndexes,t):void 0,SSEDescription:null!=e.SSEDescription?oc(e.SSEDescription,t):void 0,StreamDescription:null!=e.StreamDescription?ac(e.StreamDescription,t):void 0,TimeToLiveDescription:null!=e.TimeToLiveDescription?mc(e.TimeToLiveDescription,t):void 0}),oc=(e,t)=>({InaccessibleEncryptionDateTime:null!=e.InaccessibleEncryptionDateTime?P(U(x(e.InaccessibleEncryptionDateTime))):void 0,KMSMasterKeyArn:O(e.KMSMasterKeyArn),SSEType:O(e.SSEType),Status:O(e.Status)}),ic=(e,t)=>({Enabled:_(e.Enabled),KMSMasterKeyId:O(e.KMSMasterKeyId),SSEType:O(e.SSEType)}),ac=(e,t)=>({StreamEnabled:_(e.StreamEnabled),StreamViewType:O(e.StreamViewType)}),sc=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:O(e)));return n},uc=(e,t)=>({message:O(e.message)}),cc=(e,t)=>({Replicas:null!=e.Replicas?qu(e.Replicas,t):void 0,TableName:O(e.TableName),TableStatus:O(e.TableStatus)}),lc=(e,t)=>({LastUpdateDateTime:null!=e.LastUpdateDateTime?P(U(x(e.LastUpdateDateTime))):void 0,TableClass:O(e.TableClass)}),fc=(e,t)=>({AttributeDefinitions:null!=e.AttributeDefinitions?rs(e.AttributeDefinitions):void 0,BillingMode:O(e.BillingMode),GlobalSecondaryIndexes:null!=e.GlobalSecondaryIndexes?$s(e.GlobalSecondaryIndexes,t):void 0,KeySchema:null!=e.KeySchema?bu(e.KeySchema,t):void 0,ProvisionedThroughput:null!=e.ProvisionedThroughput?Du(e.ProvisionedThroughput,t):void 0,SSESpecification:null!=e.SSESpecification?ic(e.SSESpecification):void 0,TableName:O(e.TableName)}),dc=(e,t)=>({ArchivalSummary:null!=e.ArchivalSummary?ns(e.ArchivalSummary):void 0,AttributeDefinitions:null!=e.AttributeDefinitions?rs(e.AttributeDefinitions):void 0,BillingModeSummary:null!=e.BillingModeSummary?ws(e.BillingModeSummary):void 0,CreationDateTime:null!=e.CreationDateTime?P(U(x(e.CreationDateTime))):void 0,GlobalSecondaryIndexes:null!=e.GlobalSecondaryIndexes?Gs(e.GlobalSecondaryIndexes,t):void 0,GlobalTableVersion:O(e.GlobalTableVersion),ItemCount:T(e.ItemCount),KeySchema:null!=e.KeySchema?bu(e.KeySchema,t):void 0,LatestStreamArn:O(e.LatestStreamArn),LatestStreamLabel:O(e.LatestStreamLabel),LocalSecondaryIndexes:null!=e.LocalSecondaryIndexes?Tu(e.LocalSecondaryIndexes,t):void 0,ProvisionedThroughput:null!=e.ProvisionedThroughput?Mu(e.ProvisionedThroughput,t):void 0,Replicas:null!=e.Replicas?Ku(e.Replicas,t):void 0,RestoreSummary:null!=e.RestoreSummary?Qu(e.RestoreSummary):void 0,SSEDescription:null!=e.SSEDescription?oc(e.SSEDescription,t):void 0,StreamSpecification:null!=e.StreamSpecification?ac(e.StreamSpecification,t):void 0,TableArn:O(e.TableArn),TableClassSummary:null!=e.TableClassSummary?lc(e.TableClassSummary,t):void 0,TableId:O(e.TableId),TableName:O(e.TableName),TableSizeBytes:T(e.TableSizeBytes),TableStatus:O(e.TableStatus)}),pc=(e,t)=>({message:O(e.message)}),hc=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:O(e)));return n},vc=(e,t)=>({message:O(e.message)}),yc=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({Key:O(e.Key),Value:O(e.Value)}))(e)));return n},mc=(e,t)=>({AttributeName:O(e.AttributeName),TimeToLiveStatus:O(e.TimeToLiveStatus)}),gc=(e,t)=>({AttributeName:O(e.AttributeName),Enabled:_(e.Enabled)}),bc=(e,t)=>({CancellationReasons:null!=e.CancellationReasons?Es(e.CancellationReasons,t):void 0,Message:O(e.Message)}),wc=(e,t)=>({message:O(e.message)}),Sc=(e,t)=>({Message:O(e.Message)}),Ec=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>null===e?null:((e,t)=>({DeleteRequest:null!=e.DeleteRequest?Ls(e.DeleteRequest,t):void 0,PutRequest:null!=e.PutRequest?zu(e.PutRequest,t):void 0}))(e,t)));return n},_c=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),xc=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),Tc=async(e,t,n,r,o)=>{const{hostname:i,protocol:a="https",port:s,path:u}=await e.endpoint(),c={protocol:a,hostname:i,port:s,method:"POST",path:u.endsWith("/")?u.slice(0,-1)+n:u+n,headers:t};return void 0!==r&&(c.hostname=r),void 0!==o&&(c.body=o),new Jo(c)},Ic=(e,t)=>((e,t)=>xc(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>e.length?JSON.parse(e):{})),Ac=async(e,t)=>{const n=await Ic(e,t);return n.message=n.message??n.Message,n},Cc=(e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=(o=e.headers,"x-amzn-errortype",Object.keys(o).find((e=>e.toLowerCase()==="x-amzn-errortype".toLowerCase())));var o;return void 0!==r?n(e.headers[r]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0};class Pc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Pc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"BatchExecuteStatementCommand",inputFilterSensitiveLog:So,outputFilterSensitiveLog:Eo},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.Statements&&{Statements:Ta(e.Statements,t)}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.BatchExecuteStatement"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Ei(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ConsumedCapacity:null!=e.ConsumedCapacity?Is(e.ConsumedCapacity,t):void 0,Responses:null!=e.Responses?ku(e.Responses,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Oc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Oc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"BatchGetItemCommand",inputFilterSensitiveLog:Io,outputFilterSensitiveLog:Bo},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.RequestItems&&{RequestItems:zi(e.RequestItems,t)},...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.BatchGetItem"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bi(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Ei(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ConsumedCapacity:null!=e.ConsumedCapacity?Is(e.ConsumedCapacity,t):void 0,Responses:null!=e.Responses?ms(e.Responses,t):void 0,UnprocessedKeys:null!=e.UnprocessedKeys?ys(e.UnprocessedKeys,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class kc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,kc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"BatchWriteItemCommand",inputFilterSensitiveLog:Ko,outputFilterSensitiveLog:$o},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.RequestItems&&{RequestItems:Bi(e.RequestItems,t)},...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.ReturnItemCollectionMetrics&&{ReturnItemCollectionMetrics:e.ReturnItemCollectionMetrics}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.BatchWriteItem"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await yi(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bi(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Ei(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ConsumedCapacity:null!=e.ConsumedCapacity?Is(e.ConsumedCapacity,t):void 0,ItemCollectionMetrics:null!=e.ItemCollectionMetrics?fu(e.ItemCollectionMetrics,t):void 0,UnprocessedItems:null!=e.UnprocessedItems?bs(e.UnprocessedItems,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Rc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Rc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"CreateBackupCommand",inputFilterSensitiveLog:Mt,outputFilterSensitiveLog:jt},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.BackupName&&{BackupName:e.BackupName},...null!=e.TableName&&{TableName:e.TableName}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.CreateBackup"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await Qo(n,t);case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await ni(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await mi(n,t);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await Ii(n,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await Ai(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({BackupDetails:null!=e.BackupDetails?fs(e.BackupDetails,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Nc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Nc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"CreateGlobalTableCommand",inputFilterSensitiveLog:zt,outputFilterSensitiveLog:Vt},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.GlobalTableName&&{GlobalTableName:e.GlobalTableName},...null!=e.ReplicationGroup&&{ReplicationGroup:Ua(e.ReplicationGroup,t)}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.CreateGlobalTable"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"GlobalTableAlreadyExistsException":case"com.amazonaws.dynamodb#GlobalTableAlreadyExistsException":throw await ai(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await mi(n,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await Ai(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({GlobalTableDescription:null!=e.GlobalTableDescription?Ys(e.GlobalTableDescription,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Lc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Lc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"CreateTableCommand",inputFilterSensitiveLog:en,outputFilterSensitiveLog:sn},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.AttributeDefinitions&&{AttributeDefinitions:ki(e.AttributeDefinitions)},...null!=e.BillingMode&&{BillingMode:e.BillingMode},...null!=e.GlobalSecondaryIndexes&&{GlobalSecondaryIndexes:ua(e.GlobalSecondaryIndexes,t)},...null!=e.KeySchema&&{KeySchema:ya(e.KeySchema,t)},...null!=e.LocalSecondaryIndexes&&{LocalSecondaryIndexes:wa(e.LocalSecondaryIndexes,t)},...null!=e.ProvisionedThroughput&&{ProvisionedThroughput:Pa(e.ProvisionedThroughput,t)},...null!=e.SSESpecification&&{SSESpecification:Ka(e.SSESpecification,t)},...null!=e.StreamSpecification&&{StreamSpecification:Ga(e.StreamSpecification,t)},...null!=e.TableClass&&{TableClass:e.TableClass},...null!=e.TableName&&{TableName:e.TableName},...null!=e.Tags&&{Tags:Wa(e.Tags,t)}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.CreateTable"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await mi(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _i(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({TableDescription:null!=e.TableDescription?dc(e.TableDescription,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Dc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Dc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"DeleteBackupCommand",inputFilterSensitiveLog:cn,outputFilterSensitiveLog:ln},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.BackupArn&&{BackupArn:e.BackupArn}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DeleteBackup"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await Qo(n,t);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await ei(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await mi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({BackupDescription:null!=e.BackupDescription?ls(e.BackupDescription,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Mc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Mc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"DeleteItemCommand",inputFilterSensitiveLog:Go,outputFilterSensitiveLog:Lo},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ConditionExpression&&{ConditionExpression:e.ConditionExpression},...null!=e.ConditionalOperator&&{ConditionalOperator:e.ConditionalOperator},...null!=e.Expected&&{Expected:ta(e.Expected,t)},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.ExpressionAttributeValues&&{ExpressionAttributeValues:oa(e.ExpressionAttributeValues,t)},...null!=e.Key&&{Key:da(e.Key,t)},...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.ReturnItemCollectionMetrics&&{ReturnItemCollectionMetrics:e.ReturnItemCollectionMetrics},...null!=e.ReturnValues&&{ReturnValues:e.ReturnValues},...null!=e.TableName&&{TableName:e.TableName}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DeleteItem"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await ti(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await yi(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bi(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Ei(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await Pi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({Attributes:null!=e.Attributes?os(e.Attributes,t):void 0,ConsumedCapacity:null!=e.ConsumedCapacity?Ts(e.ConsumedCapacity,t):void 0,ItemCollectionMetrics:null!=e.ItemCollectionMetrics?lu(e.ItemCollectionMetrics,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class jc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,jc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"DeleteTableCommand",inputFilterSensitiveLog:hn,outputFilterSensitiveLog:vn},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.TableName&&{TableName:e.TableName}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DeleteTable"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await mi(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _i(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({TableDescription:null!=e.TableDescription?dc(e.TableDescription,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Uc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Uc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"DescribeBackupCommand",inputFilterSensitiveLog:yn,outputFilterSensitiveLog:mn},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.BackupArn&&{BackupArn:e.BackupArn}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeBackup"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await ei(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({BackupDescription:null!=e.BackupDescription?ls(e.BackupDescription,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Fc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Fc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"DescribeContinuousBackupsCommand",inputFilterSensitiveLog:gn,outputFilterSensitiveLog:bn},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.TableName&&{TableName:e.TableName}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeContinuousBackups"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await Ai(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ContinuousBackupsDescription:null!=e.ContinuousBackupsDescription?As(e.ContinuousBackupsDescription,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class zc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,zc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"DescribeContributorInsightsCommand",inputFilterSensitiveLog:wn,outputFilterSensitiveLog:En},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.TableName&&{TableName:e.TableName}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeContributorInsights"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ContributorInsightsRuleList:null!=e.ContributorInsightsRuleList?Ps(e.ContributorInsightsRuleList):void 0,ContributorInsightsStatus:O(e.ContributorInsightsStatus),FailureException:null!=e.FailureException?Ks(e.FailureException,t):void 0,IndexName:O(e.IndexName),LastUpdateDateTime:null!=e.LastUpdateDateTime?P(U(x(e.LastUpdateDateTime))):void 0,TableName:O(e.TableName)}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Bc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Bc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"DescribeEndpointsCommand",inputFilterSensitiveLog:_n,outputFilterSensitiveLog:Tn},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify({}),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeEndpoints"},"/",void 0,n)})(0,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body),o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})})(e,t);let n={};n=((e,t)=>({Endpoints:null!=e.Endpoints?Ms(e.Endpoints,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class qc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,qc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"DescribeExportCommand",inputFilterSensitiveLog:In,outputFilterSensitiveLog:Cn},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ExportArn&&{ExportArn:e.ExportArn}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeExport"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"ExportNotFoundException":case"com.amazonaws.dynamodb#ExportNotFoundException":throw await ii(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await mi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ExportDescription:null!=e.ExportDescription?Us(e.ExportDescription,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Kc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Kc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"DescribeGlobalTableCommand",inputFilterSensitiveLog:Pn,outputFilterSensitiveLog:On},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.GlobalTableName&&{GlobalTableName:e.GlobalTableName}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeGlobalTable"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await si(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({GlobalTableDescription:null!=e.GlobalTableDescription?Ys(e.GlobalTableDescription,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Gc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Gc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"DescribeGlobalTableSettingsCommand",inputFilterSensitiveLog:kn,outputFilterSensitiveLog:Ln},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.GlobalTableName&&{GlobalTableName:e.GlobalTableName}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeGlobalTableSettings"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await si(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({GlobalTableName:O(e.GlobalTableName),ReplicaSettings:null!=e.ReplicaSettings?Yu(e.ReplicaSettings,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Hc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Hc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"DescribeImportCommand",inputFilterSensitiveLog:Dn,outputFilterSensitiveLog:zn},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ImportArn&&{ImportArn:e.ImportArn}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeImport"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"ImportNotFoundException":case"com.amazonaws.dynamodb#ImportNotFoundException":throw await li(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ImportTableDescription:null!=e.ImportTableDescription?nu(e.ImportTableDescription,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Vc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Vc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"DescribeKinesisStreamingDestinationCommand",inputFilterSensitiveLog:Bn,outputFilterSensitiveLog:Kn},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.TableName&&{TableName:e.TableName}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeKinesisStreamingDestination"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({KinesisDataStreamDestinations:null!=e.KinesisDataStreamDestinations?Su(e.KinesisDataStreamDestinations,t):void 0,TableName:O(e.TableName)}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class $c extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,$c.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"DescribeLimitsCommand",inputFilterSensitiveLog:Gn,outputFilterSensitiveLog:Hn},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify({}),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeLimits"},"/",void 0,n)})(0,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({AccountMaxReadCapacityUnits:T(e.AccountMaxReadCapacityUnits),AccountMaxWriteCapacityUnits:T(e.AccountMaxWriteCapacityUnits),TableMaxReadCapacityUnits:T(e.TableMaxReadCapacityUnits),TableMaxWriteCapacityUnits:T(e.TableMaxWriteCapacityUnits)}))(await Ic(e.body,t));const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Wc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Wc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"DescribeTableCommand",inputFilterSensitiveLog:Vn,outputFilterSensitiveLog:$n},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.TableName&&{TableName:e.TableName}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeTable"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({Table:null!=e.Table?dc(e.Table,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Yc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Yc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"DescribeTableReplicaAutoScalingCommand",inputFilterSensitiveLog:Wn,outputFilterSensitiveLog:Xn},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.TableName&&{TableName:e.TableName}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeTableReplicaAutoScaling"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({TableAutoScalingDescription:null!=e.TableAutoScalingDescription?cc(e.TableAutoScalingDescription,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Zc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Zc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"DescribeTimeToLiveCommand",inputFilterSensitiveLog:Qn,outputFilterSensitiveLog:er},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.TableName&&{TableName:e.TableName}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DescribeTimeToLive"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({TimeToLiveDescription:null!=e.TimeToLiveDescription?mc(e.TimeToLiveDescription,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Jc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Jc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"DisableKinesisStreamingDestinationCommand",inputFilterSensitiveLog:tr,outputFilterSensitiveLog:nr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(ga(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.DisableKinesisStreamingDestination"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await mi(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _i(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);const n=await Ic(e.body,t);let r={};r=Eu(n);const o={$metadata:_c(e),...r};return Promise.resolve(o)})(e,t)}}class Xc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Xc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"EnableKinesisStreamingDestinationCommand",inputFilterSensitiveLog:tr,outputFilterSensitiveLog:nr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(ga(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.EnableKinesisStreamingDestination"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await mi(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _i(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);const n=await Ic(e.body,t);let r={};r=Eu(n);const o={$metadata:_c(e),...r};return Promise.resolve(o)})(e,t)}}class Qc extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Qc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"ExecuteStatementCommand",inputFilterSensitiveLog:lo,outputFilterSensitiveLog:Do},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ConsistentRead&&{ConsistentRead:e.ConsistentRead},...null!=e.Limit&&{Limit:e.Limit},...null!=e.NextToken&&{NextToken:e.NextToken},...null!=e.Parameters&&{Parameters:Aa(e.Parameters,t)},...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.Statement&&{Statement:e.Statement}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ExecuteStatement"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await ti(n,t);case"DuplicateItemException":case"com.amazonaws.dynamodb#DuplicateItemException":throw await ri(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await yi(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bi(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Ei(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await Pi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ConsumedCapacity:null!=e.ConsumedCapacity?Ts(e.ConsumedCapacity,t):void 0,Items:null!=e.Items?hu(e.Items,t):void 0,LastEvaluatedKey:null!=e.LastEvaluatedKey?yu(e.LastEvaluatedKey,t):void 0,NextToken:O(e.NextToken)}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class el extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,el.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"ExecuteTransactionCommand",inputFilterSensitiveLog:_o,outputFilterSensitiveLog:xo},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({ClientRequestToken:e.ClientRequestToken??(0,Xo.Z)(),...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.TransactStatements&&{TransactStatements:xa(e.TransactStatements,t)}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ExecuteTransaction"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await ui(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bi(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Ei(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await Ci(n,t);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await Oi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ConsumedCapacity:null!=e.ConsumedCapacity?Is(e.ConsumedCapacity,t):void 0,Responses:null!=e.Responses?vu(e.Responses,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class tl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,tl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"ExportTableToPointInTimeCommand",inputFilterSensitiveLog:rr,outputFilterSensitiveLog:or},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({ClientToken:e.ClientToken??(0,Xo.Z)(),...null!=e.ExportFormat&&{ExportFormat:e.ExportFormat},...null!=e.ExportTime&&{ExportTime:Math.round(e.ExportTime.getTime()/1e3)},...null!=e.S3Bucket&&{S3Bucket:e.S3Bucket},...null!=e.S3BucketOwner&&{S3BucketOwner:e.S3BucketOwner},...null!=e.S3Prefix&&{S3Prefix:e.S3Prefix},...null!=e.S3SseAlgorithm&&{S3SseAlgorithm:e.S3SseAlgorithm},...null!=e.S3SseKmsKeyId&&{S3SseKmsKeyId:e.S3SseKmsKeyId},...null!=e.TableArn&&{TableArn:e.TableArn}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ExportTableToPointInTime"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"ExportConflictException":case"com.amazonaws.dynamodb#ExportConflictException":throw await oi(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidExportTimeException":case"com.amazonaws.dynamodb#InvalidExportTimeException":throw await hi(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await mi(n,t);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await gi(n,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await Ai(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ExportDescription:null!=e.ExportDescription?Us(e.ExportDescription,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class nl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,nl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"GetItemCommand",inputFilterSensitiveLog:po,outputFilterSensitiveLog:ho},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.AttributesToGet&&{AttributesToGet:Ri(e.AttributesToGet)},...null!=e.ConsistentRead&&{ConsistentRead:e.ConsistentRead},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.Key&&{Key:da(e.Key,t)},...null!=e.ProjectionExpression&&{ProjectionExpression:e.ProjectionExpression},...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.TableName&&{TableName:e.TableName}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.GetItem"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bi(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Ei(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ConsumedCapacity:null!=e.ConsumedCapacity?Ts(e.ConsumedCapacity,t):void 0,Item:null!=e.Item?os(e.Item,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class rl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,rl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"ImportTableCommand",inputFilterSensitiveLog:ir,outputFilterSensitiveLog:ar},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({ClientToken:e.ClientToken??(0,Xo.Z)(),...null!=e.InputCompressionType&&{InputCompressionType:e.InputCompressionType},...null!=e.InputFormat&&{InputFormat:e.InputFormat},...null!=e.InputFormatOptions&&{InputFormatOptions:fa(e.InputFormatOptions,t)},...null!=e.S3BucketSource&&{S3BucketSource:qa(e.S3BucketSource,t)},...null!=e.TableCreationParameters&&{TableCreationParameters:Va(e.TableCreationParameters,t)}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ImportTable"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"ImportConflictException":case"com.amazonaws.dynamodb#ImportConflictException":throw await ci(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await mi(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _i(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ImportTableDescription:null!=e.ImportTableDescription?nu(e.ImportTableDescription,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class ol extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,ol.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"ListBackupsCommand",inputFilterSensitiveLog:sr,outputFilterSensitiveLog:ur},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.BackupType&&{BackupType:e.BackupType},...null!=e.ExclusiveStartBackupArn&&{ExclusiveStartBackupArn:e.ExclusiveStartBackupArn},...null!=e.Limit&&{Limit:e.Limit},...null!=e.TableName&&{TableName:e.TableName},...null!=e.TimeRangeLowerBound&&{TimeRangeLowerBound:Math.round(e.TimeRangeLowerBound.getTime()/1e3)},...null!=e.TimeRangeUpperBound&&{TimeRangeUpperBound:Math.round(e.TimeRangeUpperBound.getTime()/1e3)}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ListBackups"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({BackupSummaries:null!=e.BackupSummaries?hs(e.BackupSummaries,t):void 0,LastEvaluatedBackupArn:O(e.LastEvaluatedBackupArn)}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class il extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,il.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"ListContributorInsightsCommand",inputFilterSensitiveLog:cr,outputFilterSensitiveLog:lr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.MaxResults&&{MaxResults:e.MaxResults},...null!=e.NextToken&&{NextToken:e.NextToken},...null!=e.TableName&&{TableName:e.TableName}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ListContributorInsights"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ContributorInsightsSummaries:null!=e.ContributorInsightsSummaries?Os(e.ContributorInsightsSummaries,t):void 0,NextToken:O(e.NextToken)}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class al extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,al.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"ListExportsCommand",inputFilterSensitiveLog:fr,outputFilterSensitiveLog:pr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.MaxResults&&{MaxResults:e.MaxResults},...null!=e.NextToken&&{NextToken:e.NextToken},...null!=e.TableArn&&{TableArn:e.TableArn}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ListExports"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await mi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ExportSummaries:null!=e.ExportSummaries?zs(e.ExportSummaries,t):void 0,NextToken:O(e.NextToken)}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class sl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,sl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"ListGlobalTablesCommand",inputFilterSensitiveLog:hr,outputFilterSensitiveLog:yr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ExclusiveStartGlobalTableName&&{ExclusiveStartGlobalTableName:e.ExclusiveStartGlobalTableName},...null!=e.Limit&&{Limit:e.Limit},...null!=e.RegionName&&{RegionName:e.RegionName}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ListGlobalTables"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({GlobalTables:null!=e.GlobalTables?Zs(e.GlobalTables,t):void 0,LastEvaluatedGlobalTableName:O(e.LastEvaluatedGlobalTableName)}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class ul extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,ul.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"ListImportsCommand",inputFilterSensitiveLog:mr,outputFilterSensitiveLog:br},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.NextToken&&{NextToken:e.NextToken},...null!=e.PageSize&&{PageSize:e.PageSize},...null!=e.TableArn&&{TableArn:e.TableArn}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ListImports"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await mi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ImportSummaryList:null!=e.ImportSummaryList?tu(e.ImportSummaryList,t):void 0,NextToken:O(e.NextToken)}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class cl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,cl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"ListTablesCommand",inputFilterSensitiveLog:wr,outputFilterSensitiveLog:Sr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ExclusiveStartTableName&&{ExclusiveStartTableName:e.ExclusiveStartTableName},...null!=e.Limit&&{Limit:e.Limit}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ListTables"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({LastEvaluatedTableName:O(e.LastEvaluatedTableName),TableNames:null!=e.TableNames?hc(e.TableNames,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class ll extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,ll.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"ListTagsOfResourceCommand",inputFilterSensitiveLog:Er,outputFilterSensitiveLog:_r},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.NextToken&&{NextToken:e.NextToken},...null!=e.ResourceArn&&{ResourceArn:e.ResourceArn}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.ListTagsOfResource"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({NextToken:O(e.NextToken),Tags:null!=e.Tags?yc(e.Tags,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class fl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,fl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"PutItemCommand",inputFilterSensitiveLog:Ho,outputFilterSensitiveLog:Mo},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ConditionExpression&&{ConditionExpression:e.ConditionExpression},...null!=e.ConditionalOperator&&{ConditionalOperator:e.ConditionalOperator},...null!=e.Expected&&{Expected:ta(e.Expected,t)},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.ExpressionAttributeValues&&{ExpressionAttributeValues:oa(e.ExpressionAttributeValues,t)},...null!=e.Item&&{Item:Ra(e.Item,t)},...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.ReturnItemCollectionMetrics&&{ReturnItemCollectionMetrics:e.ReturnItemCollectionMetrics},...null!=e.ReturnValues&&{ReturnValues:e.ReturnValues},...null!=e.TableName&&{TableName:e.TableName}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.PutItem"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await ti(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await yi(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bi(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Ei(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await Pi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({Attributes:null!=e.Attributes?os(e.Attributes,t):void 0,ConsumedCapacity:null!=e.ConsumedCapacity?Ts(e.ConsumedCapacity,t):void 0,ItemCollectionMetrics:null!=e.ItemCollectionMetrics?lu(e.ItemCollectionMetrics,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class dl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,dl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"QueryCommand",inputFilterSensitiveLog:Vo,outputFilterSensitiveLog:jo},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.AttributesToGet&&{AttributesToGet:Ri(e.AttributesToGet)},...null!=e.ConditionalOperator&&{ConditionalOperator:e.ConditionalOperator},...null!=e.ConsistentRead&&{ConsistentRead:e.ConsistentRead},...null!=e.ExclusiveStartKey&&{ExclusiveStartKey:da(e.ExclusiveStartKey,t)},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.ExpressionAttributeValues&&{ExpressionAttributeValues:oa(e.ExpressionAttributeValues,t)},...null!=e.FilterExpression&&{FilterExpression:e.FilterExpression},...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.KeyConditionExpression&&{KeyConditionExpression:e.KeyConditionExpression},...null!=e.KeyConditions&&{KeyConditions:pa(e.KeyConditions,t)},...null!=e.Limit&&{Limit:e.Limit},...null!=e.ProjectionExpression&&{ProjectionExpression:e.ProjectionExpression},...null!=e.QueryFilter&&{QueryFilter:ia(e.QueryFilter,t)},...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.ScanIndexForward&&{ScanIndexForward:e.ScanIndexForward},...null!=e.Select&&{Select:e.Select},...null!=e.TableName&&{TableName:e.TableName}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.Query"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bi(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Ei(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ConsumedCapacity:null!=e.ConsumedCapacity?Ts(e.ConsumedCapacity,t):void 0,Count:I(e.Count),Items:null!=e.Items?hu(e.Items,t):void 0,LastEvaluatedKey:null!=e.LastEvaluatedKey?yu(e.LastEvaluatedKey,t):void 0,ScannedCount:I(e.ScannedCount)}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class pl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,pl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"RestoreTableFromBackupCommand",inputFilterSensitiveLog:xr,outputFilterSensitiveLog:Tr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.BackupArn&&{BackupArn:e.BackupArn},...null!=e.BillingModeOverride&&{BillingModeOverride:e.BillingModeOverride},...null!=e.GlobalSecondaryIndexOverride&&{GlobalSecondaryIndexOverride:ua(e.GlobalSecondaryIndexOverride,t)},...null!=e.LocalSecondaryIndexOverride&&{LocalSecondaryIndexOverride:wa(e.LocalSecondaryIndexOverride,t)},...null!=e.ProvisionedThroughputOverride&&{ProvisionedThroughputOverride:Pa(e.ProvisionedThroughputOverride,t)},...null!=e.SSESpecificationOverride&&{SSESpecificationOverride:Ka(e.SSESpecificationOverride,t)},...null!=e.TargetTableName&&{TargetTableName:e.TargetTableName}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.RestoreTableFromBackup"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await Qo(n,t);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await ei(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await mi(n,t);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await Ti(n,t);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await Ii(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({TableDescription:null!=e.TableDescription?dc(e.TableDescription,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class hl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,hl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"RestoreTableToPointInTimeCommand",inputFilterSensitiveLog:Ir,outputFilterSensitiveLog:Ar},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.BillingModeOverride&&{BillingModeOverride:e.BillingModeOverride},...null!=e.GlobalSecondaryIndexOverride&&{GlobalSecondaryIndexOverride:ua(e.GlobalSecondaryIndexOverride,t)},...null!=e.LocalSecondaryIndexOverride&&{LocalSecondaryIndexOverride:wa(e.LocalSecondaryIndexOverride,t)},...null!=e.ProvisionedThroughputOverride&&{ProvisionedThroughputOverride:Pa(e.ProvisionedThroughputOverride,t)},...null!=e.RestoreDateTime&&{RestoreDateTime:Math.round(e.RestoreDateTime.getTime()/1e3)},...null!=e.SSESpecificationOverride&&{SSESpecificationOverride:Ka(e.SSESpecificationOverride,t)},...null!=e.SourceTableArn&&{SourceTableArn:e.SourceTableArn},...null!=e.SourceTableName&&{SourceTableName:e.SourceTableName},...null!=e.TargetTableName&&{TargetTableName:e.TargetTableName},...null!=e.UseLatestRestorableTime&&{UseLatestRestorableTime:e.UseLatestRestorableTime}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.RestoreTableToPointInTime"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"InvalidRestoreTimeException":case"com.amazonaws.dynamodb#InvalidRestoreTimeException":throw await vi(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await mi(n,t);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await gi(n,t);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await Ti(n,t);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await Ii(n,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await Ai(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({TableDescription:null!=e.TableDescription?dc(e.TableDescription,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class vl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,vl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"ScanCommand",inputFilterSensitiveLog:qo,outputFilterSensitiveLog:Uo},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.AttributesToGet&&{AttributesToGet:Ri(e.AttributesToGet)},...null!=e.ConditionalOperator&&{ConditionalOperator:e.ConditionalOperator},...null!=e.ConsistentRead&&{ConsistentRead:e.ConsistentRead},...null!=e.ExclusiveStartKey&&{ExclusiveStartKey:da(e.ExclusiveStartKey,t)},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.ExpressionAttributeValues&&{ExpressionAttributeValues:oa(e.ExpressionAttributeValues,t)},...null!=e.FilterExpression&&{FilterExpression:e.FilterExpression},...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.Limit&&{Limit:e.Limit},...null!=e.ProjectionExpression&&{ProjectionExpression:e.ProjectionExpression},...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.ScanFilter&&{ScanFilter:ia(e.ScanFilter,t)},...null!=e.Segment&&{Segment:e.Segment},...null!=e.Select&&{Select:e.Select},...null!=e.TableName&&{TableName:e.TableName},...null!=e.TotalSegments&&{TotalSegments:e.TotalSegments}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.Scan"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bi(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Ei(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ConsumedCapacity:null!=e.ConsumedCapacity?Ts(e.ConsumedCapacity,t):void 0,Count:I(e.Count),Items:null!=e.Items?hu(e.Items,t):void 0,LastEvaluatedKey:null!=e.LastEvaluatedKey?yu(e.LastEvaluatedKey,t):void 0,ScannedCount:I(e.ScannedCount)}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class yl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,yl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"TagResourceCommand",inputFilterSensitiveLog:Cr,outputFilterSensitiveLog:e=>e},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ResourceArn&&{ResourceArn:e.ResourceArn},...null!=e.Tags&&{Tags:Wa(e.Tags,t)}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.TagResource"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await mi(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _i(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);await xc(e.body,t);const n={$metadata:_c(e)};return Promise.resolve(n)})(e,t)}}class ml extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,ml.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"TransactGetItemsCommand",inputFilterSensitiveLog:Co,outputFilterSensitiveLog:To},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.TransactItems&&{TransactItems:Za(e.TransactItems,t)}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.TransactGetItems"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bi(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Ei(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await Ci(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ConsumedCapacity:null!=e.ConsumedCapacity?Is(e.ConsumedCapacity,t):void 0,Responses:null!=e.Responses?vu(e.Responses,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class gl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,gl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"TransactWriteItemsCommand",inputFilterSensitiveLog:Zo,outputFilterSensitiveLog:Po},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({ClientRequestToken:e.ClientRequestToken??(0,Xo.Z)(),...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.ReturnItemCollectionMetrics&&{ReturnItemCollectionMetrics:e.ReturnItemCollectionMetrics},...null!=e.TransactItems&&{TransactItems:Ja(e.TransactItems,t)}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.TransactWriteItems"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await ui(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bi(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Ei(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await Ci(n,t);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await Oi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ConsumedCapacity:null!=e.ConsumedCapacity?Is(e.ConsumedCapacity,t):void 0,ItemCollectionMetrics:null!=e.ItemCollectionMetrics?fu(e.ItemCollectionMetrics,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class bl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,bl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"UntagResourceCommand",inputFilterSensitiveLog:Pr,outputFilterSensitiveLog:e=>e},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ResourceArn&&{ResourceArn:e.ResourceArn},...null!=e.TagKeys&&{TagKeys:$a(e.TagKeys)}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.UntagResource"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await mi(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _i(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);await xc(e.body,t);const n={$metadata:_c(e)};return Promise.resolve(n)})(e,t)}}class wl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,wl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"UpdateContinuousBackupsCommand",inputFilterSensitiveLog:kr,outputFilterSensitiveLog:Rr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.PointInTimeRecoverySpecification&&{PointInTimeRecoverySpecification:Ia(e.PointInTimeRecoverySpecification)},...null!=e.TableName&&{TableName:e.TableName}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.UpdateContinuousBackups"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await ni(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await Ai(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ContinuousBackupsDescription:null!=e.ContinuousBackupsDescription?As(e.ContinuousBackupsDescription,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Sl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Sl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"UpdateContributorInsightsCommand",inputFilterSensitiveLog:Nr,outputFilterSensitiveLog:Lr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.ContributorInsightsAction&&{ContributorInsightsAction:e.ContributorInsightsAction},...null!=e.IndexName&&{IndexName:e.IndexName},...null!=e.TableName&&{TableName:e.TableName}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.UpdateContributorInsights"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({ContributorInsightsStatus:O(e.ContributorInsightsStatus),IndexName:O(e.IndexName),TableName:O(e.TableName)}))(await Ic(e.body,t));const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class El extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,El.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"UpdateGlobalTableCommand",inputFilterSensitiveLog:Mr,outputFilterSensitiveLog:jr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.GlobalTableName&&{GlobalTableName:e.GlobalTableName},...null!=e.ReplicaUpdates&&{ReplicaUpdates:Ba(e.ReplicaUpdates)}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.UpdateGlobalTable"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await si(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"ReplicaAlreadyExistsException":case"com.amazonaws.dynamodb#ReplicaAlreadyExistsException":throw await wi(n,t);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await Si(n,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await Ai(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({GlobalTableDescription:null!=e.GlobalTableDescription?Ys(e.GlobalTableDescription,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class _l extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,_l.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"UpdateGlobalTableSettingsCommand",inputFilterSensitiveLog:Br,outputFilterSensitiveLog:qr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.GlobalTableBillingMode&&{GlobalTableBillingMode:e.GlobalTableBillingMode},...null!=e.GlobalTableGlobalSecondaryIndexSettingsUpdate&&{GlobalTableGlobalSecondaryIndexSettingsUpdate:la(e.GlobalTableGlobalSecondaryIndexSettingsUpdate,t)},...null!=e.GlobalTableName&&{GlobalTableName:e.GlobalTableName},...null!=e.GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate&&{GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate:Ui(e.GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate,t)},...null!=e.GlobalTableProvisionedWriteCapacityUnits&&{GlobalTableProvisionedWriteCapacityUnits:e.GlobalTableProvisionedWriteCapacityUnits},...null!=e.ReplicaSettingsUpdate&&{ReplicaSettingsUpdate:Fa(e.ReplicaSettingsUpdate,t)}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.UpdateGlobalTableSettings"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await si(n,t);case"IndexNotFoundException":case"com.amazonaws.dynamodb#IndexNotFoundException":throw await fi(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await mi(n,t);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await Si(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _i(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({GlobalTableName:O(e.GlobalTableName),ReplicaSettings:null!=e.ReplicaSettings?Yu(e.ReplicaSettings,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class xl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,xl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"UpdateItemCommand",inputFilterSensitiveLog:Wo,outputFilterSensitiveLog:Fo},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.AttributeUpdates&&{AttributeUpdates:Ni(e.AttributeUpdates,t)},...null!=e.ConditionExpression&&{ConditionExpression:e.ConditionExpression},...null!=e.ConditionalOperator&&{ConditionalOperator:e.ConditionalOperator},...null!=e.Expected&&{Expected:ta(e.Expected,t)},...null!=e.ExpressionAttributeNames&&{ExpressionAttributeNames:ra(e.ExpressionAttributeNames,t)},...null!=e.ExpressionAttributeValues&&{ExpressionAttributeValues:oa(e.ExpressionAttributeValues,t)},...null!=e.Key&&{Key:da(e.Key,t)},...null!=e.ReturnConsumedCapacity&&{ReturnConsumedCapacity:e.ReturnConsumedCapacity},...null!=e.ReturnItemCollectionMetrics&&{ReturnItemCollectionMetrics:e.ReturnItemCollectionMetrics},...null!=e.ReturnValues&&{ReturnValues:e.ReturnValues},...null!=e.TableName&&{TableName:e.TableName},...null!=e.UpdateExpression&&{UpdateExpression:e.UpdateExpression}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.UpdateItem"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await ti(n,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await yi(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bi(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Ei(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await Pi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({Attributes:null!=e.Attributes?os(e.Attributes,t):void 0,ConsumedCapacity:null!=e.ConsumedCapacity?Ts(e.ConsumedCapacity,t):void 0,ItemCollectionMetrics:null!=e.ItemCollectionMetrics?lu(e.ItemCollectionMetrics,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Tl extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Tl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"UpdateTableCommand",inputFilterSensitiveLog:$r,outputFilterSensitiveLog:Wr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.AttributeDefinitions&&{AttributeDefinitions:ki(e.AttributeDefinitions)},...null!=e.BillingMode&&{BillingMode:e.BillingMode},...null!=e.GlobalSecondaryIndexUpdates&&{GlobalSecondaryIndexUpdates:ca(e.GlobalSecondaryIndexUpdates,t)},...null!=e.ProvisionedThroughput&&{ProvisionedThroughput:Pa(e.ProvisionedThroughput,t)},...null!=e.ReplicaUpdates&&{ReplicaUpdates:za(e.ReplicaUpdates,t)},...null!=e.SSESpecification&&{SSESpecification:Ka(e.SSESpecification,t)},...null!=e.StreamSpecification&&{StreamSpecification:Ga(e.StreamSpecification,t)},...null!=e.TableClass&&{TableClass:e.TableClass},...null!=e.TableName&&{TableName:e.TableName}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.UpdateTable"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await mi(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _i(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({TableDescription:null!=e.TableDescription?dc(e.TableDescription,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Il extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Il.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"UpdateTableReplicaAutoScalingCommand",inputFilterSensitiveLog:Xr,outputFilterSensitiveLog:Qr},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.GlobalSecondaryIndexUpdates&&{GlobalSecondaryIndexUpdates:sa(e.GlobalSecondaryIndexUpdates,t)},...null!=e.ProvisionedWriteCapacityAutoScalingUpdate&&{ProvisionedWriteCapacityAutoScalingUpdate:Ui(e.ProvisionedWriteCapacityAutoScalingUpdate,t)},...null!=e.ReplicaUpdates&&{ReplicaUpdates:La(e.ReplicaUpdates,t)},...null!=e.TableName&&{TableName:e.TableName}}))(e,t)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.UpdateTableReplicaAutoScaling"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await mi(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _i(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({TableAutoScalingDescription:null!=e.TableAutoScalingDescription?cc(e.TableAutoScalingDescription,t):void 0}))(await Ic(e.body,t),t);const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}class Al extends E{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,n){this.middlewareStack.use(s(t,this.serialize,this.deserialize)),this.middlewareStack.use(h(t,Al.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:o}=t,i={logger:o,clientName:"DynamoDBClient",commandName:"UpdateTimeToLiveCommand",inputFilterSensitiveLog:to,outputFilterSensitiveLog:no},{requestHandler:a}=t;return r.resolve((e=>a.handle(e.request,n||{})),i)}serialize(e,t){return(async(e,t)=>{let n;return n=JSON.stringify(((e,t)=>({...null!=e.TableName&&{TableName:e.TableName},...null!=e.TimeToLiveSpecification&&{TimeToLiveSpecification:Ya(e.TimeToLiveSpecification)}}))(e)),Tc(t,{"content-type":"application/x-amz-json-1.0","x-amz-target":"DynamoDB_20120810.UpdateTimeToLive"},"/",void 0,n)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ac(e.body,t)},r=Cc(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await di(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pi(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await mi(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _i(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await xi(n,t);default:const o=n.body;B({output:e,parsedBody:o,exceptionCtor:V,errorCode:r})}})(e,t);let n={};n=((e,t)=>({TimeToLiveSpecification:null!=e.TimeToLiveSpecification?gc(e.TimeToLiveSpecification):void 0}))(await Ic(e.body,t));const r={$metadata:_c(e),...n};return Promise.resolve(r)})(e,t)}}var Cl;!function(e){e.ENV="env",e.CONFIG="shared config entry"}(Cl||(Cl={}));const Pl=e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),Ol=e=>Pl(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,kl="content-length",Rl={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0};var Nl=n(6675),Ll=n.n(Nl);class Dl{constructor(e){this.cache=new(Ll())(e)}getEndpoint(e){const t=this.get(e);if(!t||0===t.length)return;const n=t.map((e=>e.Address));return n[Math.floor(Math.random()*n.length)]}get(e){if(!this.has(e))return;const t=this.cache.get(e);if(!t)return;const n=Date.now(),r=t.filter((e=>n<e.Expires));if(0!==r.length)return r;this.delete(e)}set(e,t){const n=Date.now();this.cache.set(e,t.map((({Address:e,CachePeriodInMinutes:t})=>({Address:e,Expires:n+60*t*1e3}))))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;const t=this.cache.peek(e);return!!t&&t.length>0}clear(){this.cache.clear()}}const Ml={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},jl={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Ul="X-Amzn-Trace-Id",Fl={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};var zl,Bl;(Bl=zl||(zl={})).STANDARD="standard",Bl.ADAPTIVE="adaptive";const ql=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Kl=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],Gl=[500,502,503,504],Hl=["ECONNRESET","EPIPE","ETIMEDOUT"],Vl=e=>429===e.$metadata?.httpStatusCode||ql.includes(e.name)||1==e.$retryable?.throttling,$l=e=>Kl.includes(e.name)||Hl.includes(e?.code||"")||Gl.includes(e.$metadata?.httpStatusCode||0);class Wl{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const t=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise((e=>setTimeout(e,t)))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp)return void(this.lastTimestamp=e);const t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),Vl(e)){const e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){const e=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(e*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}}class Yl{constructor(e){this.maxAttemptsProvider=e,this.mode=zl.STANDARD,this.retryToken=((e,t,n,r)=>{const o=e,i=r?.retryCost??5,a=r?.timeoutRetryCost??10,s=r?.retryBackoffStrategy??(()=>{let e=100;return{computeNextBackoffDelay:t=>Math.floor(Math.min(2e4,Math.random()*2**t*e)),setDelayBase:t=>{e=t}}})();let u,c=e,l=Math.min(2e4,t),f=n??0;const d=e=>"TRANSIENT"===e?a:i,p=e=>d(e)<=c;return{getRetryCount:()=>f,getRetryDelay:()=>l,getLastRetryCost:()=>u,hasRetryTokens:p,getRetryTokenCount:e=>{const t=e.errorType;if(!p(t))throw new Error("No retry token available");const n=d(t),r="THROTTLING"===t?500:100;s.setDelayBase(r);const o=s.computeNextBackoffDelay(f);if(e.retryAfterHint){const t=e.retryAfterHint.getTime()-Date.now();l=Math.max(t||0,o)}else l=o;return f++,u=n,c-=n,n},releaseRetryTokens:e=>{c+=e??1,c=Math.min(c,o)}}})(500,100),this.maxAttemptsProvider=e}async acquireInitialRetryToken(e){return this.retryToken}async refreshRetryTokenForRetry(e,t){const n=await this.getMaxAttempts();if(this.shouldRetry(e,t,n))return e.getRetryTokenCount(t),e;throw new Error("No retry token available")}recordSuccess(e){this.retryToken.releaseRetryTokens(e.getLastRetryCost())}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn("Max attempts provider could not resolve. Using default of 3"),3}}shouldRetry(e,t,n){return e.getRetryCount()<n&&e.hasRetryTokens(t.errorType)&&this.isRetryableError(t.errorType)}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}}class Zl{constructor(e,t){this.maxAttemptsProvider=e,this.mode=zl.ADAPTIVE;const{rateLimiter:n}=t??{};this.rateLimiter=n??new Wl,this.standardRetryStrategy=new Yl(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}var Jl=n(6742);const Xl=e=>{const t={errorType:Ql(e)},n=tf(e.$response);return n&&(t.retryAfterHint=n),t},Ql=e=>Vl(e)?"THROTTLING":$l(e)?"TRANSIENT":(e=>{if(void 0!==e.$metadata?.httpStatusCode){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!$l(e)}return!1})(e)?"SERVER_ERROR":"CLIENT_ERROR",ef={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},tf=e=>{if(!Jl.Z.isInstance(e))return;const t=Object.keys(e.headers).find((e=>"retry-after"===e.toLowerCase()));if(!t)return;const n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(1e3*r)};class nf extends Error{constructor(e,t=!0){super(e),this.tryNextLink=t,this.name="ProviderError",Object.setPrototypeOf(this,nf.prototype)}static from(e,t=!0){return Object.assign(new this(e.message,t),e)}}const rf=(e,t,n)=>{let r,o,i,a=!1;const s=async()=>{o||(o=e());try{r=await o,i=!0,a=!1}finally{o=void 0}return r};return void 0===t?async e=>(i&&!e?.forceRefresh||(r=await s()),r):async e=>(i&&!e?.forceRefresh||(r=await s()),a?r:n&&!n(r)?(a=!0,r):t(r)?(await s(),r):r)},of={},af={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),of[e]=t,af[t]=e}function sf(e){let t="";for(let n=0;n<e.byteLength;n++)t+=of[e[n]];return t}const uf="X-Amz-Date",cf="X-Amz-Signature",lf="X-Amz-Security-Token",ff="authorization",df=uf.toLowerCase(),pf=[ff,df,"date"],hf=cf.toLowerCase(),vf="x-amz-content-sha256",yf=lf.toLowerCase(),mf={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},gf=/^proxy-/,bf=/^sec-/,wf="AWS4-HMAC-SHA256",Sf="AWS4-HMAC-SHA256-PAYLOAD",Ef="aws4_request",_f={},xf=[],Tf=(e,t,n)=>`${e}/${t}/${n}/${Ef}`,If=(e,t,n)=>{const r=new e(t);return r.update(n),r.digest()},Af=({headers:e},t,n)=>{const r={};for(const o of Object.keys(e).sort()){if(null==e[o])continue;const i=o.toLowerCase();(i in mf||t?.has(i)||gf.test(i)||bf.test(i))&&(!n||n&&!n.has(i))||(r[i]=e[o].trim().replace(/\s+/g," "))}return r};var Cf=n(6528);const Pf=async({headers:e,body:t},n)=>{for(const t of Object.keys(e))if(t.toLowerCase()===vf)return e[t];if(null==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||(r=t,"function"==typeof ArrayBuffer&&r instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(r))){const e=new n;return e.update(t),sf(await e.digest())}var r;return"UNSIGNED-PAYLOAD"},Of=({headers:e,query:t,...n})=>({...n,headers:{...e},query:t?kf(t):void 0}),kf=e=>Object.keys(e).reduce(((t,n)=>{const r=e[n];return{...t,[n]:Array.isArray(r)?[...r]:r}}),{}),Rf=e=>{e="function"==typeof e.clone?e.clone():Of(e);for(const t of Object.keys(e.headers))pf.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};class Nf{constructor({applyChecksum:e,credentials:t,region:n,service:r,sha256:o,uriEscapePath:i=!0}){this.service=r,this.sha256=o,this.uriEscapePath=i,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=v(n),this.credentialProvider=v(t)}async presign(e,t={}){const{signingDate:n=new Date,expiresIn:r=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,signingRegion:s,signingService:u}=t,c=await this.credentialProvider();this.validateResolvedCredentials(c);const l=s??await this.regionProvider(),{longDate:f,shortDate:d}=Lf(n);if(r>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const p=Tf(d,l,u??this.service),h=((e,t={})=>{const{headers:n,query:r={}}="function"==typeof e.clone?e.clone():Of(e);for(const e of Object.keys(n)){const o=e.toLowerCase();"x-amz-"!==o.slice(0,6)||t.unhoistableHeaders?.has(o)||(r[e]=n[e],delete n[e])}return{...e,headers:n,query:r}})(Rf(e),{unhoistableHeaders:i});c.sessionToken&&(h.query[lf]=c.sessionToken),h.query["X-Amz-Algorithm"]=wf,h.query["X-Amz-Credential"]=`${c.accessKeyId}/${p}`,h.query[uf]=f,h.query["X-Amz-Expires"]=r.toString(10);const v=Af(h,o,a);return h.query["X-Amz-SignedHeaders"]=Df(v),h.query[cf]=await this.getSignature(f,p,this.getSigningKey(c,l,d,u),this.createCanonicalRequest(h,v,await Pf(e,this.sha256))),h}async sign(e,t){return"string"==typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:n=new Date,priorSignature:r,signingRegion:o,signingService:i}){const a=o??await this.regionProvider(),{shortDate:s,longDate:u}=Lf(n),c=Tf(s,a,i??this.service),l=await Pf({headers:{},body:t},this.sha256),f=new this.sha256;f.update(e);const d=sf(await f.digest()),p=[Sf,u,c,r,d,l].join("\n");return this.signString(p,{signingDate:n,signingRegion:a,signingService:i})}async signString(e,{signingDate:t=new Date,signingRegion:n,signingService:r}={}){const o=await this.credentialProvider();this.validateResolvedCredentials(o);const i=n??await this.regionProvider(),{shortDate:a}=Lf(t),s=new this.sha256(await this.getSigningKey(o,i,a,r));return s.update(e),sf(await s.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:r,signingRegion:o,signingService:i}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const s=o??await this.regionProvider(),u=Rf(e),{longDate:c,shortDate:l}=Lf(t),f=Tf(l,s,i??this.service);u.headers[df]=c,a.sessionToken&&(u.headers[yf]=a.sessionToken);const d=await Pf(u,this.sha256);!((e,t)=>{e=e.toLowerCase();for(const n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1})(vf,u.headers)&&this.applyChecksum&&(u.headers[vf]=d);const p=Af(u,r,n),h=await this.getSignature(c,f,this.getSigningKey(a,s,l,i),this.createCanonicalRequest(u,p,d));return u.headers[ff]=`${wf} Credential=${a.accessKeyId}/${f}, SignedHeaders=${Df(p)}, Signature=${h}`,u}createCanonicalRequest(e,t,n){const r=Object.keys(t).sort();return`${e.method}\n${this.getCanonicalPath(e)}\n${(({query:e={}})=>{const t=[],n={};for(const r of Object.keys(e).sort()){if(r.toLowerCase()===hf)continue;t.push(r);const o=e[r];"string"==typeof o?n[r]=`${(0,Cf.i)(r)}=${(0,Cf.i)(o)}`:Array.isArray(o)&&(n[r]=o.slice(0).sort().reduce(((e,t)=>e.concat([`${(0,Cf.i)(r)}=${(0,Cf.i)(t)}`])),[]).join("&"))}return t.map((e=>n[e])).filter((e=>e)).join("&")})(e)}\n${r.map((e=>`${e}:${t[e]}`)).join("\n")}\n\n${r.join(";")}\n${n}`}async createStringToSign(e,t,n){const r=new this.sha256;r.update(n);const o=await r.digest();return`${wf}\n${e}\n${t}\n${sf(o)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const t=[];for(const n of e.split("/"))0!==n?.length&&"."!==n&&(".."===n?t.pop():t.push(n));const n=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return e}async getSignature(e,t,n,r){const o=await this.createStringToSign(e,t,r),i=new this.sha256(await n);return i.update(o),sf(await i.digest())}getSigningKey(e,t,n,r){return(async(e,t,n,r,o)=>{const i=`${n}:${r}:${o}:${sf(await If(e,t.secretAccessKey,t.accessKeyId))}:${t.sessionToken}`;if(i in _f)return _f[i];for(xf.push(i);xf.length>50;)delete _f[xf.shift()];let a=`AWS4${t.secretAccessKey}`;for(const t of[n,r,o,Ef])a=await If(e,a,t);return _f[i]=a})(this.sha256,e,n,t,r||this.service)}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")}}const Lf=e=>{const t=(n=e,(e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e)(n).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");var n;return{longDate:t,shortDate:t.slice(0,8)}},Df=e=>Object.keys(e).sort().join(";"),Mf=e=>new Date(Date.now()+e),jf=(e,t)=>{const n=Date.parse(e);return((e,t)=>Math.abs(Mf(t).getTime()-e)>=3e5)(n,t)?n-Date.now():t},Uf=e=>Jl.Z.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,Ff={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},zf="user-agent",Bf="x-amz-user-agent",qf=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Kf=([e,t])=>{const n=e.indexOf("/"),r=e.substring(0,n);let o=e.substring(n+1);return"api"===r&&(o=o.toLowerCase()),[r,o,t].filter((e=>e&&e.length>0)).map((e=>e?.replace(qf,"_"))).join("/")},Gf={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};var Hf=n(7643),Vf=n(4073);function $f(e=0){return new Promise(((t,n)=>{e&&setTimeout((()=>{const t=new Error(`Request did not complete within ${e} ms`);t.name="TimeoutError",n(t)}),e)}))}class Wf{constructor(e){"function"==typeof e?this.configProvider=e().then((e=>e||{})):(this.config=e??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(e,{abortSignal:t}={}){this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout;if(t?.aborted){const e=new Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let r=e.path;if(e.query){const t=(0,Vf.I)(e.query);t&&(r+=`?${t}`)}const{port:o,method:i}=e,a=`${e.protocol}//${e.hostname}${o?`:${o}`:""}${r}`,s={body:"GET"===i||"HEAD"===i?void 0:e.body,headers:new Headers(e.headers),method:i};"undefined"!=typeof AbortController&&(s.signal=t);const u=new Request(a,s),c=[fetch(u).then((e=>{const t=e.headers,n={};for(const e of t.entries())n[e[0]]=e[1];return void 0!==e.body?{response:new Jl.Z({headers:n,statusCode:e.status,body:e.body})}:e.blob().then((t=>({response:new Jl.Z({headers:n,statusCode:e.status,body:t})})))})),$f(n)];return t&&c.push(new Promise(((e,n)=>{t.onabort=()=>{const e=new Error("Request aborted");e.name="AbortError",n(e)}}))),Promise.race(c)}}const Yf={},Zf=new Array(64);for(let e=0,t="A".charCodeAt(0),n="Z".charCodeAt(0);e+t<=n;e++){const n=String.fromCharCode(e+t);Yf[n]=e,Zf[e]=n}for(let e=0,t="a".charCodeAt(0),n="z".charCodeAt(0);e+t<=n;e++){const n=String.fromCharCode(e+t),r=e+26;Yf[n]=r,Zf[r]=n}for(let e=0;e<10;e++){Yf[e.toString(10)]=e+52;const t=e.toString(10),n=e+52;Yf[t]=n,Zf[n]=t}Yf["+"]=62,Zf[62]="+",Yf["/"]=63,Zf[63]="/";const Jf=e=>{let t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;const n=new ArrayBuffer(t),r=new DataView(n);for(let t=0;t<e.length;t+=4){let n=0,o=0;for(let r=t,i=t+3;r<=i;r++)if("="!==e[r]){if(!(e[r]in Yf))throw new TypeError(`Invalid character ${e[r]} in base64 string.`);n|=Yf[e[r]]<<6*(i-r),o+=6}else n>>=6;const i=t/4*3;n>>=o%8;const a=Math.floor(o/8);for(let e=0;e<a;e++){const t=8*(a-e-1);r.setUint8(i+e,(n&255<<t)>>t)}}return new Uint8Array(n)};function Xf(e){let t="";for(let n=0;n<e.length;n+=3){let r=0,o=0;for(let t=n,i=Math.min(n+3,e.length);t<i;t++)r|=e[t]<<8*(i-t-1),o+=8;const i=Math.ceil(o/6);r<<=6*i-o;for(let e=1;e<=i;e++){const n=6*(i-e);t+=Zf[(r&63<<n)>>n]}t+="==".slice(0,4-i)}return t}const Qf=e=>"function"==typeof Blob&&e instanceof Blob?async function(e){const t=await function(e){return new Promise(((t,n)=>{const r=new FileReader;r.onloadend=()=>{if(2!==r.readyState)return n(new Error("Reader aborted too early"));const e=r.result??"",o=e.indexOf(","),i=o>-1?o+1:e.length;t(e.substring(i))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(e)}))}(e),n=Jf(t);return new Uint8Array(n)}(e):async function(e){let t=new Uint8Array(0);const n=e.getReader();let r=!1;for(;!r;){const{done:e,value:o}=await n.read();if(o){const e=t;t=new Uint8Array(e.length+o.length),t.set(e),t.set(o,e.length)}r=e}return t}(e),ed=e=>{if("string"==typeof e){let t=e.length;for(let n=t-1;n>=0;n--){const r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error(`Body Length computation failed for ${e}`)};var td=n(1206),nd=n.n(td);const rd=({serviceId:e,clientVersion:t})=>async()=>{const n="undefined"!=typeof window&&window?.navigator?.userAgent?nd().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",t],[`os/${n?.os?.name||"other"}`,n?.os?.version],["lang/js"],["md/browser",`${n?.browser?.name??"unknown"}_${n?.browser?.version??"unknown"}`]];return e&&r.push([`api/${e}`,t]),r};var od=n(2084);const id=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}}],"version":"1.1"}'),{partitions:ad}=id,sd=ad.find((e=>"aws"===e.id)),ud=e=>{for(const t of ad){const{regions:n,outputs:r}=t;for(const[t,o]of Object.entries(n))if(t===e)return{...r,...o}}for(const t of ad){const{regionRegex:n,outputs:r}=t;if(new RegExp(n).test(e))return{...r}}if(!sd)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...sd.outputs}},cd="endpoints";function ld(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${ld(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(ld).join(", ")})`:JSON.stringify(e,null,2)}class fd extends Error{constructor(e){super(e),this.name="EndpointError"}}const dd=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),pd=e=>dd.test(e)||e.startsWith("[")&&e.endsWith("]"),hd=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),vd=(e,t=!1)=>{if(!t)return hd.test(e);const n=e.split(".");for(const e of n)if(!vd(e))return!1;return!0},yd=(e,t=!1)=>{if(t){for(const t of e.split("."))if(!yd(t))return!1;return!0}return!(!vd(e)||e.length<3||e.length>63||e!==e.toLowerCase()||pd(e))},md=e=>{const t=e.split(":");if(t.length<6)return null;const[n,r,o,i,a,...s]=t;return"arn"!==n||""===r||""===o||""===s[0]?null:{partition:r,service:o,region:i,accountId:a,resourceId:s[0].includes("/")?s[0].split("/"):s}},gd=(e,t)=>e===t,bd=(e,t)=>(e=>{const t=e.split("."),n=[];for(const r of t){const t=r.indexOf("[");if(-1!==t){if(r.indexOf("]")!==r.length-1)throw new fd(`Path: '${e}' does not end with ']'`);const o=r.slice(t+1,-1);if(Number.isNaN(parseInt(o)))throw new fd(`Invalid array index: '${o}' in path: '${e}'`);0!==t&&n.push(r.slice(0,t)),n.push(o)}else n.push(r)}return n})(t).reduce(((n,r)=>{if("object"!=typeof n)throw new fd(`Index '${r}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]}),e),wd=e=>null!=e,Sd=e=>!e;var Ed;!function(e){e.HTTP="http",e.HTTPS="https"}(Ed||(Ed={}));const _d={[Ed.HTTP]:80,[Ed.HTTPS]:443},xd=e=>{const t=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){const{hostname:t,port:n,protocol:r="",path:o="",query:i={}}=e,a=new URL(`${r}//${t}${n?`:${n}`:""}${o}`);return a.search=Object.entries(i).map((([e,t])=>`${e}=${t}`)).join("&"),a}return new URL(e)}catch(e){return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const n=t.href,{host:r,hostname:o,pathname:i,protocol:a,search:s}=t;if(s)return null;const u=a.slice(0,-1);if(!Object.values(Ed).includes(u))return null;const c=pd(o);return{scheme:u,authority:`${r}${n.includes(`${r}:${_d[u]}`)||"string"==typeof e&&e.includes(`${r}:${_d[u]}`)?`:${_d[u]}`:""}`,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:c}},Td=(e,t)=>e===t,Id=(e,t,n,r)=>t>=n||e.length<n?null:r?e.substring(e.length-n,e.length-t):e.substring(t,n),Ad=e=>encodeURIComponent(e).replace(/[!*'()]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),Cd=(e,t)=>{const n=[],r={...t.endpointParams,...t.referenceRecord};let o=0;for(;o<e.length;){const t=e.indexOf("{",o);if(-1===t){n.push(e.slice(o));break}n.push(e.slice(o,t));const i=e.indexOf("}",t);if(-1===i){n.push(e.slice(t));break}"{"===e[t+1]&&"}"===e[i+1]&&(n.push(e.slice(t+1,i)),o=i+2);const a=e.substring(t+1,i);if(a.includes("#")){const[e,t]=a.split("#");n.push(bd(r[e],t))}else n.push(r[a]);o=i+1}return n.join("")},Pd=(e,t,n)=>{if("string"==typeof e)return Cd(e,n);if(e.fn)return Od(e,n);if(e.ref)return(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord}[e]))(e,n);throw new fd(`'${t}': ${String(e)} is not a string, function or reference.`)},Od=({fn:e,argv:t},n)=>{const r=t.map((e=>["boolean","number"].includes(typeof e)?e:Pd(e,"arg",n)));return e.split(".").reduce(((e,t)=>e[t]),o)(...r)},kd=({assign:e,...t},n)=>{if(e&&e in n.referenceRecord)throw new fd(`'${e}' is already defined in Reference Record.`);const r=Od(t,n);return n.logger?.debug?.(cd,`evaluateCondition: ${ld(t)} = ${ld(r)}`),{result:""===r||!!r,...null!=e&&{toAssign:{name:e,value:r}}}},Rd=(e=[],t)=>{const n={};for(const r of e){const{result:e,toAssign:o}=kd(r,{...t,referenceRecord:{...t.referenceRecord,...n}});if(!e)return{result:e};o&&(n[o.name]=o.value,t.logger?.debug?.(cd,`assign: ${o.name} := ${ld(o.value)}`))}return{result:!0,referenceRecord:n}},Nd=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>({...e,[n]:r.map((e=>{const r=Pd(e,"Header value entry",t);if("string"!=typeof r)throw new fd(`Header '${n}' value '${r}' is not a string`);return r}))})),{}),Ld=(e,t)=>{if(Array.isArray(e))return e.map((e=>Ld(e,t)));switch(typeof e){case"string":return Cd(e,t);case"object":if(null===e)throw new fd(`Unexpected endpoint property: ${e}`);return Dd(e,t);case"boolean":return e;default:throw new fd("Unexpected endpoint property type: "+typeof e)}},Dd=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>({...e,[n]:Ld(r,t)})),{}),Md=(e,t)=>{const n=Pd(e,"Endpoint URL",t);if("string"==typeof n)try{return new URL(n)}catch(e){throw console.error(`Failed to construct URL with ${n}`,e),e}throw new fd("Endpoint URL must be a string, got "+typeof n)},jd=(e,t)=>{const{conditions:n,endpoint:r}=e,{result:o,referenceRecord:i}=Rd(n,t);if(!o)return;const a={...t,referenceRecord:{...t.referenceRecord,...i}},{url:s,properties:u,headers:c}=r;return t.logger?.debug?.(cd,`Resolving endpoint from template: ${ld(r)}`),{...null!=c&&{headers:Nd(c,a)},...null!=u&&{properties:Dd(u,a)},url:Md(s,a)}},Ud=(e,t)=>{const{conditions:n,error:r}=e,{result:o,referenceRecord:i}=Rd(n,t);if(o)throw new fd(Pd(r,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},Fd=(e,t)=>{const{conditions:n,rules:r}=e,{result:o,referenceRecord:i}=Rd(n,t);if(o)return zd(r,{...t,referenceRecord:{...t.referenceRecord,...i}})},zd=(e,t)=>{for(const n of e)if("endpoint"===n.type){const e=jd(n,t);if(e)return e}else if("error"===n.type)Ud(n,t);else{if("tree"!==n.type)throw new fd(`Unknown endpoint rule: ${n}`);{const e=Fd(n,t);if(e)return e}}throw new fd("Rules evaluation failed")},Bd="fn",qd="argv",Kd="ref",Gd="String",Hd="PartitionResult",Vd="tree",$d="error",Wd="endpoint",Yd="getAttr",Zd="stringEquals",Jd={required:!0,default:!1,type:"Boolean"},Xd={[Kd]:"Region"},Qd={[Kd]:"Endpoint"},ep={[Bd]:"booleanEquals",[qd]:[{[Kd]:"UseFIPS"},!0]},tp={[Bd]:"booleanEquals",[qd]:[{[Kd]:"UseDualStack"},!0]},np={},rp={[Bd]:"booleanEquals",[qd]:[!0,{[Bd]:Yd,[qd]:[{[Kd]:Hd},"supportsFIPS"]}]},op={[Kd]:Hd},ip={[Bd]:"booleanEquals",[qd]:[!0,{[Bd]:Yd,[qd]:[op,"supportsDualStack"]}]},ap={url:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",properties:{},headers:{}},sp=[ep],up=[tp],cp={version:"1.0",parameters:{Region:{required:!0,type:Gd},UseDualStack:Jd,UseFIPS:Jd,Endpoint:{required:!1,type:Gd}},rules:[{conditions:[{[Bd]:"aws.partition",[qd]:[Xd],assign:Hd}],type:Vd,rules:[{conditions:[{[Bd]:"isSet",[qd]:[Qd]}],type:Vd,rules:[{conditions:sp,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:$d},{type:Vd,rules:[{conditions:up,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:$d},{endpoint:{url:Qd,properties:np,headers:np},type:Wd}]}]},{conditions:[ep,tp],type:Vd,rules:[{conditions:[rp,ip],type:Vd,rules:[{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:np,headers:np},type:Wd}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:$d}]},{conditions:sp,type:Vd,rules:[{conditions:[rp],type:Vd,rules:[{type:Vd,rules:[{conditions:[{[Bd]:Zd,[qd]:["aws-us-gov",{[Bd]:Yd,[qd]:[op,"name"]}]}],endpoint:ap,type:Wd},{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",properties:np,headers:np},type:Wd}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:$d}]},{conditions:up,type:Vd,rules:[{conditions:[ip],type:Vd,rules:[{endpoint:{url:"https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:np,headers:np},type:Wd}]},{error:"DualStack is enabled but this partition does not support DualStack",type:$d}]},{type:Vd,rules:[{conditions:[{[Bd]:Zd,[qd]:[Xd,"local"]}],endpoint:{url:"http://localhost:8000",properties:{authSchemes:[{name:"sigv4",signingRegion:"us-east-1",signingName:"dynamodb"}]},headers:np},type:Wd},{endpoint:ap,type:Wd}]}]}]},lp=(e,t={})=>((e,t)=>{const{endpointParams:n,logger:r}=t,{parameters:o,rules:i}=e;t.logger?.debug?.(cd,`Initial EndpointParams: ${ld(n)}`);const a=Object.entries(o).filter((([,e])=>null!=e.default)).map((([e,t])=>[e,t.default]));if(a.length>0)for(const[e,t]of a)n[e]=n[e]??t;const s=Object.entries(o).filter((([,e])=>e.required)).map((([e])=>e));for(const e of s)if(null==n[e])throw new fd(`Missing required parameter: '${e}'`);const u=zd(i,{endpointParams:n,logger:r,referenceRecord:{}});if(t.endpointParams?.Endpoint)try{const e=new URL(t.endpointParams.Endpoint),{protocol:n,port:r}=e;u.url.protocol=n,u.url.port=r}catch(e){}return t.logger?.debug?.(cd,`Resolved endpoint: ${ld(u)}`),u})(cp,{endpointParams:e,logger:t.logger}),fp=["in-region","cross-region","mobile","standard","legacy"],dp=e=>{const t=(({defaultsMode:e}={})=>rf((async()=>{const t="function"==typeof e?await e():e;switch(t?.toLowerCase()){case"auto":return Promise.resolve((()=>{const e=("undefined"!=typeof window&&window?.navigator?.userAgent?nd().parse(window.navigator.userAgent):void 0)?.platform?.type;return"tablet"===e||"mobile"===e})()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${fp.join(", ")}, got ${t}`)}})))(e),n=()=>t().then(K),r=(e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??Jf,base64Encoder:e?.base64Encoder??Xf,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??lp,logger:e?.logger??new m,serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??y}))(e);return{...r,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??ed,credentialDefaultProvider:e?.credentialDefaultProvider??(e=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:e?.defaultUserAgentProvider??rd({serviceId:r.serviceId,clientVersion:"3.245.0"}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??(()=>Promise.resolve(void 0)),maxAttempts:e?.maxAttempts??3,region:e?.region??("Region is missing",()=>Promise.reject("Region is missing")),requestHandler:e?.requestHandler??new Wf(n),retryMode:e?.retryMode??(async()=>(await n()).retryMode||"STANDARD"),sha256:e?.sha256??Hf.Sha256,streamCollector:e?.streamCollector??Qf,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(!1)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(!1)),utf8Decoder:e?.utf8Decoder??od.fromUtf8,utf8Encoder:e?.utf8Encoder??od.toUtf8}};class pp extends S{constructor(e){var t;const n=(e=>{const{region:t,useFipsEndpoint:n}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if("string"==typeof t)return Ol(t);const e=await t();return Ol(e)},useFipsEndpoint:async()=>{const e="string"==typeof t?t:await t();return!!Pl(e)||("function"!=typeof n?Promise.resolve(!!n):n())}}})((t=dp(e),{...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"dynamodb"})),r=(e=>{const{retryStrategy:t}=e,n=v(e.maxAttempts??3);return{...e,maxAttempts:n,retryStrategy:async()=>t||(await v(e.retryMode)()===zl.ADAPTIVE?new Zl(n):new Yl(n))}})((e=>{const t=e.tls??!0,{endpoint:n}=e,r=null!=n?async()=>(e=>"object"==typeof e?"url"in e?y(e.url):e:y(e))(await v(n)()):void 0,o=!!n;return{...e,endpoint:r,tls:t,isCustomEndpoint:o,useDualstackEndpoint:v(e.useDualstackEndpoint??!1),useFipsEndpoint:v(e.useFipsEndpoint??!1)}})(n)),o=(e=>{const t=e.credentials?"function"==typeof(i=e.credentials)?rf(i,(e=>void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5),(e=>void 0!==e.expiration)):v(i):e.credentialDefaultProvider(e),{signingEscapePath:n=!0,systemClockOffset:r=e.systemClockOffset||0,sha256:o}=e;var i;let a;return a=e.signer?v(e.signer):e.regionInfoProvider?()=>v(e.region)().then((async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t])).then((([r,i])=>{const{signingRegion:a,signingService:s}=r;e.signingRegion=e.signingRegion||a||i,e.signingName=e.signingName||s||e.serviceId;const u={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:n};return new(e.signerConstructor||Nf)(u)})):async r=>{const i=(r=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await v(e.region)(),properties:{}},r)).signingRegion,a=r.signingName;e.signingRegion=e.signingRegion||i,e.signingName=e.signingName||a||e.serviceId;const s={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:n};return new(e.signerConstructor||Nf)(s)},{...e,systemClockOffset:r,signingEscapePath:n,credentials:t,signer:a}})(r);var i;const a=((e,{endpointDiscoveryCommandCtor:t})=>({...e,endpointDiscoveryCommandCtor:t,endpointCache:new Dl(e.endpointCacheSize??1e3),endpointDiscoveryEnabled:void 0!==e.endpointDiscoveryEnabled?()=>Promise.resolve(e.endpointDiscoveryEnabled):e.endpointDiscoveryEnabledProvider,isClientEndpointDiscoveryEnabled:void 0!==e.endpointDiscoveryEnabled}))((i=o,{...i,customUserAgent:"string"==typeof i.customUserAgent?[[i.customUserAgent]]:i.customUserAgent}),{endpointDiscoveryCommandCtor:Bc});var s;super(a),this.config=a,this.middlewareStack.use((e=>({applyToStack:t=>{t.add((e=>(t,n)=>async r=>{let o=await e.retryStrategy();const i=await e.maxAttempts();if(!(e=>void 0!==e.acquireInitialRetryToken&&void 0!==e.refreshRetryTokenForRetry&&void 0!==e.recordSuccess)(o))return o?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,r);{let e=await o.acquireInitialRetryToken(n.partition_id),s=new Error,u=0,c=0;const{request:l}=r;for(Jo.isInstance(l)&&(l.headers["amz-sdk-invocation-id"]=(0,Xo.Z)());;)try{Jo.isInstance(l)&&(l.headers["amz-sdk-request"]=`attempt=${u+1}; max=${i}`);const{response:n,output:a}=await t(r);return o.recordSuccess(e),a.$metadata.attempts=u+1,a.$metadata.totalRetryDelay=c,{response:n,output:a}}catch(t){const n=Xl(t);s=(a=t)instanceof Error?a:a instanceof Object?Object.assign(new Error,a):"string"==typeof a?new Error(a):new Error(`AWS SDK error wrapper for ${a}`);try{e=await o.refreshRetryTokenForRetry(e,n)}catch(e){throw s.$metadata||(s.$metadata={}),s.$metadata.attempts=u+1,s.$metadata.totalRetryDelay=c,s}u=e.getRetryCount();const r=e.getRetryDelay();c+=r,await new Promise((e=>setTimeout(e,r)))}}var a})(e),ef)}}))(this.config)),this.middlewareStack.use((e=>({applyToStack:t=>{var n;t.add((n=e.bodyLengthChecker,e=>async t=>{const r=t.request;if(Jo.isInstance(r)){const{body:e,headers:t}=r;if(e&&-1===Object.keys(t).map((e=>e.toLowerCase())).indexOf(kl))try{const t=n(e);r.headers={...r.headers,[kl]:String(t)}}catch(e){}}return e({...t,request:r})}),Rl)}}))(this.config)),this.middlewareStack.use((e=>({applyToStack:t=>{t.add((e=>t=>async n=>{if(!Jo.isInstance(n.request))return t(n);const{request:r}=n,{handlerProtocol:o=""}=e.requestHandler.metadata||{};return o.indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),t(n)})(e),Ml)}}))(this.config)),this.middlewareStack.use((this.config,{applyToStack:e=>{e.add(((e,t)=>async n=>{const r=await e(n),{clientName:o,commandName:i,logger:a,inputFilterSensitiveLog:s,outputFilterSensitiveLog:u,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:f}=c;if(!a)return r;if("function"==typeof a.info){const{$metadata:e,...t}=r.output;a.info({clientName:o,commandName:i,input:(l??s)(n.input),output:(f??u)(t),metadata:e})}return r}),jl)}})),this.middlewareStack.use((e=>({applyToStack:t=>{t.add((e=>t=>async n=>{const{request:r}=n;if(!Jo.isInstance(r)||"node"!==e.runtime||r.headers.hasOwnProperty(Ul))return t(n);const o=process.env.AWS_LAMBDA_FUNCTION_NAME,i=process.env._X_AMZN_TRACE_ID,a=e=>"string"==typeof e&&e.length>0;return a(o)&&a(i)&&(r.headers[Ul]=i),t({...n,request:r})})(e),Fl)}}))(this.config)),this.middlewareStack.use((e=>({applyToStack:t=>{t.addRelativeTo((e=>(t,n)=>async function(r){if(!Jo.isInstance(r.request))return t(r);const o=n.endpointV2?.properties?.authSchemes?.[0],i="sigv4a"===o?.name?o?.signingRegionSet?.join(","):void 0,a=await e.signer(o),s=await t({...r,request:await a.sign(r.request,{signingDate:Mf(e.systemClockOffset),signingRegion:i||n.signing_region,signingService:n.signing_service})}).catch((t=>{const n=t.ServerTime??Uf(t.$response);throw n&&(e.systemClockOffset=jf(n,e.systemClockOffset)),t})),u=Uf(s.response);return u&&(e.systemClockOffset=jf(u,e.systemClockOffset)),s})(e),Ff)}}))(this.config)),this.middlewareStack.use((s=this.config,{applyToStack:e=>{var t;e.add((t=s,(e,n)=>async r=>{const{request:o}=r;if(!Jo.isInstance(o))return e(r);const{headers:i}=o,a=n?.userAgent?.map(Kf)||[],s=(await t.defaultUserAgentProvider()).map(Kf),u=t?.customUserAgent?.map(Kf)||[],c=[...s,...a,...u].join(" "),l=[...s.filter((e=>e.startsWith("aws-sdk-"))),...u].join(" ");return"browser"!==t.runtime?(l&&(i[Bf]=i[Bf]?`${i[zf]} ${l}`:l),i[zf]=c):i[Bf]=c,e({...r,request:o})}),Gf)}}))}destroy(){super.destroy()}}class hp extends pp{batchExecuteStatement(e,t,n){const r=new Pc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}batchGetItem(e,t,n){const r=new Oc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}batchWriteItem(e,t,n){const r=new kc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}createBackup(e,t,n){const r=new Rc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}createGlobalTable(e,t,n){const r=new Nc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}createTable(e,t,n){const r=new Lc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}deleteBackup(e,t,n){const r=new Dc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}deleteItem(e,t,n){const r=new Mc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}deleteTable(e,t,n){const r=new jc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeBackup(e,t,n){const r=new Uc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeContinuousBackups(e,t,n){const r=new Fc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeContributorInsights(e,t,n){const r=new zc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeEndpoints(e,t,n){const r=new Bc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeExport(e,t,n){const r=new qc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeGlobalTable(e,t,n){const r=new Kc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeGlobalTableSettings(e,t,n){const r=new Gc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeImport(e,t,n){const r=new Hc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeKinesisStreamingDestination(e,t,n){const r=new Vc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeLimits(e,t,n){const r=new $c(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeTable(e,t,n){const r=new Wc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeTableReplicaAutoScaling(e,t,n){const r=new Yc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}describeTimeToLive(e,t,n){const r=new Zc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}disableKinesisStreamingDestination(e,t,n){const r=new Jc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}enableKinesisStreamingDestination(e,t,n){const r=new Xc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}executeStatement(e,t,n){const r=new Qc(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}executeTransaction(e,t,n){const r=new el(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}exportTableToPointInTime(e,t,n){const r=new tl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}getItem(e,t,n){const r=new nl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}importTable(e,t,n){const r=new rl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}listBackups(e,t,n){const r=new ol(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}listContributorInsights(e,t,n){const r=new il(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}listExports(e,t,n){const r=new al(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}listGlobalTables(e,t,n){const r=new sl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}listImports(e,t,n){const r=new ul(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}listTables(e,t,n){const r=new cl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}listTagsOfResource(e,t,n){const r=new ll(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}putItem(e,t,n){const r=new fl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}query(e,t,n){const r=new dl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}restoreTableFromBackup(e,t,n){const r=new pl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}restoreTableToPointInTime(e,t,n){const r=new hl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}scan(e,t,n){const r=new vl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}tagResource(e,t,n){const r=new yl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}transactGetItems(e,t,n){const r=new ml(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}transactWriteItems(e,t,n){const r=new gl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}untagResource(e,t,n){const r=new bl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}updateContinuousBackups(e,t,n){const r=new wl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}updateContributorInsights(e,t,n){const r=new Sl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}updateGlobalTable(e,t,n){const r=new El(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}updateGlobalTableSettings(e,t,n){const r=new _l(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}updateItem(e,t,n){const r=new xl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}updateTable(e,t,n){const r=new Tl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}updateTableReplicaAutoScaling(e,t,n){const r=new Il(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}updateTimeToLive(e,t,n){const r=new Al(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}}const vp=async(e,t,...n)=>await e.send(new il(t),...n),yp=async(e,t,...n)=>await e.listContributorInsights(t,...n);async function*mp(e,t,...n){let r,o=e.startingToken||void 0,i=!0;for(;i;){if(t.NextToken=o,t.MaxResults=e.pageSize,e.client instanceof hp)r=await yp(e.client,t,...n);else{if(!(e.client instanceof pp))throw new Error("Invalid client, expected DynamoDB | DynamoDBClient");r=await vp(e.client,t,...n)}yield r;const a=o;o=r.NextToken,i=!(!o||e.stopOnSameToken&&o===a)}}const gp=async(e,t,...n)=>await e.send(new al(t),...n),bp=async(e,t,...n)=>await e.listExports(t,...n);async function*wp(e,t,...n){let r,o=e.startingToken||void 0,i=!0;for(;i;){if(t.NextToken=o,t.MaxResults=e.pageSize,e.client instanceof hp)r=await bp(e.client,t,...n);else{if(!(e.client instanceof pp))throw new Error("Invalid client, expected DynamoDB | DynamoDBClient");r=await gp(e.client,t,...n)}yield r;const a=o;o=r.NextToken,i=!(!o||e.stopOnSameToken&&o===a)}}const Sp=async(e,t,...n)=>await e.send(new ul(t),...n),Ep=async(e,t,...n)=>await e.listImports(t,...n);async function*_p(e,t,...n){let r,o=e.startingToken||void 0,i=!0;for(;i;){if(t.NextToken=o,t.PageSize=e.pageSize,e.client instanceof hp)r=await Ep(e.client,t,...n);else{if(!(e.client instanceof pp))throw new Error("Invalid client, expected DynamoDB | DynamoDBClient");r=await Sp(e.client,t,...n)}yield r;const a=o;o=r.NextToken,i=!(!o||e.stopOnSameToken&&o===a)}}const xp=async(e,t,...n)=>await e.send(new cl(t),...n),Tp=async(e,t,...n)=>await e.listTables(t,...n);async function*Ip(e,t,...n){let r,o=e.startingToken||void 0,i=!0;for(;i;){if(t.ExclusiveStartTableName=o,t.Limit=e.pageSize,e.client instanceof hp)r=await Tp(e.client,t,...n);else{if(!(e.client instanceof pp))throw new Error("Invalid client, expected DynamoDB | DynamoDBClient");r=await xp(e.client,t,...n)}yield r;const a=o;o=r.LastEvaluatedTableName,i=!(!o||e.stopOnSameToken&&o===a)}}const Ap=async(e,t,...n)=>await e.send(new dl(t),...n),Cp=async(e,t,...n)=>await e.query(t,...n);async function*Pp(e,t,...n){let r,o=e.startingToken||void 0,i=!0;for(;i;){if(t.ExclusiveStartKey=o,t.Limit=e.pageSize,e.client instanceof hp)r=await Cp(e.client,t,...n);else{if(!(e.client instanceof pp))throw new Error("Invalid client, expected DynamoDB | DynamoDBClient");r=await Ap(e.client,t,...n)}yield r;const a=o;o=r.LastEvaluatedKey,i=!(!o||e.stopOnSameToken&&o===a)}}const Op=async(e,t,...n)=>await e.send(new vl(t),...n),kp=async(e,t,...n)=>await e.scan(t,...n);async function*Rp(e,t,...n){let r,o=e.startingToken||void 0,i=!0;for(;i;){if(t.ExclusiveStartKey=o,t.Limit=e.pageSize,e.client instanceof hp)r=await kp(e.client,t,...n);else{if(!(e.client instanceof pp))throw new Error("Invalid client, expected DynamoDB | DynamoDBClient");r=await Op(e.client,t,...n)}yield r;const a=o;o=r.LastEvaluatedKey,i=!(!o||e.stopOnSameToken&&o===a)}}const Np=e=>new Promise((t=>setTimeout(t,1e3*e))),Lp={minDelay:2,maxDelay:120};var Dp;!function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"}(Dp||(Dp={}));const Mp=e=>{if(e.state===Dp.ABORTED){const t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw t.name="AbortError",t}if(e.state===Dp.TIMEOUT){const t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw t.name="TimeoutError",t}if(e.state!==Dp.SUCCESS)throw new Error(`${JSON.stringify({result:e})}`);return e},jp=(e,t,n,r)=>r>n?t:Up(e,e*2**(r-1)),Up=(e,t)=>e+Math.random()*(t-e),Fp=async({minDelay:e,maxDelay:t,maxWaitTime:n,abortController:r,client:o,abortSignal:i},a,s)=>{const{state:u,reason:c}=await s(o,a);if(u!==Dp.RETRY)return{state:u,reason:c};let l=1;const f=Date.now()+1e3*n,d=Math.log(t/e)/Math.log(2)+1;for(;;){if(r?.signal?.aborted||i?.aborted)return{state:Dp.ABORTED};const n=jp(e,t,d,l);if(Date.now()+1e3*n>f)return{state:Dp.TIMEOUT};await Np(n);const{state:u,reason:c}=await s(o,a);if(u!==Dp.RETRY)return{state:u,reason:c};l+=1}},zp=async e=>new Promise((t=>{e.onabort=()=>t({state:Dp.ABORTED})})),Bp=async(e,t,n)=>{const r={...Lp,...e};(e=>{if(e.maxWaitTime<1)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<1)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<1)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)})(r);const o=[Fp(r,t,n)];return e.abortController&&o.push(zp(e.abortController.signal)),e.abortSignal&&o.push(zp(e.abortSignal)),Promise.race(o)},qp=async(e,t)=>{let n;try{const r=await e.send(new Wc(t));n=r;try{if("ACTIVE"===r.Table.TableStatus)return{state:Dp.SUCCESS,reason:n}}catch(e){}}catch(e){if(n=e,e.name&&"ResourceNotFoundException"==e.name)return{state:Dp.RETRY,reason:n}}return{state:Dp.RETRY,reason:n}},Kp=async(e,t)=>Bp({minDelay:20,maxDelay:120,...e},t,qp),Gp=async(e,t)=>{const n=await Bp({minDelay:20,maxDelay:120,...e},t,qp);return Mp(n)},Hp=async(e,t)=>{let n;try{n=await e.send(new Wc(t))}catch(e){if(n=e,e.name&&"ResourceNotFoundException"==e.name)return{state:Dp.SUCCESS,reason:n}}return{state:Dp.RETRY,reason:n}},Vp=async(e,t)=>Bp({minDelay:20,maxDelay:120,...e},t,Hp),$p=async(e,t)=>{const n=await Bp({minDelay:20,maxDelay:120,...e},t,Hp);return Mp(n)}},5290:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7863:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7479:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1682:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},87:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,o=t.subtle;return n.map((function(e){return o[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},2998:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8358);r.__exportStar(n(5290),t),r.__exportStar(n(7863),t),r.__exportStar(n(7479),t),r.__exportStar(n(1682),t),r.__exportStar(n(87),t)},8358:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},4663:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},4703:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(1915),o=n(9541),i=n(9115),a=n(3180),s=n(2998),u=n(6495),c=function(){function e(e){(0,a.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new o.Sha256(e):(0,s.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new i.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},1915:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(757),o=n(4663),i=n(9778),a=n(6495),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",u(e),o.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(o.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?(0,i.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},4298:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(1366).__exportStar)(n(4703),t);var r=n(1915);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var o=n(9541);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return o.Sha256}})},757:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},9541:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(8033),o=n(4663),i=n(6495),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,i.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),o.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,i.locateWindow)().crypto.subtle.sign(o.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(o.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,i.locateWindow)().crypto.subtle.digest(o.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},1366:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(2186),o=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var o=this.bufferLength;o<r.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<r.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(r.DIGEST_LENGTH);for(o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],p=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,h=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(p+this.temp[f-7]|0)+(h+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;l=c,c=u,u=s,s=a+v|0,a=i,i=o,o=n,n=v+y|0}t[0]+=n,t[1]+=o,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=o},2186:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},9115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(2512).__exportStar)(n(7277),t)},7277:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(2512),o=n(2186),i=n(6826),a=n(8033),s=function(){function e(e){if(this.hash=new i.RawSha256,e){this.outer=new i.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>o.BLOCK_SIZE){var n=new i.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(o.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(o.BLOCK_SIZE);n.set(t);for(var r=0;r<o.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},2512:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},3180:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3587).__exportStar(n(7426),t)},7426:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(3587),o=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function i(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&o.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!i(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=i,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},3587:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},9071:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(9778),o="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},8033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(9071);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var o=n(1404);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var i=n(8963);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var a=n(8147);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},1404:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},8963:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},8147:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},9778:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>o});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},o=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},5477:(e,t,n)=>{var r=n(7891),o=n(8163),i=o;i.v1=r,i.v4=o,e.exports=i},628:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},9566:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},7891:(e,t,n)=>{var r,o,i=n(9566),a=n(628),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=h-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,o=d;var m=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=m>>>24&255,l[c++]=m>>>16&255,l[c++]=m>>>8&255,l[c++]=255&m;var g=h/4294967296*1e4&268435455;l[c++]=g>>>8&255,l[c++]=255&g,l[c++]=g>>>24&15|16,l[c++]=g>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},8163:(e,t,n)=>{var r=n(9566),o=n(628);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},4265:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},317:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4894:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5065:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3270:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,o=t.subtle;return n.map((function(e){return o[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},810:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4289);r.__exportStar(n(4265),t),r.__exportStar(n(317),t),r.__exportStar(n(4894),t),r.__exportStar(n(5065),t),r.__exportStar(n(3270),t)},4289:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},54:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},9957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(6808),o=n(5208),i=n(3440),a=n(5942),s=n(810),u=n(6495),c=function(){function e(e){(0,a.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new o.Sha256(e):(0,s.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new i.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},6808:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(4984),o=n(54),i=n(4190),a=n(6495),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",u(e),o.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(o.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?(0,i.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},9594:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(5726).__exportStar)(n(9957),t);var r=n(6808);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var o=n(5208);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return o.Sha256}})},4984:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},5208:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(8401),o=n(54),i=n(6495),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,i.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),o.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,i.locateWindow)().crypto.subtle.sign(o.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(o.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,i.locateWindow)().crypto.subtle.digest(o.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},5726:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},8439:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(5080),o=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var o=this.bufferLength;o<r.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<r.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(r.DIGEST_LENGTH);for(o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],p=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,h=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(p+this.temp[f-7]|0)+(h+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;l=c,c=u,u=s,s=a+v|0,a=i,i=o,o=n,n=v+y|0}t[0]+=n,t[1]+=o,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=o},5080:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},3440:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(3152).__exportStar)(n(4914),t)},4914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(3152),o=n(5080),i=n(8439),a=n(8401),s=function(){function e(e){if(this.hash=new i.RawSha256,e){this.outer=new i.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>o.BLOCK_SIZE){var n=new i.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(o.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(o.BLOCK_SIZE);n.set(t);for(var r=0;r<o.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},3152:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},5942:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1174).__exportStar(n(3882),t)},3882:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(1174),o=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function i(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&o.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!i(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=i,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},1174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},1136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(4190),o="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},8401:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(1136);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var o=n(1010);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var i=n(1902);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var a=n(3461);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},1010:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},1902:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},3461:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},4190:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>o});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},o=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},9263:(e,t,n)=>{var r=n(8018),o=n(4689),i=o;i.v1=r,i.v4=o,e.exports=i},1142:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},6602:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},8018:(e,t,n)=>{var r,o,i=n(6602),a=n(1142),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=h-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,o=d;var m=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=m>>>24&255,l[c++]=m>>>16&255,l[c++]=m>>>8&255,l[c++]=255&m;var g=h/4294967296*1e4&268435455;l[c++]=g>>>8&255,l[c++]=255&g,l[c++]=g>>>24&15|16,l[c++]=g>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},4689:(e,t,n)=>{var r=n(6602),o=n(1142);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},1244:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3006:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3392:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},832:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5173:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,o=t.subtle;return n.map((function(e){return o[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},6113:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6244);r.__exportStar(n(1244),t),r.__exportStar(n(3006),t),r.__exportStar(n(3392),t),r.__exportStar(n(832),t),r.__exportStar(n(5173),t)},6244:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6961:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},7716:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(9924),o=n(5286),i=n(2005),a=n(3806),s=n(6113),u=n(6495),c=function(){function e(e){(0,a.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new o.Sha256(e):(0,s.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new i.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},9924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(3888),o=n(6961),i=n(2109),a=n(6495),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",u(e),o.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(o.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?(0,i.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},4199:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(7093).__exportStar)(n(7716),t);var r=n(9924);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var o=n(5286);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return o.Sha256}})},3888:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},5286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(229),o=n(6961),i=n(6495),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,i.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),o.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,i.locateWindow)().crypto.subtle.sign(o.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(o.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,i.locateWindow)().crypto.subtle.digest(o.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},7093:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},8101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(9221),o=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var o=this.bufferLength;o<r.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<r.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(r.DIGEST_LENGTH);for(o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],p=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,h=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(p+this.temp[f-7]|0)+(h+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;l=c,c=u,u=s,s=a+v|0,a=i,i=o,o=n,n=v+y|0}t[0]+=n,t[1]+=o,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=o},9221:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},2005:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(8293).__exportStar)(n(8406),t)},8406:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(8293),o=n(9221),i=n(8101),a=n(229),s=function(){function e(e){if(this.hash=new i.RawSha256,e){this.outer=new i.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>o.BLOCK_SIZE){var n=new i.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(o.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(o.BLOCK_SIZE);n.set(t);for(var r=0;r<o.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},8293:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},3806:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(797).__exportStar(n(6353),t)},6353:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(797),o=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function i(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&o.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!i(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=i,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},797:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},8781:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(2109),o="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},229:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(8781);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var o=n(6870);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var i=n(9484);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var a=n(1315);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},6870:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},9484:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},1315:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},2109:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>o});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},o=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},7686:(e,t,n)=>{var r=n(2529),o=n(3139),i=o;i.v1=r,i.v4=o,e.exports=i},7882:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},9159:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},2529:(e,t,n)=>{var r,o,i=n(9159),a=n(7882),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=h-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,o=d;var m=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=m>>>24&255,l[c++]=m>>>16&255,l[c++]=m>>>8&255,l[c++]=255&m;var g=h/4294967296*1e4&268435455;l[c++]=g>>>8&255,l[c++]=255&g,l[c++]=g>>>24&15|16,l[c++]=g>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},3139:(e,t,n)=>{var r=n(9159),o=n(7882);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},2465:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3058:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2137:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5826:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5431:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,o=t.subtle;return n.map((function(e){return o[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},6857:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3850);r.__exportStar(n(2465),t),r.__exportStar(n(3058),t),r.__exportStar(n(2137),t),r.__exportStar(n(5826),t),r.__exportStar(n(5431),t)},3850:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},3443:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},9743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(2539),o=n(4798),i=n(1473),a=n(3380),s=n(6857),u=n(6495),c=function(){function e(e){(0,a.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new o.Sha256(e):(0,s.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new i.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},2539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(9092),o=n(3443),i=n(8067),a=n(6495),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",u(e),o.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(o.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?(0,i.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},4391:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(6090).__exportStar)(n(9743),t);var r=n(2539);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var o=n(4798);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return o.Sha256}})},9092:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},4798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(8498),o=n(3443),i=n(6495),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,i.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),o.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,i.locateWindow)().crypto.subtle.sign(o.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(o.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,i.locateWindow)().crypto.subtle.digest(o.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},6090:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},799:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(9138),o=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var o=this.bufferLength;o<r.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<r.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(r.DIGEST_LENGTH);for(o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],p=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,h=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(p+this.temp[f-7]|0)+(h+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;l=c,c=u,u=s,s=a+v|0,a=i,i=o,o=n,n=v+y|0}t[0]+=n,t[1]+=o,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=o},9138:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},1473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(6021).__exportStar)(n(5179),t)},5179:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(6021),o=n(9138),i=n(799),a=n(8498),s=function(){function e(e){if(this.hash=new i.RawSha256,e){this.outer=new i.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>o.BLOCK_SIZE){var n=new i.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(o.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(o.BLOCK_SIZE);n.set(t);for(var r=0;r<o.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},6021:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},3380:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(4205).__exportStar(n(7237),t)},7237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(4205),o=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function i(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&o.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!i(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=i,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},4205:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},1623:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(8067),o="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},8498:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(1623);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var o=n(7850);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var i=n(2861);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var a=n(6756);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},7850:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},2861:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},6756:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},8067:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>o});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},o=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},9755:(e,t,n)=>{var r=n(155),o=n(9668),i=o;i.v1=r,i.v4=o,e.exports=i},9435:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},8695:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},155:(e,t,n)=>{var r,o,i=n(8695),a=n(9435),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=h-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,o=d;var m=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=m>>>24&255,l[c++]=m>>>16&255,l[c++]=m>>>8&255,l[c++]=255&m;var g=h/4294967296*1e4&268435455;l[c++]=g>>>8&255,l[c++]=255&g,l[c++]=g>>>24&15|16,l[c++]=g>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},9668:(e,t,n)=>{var r=n(8695),o=n(9435);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},7097:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2489:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1207:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7794:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2319:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,o=t.subtle;return n.map((function(e){return o[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},3323:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3705);r.__exportStar(n(7097),t),r.__exportStar(n(2489),t),r.__exportStar(n(1207),t),r.__exportStar(n(7794),t),r.__exportStar(n(2319),t)},3705:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},8766:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},4331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(6111),o=n(3841),i=n(6493),a=n(8976),s=n(3323),u=n(6495),c=function(){function e(e){(0,a.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new o.Sha256(e):(0,s.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new i.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},6111:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(6289),o=n(8766),i=n(1545),a=n(6495),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",u(e),o.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(o.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?(0,i.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},8515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(3034).__exportStar)(n(4331),t);var r=n(6111);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var o=n(3841);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return o.Sha256}})},6289:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},3841:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(9797),o=n(8766),i=n(6495),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,i.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),o.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,i.locateWindow)().crypto.subtle.sign(o.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(o.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,i.locateWindow)().crypto.subtle.digest(o.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},3034:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},9013:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(3136),o=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var o=this.bufferLength;o<r.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<r.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(r.DIGEST_LENGTH);for(o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],p=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,h=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(p+this.temp[f-7]|0)+(h+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;l=c,c=u,u=s,s=a+v|0,a=i,i=o,o=n,n=v+y|0}t[0]+=n,t[1]+=o,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=o},3136:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},6493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(2170).__exportStar)(n(9804),t)},9804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(2170),o=n(3136),i=n(9013),a=n(9797),s=function(){function e(e){if(this.hash=new i.RawSha256,e){this.outer=new i.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>o.BLOCK_SIZE){var n=new i.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(o.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(o.BLOCK_SIZE);n.set(t);for(var r=0;r<o.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},2170:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},8976:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7379).__exportStar(n(7934),t)},7934:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(7379),o=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function i(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&o.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!i(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=i,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},7379:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},4403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(1545),o="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},9797:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(4403);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var o=n(6712);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var i=n(6854);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var a=n(8510);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},6712:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},6854:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},8510:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},1545:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>o});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},o=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},3138:(e,t,n)=>{"use strict";const r=n(3691).buildOptions,o={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},i=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor","rootNodeName"];function a(e){this.options=r(e,o,i),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=v),this.options.cdataTagName?this.isCDATA=y:this.isCDATA=function(){return!1},this.replaceCDATAstr=u,this.replaceCDATAarr=c,this.processTextOrObjNode=s,this.options.format?(this.indentate=h,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=p,this.buildObjNode=f):(this.buildTextNode=d,this.buildObjNode=l),this.buildTextValNode=d,this.buildObjectNode=l}function s(e,t,n){const r=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextNode(r.val,t,r.attrStr,n):this.buildObjNode(r.val,t,r.attrStr,n)}function u(e,t){return e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function c(e,t){if(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let n in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[n]+"]]>");return e+this.newLine}function l(e,t,n,r){return n&&-1===e.indexOf("<")?this.indentate(r)+"<"+t+n+">"+e+"</"+t+this.tagEndChar:this.indentate(r)+"<"+t+n+this.tagEndChar+e+this.indentate(r)+"</"+t+this.tagEndChar}function f(e,t,n,r){return""!==e?this.buildObjectNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function d(e,t,n,r){return this.indentate(r)+"<"+t+n+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function p(e,t,n,r){return""!==e?this.buildTextValNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function h(e){return this.options.indentBy.repeat(e)}function v(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}function y(e){return e===this.options.cdataTagName}a.prototype.parse=function(e){return Array.isArray(e)&&this.options.rootNodeName&&this.options.rootNodeName.length>1&&(e={[this.options.rootNodeName]:e}),this.j2x(e,0).val},a.prototype.j2x=function(e,t){let n="",r="";for(let o in e)if(void 0===e[o]);else if(null===e[o])r+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)r+=this.buildTextNode(e[o],o,"",t);else if("object"!=typeof e[o]){const i=this.isAttribute(o);i?n+=" "+i+'="'+this.options.attrValueProcessor(""+e[o])+'"':this.isCDATA(o)?e[this.options.textNodeName]?r+=this.replaceCDATAstr(e[this.options.textNodeName],e[o]):r+=this.replaceCDATAstr("",e[o]):o===this.options.textNodeName?e[this.options.cdataTagName]||(r+=this.options.tagValueProcessor(""+e[o])):r+=this.buildTextNode(e[o],o,"",t)}else if(Array.isArray(e[o]))if(this.isCDATA(o))r+=this.indentate(t),e[this.options.textNodeName]?r+=this.replaceCDATAarr(e[this.options.textNodeName],e[o]):r+=this.replaceCDATAarr("",e[o]);else{const n=e[o].length;for(let i=0;i<n;i++){const n=e[o][i];void 0===n||(r+=null===n?this.indentate(t)+"<"+o+"/"+this.tagEndChar:"object"==typeof n?this.processTextOrObjNode(n,o,t):this.buildTextNode(n,o,"",t))}}else if(this.options.attrNodeName&&o===this.options.attrNodeName){const t=Object.keys(e[o]),r=t.length;for(let i=0;i<r;i++)n+=" "+t[i]+'="'+this.options.attrValueProcessor(""+e[o][t[i]])+'"'}else r+=this.processTextOrObjNode(e[o],o,t);return{attrStr:n,val:r}},e.exports=a},2979:(e,t,n)=>{"use strict";const r=function(e){return String.fromCharCode(e)},o={nilChar:r(176),missingChar:r(201),nilPremitive:r(175),missingPremitive:r(200),emptyChar:r(178),emptyValue:r(177),boundryChar:r(179),objStart:r(198),arrStart:r(204),arrayEnd:r(185)},i=[o.nilChar,o.nilPremitive,o.missingChar,o.missingPremitive,o.boundryChar,o.emptyChar,o.emptyValue,o.arrayEnd,o.objStart,o.arrStart],a=function(e,t,n){if("string"==typeof t)return e&&e[0]&&void 0!==e[0].val?s(e[0].val,t):s(e,t);{const i=void 0===(r=e)?o.missingChar:null===r?o.nilChar:!(r.child&&0===Object.keys(r.child).length&&(!r.attrsMap||0===Object.keys(r.attrsMap).length))||o.emptyChar;if(!0===i){let r="";if(Array.isArray(t)){r+=o.arrStart;const i=t[0],c=e.length;if("string"==typeof i)for(let t=0;t<c;t++){const n=s(e[t].val,i);r=u(r,n)}else for(let t=0;t<c;t++){const o=a(e[t],i,n);r=u(r,o)}r+=o.arrayEnd}else{r+=o.objStart;const i=Object.keys(t);Array.isArray(e)&&(e=e[0]);for(let o in i){const s=i[o];let c;c=!n.ignoreAttributes&&e.attrsMap&&e.attrsMap[s]?a(e.attrsMap[s],t[s],n):s===n.textNodeName?a(e.val,t[s],n):a(e.child[s],t[s],n),r=u(r,c)}}return r}return i}var r},s=function(e){switch(e){case void 0:return o.missingPremitive;case null:return o.nilPremitive;case"":return o.emptyValue;default:return e}},u=function(e,t){return c(t[0])||c(e[e.length-1])||(e+=o.boundryChar),e+t},c=function(e){return-1!==i.indexOf(e)},l=n(6139),f=n(3691).buildOptions;t.convert2nimn=function(e,t,n){return n=f(n,l.defaultOptions,l.props),a(e,t,n)}},5850:(e,t,n)=>{"use strict";const r=n(3691),o=function(e,t,n){const i={};if(!t.alwaysCreateTextNode&&(!e.child||r.isEmptyObject(e.child))&&(!e.attrsMap||r.isEmptyObject(e.attrsMap)))return r.isExist(e.val)?e.val:"";if(r.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)){const o=r.isTagNameInArrayMode(e.tagname,t.arrayMode,n);i[t.textNodeName]=o?[e.val]:e.val}r.merge(i,e.attrsMap,t.arrayMode);const a=Object.keys(e.child);for(let s=0;s<a.length;s++){const u=a[s];if(e.child[u]&&e.child[u].length>1){i[u]=[];for(let n in e.child[u])e.child[u].hasOwnProperty(n)&&i[u].push(o(e.child[u][n],t,u))}else{const a=o(e.child[u][0],t,u),s=!0===t.arrayMode&&"object"==typeof a||r.isTagNameInArrayMode(u,t.arrayMode,n);i[u]=s?[a]:a}}return i};t.convertToJson=o},248:(e,t,n)=>{"use strict";const r=n(3691),o=n(3691).buildOptions,i=n(6139),a=function(e,t,n){let o="{";const i=Object.keys(e.child);for(let n=0;n<i.length;n++){const r=i[n];if(e.child[r]&&e.child[r].length>1){o+='"'+r+'" : [ ';for(let n in e.child[r])o+=a(e.child[r][n],t)+" , ";o=o.substr(0,o.length-1)+" ] "}else o+='"'+r+'" : '+a(e.child[r][0],t)+" ,"}return r.merge(o,e.attrsMap),r.isEmptyObject(o)?r.isExist(e.val)?e.val:"":(r.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)&&(o+='"'+t.textNodeName+'" : '+(!0!==(s=e.val)&&!1!==s&&isNaN(s)?'"'+s+'"':s)),","===o[o.length-1]&&(o=o.substr(0,o.length-2)),o+"}");var s};t.convertToJsonString=function(e,t){return(t=o(t,i.defaultOptions,i.props)).indentBy=t.indentBy||"",a(e,t,0)}},2649:(e,t,n)=>{"use strict";const r=n(5850),o=n(6139),i=n(6139),a=n(3691).buildOptions,s=n(4537);t.parse=function(e,t={},n){if(n){!0===n&&(n={});const t=s.validate(e,n);if(!0!==t)throw Error(t.err.msg)}t.parseTrueNumberOnly&&!1!==t.parseNodeValue&&!t.numParseOptions&&(t.numParseOptions={leadingZeros:!1});let u=a(t,i.defaultOptions,i.props);const c=o.getTraversalObj(e,u);return r.convertToJson(c,u)},t.convertTonimn=n(2979).convert2nimn,t.getTraversalObj=o.getTraversalObj,t.convertToJson=r.convertToJson,t.convertToJsonString=n(248).convertToJsonString,t.validate=s.validate,t.j2xParser=n(3138),t.parseToNimn=function(e,n,r){return t.convertTonimn(t.getTraversalObj(e,r),n,r)}},3691:(e,t)=>{"use strict";const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"]["+n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",o=new RegExp("^"+r+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t){const r=Object.keys(t),o=r.length;for(let i=0;i<o;i++)e[r[i]]="strict"===n?[t[r[i]]]:t[r[i]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.buildOptions=function(e,t,n){let r={};if(!e)return t;for(let o=0;o<n.length;o++)void 0!==e[n[o]]?r[n[o]]=e[n[o]]:r[n[o]]=t[n[o]];return r},t.isTagNameInArrayMode=function(e,t,n){return!1!==t&&(t instanceof RegExp?t.test(e):"function"==typeof t?!!t(e,n):"strict"===t)},t.isName=function(e){return!(null==o.exec(e))},t.getAllMatches=function(e,t){const n=[];let r=t.exec(e);for(;r;){const o=[];o.startIndex=t.lastIndex-r[0].length;const i=r.length;for(let e=0;e<i;e++)o.push(r[e]);n.push(o),r=t.exec(e)}return n},t.nameRegexp=r},4537:(e,t,n)=>{"use strict";const r=n(3691),o={allowBooleanAttributes:!1},i=["allowBooleanAttributes"];function a(e,t){const n=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const r=e.substr(n,t-n);if(t>5&&"xml"===r)return d("InvalidXml","XML declaration allowed only at the start of the document.",h(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function s(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}function u(e,t){let n="",r="",o=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])""===r?r=e[t]:r!==e[t]||(r="");else if(">"===e[t]&&""===r){o=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:o}}t.validate=function(e,t){t=r.buildOptions(t,o,i);const n=[];let c=!1,p=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let o=0;o<e.length;o++)if("<"===e[o]&&"?"===e[o+1]){if(o+=2,o=a(e,o),o.err)return o}else{if("<"!==e[o]){if(" "===e[o]||"\t"===e[o]||"\n"===e[o]||"\r"===e[o])continue;return d("InvalidChar","char '"+e[o]+"' is not expected.",h(e,o))}{let i=o;if(o++,"!"===e[o]){o=s(e,o);continue}{let y=!1;"/"===e[o]&&(y=!0,o++);let m="";for(;o<e.length&&">"!==e[o]&&" "!==e[o]&&"\t"!==e[o]&&"\n"!==e[o]&&"\r"!==e[o];o++)m+=e[o];if(m=m.trim(),"/"===m[m.length-1]&&(m=m.substring(0,m.length-1),o--),v=m,!r.isName(v)){let t;return t=0===m.trim().length?"Invalid space after '<'.":"Tag '"+m+"' is an invalid name.",d("InvalidTag",t,h(e,o))}const g=u(e,o);if(!1===g)return d("InvalidAttr","Attributes for '"+m+"' have open quote.",h(e,o));let b=g.value;if(o=g.index,"/"===b[b.length-1]){const n=o-b.length;b=b.substring(0,b.length-1);const r=l(b,t);if(!0!==r)return d(r.err.code,r.err.msg,h(e,n+r.err.line));c=!0}else if(y){if(!g.tagClosed)return d("InvalidTag","Closing tag '"+m+"' doesn't have proper closing.",h(e,o));if(b.trim().length>0)return d("InvalidTag","Closing tag '"+m+"' can't have attributes or invalid starting.",h(e,i));{const t=n.pop();if(m!==t.tagName){let n=h(e,t.tagStartPos);return d("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+m+"'.",h(e,i))}0==n.length&&(p=!0)}}else{const r=l(b,t);if(!0!==r)return d(r.err.code,r.err.msg,h(e,o-b.length+r.err.line));if(!0===p)return d("InvalidXml","Multiple possible root nodes found.",h(e,o));n.push({tagName:m,tagStartPos:i}),c=!0}for(o++;o<e.length;o++)if("<"===e[o]){if("!"===e[o+1]){o++,o=s(e,o);continue}if("?"!==e[o+1])break;if(o=a(e,++o),o.err)return o}else if("&"===e[o]){const t=f(e,o);if(-1==t)return d("InvalidChar","char '&' is not expected.",h(e,o));o=t}"<"===e[o]&&o--}}}var v;return c?1==n.length?d("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",h(e,n[0].tagStartPos)):!(n.length>0)||d("InvalidXml","Invalid '"+JSON.stringify(n.map((e=>e.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):d("InvalidXml","Start tag expected.",1)};const c=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function l(e,t){const n=r.getAllMatches(e,c),o={};for(let e=0;e<n.length;e++){if(0===n[e][1].length)return d("InvalidAttr","Attribute '"+n[e][2]+"' has no space in starting.",v(n[e]));if(void 0===n[e][3]&&!t.allowBooleanAttributes)return d("InvalidAttr","boolean attribute '"+n[e][2]+"' is not allowed.",v(n[e]));const r=n[e][2];if(!p(r))return d("InvalidAttr","Attribute '"+r+"' is an invalid name.",v(n[e]));if(o.hasOwnProperty(r))return d("InvalidAttr","Attribute '"+r+"' is repeated.",v(n[e]));o[r]=1}return!0}function f(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function d(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function p(e){return r.isName(e)}function h(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function v(e){return e.startIndex+e[1].length}},5774:e=>{"use strict";e.exports=function(e,t,n){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=n,this.addChild=function(e){Array.isArray(this.child[e.tagname])?this.child[e.tagname].push(e):this.child[e.tagname]=[e]}}},6139:(e,t,n)=>{"use strict";const r=n(3691),o=n(3691).buildOptions,i=n(5774),a=n(4153);"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,r.nameRegexp),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const s={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",numParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[],alwaysCreateTextNode:!1};t.defaultOptions=s;const u=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","numParseOptions","stopNodes","alwaysCreateTextNode"];function c(e,t,n){return t&&(n.trimValues&&(t=t.trim()),t=f(t=n.tagValueProcessor(t,e),n.parseNodeValue,n.numParseOptions)),t}function l(e,t){if(t.ignoreNameSpace){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}function f(e,t,n){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&a(e,n)}return r.isExist(e)?e:""}t.props=u;const d=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function p(e,t){if(!t.ignoreAttributes&&"string"==typeof e){e=e.replace(/\r?\n/g," ");const n=r.getAllMatches(e,d),o=n.length,i={};for(let e=0;e<o;e++){const r=l(n[e][1],t);r.length&&(void 0!==n[e][4]?(t.trimValues&&(n[e][4]=n[e][4].trim()),n[e][4]=t.attrValueProcessor(n[e][4],r),i[t.attributeNamePrefix+r]=f(n[e][4],t.parseAttributeValue,t.numParseOptions)):t.allowBooleanAttributes&&(i[t.attributeNamePrefix+r]=!0))}if(!Object.keys(i).length)return;if(t.attrNodeName){const e={};return e[t.attrNodeName]=i,e}return i}}function h(e,t){let n,r="";for(let o=t;o<e.length;o++){let t=e[o];if(n)t===n&&(n="");else if('"'===t||"'"===t)n=t;else{if(">"===t)return{data:r,index:o};"\t"===t&&(t=" ")}r+=t}}function v(e,t,n,r){const o=e.indexOf(t,n);if(-1===o)throw new Error(r);return o+t.length-1}t.getTraversalObj=function(e,t){e=e.replace(/\r\n?/g,"\n"),t=o(t,s,u);const n=new i("!xml");let a=n,l="";for(let n=0;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){const o=v(e,">",n,"Closing Tag is not closed.");let i=e.substring(n+2,o).trim();if(t.ignoreNameSpace){const e=i.indexOf(":");-1!==e&&(i=i.substr(e+1))}a&&(a.val?a.val=r.getValue(a.val)+""+c(i,l,t):a.val=c(i,l,t)),t.stopNodes.length&&t.stopNodes.includes(a.tagname)&&(a.child=[],null==a.attrsMap&&(a.attrsMap={}),a.val=e.substr(a.startIndex+1,n-a.startIndex-1)),a=a.parent,l="",n=o}else if("?"===e[n+1])n=v(e,"?>",n,"Pi Tag is not closed.");else if("!--"===e.substr(n+1,3))n=v(e,"--\x3e",n,"Comment is not closed.");else if("!D"===e.substr(n+1,2)){const t=v(e,">",n,"DOCTYPE is not closed.");n=e.substring(n,t).indexOf("[")>=0?e.indexOf("]>",n)+1:t}else if("!["===e.substr(n+1,2)){const o=v(e,"]]>",n,"CDATA is not closed.")-2,s=e.substring(n+9,o);if(l&&(a.val=r.getValue(a.val)+""+c(a.tagname,l,t),l=""),t.cdataTagName){const e=new i(t.cdataTagName,a,s);a.addChild(e),a.val=r.getValue(a.val)+t.cdataPositionChar,s&&(e.val=s)}else a.val=(a.val||"")+(s||"");n=o+2}else{const o=h(e,n+1);let s=o.data;const u=o.index,f=s.indexOf(" ");let d=s,v=!0;if(-1!==f&&(d=s.substr(0,f).replace(/\s\s*$/,""),s=s.substr(f+1)),t.ignoreNameSpace){const e=d.indexOf(":");-1!==e&&(d=d.substr(e+1),v=d!==o.data.substr(e+1))}if(a&&l&&"!xml"!==a.tagname&&(a.val=r.getValue(a.val)+""+c(a.tagname,l,t)),s.length>0&&s.lastIndexOf("/")===s.length-1){"/"===d[d.length-1]?(d=d.substr(0,d.length-1),s=d):s=s.substr(0,s.length-1);const e=new i(d,a,"");d!==s&&(e.attrsMap=p(s,t)),a.addChild(e)}else{const e=new i(d,a);t.stopNodes.length&&t.stopNodes.includes(e.tagname)&&(e.startIndex=u),d!==s&&v&&(e.attrsMap=p(s,t)),a.addChild(e),a=e}l="",n=u}else l+=e[n];return n}},1457:(e,t,n)=>{var r=n(6957),o=n(8454),i=o;i.v1=r,i.v4=o,e.exports=i},4317:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},590:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},6957:(e,t,n)=>{var r,o,i=n(590),a=n(4317),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=h-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,o=d;var m=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=m>>>24&255,l[c++]=m>>>16&255,l[c++]=m>>>8&255,l[c++]=255&m;var g=h/4294967296*1e4&268435455;l[c++]=g>>>8&255,l[c++]=255&g,l[c++]=g>>>24&15|16,l[c++]=g>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},8454:(e,t,n)=>{var r=n(590),o=n(4317);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},4735:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=void 0;var r=n(2897),o=n(3237),i=n(1423),a=function(){function e(){this.crc32=new i.Crc32}return e.prototype.update=function(e){(0,o.isEmptyData)(e)||this.crc32.update((0,o.convertToBuffer)(e))},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,(0,o.numToUint8)(this.crc32.digest())]}))}))},e}();t.AwsCrc32=a},1423:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var r=n(2897),o=n(3237);t.crc32=function(e){return(new i).update(e).digest()};var i=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var o=(0,r.__values)(e),i=o.next();!i.done;i=o.next()){var s=i.value;this.checksum=this.checksum>>>8^a[255&(this.checksum^s)]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();t.Crc32=i;var a=(0,o.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),s=n(4735);Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return s.AwsCrc32}})},7888:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(2084),o="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},3237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(7888);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var o=n(4007);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var i=n(5616);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var a=n(9241);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},4007:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},5616:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},9241:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},2897:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6742:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});class r{constructor(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}},4073:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var r=n(6528);function o(e){const t=[];for(let n of Object.keys(e).sort()){const o=e[n];if(n=(0,r.i)(n),Array.isArray(o))for(let e=0,i=o.length;e<i;e++)t.push(`${n}=${(0,r.i)(o[e])}`);else{let e=n;(o||"string"==typeof o)&&(e+=`=${(0,r.i)(o)}`),t.push(e)}}return t.join("&")}},6495:(e,t,n)=>{"use strict";n.r(t),n.d(t,{locateWindow:()=>o});const r={};function o(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:r}},6528:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});const r=e=>encodeURIComponent(e).replace(/[!'()*]/g,o),o=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`},2084:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>o});const r=e=>"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):(e=>{const t=[];for(let n=0,r=e.length;n<r;n++){const r=e.charCodeAt(n);if(r<128)t.push(r);else if(r<2048)t.push(r>>6|192,63&r|128);else if(n+1<e.length&&55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))){const o=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(r>>12|224,r>>6&63|128,63&r|128)}return Uint8Array.from(t)})(e),o=e=>"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):(e=>{let t="";for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r<128)t+=String.fromCharCode(r);else if(192<=r&&r<224){const o=e[++n];t+=String.fromCharCode((31&r)<<6|63&o)}else if(240<=r&&r<365){const o="%"+[r,e[++n],e[++n],e[++n]].map((e=>e.toString(16))).join("%");t+=decodeURIComponent(o)}else t+=String.fromCharCode((15&r)<<12|(63&e[++n])<<6|63&e[++n])}return t})(e)},8225:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(6720),o=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var o=this.bufferLength;o<r.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<r.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(r.DIGEST_LENGTH);for(o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],p=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,h=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(p+this.temp[f-7]|0)+(h+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;l=c,c=u,u=s,s=a+v|0,a=i,i=o,o=n,n=v+y|0}t[0]+=n,t[1]+=o,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=o},6720:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},4626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(6933).__exportStar)(n(3225),t)},3225:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(6933),o=n(6720),i=n(8225),a=n(6785),s=function(){function e(e){if(this.hash=new i.RawSha256,e){this.outer=new i.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>o.BLOCK_SIZE){var n=new i.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(o.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(o.BLOCK_SIZE);n.set(t);for(var r=0;r<o.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},442:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(2084),o="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},6785:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(442);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var o=n(142);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var i=n(2594);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var a=n(4764);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},142:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},2594:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},4764:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},6933:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>x,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},8822:(e,t,n)=>{"use strict";n.r(t),n.d(t,{API:()=>pU,APIClass:()=>dU,AWSCloudWatchProvider:()=>J2,AWSKinesisFirehoseProvider:()=>Aw,AWSKinesisProvider:()=>Jv,AWSPinpointProvider:()=>El,AmazonPersonalizeProvider:()=>s_,Amplify:()=>d,Analytics:()=>Rd,Auth:()=>Kx,AuthModeStrategyType:()=>rF,Cache:()=>sl,ClientDevice:()=>A,DataStore:()=>hK,Geo:()=>g8,Hub:()=>_,I18n:()=>Rj,Interactions:()=>ZV,Logger:()=>c,Notifications:()=>OJ,Predicates:()=>Yz,Predictions:()=>eX,PubSub:()=>aU,ServiceWorker:()=>JQ,Signer:()=>$,SortDirection:()=>nF,Storage:()=>VD,StorageClass:()=>GD,XR:()=>YJ,graphqlOperation:()=>uU,syncExpression:()=>jF,withSSRContext:()=>e3});var r,o=n(8008),i="Logging",a="No credentials",s=["ResourceNotFoundException","InvalidSequenceTokenException"],u={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};!function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE"}(r||(r={}));var c=function(){function e(e,t){void 0===t&&(t=r.WARN),this.name=e,this.level=t,this._pluggables=[]}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype.configure=function(e){return e?(this._config=e,this._config):this._config},e.prototype._log=function(t){for(var n,i,a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];var c=this.level;e.LOG_LEVEL&&(c=e.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(c=window.LOG_LEVEL);var l=u[c],f=u[t];if(f>=l){var d=console.log.bind(console);t===r.ERROR&&console.error&&(d=console.error.bind(console)),t===r.WARN&&console.warn&&(d=console.warn.bind(console));var p="["+t+"] "+this._ts()+" "+this.name,h="";if(1===a.length&&"string"==typeof a[0])d(h=p+" - "+a[0]);else if(1===a.length)h=p+" "+a[0],d(p,a[0]);else if("string"==typeof a[0]){var v=a.slice(1);1===v.length&&(v=v[0]),h=p+" - "+a[0]+" "+v,d(p+" - "+a[0],v)}else h=p+" "+a,d(p,a);try{for(var y=(0,o.__values)(this._pluggables),m=y.next();!m.done;m=y.next()){var g=m.value,b={message:h,timestamp:Date.now()};g.pushLogs([b])}}catch(e){n={error:e}}finally{try{m&&!m.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,o.__spread)([r.INFO],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,o.__spread)([r.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,o.__spread)([r.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,o.__spread)([r.ERROR],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,o.__spread)([r.DEBUG],e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,o.__spread)([r.VERBOSE],e))},e.prototype.addPluggable=function(e){e&&e.getCategoryName()===i&&(this._pluggables.push(e),e.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),l=new c("Amplify"),f=function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Notifications=null,this.Logger=c,this.ServiceWorker=null}return e.prototype.register=function(e){l.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):l.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),l.debug("amplify config",this._config),Object.entries(this._modules).forEach((function(e){var n=(0,o.__read)(e,2),r=(n[0],n[1]);Object.keys(r).forEach((function(e){t._modules[e]&&(r[e]=t._modules[e])}))})),this._components.map((function(e){e.configure(t._config)})),this._config):this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map((function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)}))},e}(),d=new f,p=function(e,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},p(e,t)},h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},h.apply(this,arguments)};function v(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function y(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function m(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}var w=new c("Hub"),S="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",E=function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}return e.prototype._remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find((function(t){return t.pattern.source===e.source}));if(!n)return void w.warn("No listeners for "+e);this.patterns=(0,o.__spread)(this.patterns.filter((function(e){return e!==n})))}else{var r=this.listeners[e];if(!r)return void w.warn("No listeners for "+e);this.listeners[e]=(0,o.__spread)(r.filter((function(e){return e.callback!==t})))}},e.prototype.remove=function(e,t){this._remove(e,t)},e.prototype.dispatch=function(e,t,n,r){void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1&&(r===S||w.warn("WARNING: "+e+" is protected and dispatching on it can have unintended consequences"));var i={channel:e,payload:(0,o.__assign)({},t),source:n,patternInfo:[]};try{this._toListeners(i)}catch(e){w.error(e)}},e.prototype.listen=function(e,t,n){var r,o=this;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))w.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else{if("function"!=typeof t)throw new Error("No callback supplied to Hub");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var i=this.listeners[e];i||(i=[],this.listeners[e]=i),i.push({name:n,callback:r})}return function(){o._remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,r=this.listeners[t];if(r&&r.forEach((function(r){w.debug("Dispatching to "+t+" with ",n);try{r.callback(e)}catch(e){w.error(e)}})),this.patterns.length>0){if(!n.message)return void w.warn("Cannot perform pattern matching without a message key");var i=n.message;this.patterns.forEach((function(t){var n=i.match(t.pattern);if(n){var r=(0,o.__read)(n).slice(1),a=(0,o.__assign)((0,o.__assign)({},e),{patternInfo:r});try{t.callback(a)}catch(e){w.error(e)}}}))}},e}(),_=new E("__default__"),x=new c("Parser"),T=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in,signUpVerificationMethod:e.aws_cognito_sign_up_verification_method||"code"}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(n.Logging=(0,o.__assign)((0,o.__assign)({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),n.Logging=Object.assign({},n.Logging,e.Logging),x.debug("parse config",e,"to amplifyconfig",n),n},I=new c("ClientDevice_Browser");for(var A=function(){function e(){}return e.clientInfo=function(){return"undefined"==typeof window?{}:function(){if("undefined"==typeof window)return I.warn("No window object available to get browser client info"),{};var e=window.navigator;if(!e)return I.warn("No navigator object available to get browser client info"),{};var t,n=e.platform,r=e.product,o=e.vendor,i=e.userAgent,a=e.language,s=function(e){var t=/.+(Opera[\s[A-Z]*|OPR[\sA-Z]*)\/([0-9\.]+).*/i.exec(e);if(t)return{type:t[1],version:t[2]};var n=/.+(Trident|Edge)\/([0-9\.]+).*/i.exec(e);if(n)return{type:n[1],version:n[2]};var r=/.+(Chrome|Firefox|FxiOS)\/([0-9\.]+).*/i.exec(e);if(r)return{type:r[1],version:r[2]};var o=/.+(Safari)\/([0-9\.]+).*/i.exec(e);if(o)return{type:o[1],version:o[2]};var i=/.+(AppleWebKit)\/([0-9\.]+).*/i.exec(e);if(i)return{type:i[1],version:i[2]};var a=/.*([A-Z]+)\/([0-9\.]+).*/i.exec(e);return a?{type:a[1],version:a[2]}:{type:"",version:""}}(i),u=(t=/\(([A-Za-z\s].*)\)/.exec((new Date).toString()))&&t[1]||"";return{platform:n,make:r||o,model:s.type,version:s.version,appVersion:[s.type,s.version].join("/"),language:a,timezone:u}}()},e.dimension=function(){return"undefined"==typeof window?(I.warn("No window object available to get browser client info"),{width:320,height:320}):{width:window.innerWidth,height:window.innerHeight}},e}(),C=n(6051),P={},O={},k=0;k<256;k++){var R=k.toString(16).toLowerCase();1===R.length&&(R="0"+R),P[k]=R,O[R]=k}function N(e){for(var t="",n=0;n<e.byteLength;n++)t+=P[e[n]];return t}var L=n(8575),D={clockOffset:0,getDateWithClockOffset:function(){return D.clockOffset?new Date((new Date).getTime()+D.clockOffset):new Date},getClockOffset:function(){return D.clockOffset},getHeaderStringFromDate:function(e){return void 0===e&&(e=D.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var t=(0,o.__read)(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),n=t[1],r=t[2],i=t[3],a=t[4],s=t[5],u=t[6];return new Date(Date.UTC(Number(n),Number(r)-1,Number(i),Number(a),Number(s),Number(u)))},isClockSkewed:function(e){return Math.abs(e.getTime()-D.getDateWithClockOffset().getTime())>=3e5},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var t=e.response.headers;return Boolean(["BadRequestException","InvalidSignatureException"].includes(t["x-amzn-errortype"])&&(t.date||t.Date))},setClockOffset:function(e){D.clockOffset=e}},M=new c("Signer"),j="AWS4-HMAC-SHA256",U=function(e,t){var n=new C.Sha256(e);return n.update(t),n.digestSync()},F=function(e){var t=e||"",n=new C.Sha256;return n.update(t),N(n.digestSync())},z=function(e){return Object.keys(e).map((function(e){return e.toLowerCase()})).sort().join(";")},B=function(e){var t,n,r=(0,L.Qc)(e.url);return[e.method||"/",encodeURIComponent(r.pathname).replace(/%2F/gi,"/"),(n=r.query,n&&0!==n.length?n.split("&").map((function(e){var t=e.split("=");if(1===t.length)return e;var n=t[1].replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}));return t[0]+"="+n})).sort((function(e,t){var n=e.split("=")[0],r=t.split("=")[0];return n===r?e<t?-1:1:n<r?-1:1})).join("&"):""),(t=e.headers,t&&0!==Object.keys(t).length?Object.keys(t).map((function(e){return{key:e.toLowerCase(),value:t[e]?t[e].trim().replace(/\s+/g," "):""}})).sort((function(e,t){return e.key<t.key?-1:1})).map((function(e){return e.key+":"+e.value})).join("\n")+"\n":""),z(e.headers),F(e.data)].join("\n")},q=function(e){var t=((0,L.Qc)(e.url).host.match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/)||[]).slice(1,3);return"es"===t[1]&&(t=t.reverse()),{service:e.service||t[0],region:e.region||t[1]}},K=function(e,t,n){return[e,t,n,"aws4_request"].join("/")},G=function(e,t,n,r){return[e,n,r,F(t)].join("\n")},H=function(e,t,n){M.debug(n);var r=U("AWS4"+e,t),o=U(r,n.region),i=U(o,n.service);return U(i,"aws4_request")},V=function(e,t){return N(U(e,t))},$=function(){function e(){}return e.sign=function(e,t,n){if(void 0===n&&(n=null),e.headers=e.headers||{},e.body&&!e.data)throw new Error('The attribute "body" was found on the request object. Please use the attribute "data" instead.');var r=D.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),o=r.substr(0,8),i=(0,L.Qc)(e.url);e.headers.host=i.host,e.headers["x-amz-date"]=r,t.session_token&&(e.headers["X-Amz-Security-Token"]=t.session_token);var a=B(e);M.debug(a);var s=n||q(e),u=K(o,s.region,s.service),c=G(j,a,r,u),l=H(t.secret_key,o,s),f=V(l,c),d=function(e,t,n,r,o){return[e+" Credential="+t+"/"+n,"SignedHeaders="+r,"Signature="+o].join(", ")}(j,t.access_key,u,z(e.headers),f);return e.headers.Authorization=d,e},e.signUrl=function(e,t,n,r){var i="object"==typeof e?e.url:e,a="object"==typeof e?e.method:"GET",s="object"==typeof e?e.body:void 0,u=D.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),c=u.substr(0,8),l=(0,L.Qc)(i,!0,!0),f=(l.search,(0,o.__rest)(l,["search"])),d={host:f.host},p=n||q({url:(0,L.WU)(f)}),h=p.region,v=p.service,y=K(c,h,v),m=t.session_token&&"iotdevicegateway"!==v,g=(0,o.__assign)((0,o.__assign)((0,o.__assign)({"X-Amz-Algorithm":j,"X-Amz-Credential":[t.access_key,y].join("/"),"X-Amz-Date":u.substr(0,16)},m?{"X-Amz-Security-Token":""+t.session_token}:{}),r?{"X-Amz-Expires":""+r}:{}),{"X-Amz-SignedHeaders":Object.keys(d).join(",")}),b=B({method:a,url:(0,L.WU)((0,o.__assign)((0,o.__assign)({},f),{query:(0,o.__assign)((0,o.__assign)({},f.query),g)})),headers:d,data:s}),w=G(j,b,u,y),S=H(t.secret_key,c,{region:h,service:v}),E=V(S,w),_=(0,o.__assign)({"X-Amz-Signature":E},t.session_token&&{"X-Amz-Security-Token":t.session_token});return(0,L.WU)({protocol:f.protocol,slashes:!0,hostname:f.hostname,port:f.port,pathname:f.pathname,query:(0,o.__assign)((0,o.__assign)((0,o.__assign)({},f.query),g),_)})},e}(),W=function(){if("undefined"==typeof self)return!1;var e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope},Y=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node}},Z=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!X(e))return e;var r={};for(var o in e)e.hasOwnProperty(o)&&(r[t.includes(o)?o:o[0].toLowerCase()+o.slice(1)]=n.includes(o)?e[o]:Z(e[o],t,n));return r},J=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!X(e))return e;var r={};for(var o in e)e.hasOwnProperty(o)&&(r[t.includes(o)?o:o[0].toUpperCase()+o.slice(1)]=n.includes(o)?e[o]:J(e[o],t,n));return r},X=function(e){return!(!(e instanceof Object)||e instanceof Array||e instanceof Function||e instanceof Number||e instanceof String||e instanceof Boolean)},Q="aws-amplify/5.0.8",ee={userAgent:Q+" js",product:"",navigator:null,isReactNative:!1};"undefined"!=typeof navigator&&navigator.product&&(ee.product=navigator.product||"",ee.navigator=navigator||null,"ReactNative"===navigator.product?(ee.userAgent=Q+" react-native",ee.isReactNative=!0):(ee.userAgent=Q+" js",ee.isReactNative=!1));var te=function(e){return""+ee.userAgent+(e||"")},ne={},re=function(){function e(){}return e.setItem=function(e,t){return ne[e]=t,ne[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(ne,e)?ne[e]:void 0},e.removeItem=function(e){return delete ne[e]},e.clear=function(){return ne={}},e}(),oe=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=re}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),ie=new c("Util"),ae=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return(0,o.__extends)(t,e),t}(Error),se=function(e){return e&&e.nonRetryable};function ue(e,t,n,r){return(0,o.__awaiter)(this,void 0,void 0,(function(){var i=this;return(0,o.__generator)(this,(function(a){if("function"!=typeof e)throw Error("functionToRetry must be a function");return[2,new Promise((function(a,s){return(0,o.__awaiter)(i,void 0,void 0,(function(){var i,u,c,l,f,d,p;return(0,o.__generator)(this,(function(h){switch(h.label){case 0:i=0,u=!1,l=function(){},r&&r.then((function(){u=!0,clearTimeout(c),l()})),d=function(){var r,d,p,h;return(0,o.__generator)(this,(function(v){switch(v.label){case 0:i++,ie.debug(e.name+" attempt #"+i+" with this vars: "+JSON.stringify(t)),v.label=1;case 1:return v.trys.push([1,3,,7]),r={},d=a,[4,e.apply(void 0,(0,o.__spread)(t))];case 2:return[2,(r.value=d.apply(void 0,[v.sent()]),r)];case 3:return p=v.sent(),f=p,ie.debug("error on "+e.name,p),se(p)?(ie.debug(e.name+" non retryable error",p),[2,{value:s(p)}]):(h=n(i,t,p),ie.debug(e.name+" retrying in "+h+" ms"),!1===h||u?[2,{value:s(p)}]:[3,4]);case 4:return[4,new Promise((function(e){l=e,c=setTimeout(l,h)}))];case 5:v.sent(),v.label=6;case 6:return[3,7];case 7:return[2]}}))},h.label=1;case 1:return u?[3,3]:[5,d()];case 2:return"object"==typeof(p=h.sent())?[2,p.value]:[3,1];case 3:return s(f),[2]}}))}))}))]}))}))}var ce=3e5;function le(e){return void 0===e&&(e=ce),function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}var fe=function(e,t,n,r){return void 0===n&&(n=ce),ue(e,t,le(n),r)},de=new c("CognitoCredentials"),pe=new Promise((function(e,t){return Y().isBrowser?window.gapi&&window.gapi.auth2&&window.gapi.auth2?(de.debug("google api already loaded"),e()):void setTimeout((function(){return e()}),2e3):(de.debug("not in the browser, directly resolved"),e())})),he=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(de.debug("need to wait for the Google SDK loaded"),[4,pe]);case 1:e.sent(),this.initialized=!0,de.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))}))},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return Y().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(de.debug("google Auth undefined"),n(new ae("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(de.debug("refreshing the google access token"),r.reloadAuthResponse().then((function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})})).catch((function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new ae("Failed to reload google auth response"))}))):n(new ae("User is not signed in with Google"))})).catch((function(e){de.debug("Failed to refresh google token",e),n(new ae("Failed to refresh google token"))}))})):(de.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),ve=new c("CognitoCredentials"),ye=new Promise((function(e,t){return Y().isBrowser?window.FB?(ve.debug("FB SDK already loaded"),e()):void setTimeout((function(){return e()}),2e3):(ve.debug("not in the browser, directly resolved"),e())})),me=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(ve.debug("need to wait for the Facebook SDK loaded"),[4,ye]);case 1:e.sent(),this.initialized=!0,ve.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))}))},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(Y().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return ve.debug(t),Promise.reject(new ae(t))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var r=e.authResponse,o=r.accessToken,i=1e3*r.expiresIn+(new Date).getTime();o||(a="the jwtToken is undefined",ve.debug(a),n(new ae(a))),t({token:o,expires_at:i})}else{var a="no response from facebook when refreshing the jwt token";ve.debug(a),n(new ae(a))}}),{scope:"public_profile,email"})}))},e}(),ge=new he,be=new me,we=function(e,t){return we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},we(e,t)};function Se(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Ee(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var _e=function(e,t){return _e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},_e(e,t)};function xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}_e(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Te,Ie,Ae,Ce,Pe,Oe,ke,Re,Ne,Le,De,Me,je,Ue,Fe,ze,Be,qe,Ke,Ge,He,Ve,$e,We,Ye,Ze,Je,Xe,Qe,et,tt,nt,rt,ot,it,at,st,ut,ct,lt,ft,dt,pt,ht,vt,yt,mt,gt,bt,wt,St,Et,_t,xt,Tt,It,At,Ct=function(){return Ct=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ct.apply(this,arguments)};function Pt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function Ot(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function kt(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}function Rt(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nt(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Lt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Nt(arguments[t]));return e}function Dt(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function Mt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Rt(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}Object.create,Object.create,function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"}(Te||(Te={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ie||(Ie={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ae||(Ae={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ce||(Ce={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Pe||(Pe={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Oe||(Oe={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ke||(ke={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Re||(Re={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ne||(Ne={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Le||(Le={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(De||(De={})),function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"}(Me||(Me={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(je||(je={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ue||(Ue={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Fe||(Fe={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ze||(ze={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Be||(Be={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(qe||(qe={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ke||(Ke={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ge||(Ge={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(He||(He={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ve||(Ve={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}($e||($e={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(We||(We={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ye||(Ye={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ze||(Ze={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Je||(Je={})),function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"}(Xe||(Xe={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Qe||(Qe={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(et||(et={})),function(e){e.RULES="Rules",e.TOKEN="Token"}(tt||(tt={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(nt||(nt={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(rt||(rt={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ot||(ot={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(it||(it={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(at||(at={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(st||(st={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ut||(ut={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ct||(ct={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(lt||(lt={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ft||(ft={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(dt||(dt={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(pt||(pt={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ht||(ht={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(vt||(vt={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(yt||(yt={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(mt||(mt={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(gt||(gt={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(bt||(bt={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(wt||(wt={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(St||(St={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Et||(Et={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(_t||(_t={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(xt||(xt={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Tt||(Tt={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(It||(It={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(At||(At={}));var jt=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),Ut=function(){return Ut=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ut.apply(this,arguments)};function Ft(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var zt=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(Ut(Ut({},this),{headers:Ut({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return Ut(Ut({},e),((r={})[n]=Array.isArray(o)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ft(arguments[t]));return e}(o):o,r))}),{}))),n},e}(),Bt=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v,y;return kt(this,(function(m){switch(m.label){case 0:return r=[Ct({},e)],y={},[4,dn(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(y.body=m.sent(),y)])),i="UnknownError",i=pn(e,n.body)){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return a=[{}],[4,Kt(n,t)];case 3:return o=Ct.apply(void 0,[Ct.apply(void 0,a.concat([m.sent()])),{name:i,$metadata:ln(e)}]),[3,19];case 4:return s=[{}],[4,Gt(n,t)];case 5:return o=Ct.apply(void 0,[Ct.apply(void 0,s.concat([m.sent()])),{name:i,$metadata:ln(e)}]),[3,19];case 6:return u=[{}],[4,Ht(n,t)];case 7:return o=Ct.apply(void 0,[Ct.apply(void 0,u.concat([m.sent()])),{name:i,$metadata:ln(e)}]),[3,19];case 8:return c=[{}],[4,Vt(n,t)];case 9:return o=Ct.apply(void 0,[Ct.apply(void 0,c.concat([m.sent()])),{name:i,$metadata:ln(e)}]),[3,19];case 10:return l=[{}],[4,Wt(n,t)];case 11:return o=Ct.apply(void 0,[Ct.apply(void 0,l.concat([m.sent()])),{name:i,$metadata:ln(e)}]),[3,19];case 12:return f=[{}],[4,Yt(n,t)];case 13:return o=Ct.apply(void 0,[Ct.apply(void 0,f.concat([m.sent()])),{name:i,$metadata:ln(e)}]),[3,19];case 14:return d=[{}],[4,Zt(n,t)];case 15:return o=Ct.apply(void 0,[Ct.apply(void 0,d.concat([m.sent()])),{name:i,$metadata:ln(e)}]),[3,19];case 16:return p=[{}],[4,Jt(n,t)];case 17:return o=Ct.apply(void 0,[Ct.apply(void 0,p.concat([m.sent()])),{name:i,$metadata:ln(e)}]),[3,19];case 18:h=n.body,i=h.code||h.Code||i,o=Ct(Ct({},h),{name:""+i,message:h.message||h.Message||i,$fault:"client",$metadata:ln(e)}),m.label=19;case 19:return v=o.message||o.Message||i,o.message=v,delete o.Message,[2,Promise.reject(Object.assign(new Error(v),o))]}}))}))},qt=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v,y;return kt(this,(function(m){switch(m.label){case 0:return r=[Ct({},e)],y={},[4,dn(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(y.body=m.sent(),y)])),i="UnknownError",i=pn(e,n.body)){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return a=[{}],[4,Kt(n,t)];case 3:return o=Ct.apply(void 0,[Ct.apply(void 0,a.concat([m.sent()])),{name:i,$metadata:ln(e)}]),[3,19];case 4:return s=[{}],[4,Gt(n,t)];case 5:return o=Ct.apply(void 0,[Ct.apply(void 0,s.concat([m.sent()])),{name:i,$metadata:ln(e)}]),[3,19];case 6:return u=[{}],[4,Vt(n,t)];case 7:return o=Ct.apply(void 0,[Ct.apply(void 0,u.concat([m.sent()])),{name:i,$metadata:ln(e)}]),[3,19];case 8:return c=[{}],[4,$t(n,t)];case 9:return o=Ct.apply(void 0,[Ct.apply(void 0,c.concat([m.sent()])),{name:i,$metadata:ln(e)}]),[3,19];case 10:return l=[{}],[4,Wt(n,t)];case 11:return o=Ct.apply(void 0,[Ct.apply(void 0,l.concat([m.sent()])),{name:i,$metadata:ln(e)}]),[3,19];case 12:return f=[{}],[4,Yt(n,t)];case 13:return o=Ct.apply(void 0,[Ct.apply(void 0,f.concat([m.sent()])),{name:i,$metadata:ln(e)}]),[3,19];case 14:return d=[{}],[4,Zt(n,t)];case 15:return o=Ct.apply(void 0,[Ct.apply(void 0,d.concat([m.sent()])),{name:i,$metadata:ln(e)}]),[3,19];case 16:return p=[{}],[4,Jt(n,t)];case 17:return o=Ct.apply(void 0,[Ct.apply(void 0,p.concat([m.sent()])),{name:i,$metadata:ln(e)}]),[3,19];case 18:h=n.body,i=h.code||h.Code||i,o=Ct(Ct({},h),{name:""+i,message:h.message||h.Message||i,$fault:"client",$metadata:ln(e)}),m.label=19;case 19:return v=o.message||o.Message||i,o.message=v,delete o.Message,[2,Promise.reject(Object.assign(new Error(v),o))]}}))}))},Kt=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=en(n,t),[2,Ct({name:"ExternalServiceException",$fault:"client",$metadata:ln(e)},r)]}))}))},Gt=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=tn(n,t),[2,Ct({name:"InternalErrorException",$fault:"server",$metadata:ln(e)},r)]}))}))},Ht=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=nn(n,t),[2,Ct({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:ln(e)},r)]}))}))},Vt=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=rn(n,t),[2,Ct({name:"InvalidParameterException",$fault:"client",$metadata:ln(e)},r)]}))}))},$t=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=on(n,t),[2,Ct({name:"LimitExceededException",$fault:"client",$metadata:ln(e)},r)]}))}))},Wt=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=an(n,t),[2,Ct({name:"NotAuthorizedException",$fault:"client",$metadata:ln(e)},r)]}))}))},Yt=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=sn(n,t),[2,Ct({name:"ResourceConflictException",$fault:"client",$metadata:ln(e)},r)]}))}))},Zt=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=un(n,t),[2,Ct({name:"ResourceNotFoundException",$fault:"client",$metadata:ln(e)},r)]}))}))},Jt=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=cn(n,t),[2,Ct({name:"TooManyRequestsException",$fault:"client",$metadata:ln(e)},r)]}))}))},Xt=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Nt(t,2),o=r[0],i=r[1];return null===i?e:Ct(Ct({},e),((n={})[o]=i,n))}),{})},Qt=function(e,t){return{AccessKeyId:void 0!==e.AccessKeyId&&null!==e.AccessKeyId?e.AccessKeyId:void 0,Expiration:void 0!==e.Expiration&&null!==e.Expiration?new Date(Math.round(1e3*e.Expiration)):void 0,SecretKey:void 0!==e.SecretKey&&null!==e.SecretKey?e.SecretKey:void 0,SessionToken:void 0!==e.SessionToken&&null!==e.SessionToken?e.SessionToken:void 0}},en=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},tn=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},nn=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},rn=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},on=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},an=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},sn=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},un=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},cn=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},ln=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},fn=function(e,t,n,r,o){return Ot(void 0,void 0,void 0,(function(){var i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return i=f.sent(),a=i.hostname,s=i.protocol,u=void 0===s?"https":s,c=i.port,l={protocol:u,hostname:a,port:c,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==o&&(l.body=o),[2,new zt(l)]}}))}))},dn=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},pn=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==o?r(e.headers[o]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},hn=function(){return hn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},hn.apply(this,arguments)};function vn(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function yn(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var mn={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},gn={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function bn(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return vn(void 0,void 0,void 0,(function(){var o,i;return yn(this,(function(a){switch(a.label){case 0:return[4,n(r)];case 1:return o=a.sent().response,[4,t(o,e)];case 2:return i=a.sent(),[2,{response:o,output:i}]}}))}))}}}(e,n),mn),r.add(function(e,t){return function(n,r){return function(r){return vn(void 0,void 0,void 0,(function(){var o;return yn(this,(function(i){switch(i.label){case 0:return[4,t(r.input,e)];case 1:return o=i.sent(),[2,n(hn(hn({},r),{request:o}))]}}))}))}}}(e,t),gn)}}}var wn=function(){return wn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},wn.apply(this,arguments)};function Sn(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function En(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Sn(arguments[t]));return e}var _n=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,wn({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,wn({},e))})),n},o=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,En(o(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,En(o(e)))})),t},i={add:function(t,r){void 0===r&&(r={});var o=r.name,i=r.override,a=wn({step:"initialize",priority:"normal",middleware:t},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '"+o+"'");var s=e.findIndex((function(e){return e.name===o})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'+o+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");e.splice(s,1)}n.add(o)}e.push(a)},addRelativeTo:function(e,r){var o=r.name,i=r.override,a=wn({middleware:e},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '"+o+"'");var s=t.findIndex((function(e){return e.name===o})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'+o+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');t.splice(s,1)}n.add(o)}t.push(a)},clone:function(){return r(_n())},use:function(e){e.applyToStack(i)},remove:function(r){return"string"==typeof r?function(r){var o=!1,i=function(e){return!e.name||e.name!==r||(o=!0,n.delete(r),!1)};return e=e.filter(i),t=t.filter(i),o}(r):function(r){var o=!1,i=function(e){return e.middleware!==r||(o=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(i),t=t.filter(i),o}(r)},removeByTag:function(r){var o=!1,i=function(e){var t=e.tags,i=e.name;return!t||!t.includes(r)||(i&&n.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:function(e){var t=r(_n());return t.use(e),t},applyToStack:r,resolve:function(n,r){var i,a;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(){var n=[],r=[],i={};e.forEach((function(e){var t=wn(wn({},e),{before:[],after:[]});t.name&&(i[t.name]=t),n.push(t)})),t.forEach((function(e){var t=wn(wn({},e),{before:[],after:[]});t.name&&(i[t.name]=t),r.push(t)})),r.forEach((function(e){if(e.toMiddleware){var t=i[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var a,s=(a=n,a.sort((function(e,t){return xn[t.step]-xn[e.step]||Tn[t.priority||"normal"]-Tn[e.priority||"normal"]}))).map(o).reduce((function(e,t){return e.push.apply(e,En(t)),e}),[]);return s.map((function(e){return e.middleware}))}().reverse()),u=s.next();!u.done;u=s.next())n=(0,u.value)(n,r)}catch(e){i={error:e}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return n}};return i},xn={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Tn={high:3,normal:2,low:1},In=function(){function e(e){this.middlewareStack=_n(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return i(e).then((function(e){return e.output}));i(e).then((function(e){return o(null,e.output)}),(function(e){return o(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),An=function(){this.middlewareStack=_n()},Cn=function(e,t){return Cn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Cn(e,t)};function Pn(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function On(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Pn(arguments[t]));return e}var kn=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,On([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};kn.prototype=Object.create(String.prototype,{constructor:{value:kn,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(kn,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){function n(){this.constructor=e}Cn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(kn);var Rn=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(bn(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:He.filterSensitiveLog,outputFilterSensitiveLog:$e.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},r=JSON.stringify(function(e,t){return Ct(Ct(Ct({},void 0!==e.CustomRoleArn&&null!==e.CustomRoleArn&&{CustomRoleArn:e.CustomRoleArn}),void 0!==e.IdentityId&&null!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:Xt(e.Logins,t)})}(e,t)),[2,fn(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o;return kt(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,Bt(e,t)]:[4,dn(e.body,t)];case 1:return n=i.sent(),r=function(e,t){return{Credentials:void 0!==e.Credentials&&null!==e.Credentials?Qt(e.Credentials):void 0,IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}}(n),o=Ct({$metadata:ln(e)},r),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(An),Nn=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r}return function(e,t){function n(){this.constructor=e}we(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);function Ln(e){return Promise.all(Object.keys(e).reduce((function(t,n){var r=e[n];return"string"==typeof r?t.push([n,r]):t.push(r().then((function(e){return[n,e]}))),t}),[])).then((function(e){return e.reduce((function(e,t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})}))}function Dn(e){var t=this;return function(){return Se(t,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,l,f,d,p;return Ee(this,(function(h){switch(h.label){case 0:return l=(c=e.client).send,f=Rn.bind,p={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,Ln(e.logins)]:[3,2];case 1:return d=h.sent(),[3,3];case 2:d=void 0,h.label=3;case 3:return[4,l.apply(c,[new(f.apply(Rn,[void 0,(p.Logins=d,p)]))])];case 4:return t=h.sent().Credentials,n=void 0===t?function(){throw new Nn("Response from Amazon Cognito contained no credentials")}():t,r=n.AccessKeyId,o=void 0===r?function(){throw new Nn("Response from Amazon Cognito contained no access key ID")}():r,i=n.Expiration,a=n.SecretKey,s=void 0===a?function(){throw new Nn("Response from Amazon Cognito contained no secret key")}():a,u=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:o,secretAccessKey:s,sessionToken:u,expiration:i}]}}))}))}}var Mn=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(bn(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:Ye.filterSensitiveLog,outputFilterSensitiveLog:Ze.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(function(e,t){return Ct(Ct(Ct({},void 0!==e.AccountId&&null!==e.AccountId&&{AccountId:e.AccountId}),void 0!==e.IdentityPoolId&&null!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:Xt(e.Logins,t)})}(e,t)),[2,fn(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o;return kt(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,qt(e,t)]:[4,dn(e.body,t)];case 1:return n=i.sent(),r=function(e,t){return{IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}}(n),o=Ct({$metadata:ln(e)},r),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(An),jn="IdentityIds",Un=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",(function(t){var n=t.get(e);return new Promise((function(e){n.onerror=function(){return e(null)},n.onsuccess=function(){return e(n.result?n.result.value:null)}}))})).catch((function(){return null}))},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",(function(t){var n=t.delete(e);return new Promise((function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}}))}))},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",(function(n){var r=n.put({id:e,value:t});return new Promise((function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}}))}))},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)},e.onblocked=function(){n(new Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){n(new Error("Failed to create object store"))},t.createObjectStore(jn,{keyPath:"id"})}}))},e.prototype.withObjectStore=function(e,t){return this.getDb().then((function(n){var r=n.transaction(jn,e);return r.oncomplete=function(){return n.close()},new Promise((function(e,n){r.onerror=function(){return n(r.error)},e(t(r.objectStore(jn)))})).catch((function(e){throw n.close(),e}))}))},e}(),Fn=function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}(),zn=new Fn;var Bn=n(7381);function qn(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Kn(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}for(var Gn=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,Hn)},Hn=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()},Vn=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var o=new Error("Request aborted");return o.name="AbortError",Promise.reject(o)}var i=e.path;if(e.query){var a=function(e){var t,n,r=[];try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e).sort()),i=o.next();!i.done;i=o.next()){var a=i.value,s=e[a];if(a=Gn(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push(a+"="+Gn(s[u]));else{var l=a;(s||"string"==typeof s)&&(l+="="+Gn(s)),r.push(l)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.join("&")}(e.query);a&&(i+="?"+a)}var s=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(s?":"+s:"")+i,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var f,d=new Request(c,l),p=[fetch(d).then((function(e){var t,n,r=e.headers,o={};try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r.entries()),a=i.next();!a.done;a=i.next()){var s=a.value;o[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new jt({headers:o,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new jt({headers:o,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&p.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(p)},e}(),$n={},Wn=new Array(64),Yn=0,Zn="A".charCodeAt(0),Jn="Z".charCodeAt(0);Yn+Zn<=Jn;Yn++){var Xn=String.fromCharCode(Yn+Zn);$n[Xn]=Yn,Wn[Yn]=Xn}for(Yn=0,Zn="a".charCodeAt(0),Jn="z".charCodeAt(0);Yn+Zn<=Jn;Yn++){Xn=String.fromCharCode(Yn+Zn);var Qn=Yn+26;$n[Xn]=Qn,Wn[Qn]=Xn}for(Yn=0;Yn<10;Yn++)$n[Yn.toString(10)]=Yn+52,Xn=Yn.toString(10),Qn=Yn+52,$n[Xn]=Qn,Wn[Qn]=Xn;function er(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),o=0;o<e.length;o+=4){for(var i=0,a=0,s=o,u=o+3;s<=u;s++)"="!==e[s]?(i|=$n[e[s]]<<6*(u-s),a+=6):i>>=6;var c=o/4*3;i>>=a%8;for(var l=Math.floor(a/8),f=0;f<l;f++){var d=8*(l-f-1);r.setUint8(c+f,(i&255<<d)>>d)}}return new Uint8Array(n)}function tr(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,o=0,i=n,a=Math.min(n+3,e.length);i<a;i++)r|=e[i]<<8*(a-i-1),o+=8;var s=Math.ceil(o/6);r<<=6*s-o;for(var u=1;u<=s;u++){var c=6*(s-u);t+=Wn[(r&63<<c)>>c]}t+="==".slice(0,4-s)}return t}function nr(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var o=null!==(e=r.result)&&void 0!==e?e:"",i=o.indexOf(","),a=i>-1?i+1:o.length;t(o.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}$n["+"]=62,Wn[62]="+",$n["/"]=63,Wn[63]="/";var rr=function(){return rr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},rr.apply(this,arguments)};function or(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function ir(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function ar(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var sr={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},ur=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],cr=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],lr=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],fr=[500,502,503,504],dr=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||cr.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},pr=n(1856),hr=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},vr=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return ur.includes(e.name)}(e)||dr(e)||function(e){var t;return lr.includes(e.name)||fr.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},yr=function(){function e(e,t){var n,r,o,i,a,s,u;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:vr,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:hr,this.retryQuota=null!==(o=null==t?void 0:t.retryQuota)&&void 0!==o?o:(i=500,a=500,s=function(e){return"TimeoutError"===e.name?10:5},u=function(e){return s(e)<=a},Object.freeze({hasRetryTokens:u,retrieveRetryTokens:function(e){if(!u(e))throw new Error("No retry token available");var t=s(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,i)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return or(this,void 0,void 0,(function(){var e;return ir(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return or(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return ir(this,(function(l){switch(l.label){case 0:return r=0,o=0,[4,this.getMaxAttempts()];case 1:i=l.sent(),a=t.request,zt.isInstance(a)&&(a.headers["amz-sdk-invocation-id"]=(0,pr.v4)()),s=function(){var s,c,l,f,d;return ir(this,(function(p){switch(p.label){case 0:return p.trys.push([0,2,,5]),zt.isInstance(a)&&(a.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+i),[4,e(t)];case 1:return s=p.sent(),c=s.response,l=s.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=o,[2,{value:{response:c,output:l}}];case 2:return f=p.sent(),r++,u.shouldRetry(f,r,i)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(dr(f)?500:100,r),o+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return p.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=o,f;case 5:return[2]}}))},u=this,l.label=2;case 2:return[5,s()];case 3:return"object"==typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}();var mr=n(1206),gr=n.n(mr),br=n(367),wr="cognito-identity.{region}.amazonaws.com",Sr=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Er=new Set(["cn-north-1","cn-northwest-1"]),_r=new Set(["us-iso-east-1"]),xr=new Set(["us-isob-east-1"]),Tr=new Set(["us-gov-east-1","us-gov-west-1"]);function Ir(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var Ar={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":n={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":n={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":n={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":n={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":n={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:Sr.has(e)&&(n={hostname:wr.replace("{region}",e),partition:"aws"}),Er.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),_r.has(e)&&(n={hostname:"cognito-identity.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),xr.has(e)&&(n={hostname:"cognito-identity.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Tr.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:wr.replace("{region}",e),partition:"aws"})}return Promise.resolve(Ct({signingService:"cognito-identity"},n))},serviceId:"Cognito Identity",urlParser:function(e){var t,n=new URL(e),r=n.hostname,o=n.pathname,i=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.split("&")),i=o.next();!i.done;i=o.next()){var a=Ir(i.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:i?parseInt(i):void 0,protocol:a,path:o,query:t}}},Cr=Ct(Ct({},Ar),{runtime:"browser",base64Decoder:er,base64Encoder:tr,bodyLengthChecker:function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0},credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:function(e){var t=e.serviceId,n=e.clientVersion;return function(){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e,r,o,i,a,s,u,c,l;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(f){return e=(null===(o=null===window||void 0===window?void 0:window.navigator)||void 0===o?void 0:o.userAgent)?gr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(i=null==e?void 0:e.os)||void 0===i?void 0:i.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser",(null!==(u=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown")+"_"+(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}}({serviceId:Ar.serviceId,clientVersion:"3.6.1"}),maxAttempts:3,region:("Region is missing",function(){return Promise.reject("Region is missing")}),requestHandler:new Vn,sha256:Bn.Sha256,streamCollector:function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return qn(this,void 0,void 0,(function(){var t,n;return Kn(this,(function(r){switch(r.label){case 0:return[4,nr(e)];case 1:return t=r.sent(),n=er(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return qn(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return Kn(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return o=u.sent(),i=o.done,(a=o.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=i,[3,1];case 3:return[2,t]}}))}))}(e)},utf8Decoder:br.fromUtf8,utf8Encoder:br.toUtf8}),Pr=function(){return Pr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Pr.apply(this,arguments)};var Or=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var o=Promise.resolve(t);return function(){return o}}return t},kr=function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t,n,r,o,i;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(a){switch(a.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=a.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(o=(null!==(i=a.sent())&&void 0!==i?i:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+o)]}}))}))},Rr=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Nr=function(){return Nr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Nr.apply(this,arguments)};var Lr="content-length",Dr={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Mr=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t,o,i,a,s;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(u){return t=r.request,zt.isInstance(t)&&(o=t.body,i=t.headers,o&&-1===Object.keys(i).map((function(e){return e.toLowerCase()})).indexOf(Lr)&&void 0!==(a=e(o))&&(t.headers=Nr(Nr({},t.headers),((s={})[Lr]=String(a),s)))),[2,n(Nr(Nr({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),Dr)}}};var jr={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Ur=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,o;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(i){return zt.isInstance(n.request)?(r=n.request,(void 0===(o=(e.requestHandler.metadata||{}).handlerProtocol)?"":o).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),jr)}}};var Fr=function(){return function(e,t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(d){switch(d.label){case 0:return r=t.clientName,o=t.commandName,i=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(c,["$metadata"]),a.info({clientName:r,commandName:o,input:i(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}},zr={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Br=function(){return Br=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Br.apply(this,arguments)};var qr=function(){return qr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},qr.apply(this,arguments)};function Kr(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Gr(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function Hr(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vr(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}for(var $r={},Wr={},Yr=0;Yr<256;Yr++){var Zr=Yr.toString(16).toLowerCase();1===Zr.length&&(Zr="0"+Zr),$r[Yr]=Zr,Wr[Zr]=Yr}function Jr(e){for(var t="",n=0;n<e.byteLength;n++)t+=$r[e[n]];return t}var Xr="X-Amz-Date",Qr="X-Amz-Signature",eo="X-Amz-Security-Token",to="authorization",no=Xr.toLowerCase(),ro=[to,no,"date"],oo=Qr.toLowerCase(),io="x-amz-content-sha256",ao=eo.toLowerCase(),so={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},uo=/^proxy-/,co=/^sec-/,lo="AWS4-HMAC-SHA256",fo="AWS4-HMAC-SHA256-PAYLOAD",po="aws4_request",ho={},vo=[];function yo(e,t,n){return e+"/"+t+"/"+n+"/"+po}function mo(e,t,n){var r=new e(t);return r.update(n),r.digest()}function go(e,t,n){var r,o,i=e.headers,a={};try{for(var s=Hr(Object.keys(i).sort()),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.toLowerCase();(l in so||(null==t?void 0:t.has(l))||uo.test(l)||co.test(l))&&(!n||n&&!n.has(l))||(a[l]=i[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a}function bo(e,t){var n=e.headers,r=e.body;return Kr(this,void 0,void 0,(function(){var e,o,i,a,s,u,c;return Gr(this,(function(l){switch(l.label){case 0:try{for(e=Hr(Object.keys(n)),o=e.next();!o.done;o=e.next())if((i=o.value).toLowerCase()===io)return[2,n[i]]}catch(e){u={error:e}}finally{try{o&&!o.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=Jr,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function wo(e){var t=e.headers,n=e.query,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["headers","query"]);return qr(qr({},r),{headers:qr({},t),query:n?So(n):void 0})}function So(e){return Object.keys(e).reduce((function(t,n){var r,o=e[n];return qr(qr({},t),((r={})[n]=Array.isArray(o)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Vr(arguments[t]));return e}(o):o,r))}),{})}function Eo(e){var t,n;e="function"==typeof e.clone?e.clone():wo(e);try{for(var r=Hr(Object.keys(e.headers)),o=r.next();!o.done;o=r.next()){var i=o.value;ro.indexOf(i.toLowerCase())>-1&&delete e.headers[i]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}var _o=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,o=e.service,i=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=Io(r),this.credentialProvider=Ao(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Kr(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T;return Gr(this,(function(I){switch(I.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,o=t.expiresIn,i=void 0===o?3600:o,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=I.sent(),null==c?[3,2]:(p=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:p=I.sent(),I.label=4;case 4:return d=p,h=xo(r),v=h.longDate,y=h.shortDate,i>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(m=yo(y,d,null!=l?l:this.service),g=function(e,t){var n,r,o;void 0===t&&(t={});var i="function"==typeof e.clone?e.clone():wo(e),a=i.headers,s=i.query,u=void 0===s?{}:s;try{for(var c=Hr(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(o=t.unhoistableHeaders)||void 0===o?void 0:o.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return qr(qr({},e),{headers:a,query:u})}(Eo(e),{unhoistableHeaders:s}),f.sessionToken&&(g.query[eo]=f.sessionToken),g.query["X-Amz-Algorithm"]=lo,g.query["X-Amz-Credential"]=f.accessKeyId+"/"+m,g.query[Xr]=v,g.query["X-Amz-Expires"]=i.toString(10),b=go(g,a,u),g.query["X-Amz-SignedHeaders"]=To(b),w=g.query,S=Qr,E=this.getSignature,_=[v,m,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,T=[g,b],[4,bo(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,T.concat([I.sent()]))]))];case 6:return w[S]=I.sent(),[2,g]}}))}))},e.prototype.sign=function(e,t){return Kr(this,void 0,void 0,(function(){return Gr(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,o=t.signingDate,i=void 0===o?new Date:o,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return Kr(this,void 0,void 0,(function(){var e,t,o,c,l,f,d,p,h,v,y;return Gr(this,(function(m){switch(m.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=m.sent(),m.label=3;case 3:return e=t,o=xo(i),c=o.shortDate,l=o.longDate,f=yo(c,e,null!=u?u:this.service),[4,bo({headers:{},body:r},this.sha256)];case 4:return d=m.sent(),(p=new this.sha256).update(n),v=Jr,[4,p.digest()];case 5:return h=v.apply(void 0,[m.sent()]),y=[fo,l,f,a,h,d].join("\n"),[2,this.signString(y,{signingDate:i,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signingRegion,a=n.signingService;return Kr(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return Gr(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==i?[3,2]:(r=i,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=xo(o).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=Jr,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return Kr(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,p,h,v,y;return Gr(this,(function(m){switch(m.label){case 0:return[4,this.credentialProvider()];case 1:return t=m.sent(),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=m.sent(),m.label=4;case 4:return n=r,c=Eo(e),l=xo(o),f=l.longDate,d=l.shortDate,p=yo(d,n,null!=u?u:this.service),c.headers[no]=f,t.sessionToken&&(c.headers[ao]=t.sessionToken),[4,bo(c,this.sha256)];case 5:return h=m.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var o=Hr(Object.keys(t)),i=o.next();!i.done;i=o.next())if(e===i.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}(io,c.headers)&&this.applyChecksum&&(c.headers[io]=h),v=go(c,a,i),[4,this.getSignature(f,p,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,h))];case 6:return y=m.sent(),c.headers[to]=lo+" Credential="+t.accessKeyId+"/"+p+", SignedHeaders="+To(v)+", Signature="+y,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,o=void 0===r?{}:r,i=[],a={},s=function(e){if(e.toLowerCase()===oo)return"continue";i.push(e);var t=o[e];"string"==typeof t?a[e]=Gn(e)+"="+Gn(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([Gn(e)+"="+Gn(n)])}),[]).join("&"))};try{for(var u=Hr(Object.keys(o).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return i.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return Kr(this,void 0,void 0,(function(){var r,o;return Gr(this,(function(i){switch(i.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return o=i.sent(),[2,lo+"\n"+e+"\n"+t+"\n"+Jr(o)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return Kr(this,void 0,void 0,(function(){var o,i,a,s,u;return Gr(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return o=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(i=new(s.apply(a,[void 0,c.sent()]))).update(o),u=Jr,[4,i.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,o){return Kr(void 0,void 0,void 0,(function(){var i,a,s,u,c,l,f,d,p;return Gr(this,(function(h){switch(h.label){case 0:return[4,mo(e,t.secretAccessKey,t.accessKeyId)];case 1:if(i=h.sent(),(a=n+":"+r+":"+o+":"+Jr(i)+":"+t.sessionToken)in ho)return[2,ho[a]];for(vo.push(a);vo.length>50;)delete ho[vo.shift()];s="AWS4"+t.secretAccessKey,h.label=2;case 2:h.trys.push([2,7,8,9]),u=Hr([n,r,o,po]),c=u.next(),h.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,mo(e,s,l)]);case 4:s=h.sent(),h.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=h.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(p=u.return)&&p.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,ho[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),xo=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},To=function(e){return Object.keys(e).sort().join(";")},Io=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Ao=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function Co(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}var Po=function(){return Po=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Po.apply(this,arguments)};function Oo(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function ko(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Oo(arguments[t]));return e}var Ro="user-agent",No=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Lo=function(e){var t=Oo(e,2),n=t[0],r=t[1],o=n.indexOf("/"),i=n.substring(0,o),a=n.substring(o+1);return"api"===i&&(a=a.toLowerCase()),[i,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(No,"_")})).join("/")},Do={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Mo=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var o,i,a,s,u,c,l,f;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(d){switch(d.label){case 0:return o=r.request,zt.isInstance(o)?(i=o.headers,a=(null===(l=null==t?void 0:t.userAgent)||void 0===l?void 0:l.map(Lo))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=d.sent().map(Lo),u=(null===(f=null==n?void 0:n.customUserAgent)||void 0===f?void 0:f.map(Lo))||[],i["x-amz-user-agent"]=ko(s,a,u).join(" "),c=ko(s.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&c&&(i[Ro]=i[Ro]?i[Ro]+" "+c:c),[2,e(Po(Po({},r),{request:o}))]}}))}))}}),Do)}}},jo=function(e){function t(t){var n,r,o,i=this,a=function(e){if(!e.region)throw new Error("Region is missing");return Pr(Pr({},e),{region:Rr(e.region)})}(Ct(Ct({},Cr),t)),s=function(e){var t;return Pr(Pr({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?Or(e):function(){return kr(e)},isCustomEndpoint:!!e.endpoint})}(a),u=function(e){var t,n=this,r=Co(e.credentials||e.credentialDefaultProvider(e)),o=e.signingEscapePath,i=void 0===o||o,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?Co(e.signer):function(){return Co(e.region)().then((function(t){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(n,void 0,void 0,(function(){return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(t,2),o=n[0],a=n[1],s=o.signingRegion,c=o.signingService;return e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId,new _o({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:i})}))},Br(Br({},e),{systemClockOffset:s,signingEscapePath:i,credentials:r,signer:t})}(s),c=function(e){return Po(Po({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}((r=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}((n=u).maxAttempts),rr(rr({},n),{maxAttempts:r,retryStrategy:n.retryStrategy||new yr(r)})));return(i=e.call(this,c)||this).config=c,i.middlewareStack.use((o=i.config,{applyToStack:function(e){e.add(function(e){return function(t,n){return function(r){return or(void 0,void 0,void 0,(function(){var o;return ir(this,(function(i){return(null===(o=null==e?void 0:e.retryStrategy)||void 0===o?void 0:o.mode)&&(n.userAgent=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ar(arguments[t]));return e}(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(o),sr)}})),i.middlewareStack.use(Mr(i.config)),i.middlewareStack.use(Ur(i.config)),i.middlewareStack.use((i.config,{applyToStack:function(e){e.add(Fr(),zr)}})),i.middlewareStack.use(Mo(i.config)),i}return xe(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(In);function Uo(e){var t=new jo({region:e.region,customUserAgent:te()});return t.middlewareStack.add((function(e,t){return function(t){return e(function(e){return(0,o.__assign)((0,o.__assign)({},e),{request:(0,o.__assign)((0,o.__assign)({},e.request),{headers:(0,o.__assign)((0,o.__assign)({},e.request.headers),{"cache-control":"no-store"})})})}(t))}}),{step:"build",name:"cacheControlMiddleWare"}),t}var Fo,zo,Bo,qo,Ko,Go,Ho,Vo,$o,Wo,Yo,Zo,Jo,Xo,Qo,ei,ti,ni,ri,oi,ii,ai,si,ui,ci,li,fi,di,pi,hi,vi,yi,mi,gi,bi,wi,Si,Ei,_i,xi,Ti,Ii,Ai,Ci,Pi,Oi,ki,Ri,Ni,Li,Di,Mi,ji,Ui,Fi,zi,Bi,qi,Ki,Gi,Hi,Vi,$i,Wi,Yi,Zi,Ji,Xi,Qi,ea,ta,na,ra,oa,ia,aa,sa,ua,ca,la,fa,da,pa,ha,va,ya,ma,ga,ba,wa,Sa,Ea,_a,xa,Ta,Ia,Aa,Ca,Pa,Oa,ka,Ra,Na,La,Da,Ma,ja,Ua,Fa,za,Ba,qa,Ka,Ga,Ha,Va,$a,Wa,Ya,Za,Ja,Xa,Qa,es,ts,ns,rs,os,is,as,ss,us=new c("Credentials"),cs="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",ls=function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=ge.refreshGoogleToken,this._refreshHandlers.facebook=be.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=(0,o.__assign)((0,o.__assign)({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new oe).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),_.dispatch("core",{event:"credentials_configured",data:null,message:"Credentials has been configured successfully"},"Credentials",cs),this._config},e.prototype.get=function(){return us.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(e){return"CognitoIdentityId-"+e},e.prototype._pickupCredentials=function(){return us.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?us.debug("getting old cred promise"):(us.debug("getting new cred promise"),this._gettingCredPromise=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,o=e.then((function(e){return r=!0,t=!1,e}),(function(e){throw n=!0,t=!1,e}));return o.isFullfilled=function(){return r},o.isPending=function(){return t},o.isRejected=function(){return n},o}(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,a,s;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(us.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return us.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(us.debug("need to get a new credential or refresh the existing one"),t=this.Auth,!(n=void 0===t?d.Auth:t)||"function"!=typeof n.currentUserCredentials)return[2,this._setCredentialsForGuest()];if(this._isExpired(e)||!this._isPastTTL())return[3,6];us.debug("ttl has passed but token is not yet expired"),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return r=o.sent(),[4,n.currentSession()];case 3:return i=o.sent(),a=i.refreshToken,[4,new Promise((function(e,t){r.refreshSession(a,(function(n,r){return n?t(n):e(r)}))}))];case 4:return o.sent(),[3,6];case 5:return s=o.sent(),us.debug("Error attempting to refreshing the session",s),[3,6];case 6:return[2,n.currentUserCredentials()]}}))}))},e.prototype.refreshFederatedToken=function(e){us.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,o=e.identity_id,i=e.expires_at;i=1970===new Date(i).getFullYear()?1e3*i:i;var a=this;return us.debug("checking if federated jwt token expired"),i>(new Date).getTime()?(us.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:o,expires_at:i})):a._refreshHandlers[t]&&"function"==typeof a._refreshHandlers[t]?(us.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:a._refreshHandlers[t],provider:t,user:n})):(us.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,r=e.provider,o=e.user;return fe(n,[],1e4).then((function(e){return us.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:r,token:e.token,user:o,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){return"string"==typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),us.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)}))},e.prototype._isExpired=function(e){if(!e)return us.debug("no credentials for expiration check"),!0;us.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){var e;return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,a,s,u,c,l,f,d=this;return(0,o.__generator)(this,(function(p){switch(p.label){case 0:return us.debug("setting credentials for guest"),(null===(e=this._config)||void 0===e?void 0:e.identityPoolId)||(this._config=Object.assign({},this._config,T(this._config||{}).Auth)),t=this._config,n=t.identityPoolId,r=t.region,i=t.mandatorySignIn,a=t.identityPoolRegion,i?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:n?a||r?(u=this,[4,this._getGuestIdentityId()]):(us.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(us.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return s=u._identityId=p.sent(),c=Uo({region:a||r}),l=void 0,s?l=Dn({identityId:s,client:c})():(f=function(){return(0,o.__awaiter)(d,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,c.send(new Mn({IdentityPoolId:n}))];case 1:return e=t.sent().IdentityId,this._identityId=e,[2,Dn({client:c,identityId:e})()]}}))}))},l=f().catch((function(e){return(0,o.__awaiter)(d,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){throw e}))}))}))),[2,this._loadCredentials(l,"guest",!1,null).then((function(e){return e})).catch((function(e){return(0,o.__awaiter)(d,void 0,void 0,(function(){var t,r=this;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return"ResourceNotFoundException"!==e.name||e.message!=="Identity '"+s+"' not found."?[3,2]:(us.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]);case 1:return i.sent(),t=function(){return(0,o.__awaiter)(r,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,c.send(new Mn({IdentityPoolId:n}))];case 1:return e=t.sent().IdentityId,this._identityId=e,[2,Dn({client:c,identityId:e})()]}}))}))},l=t().catch((function(e){return(0,o.__awaiter)(r,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){throw e}))}))})),[2,this._loadCredentials(l,"guest",!1,null)];case 2:return[2,e]}}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,r=e.identity_id,o={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t;if(!o)return Promise.reject("You must specify a federated provider");var i={};i[o]=n;var a=this._config,s=a.identityPoolId,u=a.region,c=a.identityPoolRegion;if(!s)return us.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!c&&!u)return us.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var l=Uo({region:c||u}),f=void 0;return f=r?Dn({identityId:r,logins:i,client:l})():function(e){var t=this,n=e.accountId,r=e.cache,o=void 0===r?"object"==typeof self&&self.indexedDB?new Un:"object"==typeof window&&window.localStorage?window.localStorage:zn:r,i=e.client,a=e.customRoleArn,s=e.identityPoolId,u=e.logins,c=e.userIdentifier,l=void 0===c?u&&0!==Object.keys(u).length?void 0:"ANONYMOUS":c,f=l?"aws:cognito-identity-credentials:"+s+":"+l:void 0,d=function(){return Se(t,void 0,void 0,(function(){var e,t,r,c,l,p,h,v,y;return Ee(this,(function(m){switch(m.label){case 0:return(t=f)?[4,o.getItem(f)]:[3,2];case 1:t=m.sent(),m.label=2;case 2:return(e=t)?[3,7]:(p=(l=i).send,h=Mn.bind,y={AccountId:n,IdentityPoolId:s},u?[4,Ln(u)]:[3,4]);case 3:return v=m.sent(),[3,5];case 4:v=void 0,m.label=5;case 5:return[4,p.apply(l,[new(h.apply(Mn,[void 0,(y.Logins=v,y)]))])];case 6:r=m.sent().IdentityId,c=void 0===r?function(){throw new Nn("Response from Amazon Cognito contained no identity ID")}():r,e=c,f&&Promise.resolve(o.setItem(f,e)).catch((function(){})),m.label=7;case 7:return[2,(d=Dn({client:i,customRoleArn:a,logins:u,identityId:e}))()]}}))}))};return function(){return d().catch((function(e){return Se(t,void 0,void 0,(function(){return Ee(this,(function(t){throw f&&Promise.resolve(o.removeItem(f)).catch((function(){})),e}))}))}))}}({logins:i,identityPoolId:s,client:l})(),this._loadCredentials(f,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;us.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,i=r.region,a=r.userPoolId,s=r.identityPoolId,u=r.identityPoolRegion;if(!s)return us.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!u&&!i)return us.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c={};c["cognito-idp."+i+".amazonaws.com/"+a]=n;var l=Uo({region:u||i}),f=(0,o.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r,i,a,u,f,d,p;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,this._getGuestIdentityId()];case 1:return(e=o.sent())?[3,3]:[4,l.send(new Mn({IdentityPoolId:s,Logins:c}))];case 2:n=o.sent().IdentityId,t=n,o.label=3;case 3:return[4,l.send(new Rn({IdentityId:e||t,Logins:c}))];case 4:return r=o.sent(),i=r.Credentials,a=i.AccessKeyId,u=i.Expiration,f=i.SecretKey,d=i.SessionToken,p=r.IdentityId,this._identityId=p,e?(us.debug("The guest identity "+e+" has been successfully linked to the logins"),e===p&&us.debug("The guest identity "+e+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:o.sent(),o.label=6;case 6:return[2,{accessKeyId:a,secretAccessKey:f,sessionToken:d,expiration:u,identityId:p}]}}))})).catch((function(e){return(0,o.__awaiter)(t,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){throw e}))}))}));return this._loadCredentials(f,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var i=this,a=this;return new Promise((function(s,u){e.then((function(e){return(0,o.__awaiter)(i,void 0,void 0,(function(){var i,u,c,l,f;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(us.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),a._credentials=e,a._credentials.authenticated=n,a._credentials_source=t,a._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){i=Object.assign({id:this._credentials.identityId},r.user),u=r.provider,c=r.token,l=r.expires_at,f=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:u,token:c,user:i,expires_at:l,identity_id:f}))}catch(e){us.debug("Failed to put federated info into auth storage",e)}}return"guest"!==t?[3,2]:[4,this._setGuestIdentityId(e.identityId)];case 1:o.sent(),o.label=2;case 2:return s(a._credentials),[2]}}))}))})).catch((function(t){if(t)return us.debug("Failed to load credentials",e),us.debug("Error loading credentials",t),void u(t)}))}))},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(us.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){return this._credentials=null,this._credentials_source=null,us.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]}))}))},e.prototype._getGuestIdentityId=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:e=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=n.sent(),us.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}}))}))},e.prototype._setGuestIdentityId=function(e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:t=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return n=r.sent(),us.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}}))}))},e.prototype._removeGuestIdentityId=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(t){return e=this._config.identityPoolId,us.debug("removing "+this._getCognitoIdentityIdStorageKey(e)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}(),fs=new ls(null);d.register(fs),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Fo||(Fo={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(zo||(zo={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Bo||(Bo={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(qo||(qo={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ko||(Ko={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Go||(Go={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ho||(Ho={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Vo||(Vo={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}($o||($o={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Wo||(Wo={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Yo||(Yo={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Zo||(Zo={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Jo||(Jo={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Xo||(Xo={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Qo||(Qo={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ei||(ei={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ti||(ti={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ni||(ni={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ri||(ri={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(oi||(oi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ii||(ii={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ai||(ai={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(si||(si={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ui||(ui={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ci||(ci={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(li||(li={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(fi||(fi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(di||(di={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(pi||(pi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(hi||(hi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(vi||(vi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(yi||(yi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(mi||(mi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(gi||(gi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(bi||(bi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(wi||(wi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Si||(Si={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ei||(Ei={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(_i||(_i={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(xi||(xi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ti||(Ti={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ii||(Ii={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ai||(Ai={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ci||(Ci={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Pi||(Pi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Oi||(Oi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ki||(ki={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ri||(Ri={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ni||(Ni={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Li||(Li={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Di||(Di={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Mi||(Mi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ji||(ji={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ui||(Ui={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Fi||(Fi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(zi||(zi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Bi||(Bi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(qi||(qi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ki||(Ki={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Gi||(Gi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Hi||(Hi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Vi||(Vi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}($i||($i={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Wi||(Wi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Yi||(Yi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Zi||(Zi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ji||(Ji={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Xi||(Xi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Qi||(Qi={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ea||(ea={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ta||(ta={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(na||(na={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ra||(ra={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(oa||(oa={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ia||(ia={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(aa||(aa={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(sa||(sa={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ua||(ua={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ca||(ca={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(la||(la={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(fa||(fa={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(da||(da={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(pa||(pa={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ha||(ha={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(va||(va={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ya||(ya={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ma||(ma={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ga||(ga={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ba||(ba={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(wa||(wa={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Sa||(Sa={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ea||(Ea={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(_a||(_a={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(xa||(xa={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ta||(Ta={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ia||(Ia={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Aa||(Aa={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ca||(Ca={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Pa||(Pa={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Oa||(Oa={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ka||(ka={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ra||(Ra={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Na||(Na={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(La||(La={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Da||(Da={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ma||(Ma={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ja||(ja={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ua||(Ua={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Fa||(Fa={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(za||(za={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ba||(Ba={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(qa||(qa={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ka||(Ka={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ga||(Ga={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ha||(Ha={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Va||(Va={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}($a||($a={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Wa||(Wa={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ya||(Ya={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Za||(Za={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ja||(Ja={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Xa||(Xa={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Qa||(Qa={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(es||(es={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ts||(ts={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ns||(ns={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(rs||(rs={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(os||(os={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(is||(is={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(as||(as={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ss||(ss={}));var ds=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),ps=function(){return ps=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ps.apply(this,arguments)};function hs(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var vs=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(ps(ps({},this),{headers:ps({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return ps(ps({},e),((r={})[n]=Array.isArray(o)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(hs(arguments[t]));return e}(o):o,r))}),{}))),n},e}(),ys=function(){return ys=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ys.apply(this,arguments)};function ms(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function gs(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ms(arguments[t]));return e}var bs=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,ys({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,ys({},e))})),n},o=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,gs(o(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,gs(o(e)))})),t},i={add:function(t,r){void 0===r&&(r={});var o=r.name,i=r.override,a=ys({step:"initialize",priority:"normal",middleware:t},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '"+o+"'");var s=e.findIndex((function(e){return e.name===o})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'+o+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");e.splice(s,1)}n.add(o)}e.push(a)},addRelativeTo:function(e,r){var o=r.name,i=r.override,a=ys({middleware:e},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '"+o+"'");var s=t.findIndex((function(e){return e.name===o})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'+o+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');t.splice(s,1)}n.add(o)}t.push(a)},clone:function(){return r(bs())},use:function(e){e.applyToStack(i)},remove:function(r){return"string"==typeof r?function(r){var o=!1,i=function(e){return!e.name||e.name!==r||(o=!0,n.delete(r),!1)};return e=e.filter(i),t=t.filter(i),o}(r):function(r){var o=!1,i=function(e){return e.middleware!==r||(o=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(i),t=t.filter(i),o}(r)},removeByTag:function(r){var o=!1,i=function(e){var t=e.tags,i=e.name;return!t||!t.includes(r)||(i&&n.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:function(e){var t=r(bs());return t.use(e),t},applyToStack:r,resolve:function(n,r){var i,a;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(){var n=[],r=[],i={};e.forEach((function(e){var t=ys(ys({},e),{before:[],after:[]});t.name&&(i[t.name]=t),n.push(t)})),t.forEach((function(e){var t=ys(ys({},e),{before:[],after:[]});t.name&&(i[t.name]=t),r.push(t)})),r.forEach((function(e){if(e.toMiddleware){var t=i[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var a,s=(a=n,a.sort((function(e,t){return ws[t.step]-ws[e.step]||Ss[t.priority||"normal"]-Ss[e.priority||"normal"]}))).map(o).reduce((function(e,t){return e.push.apply(e,gs(t)),e}),[]);return s.map((function(e){return e.middleware}))}().reverse()),u=s.next();!u.done;u=s.next())n=(0,u.value)(n,r)}catch(e){i={error:e}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return n}};return i},ws={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Ss={high:3,normal:2,low:1},Es=function(){function e(e){this.middlewareStack=bs(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return i(e).then((function(e){return e.output}));i(e).then((function(e){return o(null,e.output)}),(function(e){return o(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),_s=function(){this.middlewareStack=bs()};function xs(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}var Ts=function(e,t){return Ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Ts(e,t)};function Is(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function As(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Is(arguments[t]));return e}var Cs=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,As([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};Cs.prototype=Object.create(String.prototype,{constructor:{value:Cs,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(Cs,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){function n(){this.constructor=e}Ts(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(Cs);var Ps=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v;return kt(this,(function(y){switch(y.label){case 0:return r=[Ct({},e)],v={},[4,Xs(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(v.body=y.sent(),v)])),i="UnknownError",i=Qs(e,n.body)){case"BadRequestException":case"com.amazonaws.pinpoint#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.pinpoint#ForbiddenException":return[3,4];case"InternalServerErrorException":case"com.amazonaws.pinpoint#InternalServerErrorException":return[3,6];case"MethodNotAllowedException":case"com.amazonaws.pinpoint#MethodNotAllowedException":return[3,8];case"NotFoundException":case"com.amazonaws.pinpoint#NotFoundException":return[3,10];case"PayloadTooLargeException":case"com.amazonaws.pinpoint#PayloadTooLargeException":return[3,12];case"TooManyRequestsException":case"com.amazonaws.pinpoint#TooManyRequestsException":return[3,14]}return[3,16];case 2:return a=[{}],[4,ks(n,t)];case 3:return o=Ct.apply(void 0,[Ct.apply(void 0,a.concat([y.sent()])),{name:i,$metadata:Js(e)}]),[3,17];case 4:return s=[{}],[4,Rs(n,t)];case 5:return o=Ct.apply(void 0,[Ct.apply(void 0,s.concat([y.sent()])),{name:i,$metadata:Js(e)}]),[3,17];case 6:return u=[{}],[4,Ns(n,t)];case 7:return o=Ct.apply(void 0,[Ct.apply(void 0,u.concat([y.sent()])),{name:i,$metadata:Js(e)}]),[3,17];case 8:return c=[{}],[4,Ls(n,t)];case 9:return o=Ct.apply(void 0,[Ct.apply(void 0,c.concat([y.sent()])),{name:i,$metadata:Js(e)}]),[3,17];case 10:return l=[{}],[4,Ds(n,t)];case 11:return o=Ct.apply(void 0,[Ct.apply(void 0,l.concat([y.sent()])),{name:i,$metadata:Js(e)}]),[3,17];case 12:return f=[{}],[4,Ms(n,t)];case 13:return o=Ct.apply(void 0,[Ct.apply(void 0,f.concat([y.sent()])),{name:i,$metadata:Js(e)}]),[3,17];case 14:return d=[{}],[4,js(n,t)];case 15:return o=Ct.apply(void 0,[Ct.apply(void 0,d.concat([y.sent()])),{name:i,$metadata:Js(e)}]),[3,17];case 16:p=n.body,i=p.code||p.Code||i,o=Ct(Ct({},p),{name:""+i,message:p.message||p.Message||i,$fault:"client",$metadata:Js(e)}),y.label=17;case 17:return h=o.message||o.Message||i,o.message=h,delete o.Message,[2,Promise.reject(Object.assign(new Error(h),o))]}}))}))},Os=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v;return kt(this,(function(y){switch(y.label){case 0:return r=[Ct({},e)],v={},[4,Xs(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(v.body=y.sent(),v)])),i="UnknownError",i=Qs(e,n.body)){case"BadRequestException":case"com.amazonaws.pinpoint#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.pinpoint#ForbiddenException":return[3,4];case"InternalServerErrorException":case"com.amazonaws.pinpoint#InternalServerErrorException":return[3,6];case"MethodNotAllowedException":case"com.amazonaws.pinpoint#MethodNotAllowedException":return[3,8];case"NotFoundException":case"com.amazonaws.pinpoint#NotFoundException":return[3,10];case"PayloadTooLargeException":case"com.amazonaws.pinpoint#PayloadTooLargeException":return[3,12];case"TooManyRequestsException":case"com.amazonaws.pinpoint#TooManyRequestsException":return[3,14]}return[3,16];case 2:return a=[{}],[4,ks(n,t)];case 3:return o=Ct.apply(void 0,[Ct.apply(void 0,a.concat([y.sent()])),{name:i,$metadata:Js(e)}]),[3,17];case 4:return s=[{}],[4,Rs(n,t)];case 5:return o=Ct.apply(void 0,[Ct.apply(void 0,s.concat([y.sent()])),{name:i,$metadata:Js(e)}]),[3,17];case 6:return u=[{}],[4,Ns(n,t)];case 7:return o=Ct.apply(void 0,[Ct.apply(void 0,u.concat([y.sent()])),{name:i,$metadata:Js(e)}]),[3,17];case 8:return c=[{}],[4,Ls(n,t)];case 9:return o=Ct.apply(void 0,[Ct.apply(void 0,c.concat([y.sent()])),{name:i,$metadata:Js(e)}]),[3,17];case 10:return l=[{}],[4,Ds(n,t)];case 11:return o=Ct.apply(void 0,[Ct.apply(void 0,l.concat([y.sent()])),{name:i,$metadata:Js(e)}]),[3,17];case 12:return f=[{}],[4,Ms(n,t)];case 13:return o=Ct.apply(void 0,[Ct.apply(void 0,f.concat([y.sent()])),{name:i,$metadata:Js(e)}]),[3,17];case 14:return d=[{}],[4,js(n,t)];case 15:return o=Ct.apply(void 0,[Ct.apply(void 0,d.concat([y.sent()])),{name:i,$metadata:Js(e)}]),[3,17];case 16:p=n.body,i=p.code||p.Code||i,o=Ct(Ct({},p),{name:""+i,message:p.message||p.Message||i,$fault:"client",$metadata:Js(e)}),y.label=17;case 17:return h=o.message||o.Message||i,o.message=h,delete o.Message,[2,Promise.reject(Object.assign(new Error(h),o))]}}))}))},ks=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n;return kt(this,(function(r){return t={name:"BadRequestException",$fault:"client",$metadata:Js(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},Rs=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n;return kt(this,(function(r){return t={name:"ForbiddenException",$fault:"client",$metadata:Js(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},Ns=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n;return kt(this,(function(r){return t={name:"InternalServerErrorException",$fault:"server",$metadata:Js(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},Ls=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n;return kt(this,(function(r){return t={name:"MethodNotAllowedException",$fault:"client",$metadata:Js(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},Ds=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n;return kt(this,(function(r){return t={name:"NotFoundException",$fault:"client",$metadata:Js(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},Ms=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n;return kt(this,(function(r){return t={name:"PayloadTooLargeException",$fault:"client",$metadata:Js(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},js=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n;return kt(this,(function(r){return t={name:"TooManyRequestsException",$fault:"client",$metadata:Js(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},Us=function(e,t){return Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct({},void 0!==e.AppVersion&&null!==e.AppVersion&&{AppVersion:e.AppVersion}),void 0!==e.Locale&&null!==e.Locale&&{Locale:e.Locale}),void 0!==e.Make&&null!==e.Make&&{Make:e.Make}),void 0!==e.Model&&null!==e.Model&&{Model:e.Model}),void 0!==e.ModelVersion&&null!==e.ModelVersion&&{ModelVersion:e.ModelVersion}),void 0!==e.Platform&&null!==e.Platform&&{Platform:e.Platform}),void 0!==e.PlatformVersion&&null!==e.PlatformVersion&&{PlatformVersion:e.PlatformVersion}),void 0!==e.Timezone&&null!==e.Timezone&&{Timezone:e.Timezone})},Fs=function(e,t){return Ct(Ct(Ct(Ct(Ct(Ct({},void 0!==e.City&&null!==e.City&&{City:e.City}),void 0!==e.Country&&null!==e.Country&&{Country:e.Country}),void 0!==e.Latitude&&null!==e.Latitude&&{Latitude:e.Latitude}),void 0!==e.Longitude&&null!==e.Longitude&&{Longitude:e.Longitude}),void 0!==e.PostalCode&&null!==e.PostalCode&&{PostalCode:e.PostalCode}),void 0!==e.Region&&null!==e.Region&&{Region:e.Region})},zs=function(e,t){return Ct(Ct({},void 0!==e.UserAttributes&&null!==e.UserAttributes&&{UserAttributes:Hs(e.UserAttributes,t)}),void 0!==e.UserId&&null!==e.UserId&&{UserId:e.UserId})},Bs=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Nt(t,2),o=r[0],i=r[1];return null===i?e:Ct(Ct({},e),((n={})[o]=i,n))}),{})},qs=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Nt(t,2),o=r[0],i=r[1];return null===i?e:Ct(Ct({},e),((n={})[o]=i,n))}),{})},Ks=function(e,t){return Object.entries(e).reduce((function(e,n){var r,o=Nt(n,2),i=o[0],a=o[1];return null===a?e:Ct(Ct({},e),((r={})[i]=function(e,t){return Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct({},void 0!==e.AppPackageName&&null!==e.AppPackageName&&{AppPackageName:e.AppPackageName}),void 0!==e.AppTitle&&null!==e.AppTitle&&{AppTitle:e.AppTitle}),void 0!==e.AppVersionCode&&null!==e.AppVersionCode&&{AppVersionCode:e.AppVersionCode}),void 0!==e.Attributes&&null!==e.Attributes&&{Attributes:qs(e.Attributes)}),void 0!==e.ClientSdkVersion&&null!==e.ClientSdkVersion&&{ClientSdkVersion:e.ClientSdkVersion}),void 0!==e.EventType&&null!==e.EventType&&{EventType:e.EventType}),void 0!==e.Metrics&&null!==e.Metrics&&{Metrics:Bs(e.Metrics,t)}),void 0!==e.SdkName&&null!==e.SdkName&&{SdkName:e.SdkName}),void 0!==e.Session&&null!==e.Session&&{Session:$s(e.Session,t)}),void 0!==e.Timestamp&&null!==e.Timestamp&&{Timestamp:e.Timestamp})}(a,t),r))}),{})},Gs=function(e,t){return Object.entries(e).reduce((function(e,n){var r,o=Nt(n,2),i=o[0],a=o[1];return null===a?e:Ct(Ct({},e),((r={})[i]=function(e,t){return Ct(Ct({},void 0!==e.Endpoint&&null!==e.Endpoint&&{Endpoint:Vs(e.Endpoint,t)}),void 0!==e.Events&&null!==e.Events&&{Events:Ks(e.Events,t)})}(a,t),r))}),{})},Hs=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Nt(t,2),o=r[0],i=r[1];return null===i?e:Ct(Ct({},e),((n={})[o]=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:e}))}(i),n))}),{})},Vs=function(e,t){return Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct({},void 0!==e.Address&&null!==e.Address&&{Address:e.Address}),void 0!==e.Attributes&&null!==e.Attributes&&{Attributes:Hs(e.Attributes,t)}),void 0!==e.ChannelType&&null!==e.ChannelType&&{ChannelType:e.ChannelType}),void 0!==e.Demographic&&null!==e.Demographic&&{Demographic:Us(e.Demographic)}),void 0!==e.EffectiveDate&&null!==e.EffectiveDate&&{EffectiveDate:e.EffectiveDate}),void 0!==e.EndpointStatus&&null!==e.EndpointStatus&&{EndpointStatus:e.EndpointStatus}),void 0!==e.Location&&null!==e.Location&&{Location:Fs(e.Location)}),void 0!==e.Metrics&&null!==e.Metrics&&{Metrics:Bs(e.Metrics,t)}),void 0!==e.OptOut&&null!==e.OptOut&&{OptOut:e.OptOut}),void 0!==e.RequestId&&null!==e.RequestId&&{RequestId:e.RequestId}),void 0!==e.User&&null!==e.User&&{User:zs(e.User,t)})},$s=function(e,t){return Ct(Ct(Ct(Ct({},void 0!==e.Duration&&null!==e.Duration&&{Duration:e.Duration}),void 0!==e.Id&&null!==e.Id&&{Id:e.Id}),void 0!==e.StartTimestamp&&null!==e.StartTimestamp&&{StartTimestamp:e.StartTimestamp}),void 0!==e.StopTimestamp&&null!==e.StopTimestamp&&{StopTimestamp:e.StopTimestamp})},Ws=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0,StatusCode:void 0!==e.StatusCode&&null!==e.StatusCode?e.StatusCode:void 0}},Ys=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Nt(t,2),o=r[0],i=r[1];return null===i?e:Ct(Ct({},e),((n={})[o]=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0,StatusCode:void 0!==e.StatusCode&&null!==e.StatusCode?e.StatusCode:void 0}}(i),n))}),{})},Zs=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Nt(t,2),o=r[0],i=r[1];return null===i?e:Ct(Ct({},e),((n={})[o]=function(e,t){return{EndpointItemResponse:void 0!==e.EndpointItemResponse&&null!==e.EndpointItemResponse?Ws(e.EndpointItemResponse):void 0,EventsItemResponse:void 0!==e.EventsItemResponse&&null!==e.EventsItemResponse?Ys(e.EventsItemResponse):void 0}}(i),n))}),{})},Js=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Xs=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Qs=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==o?r(e.headers[o]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},eu=function(){return eu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},eu.apply(this,arguments)};function tu(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function nu(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var ru={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},ou={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function iu(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return tu(void 0,void 0,void 0,(function(){var o,i;return nu(this,(function(a){switch(a.label){case 0:return[4,n(r)];case 1:return o=a.sent().response,[4,t(o,e)];case 2:return i=a.sent(),[2,{response:o,output:i}]}}))}))}}}(e,n),ru),r.add(function(e,t){return function(n,r){return function(r){return tu(void 0,void 0,void 0,(function(){var o;return nu(this,(function(i){switch(i.label){case 0:return[4,t(r.input,e)];case 1:return o=i.sent(),[2,n(eu(eu({},r),{request:o}))]}}))}))}}}(e,t),ou)}}}var au=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(iu(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"PinpointClient",commandName:"PutEventsCommand",inputFilterSensitiveLog:Yi.filterSensitiveLog,outputFilterSensitiveLog:Zi.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:if(n={"content-type":"application/json"},r="/v1/apps/{ApplicationId}/events",void 0===e.ApplicationId)throw new Error("No value provided for input HTTP label: ApplicationId.");if((o=e.ApplicationId).length<=0)throw new Error("Empty value provided for input HTTP label: ApplicationId.");return r=r.replace("{ApplicationId}",xs(o)),void 0!==e.EventsRequest&&(i=function(e,t){return Ct({},void 0!==e.BatchItem&&null!==e.BatchItem&&{BatchItem:Gs(e.BatchItem,t)})}(e.EventsRequest,t)),void 0===i&&(i={}),i=JSON.stringify(i),[4,t.endpoint()];case 1:return a=f.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new vs({protocol:c,hostname:s,port:l,method:"POST",headers:n,path:r,body:i})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){switch(o.label){case 0:return 202!==e.statusCode&&e.statusCode>=300?[2,Ps(e,t)]:(n={$metadata:Js(e),EventsResponse:void 0},[4,Xs(e.body,t)]);case 1:return r=o.sent(),n.EventsResponse=function(e,t){return{Results:void 0!==e.Results&&null!==e.Results?Zs(e.Results,t):void 0}}(r,t),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(_s),su=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(iu(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"PinpointClient",commandName:"UpdateEndpointCommand",inputFilterSensitiveLog:Ra.filterSensitiveLog,outputFilterSensitiveLog:Na.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:if(n={"content-type":"application/json"},r="/v1/apps/{ApplicationId}/endpoints/{EndpointId}",void 0===e.ApplicationId)throw new Error("No value provided for input HTTP label: ApplicationId.");if((o=e.ApplicationId).length<=0)throw new Error("Empty value provided for input HTTP label: ApplicationId.");if(r=r.replace("{ApplicationId}",xs(o)),void 0===e.EndpointId)throw new Error("No value provided for input HTTP label: EndpointId.");if((o=e.EndpointId).length<=0)throw new Error("Empty value provided for input HTTP label: EndpointId.");return r=r.replace("{EndpointId}",xs(o)),void 0!==e.EndpointRequest&&(i=function(e,t){return Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct({},void 0!==e.Address&&null!==e.Address&&{Address:e.Address}),void 0!==e.Attributes&&null!==e.Attributes&&{Attributes:Hs(e.Attributes,t)}),void 0!==e.ChannelType&&null!==e.ChannelType&&{ChannelType:e.ChannelType}),void 0!==e.Demographic&&null!==e.Demographic&&{Demographic:Us(e.Demographic)}),void 0!==e.EffectiveDate&&null!==e.EffectiveDate&&{EffectiveDate:e.EffectiveDate}),void 0!==e.EndpointStatus&&null!==e.EndpointStatus&&{EndpointStatus:e.EndpointStatus}),void 0!==e.Location&&null!==e.Location&&{Location:Fs(e.Location)}),void 0!==e.Metrics&&null!==e.Metrics&&{Metrics:Bs(e.Metrics,t)}),void 0!==e.OptOut&&null!==e.OptOut&&{OptOut:e.OptOut}),void 0!==e.RequestId&&null!==e.RequestId&&{RequestId:e.RequestId}),void 0!==e.User&&null!==e.User&&{User:zs(e.User,t)})}(e.EndpointRequest,t)),void 0===i&&(i={}),i=JSON.stringify(i),[4,t.endpoint()];case 1:return a=f.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new vs({protocol:c,hostname:s,port:l,method:"PUT",headers:n,path:r,body:i})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){switch(o.label){case 0:return 202!==e.statusCode&&e.statusCode>=300?[2,Os(e,t)]:(n={$metadata:Js(e),MessageBody:void 0},[4,Xs(e.body,t)]);case 1:return r=o.sent(),n.MessageBody=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0,RequestID:void 0!==e.RequestID&&null!==e.RequestID?e.RequestID:void 0}}(r),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(_s),uu=n(4391);function cu(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function lu(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var fu=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,du)},du=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()},pu=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var o=new Error("Request aborted");return o.name="AbortError",Promise.reject(o)}var i=e.path;if(e.query){var a=function(e){var t,n,r=[];try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e).sort()),i=o.next();!i.done;i=o.next()){var a=i.value,s=e[a];if(a=fu(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push(a+"="+fu(s[u]));else{var l=a;(s||"string"==typeof s)&&(l+="="+fu(s)),r.push(l)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.join("&")}(e.query);a&&(i+="?"+a)}var s=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(s?":"+s:"")+i,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var f,d=new Request(c,l),p=[fetch(d).then((function(e){var t,n,r=e.headers,o={};try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r.entries()),a=i.next();!a.done;a=i.next()){var s=a.value;o[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new ds({headers:o,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new ds({headers:o,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&p.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(p)},e}();function hu(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var o=null!==(e=r.result)&&void 0!==e?e:"",i=o.indexOf(","),a=i>-1?i+1:o.length;t(o.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var vu=function(){return vu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},vu.apply(this,arguments)};function yu(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function mu(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function gu(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var bu={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},wu=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Su=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Eu=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],_u=[500,502,503,504],xu=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||Su.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},Tu=n(9755),Iu=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},Au=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return wu.includes(e.name)}(e)||xu(e)||function(e){var t;return Eu.includes(e.name)||_u.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},Cu=function(){function e(e,t){var n,r,o,i,a,s,u;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:Au,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:Iu,this.retryQuota=null!==(o=null==t?void 0:t.retryQuota)&&void 0!==o?o:(i=500,a=500,s=function(e){return"TimeoutError"===e.name?10:5},u=function(e){return s(e)<=a},Object.freeze({hasRetryTokens:u,retrieveRetryTokens:function(e){if(!u(e))throw new Error("No retry token available");var t=s(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,i)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return yu(this,void 0,void 0,(function(){var e;return mu(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return yu(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return mu(this,(function(l){switch(l.label){case 0:return r=0,o=0,[4,this.getMaxAttempts()];case 1:i=l.sent(),a=t.request,vs.isInstance(a)&&(a.headers["amz-sdk-invocation-id"]=(0,Tu.v4)()),s=function(){var s,c,l,f,d;return mu(this,(function(p){switch(p.label){case 0:return p.trys.push([0,2,,5]),vs.isInstance(a)&&(a.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+i),[4,e(t)];case 1:return s=p.sent(),c=s.response,l=s.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=o,[2,{value:{response:c,output:l}}];case 2:return f=p.sent(),r++,u.shouldRetry(f,r,i)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(xu(f)?500:100,r),o+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return p.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=o,f;case 5:return[2]}}))},u=this,l.label=2;case 2:return[5,s()];case 3:return"object"==typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}();var Pu=n(8067),Ou="pinpoint.{region}.amazonaws.com",ku=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Ru=new Set(["cn-north-1","cn-northwest-1"]),Nu=new Set(["us-iso-east-1"]),Lu=new Set(["us-isob-east-1"]),Du=new Set(["us-gov-east-1","us-gov-west-1"]);function Mu(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var ju={apiVersion:"2016-12-01",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"pinpoint.ap-northeast-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-northeast-2":n={hostname:"pinpoint.ap-northeast-2.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-south-1":n={hostname:"pinpoint.ap-south-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-southeast-1":n={hostname:"pinpoint.ap-southeast-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-southeast-2":n={hostname:"pinpoint.ap-southeast-2.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ca-central-1":n={hostname:"pinpoint.ca-central-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"eu-central-1":n={hostname:"pinpoint.eu-central-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"eu-west-1":n={hostname:"pinpoint.eu-west-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"eu-west-2":n={hostname:"pinpoint.eu-west-2.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"fips-us-east-1":n={hostname:"pinpoint-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-gov-west-1":n={hostname:"pinpoint-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":n={hostname:"pinpoint-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"us-east-1":n={hostname:"pinpoint.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"us-gov-west-1":n={hostname:"pinpoint.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-west-2":n={hostname:"pinpoint.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;default:ku.has(e)&&(n={hostname:Ou.replace("{region}",e),partition:"aws",signingService:"mobiletargeting"}),Ru.has(e)&&(n={hostname:"pinpoint.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),Nu.has(e)&&(n={hostname:"pinpoint.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),Lu.has(e)&&(n={hostname:"pinpoint.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Du.has(e)&&(n={hostname:"pinpoint.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov",signingService:"mobiletargeting"}),void 0===n&&(n={hostname:Ou.replace("{region}",e),partition:"aws",signingService:"mobiletargeting"})}return Promise.resolve(Ct({signingService:"mobiletargeting"},n))},serviceId:"Pinpoint",urlParser:function(e){var t,n=new URL(e),r=n.hostname,o=n.pathname,i=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.split("&")),i=o.next();!i.done;i=o.next()){var a=Mu(i.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:i?parseInt(i):void 0,protocol:a,path:o,query:t}}},Uu=Ct(Ct({},ju),{runtime:"browser",base64Decoder:er,base64Encoder:tr,bodyLengthChecker:function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0},credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:function(e){var t=e.serviceId,n=e.clientVersion;return function(){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e,r,o,i,a,s,u,c,l;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(f){return e=(null===(o=null===window||void 0===window?void 0:window.navigator)||void 0===o?void 0:o.userAgent)?gr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(i=null==e?void 0:e.os)||void 0===i?void 0:i.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser",(null!==(u=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown")+"_"+(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}}({serviceId:ju.serviceId,clientVersion:"3.6.1"}),maxAttempts:3,region:function(){return Promise.reject("Region is missing")},requestHandler:new pu,sha256:uu.Sha256,streamCollector:function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return cu(this,void 0,void 0,(function(){var t,n;return lu(this,(function(r){switch(r.label){case 0:return[4,hu(e)];case 1:return t=r.sent(),n=er(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return cu(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return lu(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return o=u.sent(),i=o.done,(a=o.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=i,[3,1];case 3:return[2,t]}}))}))}(e)},utf8Decoder:Pu.fromUtf8,utf8Encoder:Pu.toUtf8}),Fu=function(){return Fu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Fu.apply(this,arguments)};var zu=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var o=Promise.resolve(t);return function(){return o}}return t},Bu=function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t,n,r,o,i;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(a){switch(a.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=a.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(o=(null!==(i=a.sent())&&void 0!==i?i:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+o)]}}))}))},qu=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Ku=function(){return Ku=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ku.apply(this,arguments)};var Gu="content-length",Hu={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Vu=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t,o,i,a,s;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(u){return t=r.request,vs.isInstance(t)&&(o=t.body,i=t.headers,o&&-1===Object.keys(i).map((function(e){return e.toLowerCase()})).indexOf(Gu)&&void 0!==(a=e(o))&&(t.headers=Ku(Ku({},t.headers),((s={})[Gu]=String(a),s)))),[2,n(Ku(Ku({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),Hu)}}};var $u={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Wu=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,o;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(i){return vs.isInstance(n.request)?(r=n.request,(void 0===(o=(e.requestHandler.metadata||{}).handlerProtocol)?"":o).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),$u)}}};var Yu=function(){return function(e,t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(d){switch(d.label){case 0:return r=t.clientName,o=t.commandName,i=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(c,["$metadata"]),a.info({clientName:r,commandName:o,input:i(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}},Zu={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Ju=function(){return Ju=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ju.apply(this,arguments)};function Xu(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Qu(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var ec=function(){return ec=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ec.apply(this,arguments)};function tc(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function nc(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function rc(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function oc(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}for(var ic={},ac={},sc=0;sc<256;sc++){var uc=sc.toString(16).toLowerCase();1===uc.length&&(uc="0"+uc),ic[sc]=uc,ac[uc]=sc}function cc(e){for(var t="",n=0;n<e.byteLength;n++)t+=ic[e[n]];return t}var lc="X-Amz-Date",fc="X-Amz-Signature",dc="X-Amz-Security-Token",pc="authorization",hc=lc.toLowerCase(),vc=[pc,hc,"date"],yc=fc.toLowerCase(),mc="x-amz-content-sha256",gc=dc.toLowerCase(),bc={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},wc=/^proxy-/,Sc=/^sec-/,Ec="AWS4-HMAC-SHA256",_c="AWS4-HMAC-SHA256-PAYLOAD",xc="aws4_request",Tc={},Ic=[];function Ac(e,t,n){return e+"/"+t+"/"+n+"/"+xc}function Cc(e,t,n){var r=new e(t);return r.update(n),r.digest()}function Pc(e,t,n){var r,o,i=e.headers,a={};try{for(var s=rc(Object.keys(i).sort()),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.toLowerCase();(l in bc||(null==t?void 0:t.has(l))||wc.test(l)||Sc.test(l))&&(!n||n&&!n.has(l))||(a[l]=i[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a}function Oc(e,t){var n=e.headers,r=e.body;return tc(this,void 0,void 0,(function(){var e,o,i,a,s,u,c;return nc(this,(function(l){switch(l.label){case 0:try{for(e=rc(Object.keys(n)),o=e.next();!o.done;o=e.next())if((i=o.value).toLowerCase()===mc)return[2,n[i]]}catch(e){u={error:e}}finally{try{o&&!o.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=cc,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function kc(e){var t=e.headers,n=e.query,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["headers","query"]);return ec(ec({},r),{headers:ec({},t),query:n?Rc(n):void 0})}function Rc(e){return Object.keys(e).reduce((function(t,n){var r,o=e[n];return ec(ec({},t),((r={})[n]=Array.isArray(o)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(oc(arguments[t]));return e}(o):o,r))}),{})}function Nc(e){var t,n;e="function"==typeof e.clone?e.clone():kc(e);try{for(var r=rc(Object.keys(e.headers)),o=r.next();!o.done;o=r.next()){var i=o.value;vc.indexOf(i.toLowerCase())>-1&&delete e.headers[i]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}var Lc=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,o=e.service,i=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=jc(r),this.credentialProvider=Uc(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),tc(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T;return nc(this,(function(I){switch(I.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,o=t.expiresIn,i=void 0===o?3600:o,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=I.sent(),null==c?[3,2]:(p=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:p=I.sent(),I.label=4;case 4:return d=p,h=Dc(r),v=h.longDate,y=h.shortDate,i>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(m=Ac(y,d,null!=l?l:this.service),g=function(e,t){var n,r,o;void 0===t&&(t={});var i="function"==typeof e.clone?e.clone():kc(e),a=i.headers,s=i.query,u=void 0===s?{}:s;try{for(var c=rc(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(o=t.unhoistableHeaders)||void 0===o?void 0:o.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return ec(ec({},e),{headers:a,query:u})}(Nc(e),{unhoistableHeaders:s}),f.sessionToken&&(g.query[dc]=f.sessionToken),g.query["X-Amz-Algorithm"]=Ec,g.query["X-Amz-Credential"]=f.accessKeyId+"/"+m,g.query[lc]=v,g.query["X-Amz-Expires"]=i.toString(10),b=Pc(g,a,u),g.query["X-Amz-SignedHeaders"]=Mc(b),w=g.query,S=fc,E=this.getSignature,_=[v,m,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,T=[g,b],[4,Oc(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,T.concat([I.sent()]))]))];case 6:return w[S]=I.sent(),[2,g]}}))}))},e.prototype.sign=function(e,t){return tc(this,void 0,void 0,(function(){return nc(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,o=t.signingDate,i=void 0===o?new Date:o,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return tc(this,void 0,void 0,(function(){var e,t,o,c,l,f,d,p,h,v,y;return nc(this,(function(m){switch(m.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=m.sent(),m.label=3;case 3:return e=t,o=Dc(i),c=o.shortDate,l=o.longDate,f=Ac(c,e,null!=u?u:this.service),[4,Oc({headers:{},body:r},this.sha256)];case 4:return d=m.sent(),(p=new this.sha256).update(n),v=cc,[4,p.digest()];case 5:return h=v.apply(void 0,[m.sent()]),y=[_c,l,f,a,h,d].join("\n"),[2,this.signString(y,{signingDate:i,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signingRegion,a=n.signingService;return tc(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return nc(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==i?[3,2]:(r=i,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=Dc(o).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=cc,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return tc(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,p,h,v,y;return nc(this,(function(m){switch(m.label){case 0:return[4,this.credentialProvider()];case 1:return t=m.sent(),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=m.sent(),m.label=4;case 4:return n=r,c=Nc(e),l=Dc(o),f=l.longDate,d=l.shortDate,p=Ac(d,n,null!=u?u:this.service),c.headers[hc]=f,t.sessionToken&&(c.headers[gc]=t.sessionToken),[4,Oc(c,this.sha256)];case 5:return h=m.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var o=rc(Object.keys(t)),i=o.next();!i.done;i=o.next())if(e===i.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}(mc,c.headers)&&this.applyChecksum&&(c.headers[mc]=h),v=Pc(c,a,i),[4,this.getSignature(f,p,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,h))];case 6:return y=m.sent(),c.headers[pc]=Ec+" Credential="+t.accessKeyId+"/"+p+", SignedHeaders="+Mc(v)+", Signature="+y,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,o=void 0===r?{}:r,i=[],a={},s=function(e){if(e.toLowerCase()===yc)return"continue";i.push(e);var t=o[e];"string"==typeof t?a[e]=fu(e)+"="+fu(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([fu(e)+"="+fu(n)])}),[]).join("&"))};try{for(var u=rc(Object.keys(o).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return i.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return tc(this,void 0,void 0,(function(){var r,o;return nc(this,(function(i){switch(i.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return o=i.sent(),[2,Ec+"\n"+e+"\n"+t+"\n"+cc(o)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return tc(this,void 0,void 0,(function(){var o,i,a,s,u;return nc(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return o=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(i=new(s.apply(a,[void 0,c.sent()]))).update(o),u=cc,[4,i.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,o){return tc(void 0,void 0,void 0,(function(){var i,a,s,u,c,l,f,d,p;return nc(this,(function(h){switch(h.label){case 0:return[4,Cc(e,t.secretAccessKey,t.accessKeyId)];case 1:if(i=h.sent(),(a=n+":"+r+":"+o+":"+cc(i)+":"+t.sessionToken)in Tc)return[2,Tc[a]];for(Ic.push(a);Ic.length>50;)delete Tc[Ic.shift()];s="AWS4"+t.secretAccessKey,h.label=2;case 2:h.trys.push([2,7,8,9]),u=rc([n,r,o,xc]),c=u.next(),h.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,Cc(e,s,l)]);case 4:s=h.sent(),h.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=h.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(p=u.return)&&p.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,Tc[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),Dc=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},Mc=function(e){return Object.keys(e).sort().join(";")},jc=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Uc=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function Fc(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}function zc(e){return function(t,n){return function(r){return Xu(this,void 0,void 0,(function(){var o,i,a,s,u,c,l,f,d;return Qu(this,(function(p){switch(p.label){case 0:return vs.isInstance(r.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(r)];case 1:return i=p.sent(),[3,3];case 2:i=e.signer,p.label=3;case 3:return o=i,s=t,u=[Ju({},r)],d={},[4,o.sign(r.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,s.apply(void 0,[Ju.apply(void 0,u.concat([(d.request=p.sent(),d)]))])];case 5:return a=p.sent(),c=a.response.headers,(l=c&&(c.date||c.Date))&&(h=f=Date.parse(l),v=e.systemClockOffset,Math.abs(function(e){return new Date(Date.now()+e)}(v).getTime()-h)>=3e5&&(e.systemClockOffset=f-Date.now())),[2,a]}var h,v}))}))}}}var Bc={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},qc=function(){return qc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},qc.apply(this,arguments)};function Kc(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Gc(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Kc(arguments[t]));return e}var Hc="user-agent",Vc=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,$c=function(e){var t=Kc(e,2),n=t[0],r=t[1],o=n.indexOf("/"),i=n.substring(0,o),a=n.substring(o+1);return"api"===i&&(a=a.toLowerCase()),[i,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(Vc,"_")})).join("/")},Wc={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Yc=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var o,i,a,s,u,c,l,f;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(d){switch(d.label){case 0:return o=r.request,vs.isInstance(o)?(i=o.headers,a=(null===(l=null==t?void 0:t.userAgent)||void 0===l?void 0:l.map($c))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=d.sent().map($c),u=(null===(f=null==n?void 0:n.customUserAgent)||void 0===f?void 0:f.map($c))||[],i["x-amz-user-agent"]=Gc(s,a,u).join(" "),c=Gc(s.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&c&&(i[Hc]=i[Hc]?i[Hc]+" "+c:c),[2,e(qc(qc({},r),{request:o}))]}}))}))}}),Wc)}}},Zc=function(e){function t(t){var n,r,o,i=this,a=function(e){if(!e.region)throw new Error("Region is missing");return Fu(Fu({},e),{region:qu(e.region)})}(Ct(Ct({},Uu),t)),s=function(e){var t;return Fu(Fu({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?zu(e):function(){return Bu(e)},isCustomEndpoint:!!e.endpoint})}(a),u=function(e){var t,n=this,r=Fc(e.credentials||e.credentialDefaultProvider(e)),o=e.signingEscapePath,i=void 0===o||o,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?Fc(e.signer):function(){return Fc(e.region)().then((function(t){return Xu(n,void 0,void 0,(function(){return Qu(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(t,2),o=n[0],a=n[1],s=o.signingRegion,c=o.signingService;return e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId,new Lc({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:i})}))},Ju(Ju({},e),{systemClockOffset:s,signingEscapePath:i,credentials:r,signer:t})}(s),c=function(e){return qc(qc({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}((r=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}((n=u).maxAttempts),vu(vu({},n),{maxAttempts:r,retryStrategy:n.retryStrategy||new Cu(r)})));return(i=e.call(this,c)||this).config=c,i.middlewareStack.use((o=i.config,{applyToStack:function(e){e.addRelativeTo(zc(o),Bc)}})),i.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return yu(void 0,void 0,void 0,(function(){var o;return mu(this,(function(i){return(null===(o=null==e?void 0:e.retryStrategy)||void 0===o?void 0:o.mode)&&(n.userAgent=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(gu(arguments[t]));return e}(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),bu)}}}(i.config)),i.middlewareStack.use(Vu(i.config)),i.middlewareStack.use(Wu(i.config)),i.middlewareStack.use((i.config,{applyToStack:function(e){e.add(Yu(),Zu)}})),i.middlewareStack.use(Yc(i.config)),i}return xe(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Es),Jc=function(e,t){return Jc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Jc(e,t)},Xc={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:(new oe).getStorage()};function Qc(e){var t=0;t=e.length;for(var n=e.length;n>=0;n-=1){var r=e.charCodeAt(n);r>127&&r<=2047?t+=1:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&(n-=1)}return t}function el(){return(new Date).getTime()}function tl(e){return Number.isInteger?Number.isInteger(e):function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}var nl={},rl=(function(){function e(){}e.clear=function(){nl={}},e.getItem=function(e){return nl[e]||null},e.setItem=function(e,t){nl[e]=t},e.removeItem=function(e){delete nl[e]}}(),new c("StorageCache")),ol=function(){function e(e){this.config=Object.assign({},e),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){tl(this.config.capacityInBytes)||(rl.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=Xc.capacityInBytes),tl(this.config.itemMaxSize)||(rl.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=Xc.itemMaxSize),tl(this.config.defaultTTL)||(rl.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=Xc.defaultTTL),tl(this.config.defaultPriority)||(rl.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=Xc.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(rl.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=Xc.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(rl.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=Xc.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(rl.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=Xc.warningThreshold),this.config.capacityInBytes>5242880&&(rl.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=Xc.capacityInBytes)},e.prototype.fillCacheItem=function(e,t,n){var r={key:e,data:t,timestamp:el(),visitedTime:el(),priority:n.priority,expires:n.expires,type:typeof t,byteSize:0};return r.byteSize=Qc(JSON.stringify(r)),r.byteSize=Qc(JSON.stringify(r)),r},e.prototype.configure=function(e){return e?(e.keyPrefix&&rl.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,e,e.Cache),this.checkConfig(),this.config):this.config},e}(),il=new c("Cache"),al=function(e){function t(t){var n=this,r=t?Object.assign({},Xc,t):Xc;return(n=e.call(this,r)||this).config.storage=r.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return function(e,t){function n(){this.constructor=e}Jc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._decreaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t-e).toString())},t.prototype._increaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t+e).toString())},t.prototype._refreshItem=function(e,t){return e.visitedTime=el(),this.config.storage.setItem(t,JSON.stringify(e)),e},t.prototype._isExpired=function(e){var t=this.config.storage.getItem(e),n=JSON.parse(t);return el()>=n.expires},t.prototype._removeItem=function(e,t){var n=t||JSON.parse(this.config.storage.getItem(e)).byteSize;this._decreaseCurSizeInBytes(n),this.config.storage.removeItem(e)},t.prototype._setItem=function(e,t){this._increaseCurSizeInBytes(t.byteSize);try{this.config.storage.setItem(e,JSON.stringify(t))}catch(e){this._decreaseCurSizeInBytes(t.byteSize),il.error("Failed to set item "+e)}},t.prototype._sizeToPop=function(e){var t=this.getCacheCurSize()+e-this.config.capacityInBytes,n=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>n?t:n},t.prototype._isCacheFull=function(e){return e+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var e=[],t=[],n=0;n<this.config.storage.length;n+=1)t.push(this.config.storage.key(n));for(n=0;n<t.length;n+=1){var r=t[n];0===r.indexOf(this.config.keyPrefix)&&r!==this.cacheCurSizeKey&&(this._isExpired(r)?this._removeItem(r):e.push(r))}return e},t.prototype._popOutItems=function(e,t){for(var n=[],r=t,o=0;o<e.length;o+=1){var i=this.config.storage.getItem(e[o]);if(null!=i){var a=JSON.parse(i);n.push(a)}}for(n.sort((function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.visitedTime<t.visitedTime?-1:1})),o=0;o<n.length;o+=1)if(this._removeItem(n[o].key,n[o].byteSize),(r-=n[o].byteSize)<=0)return},t.prototype.setItem=function(e,t,n){il.log("Set item: key is "+e+", value is "+t+" with options: "+n);var r=this.config.keyPrefix+e;if(r!==this.config.keyPrefix&&r!==this.cacheCurSizeKey)if(void 0!==t){var o={priority:n&&void 0!==n.priority?n.priority:this.config.defaultPriority,expires:n&&void 0!==n.expires?n.expires:this.config.defaultTTL+el()};if(o.priority<1||o.priority>5)il.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");else{var i=this.fillCacheItem(r,t,o);if(i.byteSize>this.config.itemMaxSize)il.warn("Item with key: "+e+" you are trying to put into is too big!");else try{var a=this.config.storage.getItem(r);if(a&&this._removeItem(r,JSON.parse(a).byteSize),this._isCacheFull(i.byteSize)){var s=this._findValidKeys();if(this._isCacheFull(i.byteSize)){var u=this._sizeToPop(i.byteSize);this._popOutItems(s,u)}}this._setItem(r,i)}catch(e){il.warn("setItem failed! "+e)}}}else il.warn("The value of item should not be undefined!");else il.warn("Invalid key: should not be empty or 'CurSize'")},t.prototype.getItem=function(e,t){il.log("Get item: key is "+e+" with options "+t);var n=null,r=this.config.keyPrefix+e;if(r===this.config.keyPrefix||r===this.cacheCurSizeKey)return il.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(null!=(n=this.config.storage.getItem(r))){if(!this._isExpired(r)){var o=JSON.parse(n);return(o=this._refreshItem(o,r)).data}this._removeItem(r,JSON.parse(n).byteSize),n=null}if(t&&void 0!==t.callback){var i=t.callback();return null!==i&&this.setItem(e,i,t),i}return null}catch(e){return il.warn("getItem failed! "+e),null}},t.prototype.removeItem=function(e){il.log("Remove item: key is "+e);var t=this.config.keyPrefix+e;if(t!==this.config.keyPrefix&&t!==this.cacheCurSizeKey)try{var n=this.config.storage.getItem(t);n&&this._removeItem(t,JSON.parse(n).byteSize)}catch(e){il.warn("removeItem failed! "+e)}},t.prototype.clear=function(){il.log("Clear Cache");for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&e.push(n)}try{for(t=0;t<e.length;t+=1)this.config.storage.removeItem(e[t])}catch(e){il.warn("clear failed! "+e)}},t.prototype.getAllKeys=function(){for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&n!==this.cacheCurSizeKey&&e.push(n.substring(this.config.keyPrefix.length))}return e},t.prototype.getCacheCurSize=function(){var e=this.config.storage.getItem(this.cacheCurSizeKey);return e||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),e="0"),Number(e)},t.prototype.createInstance=function(e){return e.keyPrefix&&e.keyPrefix!==Xc.keyPrefix||(il.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=el.toString()),new t(e)},t}(ol),sl=new al;d.register(sl);var ul=n(5885),cl=new c("EventsBuffer"),ll=[429,500],fl=[202],dl=function(){function e(e,t){this._pause=!1,this._flush=!1,cl.debug("Instantiating buffer with config:",t),this._buffer=[],this._client=e,this._config=t,this._sendBatch=this._sendBatch.bind(this),this._startLoop()}return e.prototype.push=function(e){var t;if(this._buffer.length>=this._config.bufferSize)return cl.debug("Exceeded analytics events buffer size"),e.handlers.reject(new Error("Exceeded the size of analytics events buffer"));var n=((t={})[e.params.event.eventId]=e,t);this._buffer.push(n)},e.prototype.pause=function(){this._pause=!0},e.prototype.resume=function(){this._pause=!1},e.prototype.updateClient=function(e){this._client=e},e.prototype.flush=function(){this._flush=!0},e.prototype._startLoop=function(){this._interval&&clearInterval(this._interval);var e=this._config.flushInterval;this._interval=setInterval(this._sendBatch,e)},e.prototype._sendBatch=function(){var e=this._buffer.length;if(this._flush&&!e&&clearInterval(this._interval),!this._pause&&e){var t=this._config.flushSize,n=Math.min(t,e),r=this._buffer.splice(0,n);this._putEvents(r)}},e.prototype._putEvents=function(e){return y(this,void 0,void 0,(function(){var t,n,r,o,i;return m(this,(function(a){switch(a.label){case 0:t=this._bufferToMap(e),n=this._generateBatchEventParams(t),a.label=1;case 1:return a.trys.push([1,3,,4]),r=new au(n),[4,this._client.send(r)];case 2:return o=a.sent(),this._processPutEventsSuccessResponse(o,t),[3,4];case 3:return i=a.sent(),[2,this._handlePutEventsFailure(i,t)];case 4:return[2]}}))}))},e.prototype._generateBatchEventParams=function(e){var t={ApplicationId:"",EventsRequest:{BatchItem:{}}};return Object.values(e).forEach((function(e){var n=e.params,r=n.event,o=n.timestamp,i=n.config,a=r.name,s=r.attributes,u=r.metrics,c=r.eventId,l=r.session,f=i.appId,d=i.endpointId,p=t.EventsRequest.BatchItem;t.ApplicationId=t.ApplicationId||f,p[d]||(p[d]={Endpoint:{},Events:{}}),p[d].Events[c]={EventType:a,Timestamp:new Date(o).toISOString(),Attributes:s,Metrics:u,Session:l}})),t},e.prototype._handlePutEventsFailure=function(e,t){cl.debug("_putEvents Failed: ",e);var n=e.$metadata&&e.$metadata.httpStatusCode;if(ll.includes(n)){var r=Object.values(t);this._retry(r)}},e.prototype._processPutEventsSuccessResponse=function(e,t){var n=e.EventsResponse.Results,r=[];Object.entries(n).forEach((function(e){var n=g(e,2),o=n[0],i=n[1].EventsItemResponse;Object.entries(i).forEach((function(e){var n,i,a=g(e,2),s=a[0],u=a[1],c=u.StatusCode,l=u.Message,f=t[s],d={EventsResponse:{Results:(n={},n[o]={EventsItemResponse:(i={},i[s]={StatusCode:c,Message:l},i)},n)}};if(fl.includes(c))f.handlers.resolve(d);else{if(!ll.includes(c)){var p=f.params.event.name;return cl.error("event "+s+" : "+p+" failed with error: "+l),f.handlers.reject(d)}r.push(f)}}))})),r.length&&this._retry(r)},e.prototype._retry=function(e){var t,n=[];e.forEach((function(e){var t,r=e.params,o=r.event,i=o.eventId,a=o.name;if(r.resendLimit-- >0)return cl.debug("resending event "+i+" : "+a+" with "+r.resendLimit+" retry attempts remaining"),void n.push((t={},t[i]=e,t));cl.debug("no retry attempts remaining for event "+i+" : "+a)})),(t=this._buffer).unshift.apply(t,b(n))},e.prototype._bufferToMap=function(e){return e.reduce((function(e,t){var n=g(Object.entries(t),1),r=g(n[0],2),o=r[0],i=r[1];return e[o]=i,e}),{})},e}();const pl=dl;var hl="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",vl=function(e,t){_.dispatch("analytics",{event:e,data:t},"Analytics",hl)},yl=new c("AWSPinpointProvider"),ml=[429,500],gl=[202],bl="_update_endpoint",wl="_session.stop",Sl="undefined"!=typeof navigator&&navigator&&"function"==typeof navigator.sendBeacon,El=function(){function e(e){this._endpointGenerating=!0,this._endpointUpdateInProgress=!1,this._buffer=null,this._endpointBuffer=[],this._config=e||{},this._config.bufferSize=this._config.bufferSize||1e3,this._config.flushSize=this._config.flushSize||100,this._config.flushInterval=this._config.flushInterval||5e3,this._config.resendLimit=this._config.resendLimit||5,this._clientInfo=A.clientInfo()}return e.prototype.getCategory=function(){return e.category},e.prototype.getProviderName=function(){return e.providerName},e.prototype.configure=function(e){var t=this;yl.debug("configure Analytics",e);var n=e||{};if(this._config=Object.assign({},this._config,n),this._endpointGenerating=!!e.autoSessionRecord,this._config.appId&&!this._config.disabled)if(this._config.endpointId)vl("pinpointProvider_configured",null);else{var r=this.getProviderName()+"_"+this._config.appId;this._getEndpointId(r).then((function(e){yl.debug("setting endpoint id from the cache",e),t._config.endpointId=e,vl("pinpointProvider_configured",null)})).catch((function(e){yl.debug("Failed to generate endpointId",e)}))}else this._flushBuffer();return this._config},e.prototype.record=function(e,t){return y(this,void 0,void 0,(function(){var n,r;return m(this,(function(o){switch(o.label){case 0:return yl.debug("_public record",e),[4,this._getCredentials()];case 1:return(n=o.sent())&&this._config.appId&&this._config.region?(this._initClients(n),r=(new Date).getTime(),this._generateSession(e),e.event.eventId=(0,ul.v1)(),Object.assign(e,{timestamp:r,config:this._config}),e.event.immediate?[2,this._send(e,t)]:(this._putToBuffer(e,t),[2])):(yl.debug("cannot send events without credentials, applicationId or region"),[2,t.reject(new Error("No credentials, applicationId or region"))])}}))}))},e.prototype._sendEndpointUpdate=function(e){return y(this,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:return this._endpointUpdateInProgress?(this._endpointBuffer.push(e),[2]):(this._endpointUpdateInProgress=!0,[4,this._updateEndpoint(e)]);case 1:return n.sent(),t=this._endpointBuffer.shift(),this._endpointUpdateInProgress=!1,t&&this._sendEndpointUpdate(t),[2]}}))}))},e.prototype._putToBuffer=function(e,t){e.event.name!==bl?this._buffer&&this._buffer.push({params:e,handlers:t}):this._sendEndpointUpdate({params:e,handlers:t})},e.prototype._generateSession=function(e){this._sessionId=this._sessionId||(0,ul.v1)();var t=e.event;switch(t.name){case"_session.start":this._sessionStartTimestamp=(new Date).getTime(),this._sessionId=(0,ul.v1)(),t.session={Id:this._sessionId,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString()};break;case wl:var n=(new Date).getTime();this._sessionStartTimestamp=this._sessionStartTimestamp||(new Date).getTime(),this._sessionId=this._sessionId||(0,ul.v1)(),t.session={Id:this._sessionId,Duration:n-this._sessionStartTimestamp,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString(),StopTimestamp:new Date(n).toISOString()},this._sessionId=void 0,this._sessionStartTimestamp=void 0;break;default:this._sessionStartTimestamp=this._sessionStartTimestamp||(new Date).getTime(),this._sessionId=this._sessionId||(0,ul.v1)(),t.session={Id:this._sessionId,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString()}}},e.prototype._send=function(e,t){return y(this,void 0,void 0,(function(){return m(this,(function(n){switch(e.event.name){case bl:return[2,this._updateEndpoint({params:e,handlers:t})];case wl:return[2,this._pinpointSendStopSession(e,t)];default:return[2,this._pinpointPutEvents(e,t)]}return[2]}))}))},e.prototype._generateBatchItemContext=function(e){var t,n=e.event,r=e.timestamp,o=e.config,i=n.name,a=n.attributes,s=n.metrics,u=n.eventId,c=n.session,l=o.appId,f=o.endpointId,d={ApplicationId:l,EventsRequest:{BatchItem:{}}},p={Endpoint:{}};return p.Events=((t={})[u]={EventType:i,Timestamp:new Date(r).toISOString(),Attributes:a,Metrics:s,Session:c},t),d.EventsRequest.BatchItem[f]=p,d},e.prototype._pinpointPutEvents=function(e,t){return y(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d;return m(this,(function(p){switch(p.label){case 0:n=e.event.eventId,r=e.config.endpointId,o=this._generateBatchItemContext(e),i=new au(o),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.pinpointClient.send(i)];case 2:return a=p.sent(),s=r,u=n,c=a.EventsResponse.Results[s].EventsItemResponse[u],l=c.StatusCode,f=c.Message,gl.includes(l)?(yl.debug("record event success. ",a),[2,t.resolve(a)]):ml.includes(l)?(this._retry(e,t),[3,4]):(yl.error("Event "+n+" is not accepted, the error is "+f),[2,t.reject(a)]);case 3:return d=p.sent(),this._eventError(d),[2,t.reject(d)];case 4:return[2]}}))}))},e.prototype._pinpointSendStopSession=function(e,t){if(Sl){var n=this._generateBatchItemContext(e),r=this._config.region,o=n.ApplicationId,i=n.EventsRequest,a={secret_key:this._config.credentials.secretAccessKey,access_key:this._config.credentials.accessKeyId,session_token:this._config.credentials.sessionToken},s="https://pinpoint."+r+".amazonaws.com/v1/apps/"+o+"/events/legacy",u=JSON.stringify(i),c={url:s,body:u,method:"POST"},l={region:r,service:"mobiletargeting"},f=$.signUrl(c,a,l,null);return navigator.sendBeacon(f,u)?t.resolve("sendBeacon success"):t.reject("sendBeacon failure")}this._pinpointPutEvents(e,t)},e.prototype._retry=function(e,t){var n=e.config.resendLimit;e.resendLimit="number"==typeof e.resendLimit?e.resendLimit:n,e.resendLimit-- >0?(yl.debug("resending event "+e.eventName+" with "+e.resendLimit+" retry times left"),this._pinpointPutEvents(e,t)):yl.debug("retry times used up for event "+e.eventName)},e.prototype._updateEndpoint=function(e){return y(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,l,f,d;return m(this,(function(p){switch(p.label){case 0:t=e.params,n=e.handlers,r=t.config,o=t.event,i=r.appId,a=r.endpointId,s=this._endpointRequest(r,Z(o,[],["attributes","userAttributes","Attributes","UserAttributes"])),u={ApplicationId:i,EndpointId:a,EndpointRequest:s},p.label=1;case 1:return p.trys.push([1,3,,4]),c=new su(u),[4,this.pinpointClient.send(c)];case 2:return l=p.sent(),yl.debug("updateEndpoint success",l),this._endpointGenerating=!1,this._resumeBuffer(),n.resolve(l),[2];case 3:return f=p.sent(),d={err:f,update_params:u,endpointObject:e},[2,this._handleEndpointUpdateFailure(d)];case 4:return[2]}}))}))},e.prototype._handleEndpointUpdateFailure=function(e){return y(this,void 0,void 0,(function(){var t,n,r;return m(this,(function(o){return t=e.err,n=e.endpointObject,r=t.$metadata&&t.$metadata.httpStatusCode,yl.debug("updateEndpoint error",t),403===r?[2,this._handleEndpointUpdateForbidden(e)]:ml.includes(r)?[2,this._retryEndpointUpdate(n,!0)]:(yl.error("updateEndpoint failed",t),n.handlers.reject(t),[2])}))}))},e.prototype._handleEndpointUpdateForbidden=function(e){var t=e.err,n=e.endpointObject,r=t.code,o=t.retryable;if("ExpiredTokenException"!==r&&!o)return n.handlers.reject(t);this._retryEndpointUpdate(n)},e.prototype._retryEndpointUpdate=function(e,t){void 0===t&&(t=!1),yl.debug("_retryEndpointUpdate",e);var n=e.params,r=n.config.resendLimit;if(n.resendLimit="number"==typeof n.resendLimit?n.resendLimit:r,n.resendLimit-- >0)return yl.debug("resending endpoint update "+n.event.eventId+" with "+n.resendLimit+" retry attempts remaining"),void(this._endpointBuffer.length?this._endpointBuffer.unshift(e):this._updateEndpoint(e));yl.warn("resending endpoint update "+n.event.eventId+" failed after "+n.config.resendLimit+" attempts"),this._endpointGenerating&&yl.error("Initial endpoint update failed. ")},e.prototype._initClients=function(e){return y(this,void 0,void 0,(function(){var t,n;return m(this,(function(r){return yl.debug("init clients"),this.pinpointClient&&this._config.credentials&&this._config.credentials.sessionToken===e.sessionToken&&this._config.credentials.identityId===e.identityId?(yl.debug("no change for aws credentials, directly return from init"),[2]):(t=this._config.credentials?this._config.credentials.identityId:null,this._config.credentials=e,n=this._config.region,yl.debug("init clients with credentials",e),this.pinpointClient=new Zc({region:n,credentials:e,customUserAgent:te()}),this.pinpointClient.middlewareStack.addRelativeTo((function(e){return function(t){return delete t.request.headers["amz-sdk-invocation-id"],delete t.request.headers["amz-sdk-request"],e(t)}}),{step:"finalizeRequest",relation:"after",toMiddleware:"retryMiddleware"}),this._bufferExists()&&t===e.identityId?this._updateBufferClient():this._initBuffer(),this._customizePinpointClientReq(),[2])}))}))},e.prototype._bufferExists=function(){return this._buffer&&this._buffer instanceof pl},e.prototype._initBuffer=function(){this._bufferExists()&&this._flushBuffer(),this._buffer=new pl(this.pinpointClient,this._config),this._endpointGenerating&&this._buffer.pause()},e.prototype._updateBufferClient=function(){this._bufferExists()&&this._buffer.updateClient(this.pinpointClient)},e.prototype._flushBuffer=function(){this._bufferExists()&&(this._buffer.flush(),this._buffer=null)},e.prototype._resumeBuffer=function(){this._bufferExists()&&this._buffer.resume()},e.prototype._customizePinpointClientReq=function(){},e.prototype._getEndpointId=function(e){return y(this,void 0,void 0,(function(){var t,n;return m(this,(function(r){switch(r.label){case 0:return[4,sl.getItem(e)];case 1:return t=r.sent(),yl.debug("endpointId from cache",t,"type",typeof t),t||(t=(0,ul.v1)(),n=(new Date).getTime()+31536e8,sl.setItem(e,t,{expires:n,priority:1})),[2,t]}}))}))},e.prototype._endpointRequest=function(e,t){var n=e.credentials,r=this._clientInfo||{},o=e.clientContext||{},i=e.endpoint||{},a={appVersion:r.appVersion,make:r.make,model:r.model,modelVersion:r.version,platform:r.platform},s=(o.clientId,o.appTitle,o.appVersionName,o.appVersionCode,o.appPackageName,v(o,["clientId","appTitle","appVersionName","appVersionCode","appPackageName"])),u=t.address?"android"===r.platform?"GCM":"APNS":void 0,c=h(h(h({channelType:u,requestId:(0,ul.v1)(),effectiveDate:(new Date).toISOString()},i),t),{attributes:h(h({},i.attributes),t.attributes),demographic:h(h(h(h({},a),s),i.demographic),t.demographic),location:h(h({},i.location),t.location),metrics:h(h({},i.metrics),t.metrics),user:{userId:t.userId||i.userId||n.identityId,userAttributes:h(h({},i.userAttributes),t.userAttributes)}}),l=(c.userId,c.userAttributes,c.name,c.session,c.eventId,c.immediate,v(c,["userId","userAttributes","name","session","eventId","immediate"]));return J(l,[],["metrics","userAttributes","attributes"])},e.prototype._eventError=function(e){yl.error("record event failed.",e),yl.warn('Please ensure you have updated your Pinpoint IAM Policy with the Action: "mobiletargeting:PutEvents" in order to record events')},e.prototype._getCredentials=function(){return y(this,void 0,void 0,(function(){var e,t;return m(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,fs.get()];case 1:return(e=n.sent())?(yl.debug("set credentials for analytics",e),[2,fs.shear(e)]):[2,null];case 2:return t=n.sent(),yl.debug("ensure credentials error",t),[2,null];case 3:return[2]}}))}))},e.category="Analytics",e.providerName="AWSPinpoint",e}(),_l=[],xl=function(){function e(e,t){this.context=e,this.methodName=t,this._originalMethod=e[t].bind(e)}return e.add=function(e,t,n){Tl(e,t).set(n)},e.remove=function(e,t){Tl(e,t).remove()},e.prototype.set=function(e){var t=this;this.context[this.methodName]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t._originalMethod.apply(t,b(n)))}},e.prototype.remove=function(){this.context[this.methodName]=this._originalMethod},e}();function Tl(e,t){var n=_l.filter((function(n){return n.context===e&&n.methodName===t}))[0];return n||(n=new xl(e,t),_l.push(n)),n}var Il=new c("PageViewTracker"),Al="aws-amplify-analytics-prevUrl",Cl={enable:!1,provider:"AWSPinpoint",getUrl:function(){return Y().isBrowser?window.location.origin+window.location.pathname:""}},Pl=function(){function e(e,t){Il.debug("initialize pageview tracker with opts",t),this._config=Object.assign({},Cl,t),this._tracker=e,this._hasEnabled=!1,this._trackFunc=this._trackFunc.bind(this),"SPA"===this._config.type?this._pageViewTrackSPA():this._pageViewTrackDefault()}return e.prototype.configure=function(e){return Object.assign(this._config,e),"SPA"===this._config.type&&this._pageViewTrackSPA(),this._config},e.prototype._isSameUrl=function(){return sessionStorage.getItem(Al)===this._config.getUrl()&&(Il.debug("the url is same"),!0)},e.prototype._pageViewTrackDefault=function(){return y(this,void 0,void 0,(function(){var e,t,n,r;return m(this,(function(o){switch(o.label){case 0:return Y().isBrowser&&window.addEventListener&&window.sessionStorage?(e=this._config.getUrl(),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]):(Il.debug("not in the supported web enviroment"),[2]);case 1:return n=o.sent(),[3,3];case 2:n=this._config.attributes,o.label=3;case 3:return t=n,r=Object.assign({url:e},t),this._config.enable&&!this._isSameUrl()&&(this._tracker({name:this._config.eventName||"pageView",attributes:r},this._config.provider).catch((function(e){Il.debug("Failed to record the page view event",e)})),sessionStorage.setItem(Al,e)),[2]}}))}))},e.prototype._trackFunc=function(){return y(this,void 0,void 0,(function(){var e,t,n,r;return m(this,(function(o){switch(o.label){case 0:return Y().isBrowser&&window.addEventListener&&history.pushState&&window.sessionStorage?(e=this._config.getUrl(),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]):(Il.debug("not in the supported web enviroment"),[2]);case 1:return n=o.sent(),[3,3];case 2:n=this._config.attributes,o.label=3;case 3:return t=n,r=Object.assign({url:e},t),this._isSameUrl()||(this._tracker({name:this._config.eventName||"pageView",attributes:r},this._config.provider).catch((function(e){Il.debug("Failed to record the page view event",e)})),sessionStorage.setItem(Al,e)),[2]}}))}))},e.prototype._pageViewTrackSPA=function(){Y().isBrowser&&window.addEventListener&&history.pushState?this._config.enable&&!this._hasEnabled?(xl.add(history,"pushState",this._trackFunc),xl.add(history,"replaceState",this._trackFunc),window.addEventListener("popstate",this._trackFunc),this._trackFunc(),this._hasEnabled=!0):(xl.remove(history,"pushState"),xl.remove(history,"replaceState"),window.removeEventListener("popstate",this._trackFunc),this._hasEnabled=!1):Il.debug("not in the supported web enviroment")},e}(),Ol=Y().isBrowser&&window.Element?window.Element.prototype:null,kl=Ol?Ol.matches||Ol.matchesSelector||Ol.webkitMatchesSelector||Ol.mozMatchesSelector||Ol.msMatchesSelector||Ol.oMatchesSelector:null;function Rl(e,t){if(e&&1===e.nodeType&&t){if("string"==typeof t||1===t.nodeType)return e===t||Nl(e,t);if("length"in t)for(var n=0,r=void 0;r=t[n];n++)if(e===r||Nl(e,r))return!0}return!1}function Nl(e,t){if("string"!=typeof t)return!1;if(kl)return kl.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0,o=void 0;o=n[r];r++)if(o===e)return!0;return!1}var Ll,Dl,Ml,jl,Ul,Fl,zl,Bl,ql,Kl,Gl,Hl,Vl,$l,Wl,Yl,Zl,Jl,Xl,Ql,ef,tf,nf,rf,of,af,sf,uf,cf,lf,ff,df,pf,hf,vf,yf,mf,gf,bf,wf,Sf,Ef,_f,xf,Tf,If,Af,Cf,Pf,Of,kf,Rf,Nf,Lf,Df,Mf,jf,Uf,Ff,zf,Bf,qf,Kf,Gf,Hf,Vf,$f,Wf,Yf,Zf,Jf,Xf,Qf,ed,td,nd,rd,od,id,ad,sd,ud,cd=new c("EventTracker"),ld={enable:!1,events:["click"],selectorPrefix:"data-amplify-analytics-",provider:"AWSPinpoint"},fd=function(){function e(e,t){Y().isBrowser&&window.addEventListener?(this._config=Object.assign({},ld,t),this._tracker=e,this._delegates={},this._trackFunc=this._trackFunc.bind(this),cd.debug("initialize pageview tracker with opts",this._config),this.configure(this._config)):cd.debug("not in the supported web environment")}return e.prototype.configure=function(e){var t=this;if(Object.assign(this._config,e),this._config.enable){if(this._config.enable&&0===Object.keys(this._delegates).length){var n="["+this._config.selectorPrefix+"on]";this._config.events.forEach((function(e){t._delegates[e]=function(e,t,n,r,o){void 0===o&&(o={});var i=function(e){var t;if(o.composed&&"function"==typeof e.composedPath)for(var i=e.composedPath(),a=0,s=void 0;s=i[a];a++)1===s.nodeType&&Rl(s,n)&&(t=s);else t=function(e,t,n){if(void 0===n&&(n=!1),e&&1===e.nodeType&&t)for(var r,o=(n?[e]:[]).concat(function(e){for(var t=[],n=e;n&&n.parentNode&&1===n.parentNode.nodeType;)n=n.parentNode,t.push(n);return t}(e)),i=0;r=o[i];i++)if(Rl(r,t))return r}(e.target,n,!0);t&&r.call(t,e,t)};return e.addEventListener(t,i,o.useCapture),{destroy:function(){e.removeEventListener(t,i,o.useCapture)}}}(document,e,n,t._trackFunc,{composed:!0,useCapture:!0})}))}}else Object.keys(this._delegates).forEach((function(e){"function"==typeof t._delegates[e].destroy&&t._delegates[e].destroy()})),this._delegates={};return this._config},e.prototype._trackFunc=function(e,t){return y(this,void 0,void 0,(function(){var n,r,o,i,a,s,u;return m(this,(function(c){switch(c.label){case 0:return n={},r=t.getAttribute(this._config.selectorPrefix+"on").split(/\s*,\s*/),o=t.getAttribute(this._config.selectorPrefix+"name"),(i=t.getAttribute(this._config.selectorPrefix+"attrs"))&&i.split(/\s*,\s*/).forEach((function(e){var t=e.trim().split(/\s*:\s*/);n[t[0]]=t[1]})),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()];case 1:return s=c.sent(),[3,3];case 2:s=this._config.attributes,c.label=3;case 3:return a=s,u=Object.assign({type:e.type,target:e.target.localName+" with id "+e.target.id},a,n),cd.debug("events needed to be recorded",r),cd.debug("attributes needed to be attached",n),r.indexOf(e.type)<0?(cd.debug("event "+e.type+" is not selected to be recorded"),[2]):(this._tracker({name:o||"event",attributes:u},this._config.provider).catch((function(t){cd.debug("Failed to record the "+e.type+" event', "+t)})),[2])}}))}))},e}(),dd=new c("SessionTracker"),pd={enable:!1,provider:"AWSPinpoint"},hd=!1,vd=function(){function e(e,t){this._config=Object.assign({},pd,t),this._tracker=e,this._hasEnabled=!1,this._trackFunc=this._trackFunc.bind(this),this._trackBeforeUnload=this._trackBeforeUnload.bind(this),this.configure(this._config)}return e.prototype._envCheck=function(){if(!Y().isBrowser)return!1;if(!document||!document.addEventListener)return dd.debug("not in the supported web environment"),!1;if(void 0!==document.hidden)this._hidden="hidden",this._visibilityChange="visibilitychange";else if(void 0!==document.msHidden)this._hidden="msHidden",this._visibilityChange="msvisibilitychange";else{if(void 0===document.webkitHidden)return dd.debug("not in the supported web environment"),!1;this._hidden="webkitHidden",this._visibilityChange="webkitvisibilitychange"}return!0},e.prototype._trackFunc=function(){return y(this,void 0,void 0,(function(){var e,t,n;return m(this,(function(r){switch(r.label){case 0:return"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()];case 1:return t=r.sent(),[3,3];case 2:t=this._config.attributes,r.label=3;case 3:return e=t,n=Object.assign({},e),document.visibilityState===this._hidden?this._tracker({name:"_session.stop",attributes:n},this._config.provider).catch((function(e){dd.debug("record session stop event failed.",e)})):this._tracker({name:"_session.start",attributes:n},this._config.provider).catch((function(e){dd.debug("record session start event failed.",e)})),[2]}}))}))},e.prototype._trackBeforeUnload=function(e){var t=this;("function"==typeof this._config.attributes?Promise.resolve(this._config.attributes()):Promise.resolve(this._config.attributes)).then((function(e){var n=Object.assign({},e);t._tracker({name:"_session.stop",attributes:n,immediate:!0},t._config.provider).catch((function(e){dd.debug("record session stop event failed.",e)}))}))},e.prototype._sendInitialEvent=function(){return y(this,void 0,void 0,(function(){var e,t,n;return m(this,(function(r){switch(r.label){case 0:return hd?(dd.debug("the start session has been sent when the page is loaded"),[2]):(hd=!0,"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]);case 1:return t=r.sent(),[3,3];case 2:t=this._config.attributes,r.label=3;case 3:return e=t,n=Object.assign({},e),this._tracker({name:"_session.start",attributes:n},this._config.provider).catch((function(e){dd.debug("record session start event failed.",e)})),[2]}}))}))},e.prototype.configure=function(e){return this._envCheck()?(Object.assign(this._config,e),this._config.enable&&!this._hasEnabled?(this._sendInitialEvent(),document.addEventListener(this._visibilityChange,this._trackFunc,!1),window.addEventListener("beforeunload",this._trackBeforeUnload,!1),this._hasEnabled=!0):!this._config.enable&&this._hasEnabled&&(document.removeEventListener(this._visibilityChange,this._trackFunc,!1),window.removeEventListener("beforeunload",this._trackBeforeUnload,!1),this._hasEnabled=!1),this._config):this._config},e}(),yd=new c("AnalyticsClass"),md="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",gd=function(e,t,n){_.dispatch("analytics",{event:e,data:t,message:n},"Analytics",md)},bd={pageView:Pl,event:fd,session:vd},wd=null,Sd=function(){function e(){this._config={},this._pluggables=[],this._disabled=!1,this._trackers={},wd=this,this.record=this.record.bind(this),_.listen("auth",Id),_.listen("storage",Id),_.listen("analytics",Id),_.listen("core",Id)}return e.prototype.getModuleName=function(){return"Analytics"},e.prototype.configure=function(e){var t=this;if(!e)return this._config;yd.debug("configure Analytics",e);var n=T(e);return this._config=Object.assign({},this._config,n.Analytics,e),this._config.disabled&&(this._disabled=!0),void 0===this._config.autoSessionRecord&&(this._config.autoSessionRecord=!0),this._pluggables.forEach((function(e){var n="AWSPinpoint"!==e.getProviderName()||t._config.AWSPinpoint?t._config[e.getProviderName()]:t._config;e.configure(h({disabled:t._config.disabled,autoSessionRecord:t._config.autoSessionRecord},n))})),0===this._pluggables.length&&this.addPluggable(new El),gd("configured",null,"The Analytics category has been configured successfully"),yd.debug("current configuration",this._config),this._config},e.prototype.addPluggable=function(e){if(e&&"Analytics"===e.getCategory()){this._pluggables.push(e);var t="AWSPinpoint"!==e.getProviderName()||this._config.AWSPinpoint?this._config[e.getProviderName()]:this._config,n=h({disabled:this._config.disabled},t);return e.configure(n),n}},e.prototype.getPluggable=function(e){for(var t=0;t<this._pluggables.length;t+=1){var n=this._pluggables[t];if(n.getProviderName()===e)return n}return yd.debug("No plugin found with providerName",e),null},e.prototype.removePluggable=function(e){for(var t=0;t<this._pluggables.length&&this._pluggables[t].getProviderName()!==e;)t+=1;return t===this._pluggables.length?void yd.debug("No plugin found with providerName",e):void this._pluggables.splice(t,t+1)},e.prototype.disable=function(){this._disabled=!0},e.prototype.enable=function(){this._disabled=!1},e.prototype.startSession=function(e){return y(this,void 0,void 0,(function(){var t,n;return m(this,(function(r){return n={event:t={name:"_session.start"},provider:e},gd("record",t,"Recording Analytics session start event"),[2,this._sendEvent(n)]}))}))},e.prototype.stopSession=function(e){return y(this,void 0,void 0,(function(){var t,n;return m(this,(function(r){return n={event:t={name:"_session.stop"},provider:e},gd("record",t,"Recording Analytics session stop event"),[2,this._sendEvent(n)]}))}))},e.prototype.record=function(e,t){return y(this,void 0,void 0,(function(){var n;return m(this,(function(r){return gd("record",(n={event:e,provider:t}).event,"Recording Analytics event"),[2,this._sendEvent(n)]}))}))},e.prototype.updateEndpoint=function(e,t){return y(this,void 0,void 0,(function(){var n;return m(this,(function(r){return n=h(h({},e),{name:"_update_endpoint"}),[2,this.record(n,t)]}))}))},e.prototype._sendEvent=function(e){var t=this;if(this._disabled)return yd.debug("Analytics has been disabled"),Promise.resolve();var n=e.provider?e.provider:"AWSPinpoint";return new Promise((function(r,o){t._pluggables.forEach((function(t){t.getProviderName()===n&&t.record(e,{resolve:r,reject:o})}))}))},e.prototype.autoTrack=function(e,t){if(bd[e]){"session"===e&&(this._config.autoSessionRecord=t.enable);var n=this._trackers[e];n?n.configure(t):this._trackers[e]=new bd[e](this.record,t)}else yd.debug("invalid tracker type")},e}(),Ed=!1,_d=!1,xd=!1,Td=!1,Id=function(e){var t=e.channel,n=e.payload;switch(yd.debug("on hub capsule "+t,n),t){case"auth":Cd(n);break;case"storage":Ad(n);break;case"analytics":Pd(n);break;case"core":Od(n)}},Ad=function(e){var t=e.data,n=t.attrs,r=t.metrics;n&&xd&&wd.record({name:"Storage",attributes:n,metrics:r}).catch((function(e){yd.debug("Failed to send the storage event automatically",e)}))},Cd=function(e){var t=e.event;if(t){var n=function(e){return y(void 0,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:if(!_d||!xd)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,wd.record({name:"_userauth."+e})];case 2:return[2,n.sent()];case 3:return t=n.sent(),yd.debug("Failed to send the "+e+" event automatically",t),[3,4];case 4:return[2]}}))}))};switch(t){case"signIn":return n("sign_in");case"signUp":return n("sign_up");case"signOut":return n("sign_out");case"signIn_failure":return n("auth_fail");case"configured":_d=!0,xd&&kd()}}},Pd=function(e){var t=e.event;t&&"pinpointProvider_configured"===t&&(xd=!0,(_d||Td)&&kd())},Od=function(e){var t=e.event;t&&"credentials_configured"===t&&(Td=!0,xd&&kd())},kd=function(){var e=wd.configure();!Ed&&e.autoSessionRecord&&(wd.updateEndpoint({immediate:!0}).catch((function(e){yd.debug("Failed to update the endpoint",e)})),Ed=!0),wd.autoTrack("session",{enable:e.autoSessionRecord})},Rd=new Sd;d.register(Rd),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ll||(Ll={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Dl||(Dl={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ml||(Ml={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(jl||(jl={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ul||(Ul={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Fl||(Fl={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(zl||(zl={})),function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING"}(Bl||(Bl={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ql||(ql={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Kl||(Kl={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Gl||(Gl={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Hl||(Hl={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Vl||(Vl={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}($l||($l={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Wl||(Wl={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Yl||(Yl={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Zl||(Zl={})),function(e){e.KMS="KMS",e.NONE="NONE"}(Jl||(Jl={})),function(e){e.ALL="ALL",e.INCOMING_BYTES="IncomingBytes",e.INCOMING_RECORDS="IncomingRecords",e.ITERATOR_AGE_MILLISECONDS="IteratorAgeMilliseconds",e.OUTGOING_BYTES="OutgoingBytes",e.OUTGOING_RECORDS="OutgoingRecords",e.READ_PROVISIONED_THROUGHPUT_EXCEEDED="ReadProvisionedThroughputExceeded",e.WRITE_PROVISIONED_THROUGHPUT_EXCEEDED="WriteProvisionedThroughputExceeded"}(Xl||(Xl={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ql||(Ql={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ef||(ef={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(tf||(tf={})),function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING",e.UPDATING="UPDATING"}(nf||(nf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(rf||(rf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(of||(of={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(af||(af={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(sf||(sf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(uf||(uf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(cf||(cf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(lf||(lf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ff||(ff={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(df||(df={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(pf||(pf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(hf||(hf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(vf||(vf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(yf||(yf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(mf||(mf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(gf||(gf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(bf||(bf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(wf||(wf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Sf||(Sf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ef||(Ef={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(_f||(_f={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(xf||(xf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Tf||(Tf={})),function(e){e.AFTER_SEQUENCE_NUMBER="AFTER_SEQUENCE_NUMBER",e.AT_SEQUENCE_NUMBER="AT_SEQUENCE_NUMBER",e.AT_TIMESTAMP="AT_TIMESTAMP",e.LATEST="LATEST",e.TRIM_HORIZON="TRIM_HORIZON"}(If||(If={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Af||(Af={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Cf||(Cf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Pf||(Pf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Of||(Of={})),function(e){e.AFTER_SHARD_ID="AFTER_SHARD_ID",e.AT_LATEST="AT_LATEST",e.AT_TIMESTAMP="AT_TIMESTAMP",e.AT_TRIM_HORIZON="AT_TRIM_HORIZON",e.FROM_TIMESTAMP="FROM_TIMESTAMP",e.FROM_TRIM_HORIZON="FROM_TRIM_HORIZON"}(kf||(kf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Rf||(Rf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Nf||(Nf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Lf||(Lf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Df||(Df={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Mf||(Mf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(jf||(jf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Uf||(Uf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ff||(Ff={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(zf||(zf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Bf||(Bf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(qf||(qf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Kf||(Kf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Gf||(Gf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Hf||(Hf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Vf||(Vf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}($f||($f={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Wf||(Wf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Yf||(Yf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Zf||(Zf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Jf||(Jf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Xf||(Xf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Qf||(Qf={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ed||(ed={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(td||(td={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(nd||(nd={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(rd||(rd={})),function(e){e.visit=function(e,t){return void 0!==e.SubscribeToShardEvent?t.SubscribeToShardEvent(e.SubscribeToShardEvent):void 0!==e.ResourceNotFoundException?t.ResourceNotFoundException(e.ResourceNotFoundException):void 0!==e.ResourceInUseException?t.ResourceInUseException(e.ResourceInUseException):void 0!==e.KMSDisabledException?t.KMSDisabledException(e.KMSDisabledException):void 0!==e.KMSInvalidStateException?t.KMSInvalidStateException(e.KMSInvalidStateException):void 0!==e.KMSAccessDeniedException?t.KMSAccessDeniedException(e.KMSAccessDeniedException):void 0!==e.KMSNotFoundException?t.KMSNotFoundException(e.KMSNotFoundException):void 0!==e.KMSOptInRequired?t.KMSOptInRequired(e.KMSOptInRequired):void 0!==e.KMSThrottlingException?t.KMSThrottlingException(e.KMSThrottlingException):void 0!==e.InternalFailureException?t.InternalFailureException(e.InternalFailureException):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.SubscribeToShardEvent?{SubscribeToShardEvent:rd.filterSensitiveLog(e.SubscribeToShardEvent)}:void 0!==e.ResourceNotFoundException?{ResourceNotFoundException:Ul.filterSensitiveLog(e.ResourceNotFoundException)}:void 0!==e.ResourceInUseException?{ResourceInUseException:jl.filterSensitiveLog(e.ResourceInUseException)}:void 0!==e.KMSDisabledException?{KMSDisabledException:wf.filterSensitiveLog(e.KMSDisabledException)}:void 0!==e.KMSInvalidStateException?{KMSInvalidStateException:Sf.filterSensitiveLog(e.KMSInvalidStateException)}:void 0!==e.KMSAccessDeniedException?{KMSAccessDeniedException:bf.filterSensitiveLog(e.KMSAccessDeniedException)}:void 0!==e.KMSNotFoundException?{KMSNotFoundException:Ef.filterSensitiveLog(e.KMSNotFoundException)}:void 0!==e.KMSOptInRequired?{KMSOptInRequired:_f.filterSensitiveLog(e.KMSOptInRequired)}:void 0!==e.KMSThrottlingException?{KMSThrottlingException:xf.filterSensitiveLog(e.KMSThrottlingException)}:void 0!==e.InternalFailureException?{InternalFailureException:Of.filterSensitiveLog(e.InternalFailureException)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(od||(od={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.EventStream&&{EventStream:"STREAMING_CONTENT"})}}(id||(id={})),function(e){e.UNIFORM_SCALING="UNIFORM_SCALING"}(ad||(ad={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(sd||(sd={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ud||(ud={}));var Nd=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),Ld=function(){return Ld=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ld.apply(this,arguments)};function Dd(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var Md=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(Ld(Ld({},this),{headers:Ld({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return Ld(Ld({},e),((r={})[n]=Array.isArray(o)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Dd(arguments[t]));return e}(o):o,r))}),{}))),n},e}(),jd=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v,y,m;return kt(this,(function(g){switch(g.label){case 0:return r=[Ct({},e)],m={},[4,ap(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(m.body=g.sent(),m)])),i="UnknownError",i=sp(e,n.body)){case"InvalidArgumentException":case"com.amazonaws.kinesis#InvalidArgumentException":return[3,2];case"KMSAccessDeniedException":case"com.amazonaws.kinesis#KMSAccessDeniedException":return[3,4];case"KMSDisabledException":case"com.amazonaws.kinesis#KMSDisabledException":return[3,6];case"KMSInvalidStateException":case"com.amazonaws.kinesis#KMSInvalidStateException":return[3,8];case"KMSNotFoundException":case"com.amazonaws.kinesis#KMSNotFoundException":return[3,10];case"KMSOptInRequired":case"com.amazonaws.kinesis#KMSOptInRequired":return[3,12];case"KMSThrottlingException":case"com.amazonaws.kinesis#KMSThrottlingException":return[3,14];case"ProvisionedThroughputExceededException":case"com.amazonaws.kinesis#ProvisionedThroughputExceededException":return[3,16];case"ResourceNotFoundException":case"com.amazonaws.kinesis#ResourceNotFoundException":return[3,18]}return[3,20];case 2:return a=[{}],[4,Ud(n,t)];case 3:return o=Ct.apply(void 0,[Ct.apply(void 0,a.concat([g.sent()])),{name:i,$metadata:op(e)}]),[3,21];case 4:return s=[{}],[4,Fd(n,t)];case 5:return o=Ct.apply(void 0,[Ct.apply(void 0,s.concat([g.sent()])),{name:i,$metadata:op(e)}]),[3,21];case 6:return u=[{}],[4,zd(n,t)];case 7:return o=Ct.apply(void 0,[Ct.apply(void 0,u.concat([g.sent()])),{name:i,$metadata:op(e)}]),[3,21];case 8:return c=[{}],[4,Bd(n,t)];case 9:return o=Ct.apply(void 0,[Ct.apply(void 0,c.concat([g.sent()])),{name:i,$metadata:op(e)}]),[3,21];case 10:return l=[{}],[4,qd(n,t)];case 11:return o=Ct.apply(void 0,[Ct.apply(void 0,l.concat([g.sent()])),{name:i,$metadata:op(e)}]),[3,21];case 12:return f=[{}],[4,Kd(n,t)];case 13:return o=Ct.apply(void 0,[Ct.apply(void 0,f.concat([g.sent()])),{name:i,$metadata:op(e)}]),[3,21];case 14:return d=[{}],[4,Gd(n,t)];case 15:return o=Ct.apply(void 0,[Ct.apply(void 0,d.concat([g.sent()])),{name:i,$metadata:op(e)}]),[3,21];case 16:return p=[{}],[4,Hd(n,t)];case 17:return o=Ct.apply(void 0,[Ct.apply(void 0,p.concat([g.sent()])),{name:i,$metadata:op(e)}]),[3,21];case 18:return h=[{}],[4,Vd(n,t)];case 19:return o=Ct.apply(void 0,[Ct.apply(void 0,h.concat([g.sent()])),{name:i,$metadata:op(e)}]),[3,21];case 20:v=n.body,i=v.code||v.Code||i,o=Ct(Ct({},v),{name:""+i,message:v.message||v.Message||i,$fault:"client",$metadata:op(e)}),g.label=21;case 21:return y=o.message||o.Message||i,o.message=y,delete o.Message,[2,Promise.reject(Object.assign(new Error(y),o))]}}))}))},Ud=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=Wd(n,t),[2,Ct({name:"InvalidArgumentException",$fault:"client",$metadata:op(e)},r)]}))}))},Fd=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=Yd(n,t),[2,Ct({name:"KMSAccessDeniedException",$fault:"client",$metadata:op(e)},r)]}))}))},zd=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=Zd(n,t),[2,Ct({name:"KMSDisabledException",$fault:"client",$metadata:op(e)},r)]}))}))},Bd=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=Jd(n,t),[2,Ct({name:"KMSInvalidStateException",$fault:"client",$metadata:op(e)},r)]}))}))},qd=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=Xd(n,t),[2,Ct({name:"KMSNotFoundException",$fault:"client",$metadata:op(e)},r)]}))}))},Kd=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=Qd(n,t),[2,Ct({name:"KMSOptInRequired",$fault:"client",$metadata:op(e)},r)]}))}))},Gd=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=ep(n,t),[2,Ct({name:"KMSThrottlingException",$fault:"client",$metadata:op(e)},r)]}))}))},Hd=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=tp(n,t),[2,Ct({name:"ProvisionedThroughputExceededException",$fault:"client",$metadata:op(e)},r)]}))}))},Vd=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=rp(n,t),[2,Ct({name:"ResourceNotFoundException",$fault:"client",$metadata:op(e)},r)]}))}))},$d=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return Ct(Ct(Ct({},void 0!==e.Data&&null!==e.Data&&{Data:t.base64Encoder(e.Data)}),void 0!==e.ExplicitHashKey&&null!==e.ExplicitHashKey&&{ExplicitHashKey:e.ExplicitHashKey}),void 0!==e.PartitionKey&&null!==e.PartitionKey&&{PartitionKey:e.PartitionKey})}(e,t)}))},Wd=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Yd=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Zd=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Jd=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Xd=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Qd=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},ep=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},tp=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},np=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ErrorCode:void 0!==e.ErrorCode&&null!==e.ErrorCode?e.ErrorCode:void 0,ErrorMessage:void 0!==e.ErrorMessage&&null!==e.ErrorMessage?e.ErrorMessage:void 0,SequenceNumber:void 0!==e.SequenceNumber&&null!==e.SequenceNumber?e.SequenceNumber:void 0,ShardId:void 0!==e.ShardId&&null!==e.ShardId?e.ShardId:void 0}}(e)}))},rp=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},op=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},ip=function(e,t,n,r,o){return Ot(void 0,void 0,void 0,(function(){var i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return i=f.sent(),a=i.hostname,s=i.protocol,u=void 0===s?"https":s,c=i.port,l={protocol:u,hostname:a,port:c,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==o&&(l.body=o),[2,new Md(l)]}}))}))},ap=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},sp=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==o?r(e.headers[o]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},up=function(){return up=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},up.apply(this,arguments)};function cp(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function lp(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var fp={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},dp={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};var pp=function(){return pp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},pp.apply(this,arguments)};function hp(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function vp(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(hp(arguments[t]));return e}var yp=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,pp({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,pp({},e))})),n},o=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,vp(o(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,vp(o(e)))})),t},i={add:function(t,r){void 0===r&&(r={});var o=r.name,i=r.override,a=pp({step:"initialize",priority:"normal",middleware:t},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '"+o+"'");var s=e.findIndex((function(e){return e.name===o})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'+o+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");e.splice(s,1)}n.add(o)}e.push(a)},addRelativeTo:function(e,r){var o=r.name,i=r.override,a=pp({middleware:e},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '"+o+"'");var s=t.findIndex((function(e){return e.name===o})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'+o+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');t.splice(s,1)}n.add(o)}t.push(a)},clone:function(){return r(yp())},use:function(e){e.applyToStack(i)},remove:function(r){return"string"==typeof r?function(r){var o=!1,i=function(e){return!e.name||e.name!==r||(o=!0,n.delete(r),!1)};return e=e.filter(i),t=t.filter(i),o}(r):function(r){var o=!1,i=function(e){return e.middleware!==r||(o=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(i),t=t.filter(i),o}(r)},removeByTag:function(r){var o=!1,i=function(e){var t=e.tags,i=e.name;return!t||!t.includes(r)||(i&&n.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:function(e){var t=r(yp());return t.use(e),t},applyToStack:r,resolve:function(n,r){var i,a;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(){var n=[],r=[],i={};e.forEach((function(e){var t=pp(pp({},e),{before:[],after:[]});t.name&&(i[t.name]=t),n.push(t)})),t.forEach((function(e){var t=pp(pp({},e),{before:[],after:[]});t.name&&(i[t.name]=t),r.push(t)})),r.forEach((function(e){if(e.toMiddleware){var t=i[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var a,s=(a=n,a.sort((function(e,t){return mp[t.step]-mp[e.step]||gp[t.priority||"normal"]-gp[e.priority||"normal"]}))).map(o).reduce((function(e,t){return e.push.apply(e,vp(t)),e}),[]);return s.map((function(e){return e.middleware}))}().reverse()),u=s.next();!u.done;u=s.next())n=(0,u.value)(n,r)}catch(e){i={error:e}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return n}};return i},mp={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},gp={high:3,normal:2,low:1},bp=function(){function e(e){this.middlewareStack=yp(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return i(e).then((function(e){return e.output}));i(e).then((function(e){return o(null,e.output)}),(function(e){return o(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),wp=function(e,t){return wp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},wp(e,t)};function Sp(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Ep(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Sp(arguments[t]));return e}var _p=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Ep([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};_p.prototype=Object.create(String.prototype,{constructor:{value:_p,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(_p,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){function n(){this.constructor=e}wp(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(_p);for(var xp=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){var r,o,i;this.middlewareStack.use((r=t,o=this.serialize,i=this.deserialize,{applyToStack:function(e){e.add(function(e,t){return function(n,r){return function(r){return cp(void 0,void 0,void 0,(function(){var o,i;return lp(this,(function(a){switch(a.label){case 0:return[4,n(r)];case 1:return o=a.sent().response,[4,t(o,e)];case 2:return i=a.sent(),[2,{response:o,output:i}]}}))}))}}}(r,i),fp),e.add(function(e,t){return function(n,r){return function(r){return cp(void 0,void 0,void 0,(function(){var o;return lp(this,(function(i){switch(i.label){case 0:return[4,t(r.input,e)];case 1:return o=i.sent(),[2,n(up(up({},r),{request:o}))]}}))}))}}}(r,o),dp)}}));var a=e.concat(this.middlewareStack),s={logger:t.logger,clientName:"KinesisClient",commandName:"PutRecordsCommand",inputFilterSensitiveLog:Vf.filterSensitiveLog,outputFilterSensitiveLog:Wf.filterSensitiveLog},u=t.requestHandler;return a.resolve((function(e){return u.handle(e.request,n||{})}),s)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Kinesis_20131202.PutRecords"},r=JSON.stringify(function(e,t){return Ct(Ct({},void 0!==e.Records&&null!==e.Records&&{Records:$d(e.Records,t)}),void 0!==e.StreamName&&null!==e.StreamName&&{StreamName:e.StreamName})}(e,t)),[2,ip(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o;return kt(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,jd(e,t)]:[4,ap(e.body,t)];case 1:return n=i.sent(),r=function(e,t){return{EncryptionType:void 0!==e.EncryptionType&&null!==e.EncryptionType?e.EncryptionType:void 0,FailedRecordCount:void 0!==e.FailedRecordCount&&null!==e.FailedRecordCount?e.FailedRecordCount:void 0,Records:void 0!==e.Records&&null!==e.Records?np(e.Records,t):void 0}}(n,t),o=Ct({$metadata:op(e)},r),[2,Promise.resolve(o)]}}))}))}(e,t)},t}((function(){this.middlewareStack=yp()})),Tp=n(9594),Ip=n(1423),Ap=n(2897),Cp={},Pp={},Op=0;Op<256;Op++){var kp=Op.toString(16).toLowerCase();1===kp.length&&(kp="0"+kp),Cp[Op]=kp,Pp[kp]=Op}function Rp(e){for(var t="",n=0;n<e.byteLength;n++)t+=Cp[e[n]];return t}var Np=function(){function e(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return e.fromNumber=function(t){if(t>0x8000000000000000||t<-0x8000000000000000)throw new Error(t+" is too large (or, if negative, too small) to represent as an Int64");for(var n=new Uint8Array(8),r=7,o=Math.abs(Math.round(t));r>-1&&o>0;r--,o/=256)n[r]=o;return t<0&&Lp(n),new e(n)},e.prototype.valueOf=function(){var e=this.bytes.slice(0),t=128&e[0];return t&&Lp(e),parseInt(Rp(e),16)*(t?-1:1)},e.prototype.toString=function(){return String(this.valueOf())},e}();function Lp(e){for(var t=0;t<8;t++)e[t]^=255;for(t=7;t>-1&&(e[t]++,0===e[t]);t--);}var Dp,Mp=function(){function e(e,t){this.toUtf8=e,this.fromUtf8=t}return e.prototype.format=function(e){var t,n,r,o,i=[];try{for(var a=(0,Ap.__values)(Object.keys(e)),s=a.next();!s.done;s=a.next()){var u=s.value,c=this.fromUtf8(u);i.push(Uint8Array.from([c.byteLength]),c,this.formatHeaderValue(e[u]))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}var l=new Uint8Array(i.reduce((function(e,t){return e+t.byteLength}),0)),f=0;try{for(var d=(0,Ap.__values)(i),p=d.next();!p.done;p=d.next()){var h=p.value;l.set(h,f),f+=h.byteLength}}catch(e){r={error:e}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}return l},e.prototype.formatHeaderValue=function(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":var t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":var n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":var r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":var o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);var i=new Uint8Array(o.buffer);return i.set(e.value,3),i;case"string":var a=this.fromUtf8(e.value),s=new DataView(new ArrayBuffer(3+a.byteLength));s.setUint8(0,7),s.setUint16(1,a.byteLength,!1);var u=new Uint8Array(s.buffer);return u.set(a,3),u;case"timestamp":var c=new Uint8Array(9);return c[0]=8,c.set(Np.fromNumber(e.value.valueOf()).bytes,1),c;case"uuid":if(!Vp.test(e.value))throw new Error("Invalid UUID received: "+e.value);var l=new Uint8Array(17);return l[0]=9,l.set(function(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2){var r=e.substr(n,2).toLowerCase();if(!(r in Pp))throw new Error("Cannot decode unrecognized sequence "+r+" as hexadecimal");t[n/2]=Pp[r]}return t}(e.value.replace(/\-/g,"")),1),l}},e.prototype.parse=function(e){for(var t={},n=0;n<e.byteLength;){var r=e.getUint8(n++),o=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,r));switch(n+=r,e.getUint8(n++)){case 0:t[o]={type:jp,value:!0};break;case 1:t[o]={type:jp,value:!1};break;case 2:t[o]={type:Up,value:e.getInt8(n++)};break;case 3:t[o]={type:Fp,value:e.getInt16(n,!1)},n+=2;break;case 4:t[o]={type:zp,value:e.getInt32(n,!1)},n+=4;break;case 5:t[o]={type:Bp,value:new Np(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:var i=e.getUint16(n,!1);n+=2,t[o]={type:qp,value:new Uint8Array(e.buffer,e.byteOffset+n,i)},n+=i;break;case 7:var a=e.getUint16(n,!1);n+=2,t[o]={type:Kp,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,a))},n+=a;break;case 8:t[o]={type:Gp,value:new Date(new Np(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:var s=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[o]={type:Hp,value:Rp(s.subarray(0,4))+"-"+Rp(s.subarray(4,6))+"-"+Rp(s.subarray(6,8))+"-"+Rp(s.subarray(8,10))+"-"+Rp(s.subarray(10))};break;default:throw new Error("Unrecognized header type tag")}}return t},e}();!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(Dp||(Dp={}));var jp="boolean",Up="byte",Fp="short",zp="integer",Bp="long",qp="binary",Kp="string",Gp="timestamp",Hp="uuid",Vp=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,$p=function(){function e(e,t){this.headerMarshaller=new Mp(e,t)}return e.prototype.marshall=function(e){var t=e.headers,n=e.body,r=this.headerMarshaller.format(t),o=r.byteLength+n.byteLength+16,i=new Uint8Array(o),a=new DataView(i.buffer,i.byteOffset,i.byteLength),s=new Ip.Crc32;return a.setUint32(0,o,!1),a.setUint32(4,r.byteLength,!1),a.setUint32(8,s.update(i.subarray(0,8)).digest(),!1),i.set(r,12),i.set(n,r.byteLength+12),a.setUint32(o-4,s.update(i.subarray(8,o-4)).digest(),!1),i},e.prototype.unmarshall=function(e){var t=function(e){var t=e.byteLength,n=e.byteOffset,r=e.buffer;if(t<16)throw new Error("Provided message too short to accommodate event stream message overhead");var o=new DataView(r,n,t),i=o.getUint32(0,!1);if(t!==i)throw new Error("Reported message length does not match received message length");var a=o.getUint32(4,!1),s=o.getUint32(8,!1),u=o.getUint32(t-4,!1),c=(new Ip.Crc32).update(new Uint8Array(r,n,8));if(s!==c.digest())throw new Error("The prelude checksum specified in the message ("+s+") does not match the calculated CRC32 checksum ("+c.digest()+")");if(c.update(new Uint8Array(r,n+8,t-12)),u!==c.digest())throw new Error("The message checksum ("+c.digest()+") did not match the expected value of "+u);return{headers:new DataView(r,n+8+4,a),body:new Uint8Array(r,n+8+4+a,i-a-16)}}(e),n=t.headers,r=t.body;return{headers:this.headerMarshaller.parse(n),body:r}},e.prototype.formatHeaders=function(e){return this.headerMarshaller.format(e)},e}();function Wp(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function Yp(e){return this instanceof Yp?(this.v=e,this):new Yp(e)}function Zp(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof Yp?Promise.resolve(e.value.v).then(u,c):l(i[0][2],e)}(o[e](t))}catch(e){l(i[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function Jp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}var Xp=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new $p(t,n),this.utfEncoder=t}return e.prototype.deserialize=function(e,t){var n=function(e){var t,n=0,r=0,o=null,i=null,a=function(e){if("number"!=typeof e)throw new Error("Attempted to allocate an event message where size was not a number: "+e);n=e,r=4,o=new Uint8Array(e),new DataView(o.buffer).setUint32(0,e,!1)};return(t={})[Symbol.asyncIterator]=function(){return Zp(this,arguments,(function(){var t,s,u,c,l,f,d,p;return Wp(this,(function(h){switch(h.label){case 0:t=e[Symbol.asyncIterator](),h.label=1;case 1:return[4,Yp(t.next())];case 2:return s=h.sent(),u=s.value,s.done?n?[3,4]:[4,Yp(void 0)]:[3,10];case 3:return[2,h.sent()];case 4:return n!==r?[3,7]:[4,Yp(o)];case 5:return[4,h.sent()];case 6:return h.sent(),[3,8];case 7:throw new Error("Truncated event message received.");case 8:return[4,Yp(void 0)];case 9:return[2,h.sent()];case 10:c=u.length,l=0,h.label=11;case 11:if(!(l<c))return[3,15];if(!o){if(f=c-l,i||(i=new Uint8Array(4)),d=Math.min(4-r,f),i.set(u.slice(l,l+d),r),l+=d,(r+=d)<4)return[3,15];a(new DataView(i.buffer).getUint32(0,!1)),i=null}return p=Math.min(n-r,c-l),o.set(u.slice(l,l+p),r),r+=p,l+=p,n&&n===r?[4,Yp(o)]:[3,14];case 12:return[4,h.sent()];case 13:h.sent(),o=null,n=0,r=0,h.label=14;case 14:return[3,11];case 15:return[3,1];case 16:return[2]}}))}))},t}(e),r=function(e,t){var n;return(n={})[Symbol.asyncIterator]=function(){return Zp(this,arguments,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g;return Wp(this,(function(b){switch(b.label){case 0:b.trys.push([0,12,13,18]),n=Jp(e),b.label=1;case 1:return[4,Yp(n.next())];case 2:if((r=b.sent()).done)return[3,11];if(o=r.value,i=t.eventMarshaller.unmarshall(o),"error"!==(a=i.headers[":message-type"].value))return[3,3];throw(s=new Error(i.headers[":error-message"].value||"UnknownError")).name=i.headers[":error-code"].value,s;case 3:return"exception"!==a?[3,5]:(u=i.headers[":exception-type"].value,(v={})[u]=i,c=v,[4,Yp(t.deserializer(c))]);case 4:if((l=b.sent()).$unknown)throw(f=new Error(t.toUtf8(i.body))).name=u,f;throw l[u];case 5:return"event"!==a?[3,9]:((y={})[i.headers[":event-type"].value]=i,d=y,[4,Yp(t.deserializer(d))]);case 6:return(p=b.sent()).$unknown?[3,10]:[4,Yp(p)];case 7:return[4,b.sent()];case 8:return b.sent(),[3,10];case 9:throw Error("Unrecognizable event type: "+i.headers[":event-type"].value);case 10:return[3,1];case 11:return[3,18];case 12:return h=b.sent(),m={error:h},[3,18];case 13:return b.trys.push([13,,16,17]),r&&!r.done&&(g=n.return)?[4,Yp(g.call(n))]:[3,15];case 14:b.sent(),b.label=15;case 15:return[3,17];case 16:if(m)throw m.error;return[7];case 17:return[7];case 18:return[2]}}))}))},n}(n,{eventMarshaller:this.eventMarshaller,deserializer:t,toUtf8:this.utfEncoder});return r},e.prototype.serialize=function(e,t){var n,r=this;return(n={})[Symbol.asyncIterator]=function(){return Zp(this,arguments,(function(){var n,o,i,a,s,u;return Wp(this,(function(c){switch(c.label){case 0:c.trys.push([0,7,8,13]),n=Jp(e),c.label=1;case 1:return[4,Yp(n.next())];case 2:return(o=c.sent()).done?[3,6]:(i=o.value,[4,Yp(r.eventMarshaller.marshall(t(i)))]);case 3:return[4,c.sent()];case 4:c.sent(),c.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return a=c.sent(),s={error:a},[3,13];case 8:return c.trys.push([8,,11,12]),o&&!o.done&&(u=n.return)?[4,Yp(u.call(n))]:[3,10];case 9:c.sent(),c.label=10;case 10:return[3,12];case 11:if(s)throw s.error;return[7];case 12:return[7];case 13:return[4,Yp(new Uint8Array(0))];case 14:return[4,c.sent()];case 15:return c.sent(),[2]}}))}))},n},e}();function Qp(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function eh(e){return this instanceof eh?(this.v=e,this):new eh(e)}function th(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof eh?Promise.resolve(e.value.v).then(u,c):l(i[0][2],e)}(o[e](t))}catch(e){l(i[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}var nh=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new $p(t,n),this.universalMarshaller=new Xp({utf8Decoder:n,utf8Encoder:t})}return e.prototype.deserialize=function(e,t){var n=rh(e)?function(e){var t;return(t={})[Symbol.asyncIterator]=function(){return th(this,arguments,(function(){var t,n,r,o;return Qp(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,eh(t.read())];case 3:return n=i.sent(),r=n.done,o=n.value,r?[4,eh(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,eh(o)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))},t}(e):e;return this.universalMarshaller.deserialize(n,t)},e.prototype.serialize=function(e,t){var n,r=this.universalMarshaller.serialize(e,t);return"function"==typeof ReadableStream?(n=r[Symbol.asyncIterator](),new ReadableStream({pull:function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var t,r,o;return Qp(this,(function(i){switch(i.label){case 0:return[4,n.next()];case 1:return t=i.sent(),r=t.done,o=t.value,r?[2,e.close()]:(e.enqueue(o),[2])}}))}))}})):r},e}(),rh=function(e){return"function"==typeof ReadableStream&&e instanceof ReadableStream},oh=function(e){return new nh(e)};function ih(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function ah(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var sh=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,uh)},uh=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()},ch=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var o=new Error("Request aborted");return o.name="AbortError",Promise.reject(o)}var i=e.path;if(e.query){var a=function(e){var t,n,r=[];try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e).sort()),i=o.next();!i.done;i=o.next()){var a=i.value,s=e[a];if(a=sh(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push(a+"="+sh(s[u]));else{var l=a;(s||"string"==typeof s)&&(l+="="+sh(s)),r.push(l)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.join("&")}(e.query);a&&(i+="?"+a)}var s=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(s?":"+s:"")+i,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var f,d=new Request(c,l),p=[fetch(d).then((function(e){var t,n,r=e.headers,o={};try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r.entries()),a=i.next();!a.done;a=i.next()){var s=a.value;o[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new Nd({headers:o,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new Nd({headers:o,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&p.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(p)},e}();function lh(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var o=null!==(e=r.result)&&void 0!==e?e:"",i=o.indexOf(","),a=i>-1?i+1:o.length;t(o.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var fh=function(){return fh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fh.apply(this,arguments)};function dh(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function ph(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function hh(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var vh={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},yh=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],mh=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],gh=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],bh=[500,502,503,504],wh=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||mh.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},Sh=n(9263),Eh=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},_h=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return yh.includes(e.name)}(e)||wh(e)||function(e){var t;return gh.includes(e.name)||bh.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},xh=function(){function e(e,t){var n,r,o,i,a,s,u;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:_h,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:Eh,this.retryQuota=null!==(o=null==t?void 0:t.retryQuota)&&void 0!==o?o:(i=500,a=500,s=function(e){return"TimeoutError"===e.name?10:5},u=function(e){return s(e)<=a},Object.freeze({hasRetryTokens:u,retrieveRetryTokens:function(e){if(!u(e))throw new Error("No retry token available");var t=s(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,i)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return dh(this,void 0,void 0,(function(){var e;return ph(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return dh(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return ph(this,(function(l){switch(l.label){case 0:return r=0,o=0,[4,this.getMaxAttempts()];case 1:i=l.sent(),a=t.request,Md.isInstance(a)&&(a.headers["amz-sdk-invocation-id"]=(0,Sh.v4)()),s=function(){var s,c,l,f,d;return ph(this,(function(p){switch(p.label){case 0:return p.trys.push([0,2,,5]),Md.isInstance(a)&&(a.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+i),[4,e(t)];case 1:return s=p.sent(),c=s.response,l=s.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=o,[2,{value:{response:c,output:l}}];case 2:return f=p.sent(),r++,u.shouldRetry(f,r,i)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(wh(f)?500:100,r),o+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return p.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=o,f;case 5:return[2]}}))},u=this,l.label=2;case 2:return[5,s()];case 3:return"object"==typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}();var Th=n(4190),Ih="kinesis.{region}.amazonaws.com",Ah=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Ch=new Set(["cn-north-1","cn-northwest-1"]),Ph=new Set(["us-iso-east-1"]),Oh=new Set(["us-isob-east-1"]),kh=new Set(["us-gov-east-1","us-gov-west-1"]);function Rh(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var Nh={apiVersion:"2013-12-02",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"kinesis.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"kinesis.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"kinesis.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"kinesis.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"kinesis.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"kinesis.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"kinesis.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"kinesis.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"kinesis.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"kinesis.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"kinesis.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"kinesis.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"kinesis.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"kinesis.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"kinesis.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"kinesis.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"kinesis-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"kinesis-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-west-1":n={hostname:"kinesis-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":n={hostname:"kinesis-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":n={hostname:"kinesis.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":n={hostname:"kinesis.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"kinesis.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"kinesis.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"kinesis.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"us-gov-west-1":n={hostname:"kinesis.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-iso-east-1":n={hostname:"kinesis.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"kinesis.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"kinesis.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"kinesis.us-west-2.amazonaws.com",partition:"aws"};break;default:Ah.has(e)&&(n={hostname:Ih.replace("{region}",e),partition:"aws"}),Ch.has(e)&&(n={hostname:"kinesis.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),Ph.has(e)&&(n={hostname:"kinesis.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),Oh.has(e)&&(n={hostname:"kinesis.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),kh.has(e)&&(n={hostname:"kinesis.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:Ih.replace("{region}",e),partition:"aws"})}return Promise.resolve(Ct({signingService:"kinesis"},n))},serviceId:"Kinesis",urlParser:function(e){var t,n=new URL(e),r=n.hostname,o=n.pathname,i=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.split("&")),i=o.next();!i.done;i=o.next()){var a=Rh(i.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:i?parseInt(i):void 0,protocol:a,path:o,query:t}}},Lh=Ct(Ct({},Nh),{runtime:"browser",base64Decoder:er,base64Encoder:tr,bodyLengthChecker:function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0},credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:function(e){var t=e.serviceId,n=e.clientVersion;return function(){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e,r,o,i,a,s,u,c,l;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(f){return e=(null===(o=null===window||void 0===window?void 0:window.navigator)||void 0===o?void 0:o.userAgent)?gr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(i=null==e?void 0:e.os)||void 0===i?void 0:i.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser",(null!==(u=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown")+"_"+(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}}({serviceId:Nh.serviceId,clientVersion:"3.6.1"}),eventStreamSerdeProvider:oh,maxAttempts:3,region:function(){return Promise.reject("Region is missing")},requestHandler:new ch,sha256:Tp.Sha256,streamCollector:function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return ih(this,void 0,void 0,(function(){var t,n;return ah(this,(function(r){switch(r.label){case 0:return[4,lh(e)];case 1:return t=r.sent(),n=er(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return ih(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return ah(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return o=u.sent(),i=o.done,(a=o.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=i,[3,1];case 3:return[2,t]}}))}))}(e)},utf8Decoder:Th.fromUtf8,utf8Encoder:Th.toUtf8}),Dh=function(){return Dh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Dh.apply(this,arguments)};var Mh=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var o=Promise.resolve(t);return function(){return o}}return t},jh=function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t,n,r,o,i;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(a){switch(a.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=a.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(o=(null!==(i=a.sent())&&void 0!==i?i:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+o)]}}))}))},Uh=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Fh=function(){return Fh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Fh.apply(this,arguments)},zh=function(e){return Fh(Fh({},e),{eventStreamMarshaller:e.eventStreamSerdeProvider(e)})},Bh=function(){return Bh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Bh.apply(this,arguments)};var qh="content-length",Kh={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Gh=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t,o,i,a,s;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(u){return t=r.request,Md.isInstance(t)&&(o=t.body,i=t.headers,o&&-1===Object.keys(i).map((function(e){return e.toLowerCase()})).indexOf(qh)&&void 0!==(a=e(o))&&(t.headers=Bh(Bh({},t.headers),((s={})[qh]=String(a),s)))),[2,n(Bh(Bh({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),Kh)}}};var Hh={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Vh=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,o;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(i){return Md.isInstance(n.request)?(r=n.request,(void 0===(o=(e.requestHandler.metadata||{}).handlerProtocol)?"":o).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),Hh)}}};var $h=function(){return function(e,t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(d){switch(d.label){case 0:return r=t.clientName,o=t.commandName,i=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(c,["$metadata"]),a.info({clientName:r,commandName:o,input:i(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}},Wh={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Yh=function(){return Yh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Yh.apply(this,arguments)};function Zh(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Jh(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var Xh=function(){return Xh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xh.apply(this,arguments)};function Qh(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function ev(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function tv(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function nv(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}for(var rv={},ov={},iv=0;iv<256;iv++){var av=iv.toString(16).toLowerCase();1===av.length&&(av="0"+av),rv[iv]=av,ov[av]=iv}function sv(e){for(var t="",n=0;n<e.byteLength;n++)t+=rv[e[n]];return t}var uv="X-Amz-Date",cv="X-Amz-Signature",lv="X-Amz-Security-Token",fv="authorization",dv=uv.toLowerCase(),pv=[fv,dv,"date"],hv=cv.toLowerCase(),vv="x-amz-content-sha256",yv=lv.toLowerCase(),mv={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},gv=/^proxy-/,bv=/^sec-/,wv="AWS4-HMAC-SHA256",Sv="AWS4-HMAC-SHA256-PAYLOAD",Ev="aws4_request",_v={},xv=[];function Tv(e,t,n){return e+"/"+t+"/"+n+"/"+Ev}function Iv(e,t,n){var r=new e(t);return r.update(n),r.digest()}function Av(e,t,n){var r,o,i=e.headers,a={};try{for(var s=tv(Object.keys(i).sort()),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.toLowerCase();(l in mv||(null==t?void 0:t.has(l))||gv.test(l)||bv.test(l))&&(!n||n&&!n.has(l))||(a[l]=i[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a}function Cv(e,t){var n=e.headers,r=e.body;return Qh(this,void 0,void 0,(function(){var e,o,i,a,s,u,c;return ev(this,(function(l){switch(l.label){case 0:try{for(e=tv(Object.keys(n)),o=e.next();!o.done;o=e.next())if((i=o.value).toLowerCase()===vv)return[2,n[i]]}catch(e){u={error:e}}finally{try{o&&!o.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=sv,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function Pv(e){var t=e.headers,n=e.query,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["headers","query"]);return Xh(Xh({},r),{headers:Xh({},t),query:n?Ov(n):void 0})}function Ov(e){return Object.keys(e).reduce((function(t,n){var r,o=e[n];return Xh(Xh({},t),((r={})[n]=Array.isArray(o)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(nv(arguments[t]));return e}(o):o,r))}),{})}function kv(e){var t,n;e="function"==typeof e.clone?e.clone():Pv(e);try{for(var r=tv(Object.keys(e.headers)),o=r.next();!o.done;o=r.next()){var i=o.value;pv.indexOf(i.toLowerCase())>-1&&delete e.headers[i]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}var Rv=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,o=e.service,i=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=Dv(r),this.credentialProvider=Mv(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Qh(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T;return ev(this,(function(I){switch(I.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,o=t.expiresIn,i=void 0===o?3600:o,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=I.sent(),null==c?[3,2]:(p=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:p=I.sent(),I.label=4;case 4:return d=p,h=Nv(r),v=h.longDate,y=h.shortDate,i>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(m=Tv(y,d,null!=l?l:this.service),g=function(e,t){var n,r,o;void 0===t&&(t={});var i="function"==typeof e.clone?e.clone():Pv(e),a=i.headers,s=i.query,u=void 0===s?{}:s;try{for(var c=tv(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(o=t.unhoistableHeaders)||void 0===o?void 0:o.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return Xh(Xh({},e),{headers:a,query:u})}(kv(e),{unhoistableHeaders:s}),f.sessionToken&&(g.query[lv]=f.sessionToken),g.query["X-Amz-Algorithm"]=wv,g.query["X-Amz-Credential"]=f.accessKeyId+"/"+m,g.query[uv]=v,g.query["X-Amz-Expires"]=i.toString(10),b=Av(g,a,u),g.query["X-Amz-SignedHeaders"]=Lv(b),w=g.query,S=cv,E=this.getSignature,_=[v,m,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,T=[g,b],[4,Cv(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,T.concat([I.sent()]))]))];case 6:return w[S]=I.sent(),[2,g]}}))}))},e.prototype.sign=function(e,t){return Qh(this,void 0,void 0,(function(){return ev(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,o=t.signingDate,i=void 0===o?new Date:o,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return Qh(this,void 0,void 0,(function(){var e,t,o,c,l,f,d,p,h,v,y;return ev(this,(function(m){switch(m.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=m.sent(),m.label=3;case 3:return e=t,o=Nv(i),c=o.shortDate,l=o.longDate,f=Tv(c,e,null!=u?u:this.service),[4,Cv({headers:{},body:r},this.sha256)];case 4:return d=m.sent(),(p=new this.sha256).update(n),v=sv,[4,p.digest()];case 5:return h=v.apply(void 0,[m.sent()]),y=[Sv,l,f,a,h,d].join("\n"),[2,this.signString(y,{signingDate:i,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signingRegion,a=n.signingService;return Qh(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return ev(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==i?[3,2]:(r=i,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=Nv(o).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=sv,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return Qh(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,p,h,v,y;return ev(this,(function(m){switch(m.label){case 0:return[4,this.credentialProvider()];case 1:return t=m.sent(),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=m.sent(),m.label=4;case 4:return n=r,c=kv(e),l=Nv(o),f=l.longDate,d=l.shortDate,p=Tv(d,n,null!=u?u:this.service),c.headers[dv]=f,t.sessionToken&&(c.headers[yv]=t.sessionToken),[4,Cv(c,this.sha256)];case 5:return h=m.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var o=tv(Object.keys(t)),i=o.next();!i.done;i=o.next())if(e===i.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}(vv,c.headers)&&this.applyChecksum&&(c.headers[vv]=h),v=Av(c,a,i),[4,this.getSignature(f,p,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,h))];case 6:return y=m.sent(),c.headers[fv]=wv+" Credential="+t.accessKeyId+"/"+p+", SignedHeaders="+Lv(v)+", Signature="+y,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,o=void 0===r?{}:r,i=[],a={},s=function(e){if(e.toLowerCase()===hv)return"continue";i.push(e);var t=o[e];"string"==typeof t?a[e]=sh(e)+"="+sh(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([sh(e)+"="+sh(n)])}),[]).join("&"))};try{for(var u=tv(Object.keys(o).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return i.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return Qh(this,void 0,void 0,(function(){var r,o;return ev(this,(function(i){switch(i.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return o=i.sent(),[2,wv+"\n"+e+"\n"+t+"\n"+sv(o)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return Qh(this,void 0,void 0,(function(){var o,i,a,s,u;return ev(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return o=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(i=new(s.apply(a,[void 0,c.sent()]))).update(o),u=sv,[4,i.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,o){return Qh(void 0,void 0,void 0,(function(){var i,a,s,u,c,l,f,d,p;return ev(this,(function(h){switch(h.label){case 0:return[4,Iv(e,t.secretAccessKey,t.accessKeyId)];case 1:if(i=h.sent(),(a=n+":"+r+":"+o+":"+sv(i)+":"+t.sessionToken)in _v)return[2,_v[a]];for(xv.push(a);xv.length>50;)delete _v[xv.shift()];s="AWS4"+t.secretAccessKey,h.label=2;case 2:h.trys.push([2,7,8,9]),u=tv([n,r,o,Ev]),c=u.next(),h.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,Iv(e,s,l)]);case 4:s=h.sent(),h.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=h.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(p=u.return)&&p.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,_v[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),Nv=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},Lv=function(e){return Object.keys(e).sort().join(";")},Dv=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Mv=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function jv(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}function Uv(e){return function(t,n){return function(r){return Zh(this,void 0,void 0,(function(){var o,i,a,s,u,c,l,f,d;return Jh(this,(function(p){switch(p.label){case 0:return Md.isInstance(r.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(r)];case 1:return i=p.sent(),[3,3];case 2:i=e.signer,p.label=3;case 3:return o=i,s=t,u=[Yh({},r)],d={},[4,o.sign(r.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,s.apply(void 0,[Yh.apply(void 0,u.concat([(d.request=p.sent(),d)]))])];case 5:return a=p.sent(),c=a.response.headers,(l=c&&(c.date||c.Date))&&(h=f=Date.parse(l),v=e.systemClockOffset,Math.abs(function(e){return new Date(Date.now()+e)}(v).getTime()-h)>=3e5&&(e.systemClockOffset=f-Date.now())),[2,a]}var h,v}))}))}}}var Fv={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},zv=function(){return zv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},zv.apply(this,arguments)};function Bv(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function qv(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Bv(arguments[t]));return e}var Kv="user-agent",Gv=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Hv=function(e){var t=Bv(e,2),n=t[0],r=t[1],o=n.indexOf("/"),i=n.substring(0,o),a=n.substring(o+1);return"api"===i&&(a=a.toLowerCase()),[i,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(Gv,"_")})).join("/")},Vv={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},$v=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var o,i,a,s,u,c,l,f;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(d){switch(d.label){case 0:return o=r.request,Md.isInstance(o)?(i=o.headers,a=(null===(l=null==t?void 0:t.userAgent)||void 0===l?void 0:l.map(Hv))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=d.sent().map(Hv),u=(null===(f=null==n?void 0:n.customUserAgent)||void 0===f?void 0:f.map(Hv))||[],i["x-amz-user-agent"]=qv(s,a,u).join(" "),c=qv(s.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&c&&(i[Kv]=i[Kv]?i[Kv]+" "+c:c),[2,e(zv(zv({},r),{request:o}))]}}))}))}}),Vv)}}},Wv=function(e){function t(t){var n,r,o,i=this,a=function(e){if(!e.region)throw new Error("Region is missing");return Dh(Dh({},e),{region:Uh(e.region)})}(Ct(Ct({},Lh),t)),s=function(e){var t;return Dh(Dh({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?Mh(e):function(){return jh(e)},isCustomEndpoint:!!e.endpoint})}(a),u=function(e){var t,n=this,r=jv(e.credentials||e.credentialDefaultProvider(e)),o=e.signingEscapePath,i=void 0===o||o,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?jv(e.signer):function(){return jv(e.region)().then((function(t){return Zh(n,void 0,void 0,(function(){return Jh(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(t,2),o=n[0],a=n[1],s=o.signingRegion,c=o.signingService;return e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId,new Rv({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:i})}))},Yh(Yh({},e),{systemClockOffset:s,signingEscapePath:i,credentials:r,signer:t})}(s),c=function(e){return zv(zv({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}((r=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}((n=u).maxAttempts),fh(fh({},n),{maxAttempts:r,retryStrategy:n.retryStrategy||new xh(r)}))),l=zh(c);return(i=e.call(this,l)||this).config=l,i.middlewareStack.use((o=i.config,{applyToStack:function(e){e.addRelativeTo(Uv(o),Fv)}})),i.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return dh(void 0,void 0,void 0,(function(){var o;return ph(this,(function(i){return(null===(o=null==e?void 0:e.retryStrategy)||void 0===o?void 0:o.mode)&&(n.userAgent=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(hh(arguments[t]));return e}(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),vh)}}}(i.config)),i.middlewareStack.use(Gh(i.config)),i.middlewareStack.use(Vh(i.config)),i.middlewareStack.use((i.config,{applyToStack:function(e){e.add($h(),Wh)}})),i.middlewareStack.use($v(i.config)),i}return xe(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(bp),Yv=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},Zv=new c("AWSKinesisProvider"),Jv=function(){function e(e){this._buffer=[],this._config=e||{},this._config.bufferSize=this._config.bufferSize||1e3,this._config.flushSize=this._config.flushSize||100,this._config.flushInterval=this._config.flushInterval||5e3,this._config.resendLimit=this._config.resendLimit||5,this._setupTimer()}return e.prototype._setupTimer=function(){var e=this;this._timer&&clearInterval(this._timer);var t=this._config,n=t.flushSize,r=t.flushInterval;this._timer=setInterval((function(){for(var t=e._buffer.length<n?e._buffer.length:n,r=[],o=0;o<t;o+=1){var i=e._buffer.shift();r.push(i)}e._sendFromBuffer(r)}),r)},e.prototype.getCategory=function(){return"Analytics"},e.prototype.getProviderName=function(){return"AWSKinesis"},e.prototype.configure=function(e){Zv.debug("configure Analytics",e);var t=e||{};return this._config=Object.assign({},this._config,t),this._setupTimer(),this._config},e.prototype.record=function(e){var t;return y(this,void 0,void 0,(function(){var n;return m(this,(function(r){switch(r.label){case 0:return[4,this._getCredentials()];case 1:return(n=r.sent())?(Object.assign(e,{config:this._config,credentials:n}),(null===(t=e.event)||void 0===t?void 0:t.immediate)?(this._sendEvents([e]),[2,Promise.resolve(!0)]):[2,this._putToBuffer(e)]):[2,Promise.resolve(!1)]}}))}))},e.prototype.updateEndpoint=function(){return Zv.debug("updateEndpoint is not implemented in Kinesis provider"),Promise.resolve(!0)},e.prototype._putToBuffer=function(e){return this._buffer.length<1e3?(this._buffer.push(e),Promise.resolve(!0)):(Zv.debug("exceed analytics events buffer size"),Promise.reject(!1))},e.prototype._sendFromBuffer=function(e){for(var t=this,n=[],r=null,o=[],i=0;i<e.length;i+=1){var a=e[i].credentials;0===i?(o.push(e[i]),r=a):a.sessionToken===r.sessionToken&&a.identityId===r.identityId?(Zv.debug("no change for cred, put event in the same group"),o.push(e[i])):(n.push(o),(o=[]).push(e[i]),r=a)}n.push(o),n.map((function(e){t._sendEvents(e)}))},e.prototype._sendEvents=function(e){var t=this;if(0!==e.length){var n=e[0],r=n.config,o=n.credentials;if(!this._init(r,o))return!1;var i={};e.map((function(e){var t=e.event,n=t.streamName;void 0===i[n]&&(i[n]=[]);var r=t.data&&"string"!=typeof t.data?JSON.stringify(t.data):t.data,a={Data:Yv(r),PartitionKey:t.partitionKey||"partition-"+o.identityId};i[n].push(a)})),Object.keys(i).map((function(e){return y(t,void 0,void 0,(function(){var t,n;return m(this,(function(r){switch(r.label){case 0:Zv.debug("putting records to kinesis with records",i[e]),r.label=1;case 1:return r.trys.push([1,3,,4]),t=new xp({Records:i[e],StreamName:e}),[4,this._kinesis.send(t)];case 2:return r.sent(),Zv.debug("Upload records to stream",e),[3,4];case 3:return n=r.sent(),Zv.debug("Failed to upload records to Kinesis",n),[3,4];case 4:return[2]}}))}))}))}},e.prototype._init=function(e,t){if(Zv.debug("init clients"),this._kinesis&&this._config.credentials&&this._config.credentials.sessionToken===t.sessionToken&&this._config.credentials.identityId===t.identityId)return Zv.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=t;var n=e.region,r=e.endpoint;return this._initKinesis(n,r,t)},e.prototype._initKinesis=function(e,t,n){return Zv.debug("initialize kinesis with credentials",n),this._kinesis=new Wv({region:e,credentials:n,customUserAgent:te(),endpoint:t}),!0},e.prototype._getCredentials=function(){var e=this;return fs.get().then((function(t){return t?(Zv.debug("set credentials for analytics",e._config.credentials),fs.shear(t)):null})).catch((function(e){return Zv.debug("ensure credentials error",e),null}))},e}(),Xv=function(){return Xv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xv.apply(this,arguments)};function Qv(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function ey(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Qv(arguments[t]));return e}var ty=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,Xv({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,Xv({},e))})),n},o=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,ey(o(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,ey(o(e)))})),t},i={add:function(t,r){void 0===r&&(r={});var o=r.name,i=r.override,a=Xv({step:"initialize",priority:"normal",middleware:t},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '"+o+"'");var s=e.findIndex((function(e){return e.name===o})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'+o+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");e.splice(s,1)}n.add(o)}e.push(a)},addRelativeTo:function(e,r){var o=r.name,i=r.override,a=Xv({middleware:e},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '"+o+"'");var s=t.findIndex((function(e){return e.name===o})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'+o+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');t.splice(s,1)}n.add(o)}t.push(a)},clone:function(){return r(ty())},use:function(e){e.applyToStack(i)},remove:function(r){return"string"==typeof r?function(r){var o=!1,i=function(e){return!e.name||e.name!==r||(o=!0,n.delete(r),!1)};return e=e.filter(i),t=t.filter(i),o}(r):function(r){var o=!1,i=function(e){return e.middleware!==r||(o=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(i),t=t.filter(i),o}(r)},removeByTag:function(r){var o=!1,i=function(e){var t=e.tags,i=e.name;return!t||!t.includes(r)||(i&&n.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:function(e){var t=r(ty());return t.use(e),t},applyToStack:r,resolve:function(n,r){var i,a;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(){var n=[],r=[],i={};e.forEach((function(e){var t=Xv(Xv({},e),{before:[],after:[]});t.name&&(i[t.name]=t),n.push(t)})),t.forEach((function(e){var t=Xv(Xv({},e),{before:[],after:[]});t.name&&(i[t.name]=t),r.push(t)})),r.forEach((function(e){if(e.toMiddleware){var t=i[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var a,s=(a=n,a.sort((function(e,t){return ny[t.step]-ny[e.step]||ry[t.priority||"normal"]-ry[e.priority||"normal"]}))).map(o).reduce((function(e,t){return e.push.apply(e,ey(t)),e}),[]);return s.map((function(e){return e.middleware}))}().reverse()),u=s.next();!u.done;u=s.next())n=(0,u.value)(n,r)}catch(e){i={error:e}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return n}};return i},ny={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},ry={high:3,normal:2,low:1},oy=function(){function e(e){this.middlewareStack=ty(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return i(e).then((function(e){return e.output}));i(e).then((function(e){return o(null,e.output)}),(function(e){return o(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),iy=function(e,t){return iy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},iy(e,t)};function ay(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function sy(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ay(arguments[t]));return e}var uy=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,sy([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};uy.prototype=Object.create(String.prototype,{constructor:{value:uy,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(uy,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){function n(){this.constructor=e}iy(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(uy);var cy,ly,fy,dy,py,hy,vy,yy,my,gy,by,wy,Sy,Ey,_y,xy,Ty,Iy,Ay,Cy,Py,Oy,ky,Ry,Ny,Ly,Dy,My,jy,Uy,Fy,zy,By,qy,Ky,Gy,Hy,Vy,$y,Wy,Yy,Zy,Jy,Xy,Qy,em,tm,nm,rm,om,im,am,sm,um,cm,lm,fm,dm,pm,hm,vm,ym,mm,gm,bm,wm,Sm,Em,_m,xm,Tm,Im,Am,Cm,Pm,Om,km,Rm,Nm,Lm,Dm,Mm,jm,Um,Fm,zm,Bm,qm,Km,Gm,Hm,Vm,$m,Wm,Ym,Zm,Jm,Xm,Qm,eg,tg,ng="***SensitiveInformation***";!function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(cy||(cy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ly||(ly={})),function(e){e.GZIP="GZIP",e.HADOOP_SNAPPY="HADOOP_SNAPPY",e.SNAPPY="Snappy",e.UNCOMPRESSED="UNCOMPRESSED",e.ZIP="ZIP"}(fy||(fy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(dy||(dy={})),function(e){e.GZIP="GZIP",e.NONE="NONE"}(py||(py={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(hy||(hy={})),function(e){e.AWS_OWNED_CMK="AWS_OWNED_CMK",e.CUSTOMER_MANAGED_CMK="CUSTOMER_MANAGED_CMK"}(vy||(vy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(yy||(yy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(my||(my={})),function(e){e.BUFFER_INTERVAL_IN_SECONDS="BufferIntervalInSeconds",e.BUFFER_SIZE_IN_MB="BufferSizeInMBs",e.LAMBDA_ARN="LambdaArn",e.LAMBDA_NUMBER_OF_RETRIES="NumberOfRetries",e.ROLE_ARN="RoleArn"}(gy||(gy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(by||(by={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(wy||(wy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Sy||(Sy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ey||(Ey={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(_y||(_y={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(xy||(xy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ty||(Ty={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Iy||(Iy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ay||(Ay={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Cy||(Cy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Py||(Py={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Oy||(Oy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ky||(ky={})),function(e){e.NONE="NONE",e.SNAPPY="SNAPPY",e.ZLIB="ZLIB"}(Ry||(Ry={})),function(e){e.V0_11="V0_11",e.V0_12="V0_12"}(Ny||(Ny={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ly||(Ly={})),function(e){e.GZIP="GZIP",e.SNAPPY="SNAPPY",e.UNCOMPRESSED="UNCOMPRESSED"}(Dy||(Dy={})),function(e){e.V1="V1",e.V2="V2"}(My||(My={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(jy||(jy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Uy||(Uy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Fy||(Fy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(zy||(zy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(By||(By={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(qy||(qy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ky||(Ky={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct(Ct({},e),e.Url&&{Url:ng}),e.AccessKey&&{AccessKey:ng})}}(Gy||(Gy={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct(Ct({},e),e.AttributeName&&{AttributeName:ng}),e.AttributeValue&&{AttributeValue:ng})}}(Hy||(Hy={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.CommonAttributes&&{CommonAttributes:e.CommonAttributes.map((function(e){return Hy.filterSensitiveLog(e)}))})}}(Vy||(Vy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}($y||($y={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct(Ct({},e),e.EndpointConfiguration&&{EndpointConfiguration:Gy.filterSensitiveLog(e.EndpointConfiguration)}),e.RequestConfiguration&&{RequestConfiguration:Vy.filterSensitiveLog(e.RequestConfiguration)})}}(Wy||(Wy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Yy||(Yy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Zy||(Zy={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct(Ct({},e),e.Username&&{Username:ng}),e.Password&&{Password:ng})}}(Jy||(Jy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Xy||(Xy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Qy||(Qy={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(em||(em={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct(Ct({},e),e.RedshiftDestinationConfiguration&&{RedshiftDestinationConfiguration:Jy.filterSensitiveLog(e.RedshiftDestinationConfiguration)}),e.HttpEndpointDestinationConfiguration&&{HttpEndpointDestinationConfiguration:Wy.filterSensitiveLog(e.HttpEndpointDestinationConfiguration)})}}(tm||(tm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(nm||(nm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(rm||(rm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(om||(om={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(im||(im={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(am||(am={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(sm||(sm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(um||(um={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(cm||(cm={})),function(e){e.CREATE_ENI_FAILED="CREATE_ENI_FAILED",e.CREATE_KMS_GRANT_FAILED="CREATE_KMS_GRANT_FAILED",e.DELETE_ENI_FAILED="DELETE_ENI_FAILED",e.DISABLED_KMS_KEY="DISABLED_KMS_KEY",e.ENI_ACCESS_DENIED="ENI_ACCESS_DENIED",e.INVALID_KMS_KEY="INVALID_KMS_KEY",e.KMS_ACCESS_DENIED="KMS_ACCESS_DENIED",e.KMS_KEY_NOT_FOUND="KMS_KEY_NOT_FOUND",e.KMS_OPT_IN_REQUIRED="KMS_OPT_IN_REQUIRED",e.RETIRE_KMS_GRANT_FAILED="RETIRE_KMS_GRANT_FAILED",e.SECURITY_GROUP_ACCESS_DENIED="SECURITY_GROUP_ACCESS_DENIED",e.SECURITY_GROUP_NOT_FOUND="SECURITY_GROUP_NOT_FOUND",e.SUBNET_ACCESS_DENIED="SUBNET_ACCESS_DENIED",e.SUBNET_NOT_FOUND="SUBNET_NOT_FOUND",e.UNKNOWN_ERROR="UNKNOWN_ERROR"}(lm||(lm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(fm||(fm={})),function(e){e.DISABLED="DISABLED",e.DISABLING="DISABLING",e.DISABLING_FAILED="DISABLING_FAILED",e.ENABLED="ENABLED",e.ENABLING="ENABLING",e.ENABLING_FAILED="ENABLING_FAILED"}(dm||(dm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(pm||(pm={})),function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.CREATING_FAILED="CREATING_FAILED",e.DELETING="DELETING",e.DELETING_FAILED="DELETING_FAILED"}(hm||(hm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(vm||(vm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ym||(ym={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(mm||(mm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(gm||(gm={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.Url&&{Url:ng})}}(bm||(bm={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct(Ct({},e),e.EndpointConfiguration&&{EndpointConfiguration:bm.filterSensitiveLog(e.EndpointConfiguration)}),e.RequestConfiguration&&{RequestConfiguration:Vy.filterSensitiveLog(e.RequestConfiguration)})}}(wm||(wm={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.Username&&{Username:ng})}}(Sm||(Sm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Em||(Em={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct(Ct({},e),e.RedshiftDestinationDescription&&{RedshiftDestinationDescription:Sm.filterSensitiveLog(e.RedshiftDestinationDescription)}),e.HttpEndpointDestinationDescription&&{HttpEndpointDestinationDescription:wm.filterSensitiveLog(e.HttpEndpointDestinationDescription)})}}(_m||(_m={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(xm||(xm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Tm||(Tm={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.Destinations&&{Destinations:e.Destinations.map((function(e){return _m.filterSensitiveLog(e)}))})}}(Im||(Im={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Am||(Am={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.DeliveryStreamDescription&&{DeliveryStreamDescription:Im.filterSensitiveLog(e.DeliveryStreamDescription)})}}(Cm||(Cm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Pm||(Pm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Om||(Om={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(km||(km={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Rm||(Rm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Nm||(Nm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Lm||(Lm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Dm||(Dm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Mm||(Mm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(jm||(jm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Um||(Um={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Fm||(Fm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(zm||(zm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Bm||(Bm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(qm||(qm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Km||(Km={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Gm||(Gm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Hm||(Hm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Vm||(Vm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}($m||($m={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Wm||(Wm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Ym||(Ym={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Zm||(Zm={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct(Ct({},e),e.EndpointConfiguration&&{EndpointConfiguration:Gy.filterSensitiveLog(e.EndpointConfiguration)}),e.RequestConfiguration&&{RequestConfiguration:Vy.filterSensitiveLog(e.RequestConfiguration)})}}(Jm||(Jm={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct(Ct({},e),e.Username&&{Username:ng}),e.Password&&{Password:ng})}}(Xm||(Xm={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(Qm||(Qm={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct(Ct({},e),e.RedshiftDestinationUpdate&&{RedshiftDestinationUpdate:Xm.filterSensitiveLog(e.RedshiftDestinationUpdate)}),e.HttpEndpointDestinationUpdate&&{HttpEndpointDestinationUpdate:Jm.filterSensitiveLog(e.HttpEndpointDestinationUpdate)})}}(eg||(eg={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(tg||(tg={}));var rg=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),og=function(){return og=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},og.apply(this,arguments)};function ig(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var ag=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(og(og({},this),{headers:og({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return og(og({},e),((r={})[n]=Array.isArray(o)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ig(arguments[t]));return e}(o):o,r))}),{}))),n},e}(),sg=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d;return kt(this,(function(p){switch(p.label){case 0:return r=[Ct({},e)],d={},[4,Sg(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(d.body=p.sent(),d)])),i="UnknownError",i=Eg(e,n.body)){case"InvalidArgumentException":case"com.amazonaws.firehose#InvalidArgumentException":return[3,2];case"InvalidKMSResourceException":case"com.amazonaws.firehose#InvalidKMSResourceException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.firehose#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.firehose#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return a=[{}],[4,ug(n,t)];case 3:return o=Ct.apply(void 0,[Ct.apply(void 0,a.concat([p.sent()])),{name:i,$metadata:bg(e)}]),[3,11];case 4:return s=[{}],[4,cg(n,t)];case 5:return o=Ct.apply(void 0,[Ct.apply(void 0,s.concat([p.sent()])),{name:i,$metadata:bg(e)}]),[3,11];case 6:return u=[{}],[4,lg(n,t)];case 7:return o=Ct.apply(void 0,[Ct.apply(void 0,u.concat([p.sent()])),{name:i,$metadata:bg(e)}]),[3,11];case 8:return c=[{}],[4,fg(n,t)];case 9:return o=Ct.apply(void 0,[Ct.apply(void 0,c.concat([p.sent()])),{name:i,$metadata:bg(e)}]),[3,11];case 10:l=n.body,i=l.code||l.Code||i,o=Ct(Ct({},l),{name:""+i,message:l.message||l.Message||i,$fault:"client",$metadata:bg(e)}),p.label=11;case 11:return f=o.message||o.Message||i,o.message=f,delete o.Message,[2,Promise.reject(Object.assign(new Error(f),o))]}}))}))},ug=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=hg(n,t),[2,Ct({name:"InvalidArgumentException",$fault:"client",$metadata:bg(e)},r)]}))}))},cg=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=vg(n,t),[2,Ct({name:"InvalidKMSResourceException",$fault:"client",$metadata:bg(e)},r)]}))}))},lg=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=mg(n,t),[2,Ct({name:"ResourceNotFoundException",$fault:"client",$metadata:bg(e)},r)]}))}))},fg=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=gg(n,t),[2,Ct({name:"ServiceUnavailableException",$fault:"server",$metadata:bg(e)},r)]}))}))},dg=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:pg(e,t)}))},pg=function(e,t){return Ct({},void 0!==e.Data&&null!==e.Data&&{Data:t.base64Encoder(e.Data)})},hg=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},vg=function(e,t){return{code:void 0!==e.code&&null!==e.code?e.code:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0}},yg=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ErrorCode:void 0!==e.ErrorCode&&null!==e.ErrorCode?e.ErrorCode:void 0,ErrorMessage:void 0!==e.ErrorMessage&&null!==e.ErrorMessage?e.ErrorMessage:void 0,RecordId:void 0!==e.RecordId&&null!==e.RecordId?e.RecordId:void 0}}(e)}))},mg=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},gg=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},bg=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},wg=function(e,t,n,r,o){return Ot(void 0,void 0,void 0,(function(){var i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return i=f.sent(),a=i.hostname,s=i.protocol,u=void 0===s?"https":s,c=i.port,l={protocol:u,hostname:a,port:c,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==o&&(l.body=o),[2,new ag(l)]}}))}))},Sg=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Eg=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==o?r(e.headers[o]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},_g=function(){return _g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_g.apply(this,arguments)};function xg(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Tg(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var Ig={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Ag={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};var Cg=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){var r,o,i;this.middlewareStack.use((r=t,o=this.serialize,i=this.deserialize,{applyToStack:function(e){e.add(function(e,t){return function(n,r){return function(r){return xg(void 0,void 0,void 0,(function(){var o,i;return Tg(this,(function(a){switch(a.label){case 0:return[4,n(r)];case 1:return o=a.sent().response,[4,t(o,e)];case 2:return i=a.sent(),[2,{response:o,output:i}]}}))}))}}}(r,i),Ig),e.add(function(e,t){return function(n,r){return function(r){return xg(void 0,void 0,void 0,(function(){var o;return Tg(this,(function(i){switch(i.label){case 0:return[4,t(r.input,e)];case 1:return o=i.sent(),[2,n(_g(_g({},r),{request:o}))]}}))}))}}}(r,o),Ag)}}));var a=e.concat(this.middlewareStack),s={logger:t.logger,clientName:"FirehoseClient",commandName:"PutRecordBatchCommand",inputFilterSensitiveLog:zm.filterSensitiveLog,outputFilterSensitiveLog:qm.filterSensitiveLog},u=t.requestHandler;return a.resolve((function(e){return u.handle(e.request,n||{})}),s)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Firehose_20150804.PutRecordBatch"},r=JSON.stringify(function(e,t){return Ct(Ct({},void 0!==e.DeliveryStreamName&&null!==e.DeliveryStreamName&&{DeliveryStreamName:e.DeliveryStreamName}),void 0!==e.Records&&null!==e.Records&&{Records:dg(e.Records,t)})}(e,t)),[2,wg(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o;return kt(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,sg(e,t)]:[4,Sg(e.body,t)];case 1:return n=i.sent(),r=function(e,t){return{Encrypted:void 0!==e.Encrypted&&null!==e.Encrypted?e.Encrypted:void 0,FailedPutCount:void 0!==e.FailedPutCount&&null!==e.FailedPutCount?e.FailedPutCount:void 0,RequestResponses:void 0!==e.RequestResponses&&null!==e.RequestResponses?yg(e.RequestResponses,t):void 0}}(n,t),o=Ct({$metadata:bg(e)},r),[2,Promise.resolve(o)]}}))}))}(e,t)},t}((function(){this.middlewareStack=ty()})),Pg=n(4298);function Og(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function kg(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var Rg=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,Ng)},Ng=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()},Lg=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var o=new Error("Request aborted");return o.name="AbortError",Promise.reject(o)}var i=e.path;if(e.query){var a=function(e){var t,n,r=[];try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e).sort()),i=o.next();!i.done;i=o.next()){var a=i.value,s=e[a];if(a=Rg(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push(a+"="+Rg(s[u]));else{var l=a;(s||"string"==typeof s)&&(l+="="+Rg(s)),r.push(l)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.join("&")}(e.query);a&&(i+="?"+a)}var s=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(s?":"+s:"")+i,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var f,d=new Request(c,l),p=[fetch(d).then((function(e){var t,n,r=e.headers,o={};try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r.entries()),a=i.next();!a.done;a=i.next()){var s=a.value;o[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new rg({headers:o,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new rg({headers:o,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&p.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(p)},e}();function Dg(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var o=null!==(e=r.result)&&void 0!==e?e:"",i=o.indexOf(","),a=i>-1?i+1:o.length;t(o.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var Mg=function(){return Mg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Mg.apply(this,arguments)};function jg(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Ug(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function Fg(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var zg={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Bg=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],qg=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Kg=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],Gg=[500,502,503,504],Hg=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||qg.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},Vg=n(5477),$g=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},Wg=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return Bg.includes(e.name)}(e)||Hg(e)||function(e){var t;return Kg.includes(e.name)||Gg.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},Yg=function(){function e(e,t){var n,r,o,i,a,s,u;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:Wg,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:$g,this.retryQuota=null!==(o=null==t?void 0:t.retryQuota)&&void 0!==o?o:(i=500,a=500,s=function(e){return"TimeoutError"===e.name?10:5},u=function(e){return s(e)<=a},Object.freeze({hasRetryTokens:u,retrieveRetryTokens:function(e){if(!u(e))throw new Error("No retry token available");var t=s(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,i)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return jg(this,void 0,void 0,(function(){var e;return Ug(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return jg(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return Ug(this,(function(l){switch(l.label){case 0:return r=0,o=0,[4,this.getMaxAttempts()];case 1:i=l.sent(),a=t.request,ag.isInstance(a)&&(a.headers["amz-sdk-invocation-id"]=(0,Vg.v4)()),s=function(){var s,c,l,f,d;return Ug(this,(function(p){switch(p.label){case 0:return p.trys.push([0,2,,5]),ag.isInstance(a)&&(a.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+i),[4,e(t)];case 1:return s=p.sent(),c=s.response,l=s.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=o,[2,{value:{response:c,output:l}}];case 2:return f=p.sent(),r++,u.shouldRetry(f,r,i)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(Hg(f)?500:100,r),o+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return p.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=o,f;case 5:return[2]}}))},u=this,l.label=2;case 2:return[5,s()];case 3:return"object"==typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}();var Zg=n(9778),Jg="firehose.{region}.amazonaws.com",Xg=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Qg=new Set(["cn-north-1","cn-northwest-1"]),eb=new Set(["us-iso-east-1"]),tb=new Set(["us-isob-east-1"]),nb=new Set(["us-gov-east-1","us-gov-west-1"]);function rb(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var ob={apiVersion:"2015-08-04",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"firehose.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"firehose.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"firehose.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"firehose.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"firehose.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"firehose.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"firehose.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"firehose.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"firehose.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"firehose.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"firehose.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"firehose.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"firehose.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"firehose.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"firehose.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"firehose.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"firehose-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"firehose-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-east-1":n={hostname:"firehose-fips.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"fips-us-gov-west-1":n={hostname:"firehose-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-1":n={hostname:"firehose-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":n={hostname:"firehose-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":n={hostname:"firehose.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":n={hostname:"firehose.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"firehose.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"firehose.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"firehose.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":n={hostname:"firehose.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":n={hostname:"firehose.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"firehose.us-west-2.amazonaws.com",partition:"aws"};break;default:Xg.has(e)&&(n={hostname:Jg.replace("{region}",e),partition:"aws"}),Qg.has(e)&&(n={hostname:"firehose.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),eb.has(e)&&(n={hostname:"firehose.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),tb.has(e)&&(n={hostname:"firehose.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),nb.has(e)&&(n={hostname:"firehose.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:Jg.replace("{region}",e),partition:"aws"})}return Promise.resolve(Ct({signingService:"firehose"},n))},serviceId:"Firehose",urlParser:function(e){var t,n=new URL(e),r=n.hostname,o=n.pathname,i=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.split("&")),i=o.next();!i.done;i=o.next()){var a=rb(i.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:i?parseInt(i):void 0,protocol:a,path:o,query:t}}},ib=Ct(Ct({},ob),{runtime:"browser",base64Decoder:er,base64Encoder:tr,bodyLengthChecker:function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0},credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:function(e){var t=e.serviceId,n=e.clientVersion;return function(){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e,r,o,i,a,s,u,c,l;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(f){return e=(null===(o=null===window||void 0===window?void 0:window.navigator)||void 0===o?void 0:o.userAgent)?gr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(i=null==e?void 0:e.os)||void 0===i?void 0:i.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser",(null!==(u=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown")+"_"+(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}}({serviceId:ob.serviceId,clientVersion:"3.6.1"}),maxAttempts:3,region:function(){return Promise.reject("Region is missing")},requestHandler:new Lg,sha256:Pg.Sha256,streamCollector:function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return Og(this,void 0,void 0,(function(){var t,n;return kg(this,(function(r){switch(r.label){case 0:return[4,Dg(e)];case 1:return t=r.sent(),n=er(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return Og(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return kg(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return o=u.sent(),i=o.done,(a=o.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=i,[3,1];case 3:return[2,t]}}))}))}(e)},utf8Decoder:Zg.fromUtf8,utf8Encoder:Zg.toUtf8}),ab=function(){return ab=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ab.apply(this,arguments)};var sb=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var o=Promise.resolve(t);return function(){return o}}return t},ub=function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t,n,r,o,i;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(a){switch(a.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=a.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(o=(null!==(i=a.sent())&&void 0!==i?i:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+o)]}}))}))},cb=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},lb=function(){return lb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},lb.apply(this,arguments)};var fb="content-length",db={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},pb=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t,o,i,a,s;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(u){return t=r.request,ag.isInstance(t)&&(o=t.body,i=t.headers,o&&-1===Object.keys(i).map((function(e){return e.toLowerCase()})).indexOf(fb)&&void 0!==(a=e(o))&&(t.headers=lb(lb({},t.headers),((s={})[fb]=String(a),s)))),[2,n(lb(lb({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),db)}}};var hb={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},vb=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,o;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(i){return ag.isInstance(n.request)?(r=n.request,(void 0===(o=(e.requestHandler.metadata||{}).handlerProtocol)?"":o).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),hb)}}};var yb=function(){return function(e,t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(d){switch(d.label){case 0:return r=t.clientName,o=t.commandName,i=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(c,["$metadata"]),a.info({clientName:r,commandName:o,input:i(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}},mb={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},gb=function(){return gb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},gb.apply(this,arguments)};function bb(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function wb(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var Sb=function(){return Sb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Sb.apply(this,arguments)};function Eb(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function _b(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function xb(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tb(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}for(var Ib={},Ab={},Cb=0;Cb<256;Cb++){var Pb=Cb.toString(16).toLowerCase();1===Pb.length&&(Pb="0"+Pb),Ib[Cb]=Pb,Ab[Pb]=Cb}function Ob(e){for(var t="",n=0;n<e.byteLength;n++)t+=Ib[e[n]];return t}var kb="X-Amz-Date",Rb="X-Amz-Signature",Nb="X-Amz-Security-Token",Lb="authorization",Db=kb.toLowerCase(),Mb=[Lb,Db,"date"],jb=Rb.toLowerCase(),Ub="x-amz-content-sha256",Fb=Nb.toLowerCase(),zb={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Bb=/^proxy-/,qb=/^sec-/,Kb="AWS4-HMAC-SHA256",Gb="AWS4-HMAC-SHA256-PAYLOAD",Hb="aws4_request",Vb={},$b=[];function Wb(e,t,n){return e+"/"+t+"/"+n+"/"+Hb}function Yb(e,t,n){var r=new e(t);return r.update(n),r.digest()}function Zb(e,t,n){var r,o,i=e.headers,a={};try{for(var s=xb(Object.keys(i).sort()),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.toLowerCase();(l in zb||(null==t?void 0:t.has(l))||Bb.test(l)||qb.test(l))&&(!n||n&&!n.has(l))||(a[l]=i[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a}function Jb(e,t){var n=e.headers,r=e.body;return Eb(this,void 0,void 0,(function(){var e,o,i,a,s,u,c;return _b(this,(function(l){switch(l.label){case 0:try{for(e=xb(Object.keys(n)),o=e.next();!o.done;o=e.next())if((i=o.value).toLowerCase()===Ub)return[2,n[i]]}catch(e){u={error:e}}finally{try{o&&!o.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=Ob,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function Xb(e){var t=e.headers,n=e.query,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["headers","query"]);return Sb(Sb({},r),{headers:Sb({},t),query:n?Qb(n):void 0})}function Qb(e){return Object.keys(e).reduce((function(t,n){var r,o=e[n];return Sb(Sb({},t),((r={})[n]=Array.isArray(o)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Tb(arguments[t]));return e}(o):o,r))}),{})}function ew(e){var t,n;e="function"==typeof e.clone?e.clone():Xb(e);try{for(var r=xb(Object.keys(e.headers)),o=r.next();!o.done;o=r.next()){var i=o.value;Mb.indexOf(i.toLowerCase())>-1&&delete e.headers[i]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}var tw=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,o=e.service,i=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=ow(r),this.credentialProvider=iw(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Eb(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T;return _b(this,(function(I){switch(I.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,o=t.expiresIn,i=void 0===o?3600:o,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=I.sent(),null==c?[3,2]:(p=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:p=I.sent(),I.label=4;case 4:return d=p,h=nw(r),v=h.longDate,y=h.shortDate,i>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(m=Wb(y,d,null!=l?l:this.service),g=function(e,t){var n,r,o;void 0===t&&(t={});var i="function"==typeof e.clone?e.clone():Xb(e),a=i.headers,s=i.query,u=void 0===s?{}:s;try{for(var c=xb(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(o=t.unhoistableHeaders)||void 0===o?void 0:o.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return Sb(Sb({},e),{headers:a,query:u})}(ew(e),{unhoistableHeaders:s}),f.sessionToken&&(g.query[Nb]=f.sessionToken),g.query["X-Amz-Algorithm"]=Kb,g.query["X-Amz-Credential"]=f.accessKeyId+"/"+m,g.query[kb]=v,g.query["X-Amz-Expires"]=i.toString(10),b=Zb(g,a,u),g.query["X-Amz-SignedHeaders"]=rw(b),w=g.query,S=Rb,E=this.getSignature,_=[v,m,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,T=[g,b],[4,Jb(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,T.concat([I.sent()]))]))];case 6:return w[S]=I.sent(),[2,g]}}))}))},e.prototype.sign=function(e,t){return Eb(this,void 0,void 0,(function(){return _b(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,o=t.signingDate,i=void 0===o?new Date:o,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return Eb(this,void 0,void 0,(function(){var e,t,o,c,l,f,d,p,h,v,y;return _b(this,(function(m){switch(m.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=m.sent(),m.label=3;case 3:return e=t,o=nw(i),c=o.shortDate,l=o.longDate,f=Wb(c,e,null!=u?u:this.service),[4,Jb({headers:{},body:r},this.sha256)];case 4:return d=m.sent(),(p=new this.sha256).update(n),v=Ob,[4,p.digest()];case 5:return h=v.apply(void 0,[m.sent()]),y=[Gb,l,f,a,h,d].join("\n"),[2,this.signString(y,{signingDate:i,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signingRegion,a=n.signingService;return Eb(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return _b(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==i?[3,2]:(r=i,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=nw(o).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=Ob,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return Eb(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,p,h,v,y;return _b(this,(function(m){switch(m.label){case 0:return[4,this.credentialProvider()];case 1:return t=m.sent(),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=m.sent(),m.label=4;case 4:return n=r,c=ew(e),l=nw(o),f=l.longDate,d=l.shortDate,p=Wb(d,n,null!=u?u:this.service),c.headers[Db]=f,t.sessionToken&&(c.headers[Fb]=t.sessionToken),[4,Jb(c,this.sha256)];case 5:return h=m.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var o=xb(Object.keys(t)),i=o.next();!i.done;i=o.next())if(e===i.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}(Ub,c.headers)&&this.applyChecksum&&(c.headers[Ub]=h),v=Zb(c,a,i),[4,this.getSignature(f,p,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,h))];case 6:return y=m.sent(),c.headers[Lb]=Kb+" Credential="+t.accessKeyId+"/"+p+", SignedHeaders="+rw(v)+", Signature="+y,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,o=void 0===r?{}:r,i=[],a={},s=function(e){if(e.toLowerCase()===jb)return"continue";i.push(e);var t=o[e];"string"==typeof t?a[e]=Rg(e)+"="+Rg(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([Rg(e)+"="+Rg(n)])}),[]).join("&"))};try{for(var u=xb(Object.keys(o).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return i.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return Eb(this,void 0,void 0,(function(){var r,o;return _b(this,(function(i){switch(i.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return o=i.sent(),[2,Kb+"\n"+e+"\n"+t+"\n"+Ob(o)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return Eb(this,void 0,void 0,(function(){var o,i,a,s,u;return _b(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return o=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(i=new(s.apply(a,[void 0,c.sent()]))).update(o),u=Ob,[4,i.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,o){return Eb(void 0,void 0,void 0,(function(){var i,a,s,u,c,l,f,d,p;return _b(this,(function(h){switch(h.label){case 0:return[4,Yb(e,t.secretAccessKey,t.accessKeyId)];case 1:if(i=h.sent(),(a=n+":"+r+":"+o+":"+Ob(i)+":"+t.sessionToken)in Vb)return[2,Vb[a]];for($b.push(a);$b.length>50;)delete Vb[$b.shift()];s="AWS4"+t.secretAccessKey,h.label=2;case 2:h.trys.push([2,7,8,9]),u=xb([n,r,o,Hb]),c=u.next(),h.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,Yb(e,s,l)]);case 4:s=h.sent(),h.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=h.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(p=u.return)&&p.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,Vb[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),nw=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},rw=function(e){return Object.keys(e).sort().join(";")},ow=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},iw=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function aw(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}function sw(e){return function(t,n){return function(r){return bb(this,void 0,void 0,(function(){var o,i,a,s,u,c,l,f,d;return wb(this,(function(p){switch(p.label){case 0:return ag.isInstance(r.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(r)];case 1:return i=p.sent(),[3,3];case 2:i=e.signer,p.label=3;case 3:return o=i,s=t,u=[gb({},r)],d={},[4,o.sign(r.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,s.apply(void 0,[gb.apply(void 0,u.concat([(d.request=p.sent(),d)]))])];case 5:return a=p.sent(),c=a.response.headers,(l=c&&(c.date||c.Date))&&(h=f=Date.parse(l),v=e.systemClockOffset,Math.abs(function(e){return new Date(Date.now()+e)}(v).getTime()-h)>=3e5&&(e.systemClockOffset=f-Date.now())),[2,a]}var h,v}))}))}}}var uw={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},cw=function(){return cw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},cw.apply(this,arguments)};function lw(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function fw(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(lw(arguments[t]));return e}var dw,pw,hw,vw,yw,mw,gw,bw,ww="user-agent",Sw=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Ew=function(e){var t=lw(e,2),n=t[0],r=t[1],o=n.indexOf("/"),i=n.substring(0,o),a=n.substring(o+1);return"api"===i&&(a=a.toLowerCase()),[i,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(Sw,"_")})).join("/")},_w={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},xw=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var o,i,a,s,u,c,l,f;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(d){switch(d.label){case 0:return o=r.request,ag.isInstance(o)?(i=o.headers,a=(null===(l=null==t?void 0:t.userAgent)||void 0===l?void 0:l.map(Ew))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=d.sent().map(Ew),u=(null===(f=null==n?void 0:n.customUserAgent)||void 0===f?void 0:f.map(Ew))||[],i["x-amz-user-agent"]=fw(s,a,u).join(" "),c=fw(s.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&c&&(i[ww]=i[ww]?i[ww]+" "+c:c),[2,e(cw(cw({},r),{request:o}))]}}))}))}}),_w)}}},Tw=function(e){function t(t){var n,r,o,i=this,a=function(e){if(!e.region)throw new Error("Region is missing");return ab(ab({},e),{region:cb(e.region)})}(Ct(Ct({},ib),t)),s=function(e){var t;return ab(ab({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?sb(e):function(){return ub(e)},isCustomEndpoint:!!e.endpoint})}(a),u=function(e){var t,n=this,r=aw(e.credentials||e.credentialDefaultProvider(e)),o=e.signingEscapePath,i=void 0===o||o,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?aw(e.signer):function(){return aw(e.region)().then((function(t){return bb(n,void 0,void 0,(function(){return wb(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(t,2),o=n[0],a=n[1],s=o.signingRegion,c=o.signingService;return e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId,new tw({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:i})}))},gb(gb({},e),{systemClockOffset:s,signingEscapePath:i,credentials:r,signer:t})}(s),c=function(e){return cw(cw({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}((r=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}((n=u).maxAttempts),Mg(Mg({},n),{maxAttempts:r,retryStrategy:n.retryStrategy||new Yg(r)})));return(i=e.call(this,c)||this).config=c,i.middlewareStack.use((o=i.config,{applyToStack:function(e){e.addRelativeTo(sw(o),uw)}})),i.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return jg(void 0,void 0,void 0,(function(){var o;return Ug(this,(function(i){return(null===(o=null==e?void 0:e.retryStrategy)||void 0===o?void 0:o.mode)&&(n.userAgent=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Fg(arguments[t]));return e}(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),zg)}}}(i.config)),i.middlewareStack.use(pb(i.config)),i.middlewareStack.use(vb(i.config)),i.middlewareStack.use((i.config,{applyToStack:function(e){e.add(yb(),mb)}})),i.middlewareStack.use(xw(i.config)),i}return xe(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(oy),Iw=new c("AWSKineisFirehoseProvider"),Aw=function(e){function t(t){return e.call(this,t)||this}return function(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.getProviderName=function(){return"AWSKinesisFirehose"},t.prototype._sendEvents=function(e){var t=this;if(0!==e.length){var n=e[0],r=n.config,o=n.credentials;if(!this._init(r,o))return!1;var i={};e.map((function(e){var t=e.event,n=t.streamName,r=t.data;void 0===i[n]&&(i[n]=[]);var o=r&&"string"!=typeof r?JSON.stringify(r):r,a={Data:Yv(o)};i[n].push(a)})),Object.keys(i).map((function(e){Iw.debug("putting records to kinesis",e,"with records",i[e]),t._kinesisFirehose.send(new Cg({Records:i[e],DeliveryStreamName:e})).then((function(t){return Iw.debug("Upload records to stream",e)})).catch((function(e){return Iw.debug("Failed to upload records to Kinesis",e)}))}))}},t.prototype._init=function(e,t){if(Iw.debug("init clients"),this._kinesisFirehose&&this._config.credentials&&this._config.credentials.sessionToken===t.sessionToken&&this._config.credentials.identityId===t.identityId)return Iw.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=t;var n=e.region;return this._initFirehose(n,t)},t.prototype._initFirehose=function(e,t){return Iw.debug("initialize kinesis firehose with credentials",t),this._kinesisFirehose=new Tw({apiVersion:"2015-08-04",region:e,credentials:t}),!0},t}(Jv);!function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(dw||(dw={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(pw||(pw={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(hw||(hw={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(vw||(vw={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(yw||(yw={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(mw||(mw={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(gw||(gw={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(bw||(bw={}));var Cw=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),Pw=function(){return Pw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Pw.apply(this,arguments)};function Ow(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var kw=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(Pw(Pw({},this),{headers:Pw({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return Pw(Pw({},e),((r={})[n]=Array.isArray(o)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ow(arguments[t]));return e}(o):o,r))}),{}))),n},e}(),Rw=function(){return Rw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Rw.apply(this,arguments)};function Nw(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Lw(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Nw(arguments[t]));return e}var Dw=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,Rw({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,Rw({},e))})),n},o=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Lw(o(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Lw(o(e)))})),t},i={add:function(t,r){void 0===r&&(r={});var o=r.name,i=r.override,a=Rw({step:"initialize",priority:"normal",middleware:t},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '"+o+"'");var s=e.findIndex((function(e){return e.name===o})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'+o+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");e.splice(s,1)}n.add(o)}e.push(a)},addRelativeTo:function(e,r){var o=r.name,i=r.override,a=Rw({middleware:e},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '"+o+"'");var s=t.findIndex((function(e){return e.name===o})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'+o+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');t.splice(s,1)}n.add(o)}t.push(a)},clone:function(){return r(Dw())},use:function(e){e.applyToStack(i)},remove:function(r){return"string"==typeof r?function(r){var o=!1,i=function(e){return!e.name||e.name!==r||(o=!0,n.delete(r),!1)};return e=e.filter(i),t=t.filter(i),o}(r):function(r){var o=!1,i=function(e){return e.middleware!==r||(o=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(i),t=t.filter(i),o}(r)},removeByTag:function(r){var o=!1,i=function(e){var t=e.tags,i=e.name;return!t||!t.includes(r)||(i&&n.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:function(e){var t=r(Dw());return t.use(e),t},applyToStack:r,resolve:function(n,r){var i,a;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(){var n=[],r=[],i={};e.forEach((function(e){var t=Rw(Rw({},e),{before:[],after:[]});t.name&&(i[t.name]=t),n.push(t)})),t.forEach((function(e){var t=Rw(Rw({},e),{before:[],after:[]});t.name&&(i[t.name]=t),r.push(t)})),r.forEach((function(e){if(e.toMiddleware){var t=i[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var a,s=(a=n,a.sort((function(e,t){return Mw[t.step]-Mw[e.step]||jw[t.priority||"normal"]-jw[e.priority||"normal"]}))).map(o).reduce((function(e,t){return e.push.apply(e,Lw(t)),e}),[]);return s.map((function(e){return e.middleware}))}().reverse()),u=s.next();!u.done;u=s.next())n=(0,u.value)(n,r)}catch(e){i={error:e}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return n}};return i},Mw={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},jw={high:3,normal:2,low:1},Uw=function(){function e(e){this.middlewareStack=Dw(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return i(e).then((function(e){return e.output}));i(e).then((function(e){return o(null,e.output)}),(function(e){return o(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),Fw=function(e,t){return Fw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Fw(e,t)};function zw(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Bw(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zw(arguments[t]));return e}var qw=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Bw([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};qw.prototype=Object.create(String.prototype,{constructor:{value:qw,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(qw,String);var Kw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function n(){this.constructor=e}Fw(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))},t}(qw),Gw=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:return r=[Ct({},e)],c={},[4,Zw(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(c.body=l.sent(),c)])),i="UnknownError",i=Jw(e,n.body)){case"InvalidInputException":case"com.amazonaws.personalizeevents#InvalidInputException":return[3,2]}return[3,4];case 2:return a=[{}],[4,Hw(n,t)];case 3:return o=Ct.apply(void 0,[Ct.apply(void 0,a.concat([l.sent()])),{name:i,$metadata:Ww(e)}]),[3,5];case 4:s=n.body,i=s.code||s.Code||i,o=Ct(Ct({},s),{name:""+i,message:s.message||s.Message||i,$fault:"client",$metadata:Ww(e)}),l.label=5;case 5:return u=o.message||o.Message||i,o.message=u,delete o.Message,[2,Promise.reject(Object.assign(new Error(u),o))]}}))}))},Hw=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n;return kt(this,(function(r){return t={name:"InvalidInputException",$fault:"client",$metadata:Ww(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},Vw=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct({},void 0!==e.eventId&&null!==e.eventId&&{eventId:e.eventId}),void 0!==e.eventType&&null!==e.eventType&&{eventType:e.eventType}),void 0!==e.eventValue&&null!==e.eventValue&&{eventValue:e.eventValue}),void 0!==e.impression&&null!==e.impression&&{impression:$w(e.impression,t)}),void 0!==e.itemId&&null!==e.itemId&&{itemId:e.itemId}),void 0!==e.properties&&null!==e.properties&&{properties:Kw.fromObject(e.properties)}),void 0!==e.recommendationId&&null!==e.recommendationId&&{recommendationId:e.recommendationId}),void 0!==e.sentAt&&null!==e.sentAt&&{sentAt:Math.round(e.sentAt.getTime()/1e3)})}(e,t)}))},$w=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:e}))},Ww=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Yw=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Zw=function(e,t){return function(e,t){return Yw(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Jw=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==o?r(e.headers[o]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},Xw=function(){return Xw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xw.apply(this,arguments)};function Qw(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function eS(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var tS={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},nS={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};var rS=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){var r,o,i;this.middlewareStack.use((r=t,o=this.serialize,i=this.deserialize,{applyToStack:function(e){e.add(function(e,t){return function(n,r){return function(r){return Qw(void 0,void 0,void 0,(function(){var o,i;return eS(this,(function(a){switch(a.label){case 0:return[4,n(r)];case 1:return o=a.sent().response,[4,t(o,e)];case 2:return i=a.sent(),[2,{response:o,output:i}]}}))}))}}}(r,i),tS),e.add(function(e,t){return function(n,r){return function(r){return Qw(void 0,void 0,void 0,(function(){var o;return eS(this,(function(i){switch(i.label){case 0:return[4,t(r.input,e)];case 1:return o=i.sent(),[2,n(Xw(Xw({},r),{request:o}))]}}))}))}}}(r,o),nS)}}));var a=e.concat(this.middlewareStack),s={logger:t.logger,clientName:"PersonalizeEventsClient",commandName:"PutEventsCommand",inputFilterSensitiveLog:hw.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},u=t.requestHandler;return a.resolve((function(e){return u.handle(e.request,n||{})}),s)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:return n={"content-type":"application/json"},r="/events",o=JSON.stringify(Ct(Ct(Ct(Ct({},void 0!==e.eventList&&null!==e.eventList&&{eventList:Vw(e.eventList,t)}),void 0!==e.sessionId&&null!==e.sessionId&&{sessionId:e.sessionId}),void 0!==e.trackingId&&null!==e.trackingId&&{trackingId:e.trackingId}),void 0!==e.userId&&null!==e.userId&&{userId:e.userId})),[4,t.endpoint()];case 1:return i=l.sent(),a=i.hostname,s=i.protocol,u=void 0===s?"https":s,c=i.port,[2,new kw({protocol:u,hostname:a,port:c,method:"POST",headers:n,path:r,body:o})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n;return kt(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Gw(e,t)]:(n={$metadata:Ww(e)},[4,Yw(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}((function(){this.middlewareStack=Dw()})),oS=n(4199);function iS(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function aS(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var sS=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,uS)},uS=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()},cS=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var o=new Error("Request aborted");return o.name="AbortError",Promise.reject(o)}var i=e.path;if(e.query){var a=function(e){var t,n,r=[];try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e).sort()),i=o.next();!i.done;i=o.next()){var a=i.value,s=e[a];if(a=sS(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push(a+"="+sS(s[u]));else{var l=a;(s||"string"==typeof s)&&(l+="="+sS(s)),r.push(l)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.join("&")}(e.query);a&&(i+="?"+a)}var s=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(s?":"+s:"")+i,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var f,d=new Request(c,l),p=[fetch(d).then((function(e){var t,n,r=e.headers,o={};try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r.entries()),a=i.next();!a.done;a=i.next()){var s=a.value;o[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new Cw({headers:o,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new Cw({headers:o,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&p.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(p)},e}();function lS(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var o=null!==(e=r.result)&&void 0!==e?e:"",i=o.indexOf(","),a=i>-1?i+1:o.length;t(o.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var fS=function(){return fS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fS.apply(this,arguments)};function dS(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function pS(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function hS(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var vS={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},yS=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],mS=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],gS=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],bS=[500,502,503,504],wS=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||mS.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},SS=n(7686),ES=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},_S=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return yS.includes(e.name)}(e)||wS(e)||function(e){var t;return gS.includes(e.name)||bS.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},xS=function(){function e(e,t){var n,r,o,i,a,s,u;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:_S,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:ES,this.retryQuota=null!==(o=null==t?void 0:t.retryQuota)&&void 0!==o?o:(i=500,a=500,s=function(e){return"TimeoutError"===e.name?10:5},u=function(e){return s(e)<=a},Object.freeze({hasRetryTokens:u,retrieveRetryTokens:function(e){if(!u(e))throw new Error("No retry token available");var t=s(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,i)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return dS(this,void 0,void 0,(function(){var e;return pS(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return dS(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return pS(this,(function(l){switch(l.label){case 0:return r=0,o=0,[4,this.getMaxAttempts()];case 1:i=l.sent(),a=t.request,kw.isInstance(a)&&(a.headers["amz-sdk-invocation-id"]=(0,SS.v4)()),s=function(){var s,c,l,f,d;return pS(this,(function(p){switch(p.label){case 0:return p.trys.push([0,2,,5]),kw.isInstance(a)&&(a.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+i),[4,e(t)];case 1:return s=p.sent(),c=s.response,l=s.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=o,[2,{value:{response:c,output:l}}];case 2:return f=p.sent(),r++,u.shouldRetry(f,r,i)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(wS(f)?500:100,r),o+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return p.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=o,f;case 5:return[2]}}))},u=this,l.label=2;case 2:return[5,s()];case 3:return"object"==typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}();var TS=n(2109),IS="personalize-events.{region}.amazonaws.com",AS=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),CS=new Set(["cn-north-1","cn-northwest-1"]),PS=new Set(["us-iso-east-1"]),OS=new Set(["us-isob-east-1"]),kS=new Set(["us-gov-east-1","us-gov-west-1"]);function RS(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var NS={apiVersion:"2018-03-22",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;return AS.has(e)&&(n={hostname:IS.replace("{region}",e),partition:"aws"}),CS.has(e)&&(n={hostname:"personalize-events.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),PS.has(e)&&(n={hostname:"personalize-events.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),OS.has(e)&&(n={hostname:"personalize-events.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),kS.has(e)&&(n={hostname:"personalize-events.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:IS.replace("{region}",e),partition:"aws"}),Promise.resolve(Ct({signingService:"personalize"},n))},serviceId:"Personalize Events",urlParser:function(e){var t,n=new URL(e),r=n.hostname,o=n.pathname,i=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.split("&")),i=o.next();!i.done;i=o.next()){var a=RS(i.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:i?parseInt(i):void 0,protocol:a,path:o,query:t}}},LS=Ct(Ct({},NS),{runtime:"browser",base64Decoder:er,base64Encoder:tr,bodyLengthChecker:function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0},credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:function(e){var t=e.serviceId,n=e.clientVersion;return function(){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e,r,o,i,a,s,u,c,l;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(f){return e=(null===(o=null===window||void 0===window?void 0:window.navigator)||void 0===o?void 0:o.userAgent)?gr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(i=null==e?void 0:e.os)||void 0===i?void 0:i.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser",(null!==(u=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown")+"_"+(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}}({serviceId:NS.serviceId,clientVersion:"3.6.1"}),maxAttempts:3,region:function(){return Promise.reject("Region is missing")},requestHandler:new cS,sha256:oS.Sha256,streamCollector:function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return iS(this,void 0,void 0,(function(){var t,n;return aS(this,(function(r){switch(r.label){case 0:return[4,lS(e)];case 1:return t=r.sent(),n=er(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return iS(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return aS(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return o=u.sent(),i=o.done,(a=o.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=i,[3,1];case 3:return[2,t]}}))}))}(e)},utf8Decoder:TS.fromUtf8,utf8Encoder:TS.toUtf8}),DS=function(){return DS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},DS.apply(this,arguments)};var MS=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var o=Promise.resolve(t);return function(){return o}}return t},jS=function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t,n,r,o,i;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(a){switch(a.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=a.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(o=(null!==(i=a.sent())&&void 0!==i?i:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+o)]}}))}))},US=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},FS=function(){return FS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},FS.apply(this,arguments)};var zS="content-length",BS={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},qS=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t,o,i,a,s;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(u){return t=r.request,kw.isInstance(t)&&(o=t.body,i=t.headers,o&&-1===Object.keys(i).map((function(e){return e.toLowerCase()})).indexOf(zS)&&void 0!==(a=e(o))&&(t.headers=FS(FS({},t.headers),((s={})[zS]=String(a),s)))),[2,n(FS(FS({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),BS)}}};var KS={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},GS=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,o;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(i){return kw.isInstance(n.request)?(r=n.request,(void 0===(o=(e.requestHandler.metadata||{}).handlerProtocol)?"":o).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),KS)}}};var HS=function(){return function(e,t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(d){switch(d.label){case 0:return r=t.clientName,o=t.commandName,i=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(c,["$metadata"]),a.info({clientName:r,commandName:o,input:i(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}},VS={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},$S=function(){return $S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$S.apply(this,arguments)};function WS(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function YS(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var ZS=function(){return ZS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ZS.apply(this,arguments)};function JS(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function XS(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function QS(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function eE(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}for(var tE={},nE={},rE=0;rE<256;rE++){var oE=rE.toString(16).toLowerCase();1===oE.length&&(oE="0"+oE),tE[rE]=oE,nE[oE]=rE}function iE(e){for(var t="",n=0;n<e.byteLength;n++)t+=tE[e[n]];return t}var aE="X-Amz-Date",sE="X-Amz-Signature",uE="X-Amz-Security-Token",cE="authorization",lE=aE.toLowerCase(),fE=[cE,lE,"date"],dE=sE.toLowerCase(),pE="x-amz-content-sha256",hE=uE.toLowerCase(),vE={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},yE=/^proxy-/,mE=/^sec-/,gE="AWS4-HMAC-SHA256",bE="AWS4-HMAC-SHA256-PAYLOAD",wE="aws4_request",SE={},EE=[];function _E(e,t,n){return e+"/"+t+"/"+n+"/"+wE}function xE(e,t,n){var r=new e(t);return r.update(n),r.digest()}function TE(e,t,n){var r,o,i=e.headers,a={};try{for(var s=QS(Object.keys(i).sort()),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.toLowerCase();(l in vE||(null==t?void 0:t.has(l))||yE.test(l)||mE.test(l))&&(!n||n&&!n.has(l))||(a[l]=i[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a}function IE(e,t){var n=e.headers,r=e.body;return JS(this,void 0,void 0,(function(){var e,o,i,a,s,u,c;return XS(this,(function(l){switch(l.label){case 0:try{for(e=QS(Object.keys(n)),o=e.next();!o.done;o=e.next())if((i=o.value).toLowerCase()===pE)return[2,n[i]]}catch(e){u={error:e}}finally{try{o&&!o.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=iE,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function AE(e){var t=e.headers,n=e.query,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["headers","query"]);return ZS(ZS({},r),{headers:ZS({},t),query:n?CE(n):void 0})}function CE(e){return Object.keys(e).reduce((function(t,n){var r,o=e[n];return ZS(ZS({},t),((r={})[n]=Array.isArray(o)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(eE(arguments[t]));return e}(o):o,r))}),{})}function PE(e){var t,n;e="function"==typeof e.clone?e.clone():AE(e);try{for(var r=QS(Object.keys(e.headers)),o=r.next();!o.done;o=r.next()){var i=o.value;fE.indexOf(i.toLowerCase())>-1&&delete e.headers[i]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}var OE=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,o=e.service,i=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=NE(r),this.credentialProvider=LE(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),JS(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T;return XS(this,(function(I){switch(I.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,o=t.expiresIn,i=void 0===o?3600:o,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=I.sent(),null==c?[3,2]:(p=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:p=I.sent(),I.label=4;case 4:return d=p,h=kE(r),v=h.longDate,y=h.shortDate,i>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(m=_E(y,d,null!=l?l:this.service),g=function(e,t){var n,r,o;void 0===t&&(t={});var i="function"==typeof e.clone?e.clone():AE(e),a=i.headers,s=i.query,u=void 0===s?{}:s;try{for(var c=QS(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(o=t.unhoistableHeaders)||void 0===o?void 0:o.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return ZS(ZS({},e),{headers:a,query:u})}(PE(e),{unhoistableHeaders:s}),f.sessionToken&&(g.query[uE]=f.sessionToken),g.query["X-Amz-Algorithm"]=gE,g.query["X-Amz-Credential"]=f.accessKeyId+"/"+m,g.query[aE]=v,g.query["X-Amz-Expires"]=i.toString(10),b=TE(g,a,u),g.query["X-Amz-SignedHeaders"]=RE(b),w=g.query,S=sE,E=this.getSignature,_=[v,m,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,T=[g,b],[4,IE(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,T.concat([I.sent()]))]))];case 6:return w[S]=I.sent(),[2,g]}}))}))},e.prototype.sign=function(e,t){return JS(this,void 0,void 0,(function(){return XS(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,o=t.signingDate,i=void 0===o?new Date:o,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return JS(this,void 0,void 0,(function(){var e,t,o,c,l,f,d,p,h,v,y;return XS(this,(function(m){switch(m.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=m.sent(),m.label=3;case 3:return e=t,o=kE(i),c=o.shortDate,l=o.longDate,f=_E(c,e,null!=u?u:this.service),[4,IE({headers:{},body:r},this.sha256)];case 4:return d=m.sent(),(p=new this.sha256).update(n),v=iE,[4,p.digest()];case 5:return h=v.apply(void 0,[m.sent()]),y=[bE,l,f,a,h,d].join("\n"),[2,this.signString(y,{signingDate:i,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signingRegion,a=n.signingService;return JS(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return XS(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==i?[3,2]:(r=i,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=kE(o).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=iE,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return JS(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,p,h,v,y;return XS(this,(function(m){switch(m.label){case 0:return[4,this.credentialProvider()];case 1:return t=m.sent(),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=m.sent(),m.label=4;case 4:return n=r,c=PE(e),l=kE(o),f=l.longDate,d=l.shortDate,p=_E(d,n,null!=u?u:this.service),c.headers[lE]=f,t.sessionToken&&(c.headers[hE]=t.sessionToken),[4,IE(c,this.sha256)];case 5:return h=m.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var o=QS(Object.keys(t)),i=o.next();!i.done;i=o.next())if(e===i.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}(pE,c.headers)&&this.applyChecksum&&(c.headers[pE]=h),v=TE(c,a,i),[4,this.getSignature(f,p,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,h))];case 6:return y=m.sent(),c.headers[cE]=gE+" Credential="+t.accessKeyId+"/"+p+", SignedHeaders="+RE(v)+", Signature="+y,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,o=void 0===r?{}:r,i=[],a={},s=function(e){if(e.toLowerCase()===dE)return"continue";i.push(e);var t=o[e];"string"==typeof t?a[e]=sS(e)+"="+sS(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([sS(e)+"="+sS(n)])}),[]).join("&"))};try{for(var u=QS(Object.keys(o).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return i.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return JS(this,void 0,void 0,(function(){var r,o;return XS(this,(function(i){switch(i.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return o=i.sent(),[2,gE+"\n"+e+"\n"+t+"\n"+iE(o)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return JS(this,void 0,void 0,(function(){var o,i,a,s,u;return XS(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return o=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(i=new(s.apply(a,[void 0,c.sent()]))).update(o),u=iE,[4,i.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,o){return JS(void 0,void 0,void 0,(function(){var i,a,s,u,c,l,f,d,p;return XS(this,(function(h){switch(h.label){case 0:return[4,xE(e,t.secretAccessKey,t.accessKeyId)];case 1:if(i=h.sent(),(a=n+":"+r+":"+o+":"+iE(i)+":"+t.sessionToken)in SE)return[2,SE[a]];for(EE.push(a);EE.length>50;)delete SE[EE.shift()];s="AWS4"+t.secretAccessKey,h.label=2;case 2:h.trys.push([2,7,8,9]),u=QS([n,r,o,wE]),c=u.next(),h.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,xE(e,s,l)]);case 4:s=h.sent(),h.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=h.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(p=u.return)&&p.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,SE[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),kE=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},RE=function(e){return Object.keys(e).sort().join(";")},NE=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},LE=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function DE(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}function ME(e){return function(t,n){return function(r){return WS(this,void 0,void 0,(function(){var o,i,a,s,u,c,l,f,d;return YS(this,(function(p){switch(p.label){case 0:return kw.isInstance(r.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(r)];case 1:return i=p.sent(),[3,3];case 2:i=e.signer,p.label=3;case 3:return o=i,s=t,u=[$S({},r)],d={},[4,o.sign(r.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,s.apply(void 0,[$S.apply(void 0,u.concat([(d.request=p.sent(),d)]))])];case 5:return a=p.sent(),c=a.response.headers,(l=c&&(c.date||c.Date))&&(h=f=Date.parse(l),v=e.systemClockOffset,Math.abs(function(e){return new Date(Date.now()+e)}(v).getTime()-h)>=3e5&&(e.systemClockOffset=f-Date.now())),[2,a]}var h,v}))}))}}}var jE={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},UE=function(){return UE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},UE.apply(this,arguments)};function FE(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function zE(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(FE(arguments[t]));return e}var BE,qE,KE,GE="user-agent",HE=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,VE=function(e){var t=FE(e,2),n=t[0],r=t[1],o=n.indexOf("/"),i=n.substring(0,o),a=n.substring(o+1);return"api"===i&&(a=a.toLowerCase()),[i,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(HE,"_")})).join("/")},$E={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},WE=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var o,i,a,s,u,c,l,f;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(d){switch(d.label){case 0:return o=r.request,kw.isInstance(o)?(i=o.headers,a=(null===(l=null==t?void 0:t.userAgent)||void 0===l?void 0:l.map(VE))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=d.sent().map(VE),u=(null===(f=null==n?void 0:n.customUserAgent)||void 0===f?void 0:f.map(VE))||[],i["x-amz-user-agent"]=zE(s,a,u).join(" "),c=zE(s.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&c&&(i[GE]=i[GE]?i[GE]+" "+c:c),[2,e(UE(UE({},r),{request:o}))]}}))}))}}),$E)}}},YE=function(e){function t(t){var n,r,o,i=this,a=function(e){if(!e.region)throw new Error("Region is missing");return DS(DS({},e),{region:US(e.region)})}(Ct(Ct({},LS),t)),s=function(e){var t;return DS(DS({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?MS(e):function(){return jS(e)},isCustomEndpoint:!!e.endpoint})}(a),u=function(e){var t,n=this,r=DE(e.credentials||e.credentialDefaultProvider(e)),o=e.signingEscapePath,i=void 0===o||o,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?DE(e.signer):function(){return DE(e.region)().then((function(t){return WS(n,void 0,void 0,(function(){return YS(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(t,2),o=n[0],a=n[1],s=o.signingRegion,c=o.signingService;return e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId,new OE({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:i})}))},$S($S({},e),{systemClockOffset:s,signingEscapePath:i,credentials:r,signer:t})}(s),c=function(e){return UE(UE({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}((r=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}((n=u).maxAttempts),fS(fS({},n),{maxAttempts:r,retryStrategy:n.retryStrategy||new xS(r)})));return(i=e.call(this,c)||this).config=c,i.middlewareStack.use((o=i.config,{applyToStack:function(e){e.addRelativeTo(ME(o),jE)}})),i.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return dS(void 0,void 0,void 0,(function(){var o;return pS(this,(function(i){return(null===(o=null==e?void 0:e.retryStrategy)||void 0===o?void 0:o.mode)&&(n.userAgent=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(hS(arguments[t]));return e}(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),vS)}}}(i.config)),i.middlewareStack.use(qS(i.config)),i.middlewareStack.use(GS(i.config)),i.middlewareStack.use((i.config,{applyToStack:function(e){e.add(HS(),VS)}})),i.middlewareStack.use(WE(i.config)),i}return xe(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Uw),ZE=n(8367),JE=n.n(ZE),XE=n(8446),QE=n.n(XE),e_="_awsct_uid",t_="_awsct_sid",n_=(new c("AmazonPersonalizeProvider"),function(){function e(e){void 0===e&&(e=""),this._isBrowser=Y().isBrowser,this._timerKey=(0,ul.v1)().substr(0,15),this._refreshTimer()}return e.prototype._refreshTimer=function(){this._timer&&clearInterval(this._timer);var e=this;this._timer=setInterval((function(){e._timerKey=(0,ul.v1)().substr(0,15)}),3e4)},e.prototype.storeValue=function(e,t){var n=new Date,r=new Date;r.setTime(n.getTime()+6048e5),sl.setItem(this._getCachePrefix(e),t,{expires:r.getTime()})},e.prototype.retrieveValue=function(e){return sl.getItem(this._getCachePrefix(e))},e.prototype._getCachePrefix=function(e){return this._isBrowser?e+"."+window.location.host:"peronslize"},e.prototype.getTimerKey=function(){return this._timerKey},e.prototype.updateSessionInfo=function(e,t){var n=t.userId,r=t.sessionId;if(this._isRequireNewSession(e,n,r)){var o=(0,ul.v1)();this.storeValue(e_,e),this.storeValue(t_,o),t.sessionId=o}else this._isRequireUpdateSessionInfo(e,n,r)&&this.storeValue(e_,e);t.userId=e},e.prototype._isRequireUpdateSessionInfo=function(e,t,n){return!JE()(n)&&JE()(t)&&!JE()(e)},e.prototype.retrieveSessionInfo=function(e){var t={};return t.trackingId=e,t.sessionId=this.retrieveValue(t_),t.userId=this.retrieveValue(e_),JE()(t.sessionId)&&(t.sessionId=(0,ul.v1)(),this.storeValue(t_,t.sessionId)),this.storeValue("_awsct",e),t},e.prototype._isRequireNewSession=function(e,t,n){var r=JE()(n),o=JE()(e)&&!JE()(t),i=!JE()(e)&&!JE()(t)&&!QE()(e,t);return r||o||i},e}());!function(e){e.PLAY="play",e.PAUSE="pause",e.ENDED="Ended"}(BE||(BE={})),function(e){e.IFRAME="IFRAME",e.VIDEO="VIDEO",e.AUDIO="AUDIO"}(qE||(qE={})),function(e){e.PLAY="Play",e.ENDED="Ended",e.PAUSE="Pause",e.TIME_WATCHED="TimeWatched"}(KE||(KE={}));var r_=function(){function e(e,t){var n;this.eventActionMapping=((n={})[KE.ENDED]=this.endedEventAction.bind(this),n[KE.PLAY]=this.playEventAction.bind(this),n[KE.PAUSE]=this.pauseEventAction.bind(this),n);var r=e.eventData;this._params=e,this._mediaElement=document.getElementById(r.properties.domElementId),this._started=!1,this._provider=t,{IFRAME:this._iframeMediaTracker,VIDEO:this._html5MediaTracker,AUDIO:this._html5MediaTracker}[this._mediaElement.tagName].bind(this)(),this._initYoutubeFrame()}return e.prototype._initYoutubeFrame=function(){this._youTubeIframeLoader={src:"https://www.youtube.com/iframe_api",loading:!1,loaded:!1,listeners:[],load:function(e){var t=this;if(this.listeners.push(e),this.loaded)setTimeout((function(){t.done()}));else if(!this.loading){this.loading=!0,window.onYouTubeIframeAPIReady=function(){t.loaded=!0,t.done()};var n=document.createElement("script");n.type="text/javascript",n.src=this.src,document.body.appendChild(n)}},done:function(){for(delete window.onYouTubeIframeAPIReady;this.listeners.length;)this.listeners.pop()(window.YT)}}},e.prototype._iframeMediaTracker=function(){var e=this;setInterval((function(){e._started&&e.recordEvent(qE.IFRAME,KE.TIME_WATCHED)}),3e3),this._youTubeIframeLoader.load((function(t){e._iframePlayer=new t.Player(e._mediaElement.id,{events:{onStateChange:e._onPlayerStateChange.bind(e)}})}))},e.prototype._onPlayerStateChange=function(e){var t={0:KE.ENDED,1:KE.PLAY,2:KE.PAUSE}[e.data];t&&this.eventActionMapping[t](qE.IFRAME)},e.prototype._html5MediaTracker=function(){var e=this;setInterval((function(){e._started&&e.recordEvent(qE.VIDEO,KE.TIME_WATCHED)}),3e3),this._mediaElement.addEventListener(BE.PLAY,(function(){e.eventActionMapping[KE.PLAY](qE.VIDEO)}),!1),this._mediaElement.addEventListener(BE.PAUSE,(function(){e.eventActionMapping[KE.PAUSE](qE.VIDEO)}),!1),this._mediaElement.addEventListener(BE.ENDED,(function(){e.eventActionMapping[KE.ENDED](qE.VIDEO)}),!1)},e.prototype.playEventAction=function(e){this._started=!0,this.recordEvent(e,KE.PLAY)},e.prototype.pauseEventAction=function(e){this._started=!1,this.recordEvent(e,KE.PAUSE)},e.prototype.endedEventAction=function(e){this._started=!1,this.recordEvent(e,KE.ENDED)},e.prototype.recordEvent=function(e,t){var n=Object.assign({},this._params),r=n.eventData;r.eventType=t,e===qE.VIDEO?(r.properties.timestamp=this._mediaElement.currentTime,r.properties.duration=this._mediaElement.duration):(r.properties.timestamp=this._financial(this._iframePlayer.getCurrentTime()),r.properties.duration=this._financial(this._iframePlayer.getDuration()));var o=parseFloat(r.properties.timestamp)/parseFloat(r.properties.duration);r.properties.eventValue=Number(o.toFixed(4)),delete r.properties.domElementId,this._provider.putToBuffer(n)},e.prototype._financial=function(e){return Number.parseFloat(e).toFixed(4)},e}(),o_=n(7361),i_=n.n(o_),a_=new c("AmazonPersonalizeProvider"),s_=function(){function e(e){this._buffer=[],this._config=e||{},this._config.flushSize=this._config.flushSize>0&&this._config.flushSize<=10?this._config.flushSize:5,this._config.flushInterval=this._config.flushInterval||5e3,this._sessionManager=new n_,JE()(this._config.trackingId)||(this._sessionInfo=this._sessionManager.retrieveSessionInfo(this._config.trackingId)),this._isBrowser=Y().isBrowser,this._setupTimer()}return e.prototype._setupTimer=function(){this._timer&&clearInterval(this._timer);var e=this._config.flushInterval,t=this;this._timer=setInterval((function(){t._sendFromBuffer()}),e)},e.prototype.record=function(e){return y(this,void 0,void 0,(function(){var t,n,r,o,i;return m(this,(function(a){switch(a.label){case 0:return[4,this._getCredentials()];case 1:return(t=a.sent())?(Object.assign(e,{config:this._config,credentials:t,sentAt:new Date}),n=e.event,r=n.eventType,o=n.properties,"Identify"===r?(this._sessionManager.updateSessionInfo(o&&o.userId?o.userId:"",this._sessionInfo),[2]):(JE()(e.event.userId)||this._sessionManager.updateSessionInfo(e.event.userId,this._sessionInfo),i=this.generateRequestParams(e,this._sessionInfo),"MediaAutoTrack"!==r?[3,7]:this._isBrowser?JE()(i_()(i,"eventData.properties.domElementId",null))?[3,3]:[4,this.isElementFullyLoaded(this.loadElement,i.eventData.properties.domElementId,500,5)]:[3,5])):[2,Promise.resolve(!1)];case 2:return a.sent()?new r_(i,this):a_.debug("Cannot find the media element."),[3,4];case 3:a_.debug("Missing domElementId field in 'properties' for MediaAutoTrack event type."),a.label=4;case 4:return[3,6];case 5:a_.debug("MediaAutoTrack only for browser"),a.label=6;case 6:return[2];case 7:return[2,this.putToBuffer(i)]}}))}))},e.prototype.loadElement=function(e){return new Promise((function(t,n){return document.getElementById(e)&&document.getElementById(e).clientHeight?t(!0):n(!0)}))},e.prototype.isElementFullyLoaded=function(e,t,n,r){var o=this;return new Promise((function(i,a){return e(t).then(i).catch((function(s){return r-1>0?(u=n,new Promise((function(e){return setTimeout(e,u)}))).then(o.isElementFullyLoaded.bind(null,e,t,n,r-1)).then(i).catch(a):a(s);var u}))}))},e.prototype.getCategory=function(){return"Analytics"},e.prototype.getProviderName=function(){return"AmazonPersonalize"},e.prototype.configure=function(e){a_.debug("configure Analytics",e);var t=e||{};return this._config=Object.assign({},this._config,t),JE()(this._config.trackingId)||(this._sessionInfo=this._sessionManager.retrieveSessionInfo(this._config.trackingId)),this._setupTimer(),this._config},e.prototype.generateRequestParams=function(e,t){var n={},r=e.event,o=r.eventType,i=r.properties;return n.eventData={eventType:o,properties:i},n.sessionInfo=t,n.sentAt=e.sentAt,n.credentials=e.credentials,n.config=e.config,n},e.prototype._sendEvents=function(e){var t=e.length;if(0!==t){var n=e[0],r=n.config,o=n.credentials,i=n.sessionInfo;if(!this._init(r,o))return!1;if(t>0){for(var a=[],s=0;s<t;s+=1){var u=e.shift(),c=this._generateSingleRecordPayload(u,i);a.push(c)}var l={};l.trackingId=i.trackingId,l.sessionId=i.sessionId,l.userId=i.userId,l.eventList=[],a.forEach((function(e){l.eventList.push(e)}));var f=new rS(l);this._personalize.send(f,(function(e){e?a_.debug("Failed to call putEvents in Personalize",e):a_.debug("Put events")}))}}else a_.debug("events array is empty, directly return")},e.prototype.putToBuffer=function(e){return this._buffer.length<this._config.flushSize?this._buffer.push(e):(this._buffer.push(e),this._sendFromBuffer()),Promise.resolve(!0)},e.prototype._sendFromBuffer=function(){var e=this,t=this._buffer.length;if(!(t<=0)){for(var n=[],r=null,o=[],i=0;i<t;i+=1){var a=this._buffer.shift(),s=a.credentials,u=a.sessionInfo;0===i?(o.push(a),r=s):QE()(u,this._sessionInfo)&&s.sessionToken===r.sessionToken&&s.identityId===r.identityId?(a_.debug("no change for cred, put event in the same group"),o.push(a)):(n.push(o),(o=[]).push(a),r=s,this._sessionInfo=u)}n.push(o),n.map((function(t){e._sendEvents(t)}))}},e.prototype._generateSingleRecordPayload=function(e,t){var n=e.eventData,r=e.sentAt,o={};return o.sentAt=r,o.properties=n.properties&&JSON.stringify(n.properties),o.eventId=this._sessionManager.getTimerKey()+t.sessionId,o.eventType=n.eventType,o},e.prototype._init=function(e,t){if(a_.debug("init clients"),this._personalize&&this._config.credentials&&this._config.credentials.sessionToken===t.sessionToken&&this._config.credentials.identityId===t.identityId)return a_.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=t;var n=e.region;return a_.debug("initialize personalize with credentials",t),this._personalize=new YE({region:n,credentials:t,customUserAgent:te()}),!0},e.prototype._getCredentials=function(){var e=this;return fs.get().then((function(t){return t?(a_.debug("set credentials for analytics",e._config.credentials),fs.shear(t)):null})).catch((function(e){return a_.debug("ensure credentials error",e),null}))},e}(),u_=function(e,t){return u_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},u_(e,t)};function c_(e,t){function n(){this.constructor=e}u_(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var l_,f_,d_,p_=function(){return p_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},p_.apply(this,arguments)};function h_(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function v_(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function y_(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function m_(e){return e&&!!["provider"].find((function(t){return e.hasOwnProperty(t)}))}function g_(e){return void 0!==e.redirectSignIn}!function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"}(l_||(l_={})),function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError",e.AutoSignInError="autoSignInError"}(f_||(f_={})),function(e){e.API_KEY="API_KEY",e.AWS_IAM="AWS_IAM",e.OPENID_CONNECT="OPENID_CONNECT",e.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",e.AWS_LAMBDA="AWS_LAMBDA"}(d_||(d_={}));var b_=n(6489);function w_(e,t){void 0===t&&(t={});var n=function(e){return e&&"j"===e[0]&&":"===e[1]?e.substr(2):e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(e){}return e}var S_=function(){return S_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},S_.apply(this,arguments)},E_=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"==typeof e?b_.Q(e,t):"object"==typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=b_.Q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),w_(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=w_(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=S_(S_({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=b_.q(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=S_(S_({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=S_({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=b_.q(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();const __=E_;var x_,T_=Y().isBrowser,I_=function(){function e(e){void 0===e&&(e={}),this.cookies=new __,this.store=T_?window.localStorage:Object.create(null),this.cookies=e.req?new __(e.req.headers.cookie):new __,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map((function(t,n){return e.key(n)})).forEach((function(t){return e.removeItem(t)}))},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){switch(this.setLocalItem(e,t),e.split(".").pop()){case"LastAuthUser":case"accessToken":case"refreshToken":case"idToken":T_?this.setUniversalItem(e,t):this.setLocalItem(e,t)}},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t){this.cookies.set(e,t,{path:"/",sameSite:!0,secure:"localhost"!==window.location.hostname})},e}(),A_=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,o=t.Password,i=t.AuthParameters,a=t.ClientMetadata;this.validationData=n||{},this.authParameters=i||{},this.clientMetadata=a||{},this.username=r,this.password=o}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),C_=n(8764);if("undefined"!=typeof window&&window.crypto&&(x_=window.crypto),!x_&&"undefined"!=typeof window&&window.msCrypto&&(x_=window.msCrypto),!x_&&void 0!==n.g&&n.g.crypto&&(x_=n.g.crypto),!x_)try{x_=n(6249)}catch(e){}function P_(){if(x_){if("function"==typeof x_.getRandomValues)try{return x_.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof x_.randomBytes)try{return x_.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}var O_=function(){function e(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length}var t=e.prototype;return t.random=function(t){for(var n=[],r=0;r<t;r+=4)n.push(P_());return new e(n,t)},t.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")}(this)},e}(),k_=n(4626);const R_=N_;function N_(e,t){null!=e&&this.fromString(e,t)}function L_(){return new N_(null)}var D_,M_="undefined"!=typeof navigator;M_&&"Microsoft Internet Explorer"==navigator.appName?(N_.prototype.am=function(e,t,n,r,o,i){for(var a=32767&t,s=t>>15;--i>=0;){var u=32767&this[e],c=this[e++]>>15,l=s*u+c*a;o=((u=a*u+((32767&l)<<15)+n[r]+(1073741823&o))>>>30)+(l>>>15)+s*c+(o>>>30),n[r++]=1073741823&u}return o},D_=30):M_&&"Netscape"!=navigator.appName?(N_.prototype.am=function(e,t,n,r,o,i){for(;--i>=0;){var a=t*this[e++]+n[r]+o;o=Math.floor(a/67108864),n[r++]=67108863&a}return o},D_=26):(N_.prototype.am=function(e,t,n,r,o,i){for(var a=16383&t,s=t>>14;--i>=0;){var u=16383&this[e],c=this[e++]>>14,l=s*u+c*a;o=((u=a*u+((16383&l)<<14)+n[r]+o)>>28)+(l>>14)+s*c,n[r++]=268435455&u}return o},D_=28),N_.prototype.DB=D_,N_.prototype.DM=(1<<D_)-1,N_.prototype.DV=1<<D_,N_.prototype.FV=Math.pow(2,52),N_.prototype.F1=52-D_,N_.prototype.F2=2*D_-52;var j_,U_,F_=new Array;for(j_="0".charCodeAt(0),U_=0;U_<=9;++U_)F_[j_++]=U_;for(j_="a".charCodeAt(0),U_=10;U_<36;++U_)F_[j_++]=U_;for(j_="A".charCodeAt(0),U_=10;U_<36;++U_)F_[j_++]=U_;function z_(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function B_(e,t){var n=F_[e.charCodeAt(t)];return null==n?-1:n}function q_(e){var t=L_();return t.fromInt(e),t}function K_(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function G_(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function H_(e){return C_.lW.from((new O_).random(e).toString(),"hex")}G_.prototype.convert=function(e){var t=L_();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(N_.ZERO)>0&&this.m.subTo(t,t),t},G_.prototype.revert=function(e){var t=L_();return e.copyTo(t),this.reduce(t),t},G_.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},G_.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},G_.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},N_.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},N_.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},N_.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,o=!1,i=0;--r>=0;){var a=B_(e,r);a<0?"-"==e.charAt(r)&&(o=!0):(o=!1,0==i?this[this.t++]=a:i+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-i)-1)<<i,this[this.t++]=a>>this.DB-i):this[this.t-1]|=a<<i,(i+=n)>=this.DB&&(i-=this.DB))}this.clamp(),o&&N_.ZERO.subTo(this,this)},N_.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},N_.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},N_.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},N_.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,o=this.DB-r,i=(1<<o)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>o|s,s=(this[n]&i)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},N_.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,o=this.DB-r,i=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&i)<<o,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&i)<<o),t.t=this.t-n,t.clamp()}},N_.prototype.subTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},N_.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),o=n.t;for(t.t=o+r.t;--o>=0;)t[o]=0;for(o=0;o<r.t;++o)t[o+n.t]=n.am(0,r[o],t,o,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&N_.ZERO.subTo(t,t)},N_.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},N_.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var o=this.abs();if(o.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=L_());var i=L_(),a=this.s,s=e.s,u=this.DB-K_(r[r.t-1]);u>0?(r.lShiftTo(u,i),o.lShiftTo(u,n)):(r.copyTo(i),o.copyTo(n));var c=i.t,l=i[c-1];if(0!=l){var f=l*(1<<this.F1)+(c>1?i[c-2]>>this.F2:0),d=this.FV/f,p=(1<<this.F1)/f,h=1<<this.F2,v=n.t,y=v-c,m=null==t?L_():t;for(i.dlShiftTo(y,m),n.compareTo(m)>=0&&(n[n.t++]=1,n.subTo(m,n)),N_.ONE.dlShiftTo(c,m),m.subTo(i,i);i.t<c;)i[i.t++]=0;for(;--y>=0;){var g=n[--v]==l?this.DM:Math.floor(n[v]*d+(n[v-1]+h)*p);if((n[v]+=i.am(0,g,n,y,0,c))<g)for(i.dlShiftTo(y,m),n.subTo(m,n);n[v]<--g;)n.subTo(m,n)}null!=t&&(n.drShiftTo(c,t),a!=s&&N_.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),a<0&&N_.ZERO.subTo(n,n)}}},N_.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},N_.prototype.addTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},N_.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,o=!1,i="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(o=!0,i=z_(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(o=!0),o&&(i+=z_(n));return o?i:"0"},N_.prototype.negate=function(){var e=L_();return N_.ZERO.subTo(this,e),e},N_.prototype.abs=function(){return this.s<0?this.negate():this},N_.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},N_.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+K_(this[this.t-1]^this.s&this.DM)},N_.prototype.mod=function(e){var t=L_();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(N_.ZERO)>0&&e.subTo(t,t),t},N_.prototype.equals=function(e){return 0==this.compareTo(e)},N_.prototype.add=function(e){var t=L_();return this.addTo(e,t),t},N_.prototype.subtract=function(e){var t=L_();return this.subTo(e,t),t},N_.prototype.multiply=function(e){var t=L_();return this.multiplyTo(e,t),t},N_.prototype.divide=function(e){var t=L_();return this.divRemTo(e,t,null),t},N_.prototype.modPow=function(e,t,n){var r,o=e.bitLength(),i=q_(1),a=new G_(t);if(o<=0)return i;r=o<18?1:o<48?3:o<144?4:o<768?5:6;var s=new Array,u=3,c=r-1,l=(1<<r)-1;if(s[1]=a.convert(this),r>1){var f=L_();for(a.sqrTo(s[1],f);u<=l;)s[u]=L_(),a.mulTo(f,s[u-2],s[u]),u+=2}var d,p,h=e.t-1,v=!0,y=L_();for(o=K_(e[h])-1;h>=0;){for(o>=c?d=e[h]>>o-c&l:(d=(e[h]&(1<<o+1)-1)<<c-o,h>0&&(d|=e[h-1]>>this.DB+o-c)),u=r;0==(1&d);)d>>=1,--u;if((o-=u)<0&&(o+=this.DB,--h),v)s[d].copyTo(i),v=!1;else{for(;u>1;)a.sqrTo(i,y),a.sqrTo(y,i),u-=2;u>0?a.sqrTo(i,y):(p=i,i=y,y=p),a.mulTo(y,s[d],i)}for(;h>=0&&0==(e[h]&1<<o);)a.sqrTo(i,y),p=i,i=y,y=p,--o<0&&(o=this.DB-1,--h)}var m=a.revert(i);return n(null,m),m},N_.ZERO=q_(0),N_.ONE=q_(1);var V_=/^[89a-f]/i,$_=function(){function e(e){this.N=new R_("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new R_("2",16),this.k=new R_(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=C_.lW.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)}))},t.generateRandomSmallA=function(){var e=H_(128).toString("hex");return new R_(e,16)},t.generateRandomString=function(){return H_(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var o=""+e+t+":"+this.randomPassword,i=this.hash(o),a=H_(16).toString("hex");this.SaltToHashDevices=this.padHex(new R_(a,16)),this.g.modPow(new R_(this.hexHash(this.SaltToHashDevices+i),16),this.N,(function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)}))},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,r){e&&t(e,null),r.mod(n.N).equals(R_.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)}))},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new R_(this.UHexHash,16)},t.hash=function(e){var t=new k_.Sha256;t.update(e);var n=t.digestSync(),r=C_.lW.from(n).toString("hex");return new Array(64-r.length).join("0")+r},t.hexHash=function(e){return this.hash(C_.lW.from(e,"hex"))},t.computehkdf=function(e,t){var n=C_.lW.concat([this.infoBits,C_.lW.from(String.fromCharCode(1),"utf8")]),r=new k_.Sha256(t);r.update(e);var o=r.digestSync(),i=new k_.Sha256(o);return i.update(n),i.digestSync().slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,o){var i=this;if(n.mod(this.N).equals(R_.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(R_.ZERO))throw new Error("U cannot be zero.");var a=""+this.poolName+e+":"+t,s=this.hash(a),u=new R_(this.hexHash(this.padHex(r)+s),16);this.calculateS(u,n,(function(e,t){e&&o(e,null);var n=i.computehkdf(C_.lW.from(i.padHex(t),"hex"),C_.lW.from(i.padHex(i.UValue),"hex"));o(null,n)}))},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,(function(o,i){o&&n(o,null),t.subtract(r.k.multiply(i)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,(function(e,t){e&&n(e,null),n(null,t.mod(r.N))}))}))},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof R_))throw new Error("Not a BigInteger");var t=e.compareTo(R_.ZERO)<0,n=e.abs().toString(16);if(n=n.length%2!=0?"0"+n:n,n=V_.test(n)?"00"+n:n,t){var r=n.split("").map((function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)})).join("");(n=new R_(r,16).add(R_.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},e}(),W_=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(C_.lW.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}();function Y_(e,t){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Y_(e,t)}var Z_=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Y_(t,n),r}(W_);function J_(e,t){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J_(e,t)}var X_=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,J_(t,n),r}(W_),Q_=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),ex="aws-amplify/5.0.4",tx={userAgent:ex+" js",product:"",navigator:null,isReactNative:!1};"undefined"!=typeof navigator&&navigator.product&&(tx.product=navigator.product||"",tx.navigator=navigator||null,"ReactNative"===navigator.product?(tx.userAgent=ex+" react-native",tx.isReactNative=!0):(tx.userAgent=ex+" js",tx.isReactNative=!1));var nx=function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,o=t.AccessToken,i=t.ClockDrift;if(null==o||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=o,this.clockDrift=void 0===i?this.calculateClockDrift():i}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),rx=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ox=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ix=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=ox[e.getUTCDay()],n=rx[e.getUTCMonth()],r=e.getUTCDate(),o=e.getUTCHours();o<10&&(o="0"+o);var i=e.getUTCMinutes();i<10&&(i="0"+i);var a=e.getUTCSeconds();return a<10&&(a="0"+a),t+" "+n+" "+r+" "+o+":"+i+":"+a+" UTC "+e.getUTCFullYear()},e}(),ax=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),sx={},ux=function(){function e(){}return e.setItem=function(e,t){return sx[e]=t,sx[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(sx,e)?sx[e]:void 0},e.removeItem=function(e){return delete sx[e]},e.clear=function(){return sx={}},e}(),cx=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=ux}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),lx="undefined"!=typeof navigator?tx.isReactNative?"react-native":navigator.userAgent:"nodejs",fx=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new cx).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),i={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",i,(function(e,r){if(e)return t.onFailure(e);var o=r.ChallengeName,i=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===o?(n.Session=r.Session,t.customChallenge(i)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,r,o=this,i=new $_(this.pool.getUserPoolName()),a=new ix,s={};null!=this.deviceKey&&(s.DEVICE_KEY=this.deviceKey),s.USERNAME=this.username,i.getLargeAValue((function(u,c){u&&t.onFailure(u),s.SRP_A=c.toString(16),"CUSTOM_AUTH"===o.authenticationFlowType&&(s.CHALLENGE_NAME="SRP_A");var l=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),f={AuthFlow:o.authenticationFlowType,ClientId:o.pool.getClientId(),AuthParameters:s,ClientMetadata:l};o.getUserContextData(o.username)&&(f.UserContextData=o.getUserContextData(o.username)),o.client.request("InitiateAuth",f,(function(s,u){if(s)return t.onFailure(s);var c=u.ChallengeParameters;o.username=c.USER_ID_FOR_SRP,o.userDataKey=o.keyPrefix+"."+o.username+".userData",n=new R_(c.SRP_B,16),r=new R_(c.SALT,16),o.getCachedDeviceKeyAndPassword(),i.getPasswordAuthenticationKey(o.username,e.getPassword(),n,r,(function(e,n){e&&t.onFailure(e);var r=a.getNowString(),s=C_.lW.concat([C_.lW.from(o.pool.getUserPoolName(),"utf8"),C_.lW.from(o.username,"utf8"),C_.lW.from(c.SECRET_BLOCK,"base64"),C_.lW.from(r,"utf8")]),f=new k_.Sha256(n);f.update(s);var d=f.digestSync(),p=C_.lW.from(d).toString("base64"),h={};h.USERNAME=o.username,h.PASSWORD_CLAIM_SECRET_BLOCK=c.SECRET_BLOCK,h.TIMESTAMP=r,h.PASSWORD_CLAIM_SIGNATURE=p,null!=o.deviceKey&&(h.DEVICE_KEY=o.deviceKey);var v={ChallengeName:"PASSWORD_VERIFIER",ClientId:o.pool.getClientId(),ChallengeResponses:h,Session:u.Session,ClientMetadata:l};o.getUserContextData()&&(v.UserContextData=o.getUserContextData()),function e(t,n){return o.client.request("RespondToAuthChallenge",t,(function(r,i){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(h.DEVICE_KEY=null,o.deviceKey=null,o.randomPassword=null,o.deviceGroupKey=null,o.clearCachedDeviceKeyAndPassword(),e(t,n)):n(r,i)}))}(v,(function(e,n){return e?t.onFailure(e):o.authenticateUserInternal(n,i,t)}))}))}))}))},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var o=new $_(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),a={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData(this.username)&&(a.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",a,(function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,o,t)}))}else t.onFailure(new Error("PASSWORD parameter is required"))},t.authenticateUserInternal=function(e,t,n){var r=this,o=e.ChallengeName,i=e.ChallengeParameters;if("SMS_MFA"===o)return this.Session=e.Session,n.mfaRequired(o,i);if("SELECT_MFA_TYPE"===o)return this.Session=e.Session,n.selectMFAType(o,i);if("MFA_SETUP"===o)return this.Session=e.Session,n.mfaSetup(o,i);if("SOFTWARE_TOKEN_MFA"===o)return this.Session=e.Session,n.totpRequired(o,i);if("CUSTOM_CHALLENGE"===o)return this.Session=e.Session,n.customChallenge(i);if("NEW_PASSWORD_REQUIRED"===o){this.Session=e.Session;var a=null,s=null,u=[],c=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(i&&(a=JSON.parse(e.ChallengeParameters.userAttributes),s=JSON.parse(e.ChallengeParameters.requiredAttributes)),s)for(var l=0;l<s.length;l++)u[l]=s[l].substr(c.length);return n.newPasswordRequired(a,u)}if("DEVICE_SRP_AUTH"===o)return this.Session=e.Session,void this.getDeviceResponse(n);this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=o,this.cacheTokens();var f=e.AuthenticationResult.NewDeviceMetadata;if(null==f)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(o){if(o)return n.onFailure(o);var i={Salt:C_.lW.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:C_.lW.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=i.PasswordVerifier,r.deviceGroupKey=f.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:f.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:i,DeviceName:lx},(function(t,o){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===o.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,o.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))},t.completeNewPasswordChallenge=function(e,t,n,r){var o=this;if(!e)return n.onFailure(new Error("New password is required."));var i=new $_(this.pool.getUserPoolName()),a=i.getNewPasswordRequiredChallengeUserAttributePrefix(),s={};t&&Object.keys(t).forEach((function(e){s[a+e]=t[e]})),s.NEW_PASSWORD=e,s.USERNAME=this.username;var u={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:s,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,(function(e,t){return e?n.onFailure(e):o.authenticateUserInternal(t,i,n)}))},t.getDeviceResponse=function(e,t){var n=this,r=new $_(this.deviceGroupKey),o=new ix,i={};i.USERNAME=this.username,i.DEVICE_KEY=this.deviceKey,r.getLargeAValue((function(a,s){a&&e.onFailure(a),i.SRP_A=s.toString(16);var u={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:i,ClientMetadata:t,Session:n.Session};n.getUserContextData()&&(u.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",u,(function(t,i){if(t)return e.onFailure(t);var a=i.ChallengeParameters,s=new R_(a.SRP_B,16),u=new R_(a.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,s,u,(function(t,r){if(t)return e.onFailure(t);var s=o.getNowString(),u=C_.lW.concat([C_.lW.from(n.deviceGroupKey,"utf8"),C_.lW.from(n.deviceKey,"utf8"),C_.lW.from(a.SECRET_BLOCK,"base64"),C_.lW.from(s,"utf8")]),c=new k_.Sha256(r);c.update(u);var l=c.digestSync(),f=C_.lW.from(l).toString("base64"),d={};d.USERNAME=n.username,d.PASSWORD_CLAIM_SECRET_BLOCK=a.SECRET_BLOCK,d.TIMESTAMP=s,d.PASSWORD_CLAIM_SIGNATURE=f,d.DEVICE_KEY=n.deviceKey;var p={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:d,Session:i.Session};n.getUserContextData()&&(p.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",p,(function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))}))}))}))},t.confirmRegistration=function(e,t,n,r){var o={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",o,(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,o={};o.USERNAME=this.username,o.ANSWER=e;var i=new $_(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var a={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,i,t)}))},t.sendMFACode=function(e,t,n,r){var o=this,i={};i.USERNAME=this.username,i.SMS_MFA_CODE=e;var a=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===a&&(i.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var s={ChallengeName:a,ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,(function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(o.signInUserSession=o.getCognitoUserSession(n.AuthenticationResult),o.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(o.signInUserSession);var r=new $_(o.pool.getUserPoolName());r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var i={Salt:C_.lW.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:C_.lW.from(r.getVerifierDevices(),"hex").toString("base64")};o.verifierDevices=i.PasswordVerifier,o.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,o.randomPassword=r.getRandomPassword(),o.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:o.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:i,DeviceName:lx},(function(e,r){return e?t.onFailure(e):(o.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,o.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(o.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(o.signInUserSession))}))}))}else o.getDeviceResponse(t)}))},t.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e,n){return e?t(e,null):r.getUserData((function(){return t(null,"SUCCESS",n)}),{bypassCache:!0})}))},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var r=[],o=0;o<n.UserAttributes.length;o++){var i={Name:n.UserAttributes[o].Name,Value:n.UserAttributes[o].Value},a=new ax(i);r.push(a)}return e(null,r)}))},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(n){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,n,e.clientMetadata):n()}))},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible(t).then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(r))}catch(t){return this.clearCachedUserData(),void e(t,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},t.deleteAttributes=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):n.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,(function(t,n){return t?e(t,null):e(null,n)}))},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken",o=n+".accessToken",i=n+".refreshToken",a=n+".clockDrift";if(this.storage.getItem(r)){var s=new X_({IdToken:this.storage.getItem(r)}),u=new Z_({AccessToken:this.storage.getItem(o)}),c=new Q_({RefreshToken:this.storage.getItem(i)}),l=parseInt(this.storage.getItem(a),0)||0,f=new nx({IdToken:s,AccessToken:u,RefreshToken:c,ClockDrift:l});if(f.isValid())return this.signInUserSession=f,e(null,this.signInUserSession);if(!c.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(c,e,t.clientMetadata)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var r=this,o=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,i={};i.REFRESH_TOKEN=e.getToken();var a="CognitoIdentityServiceProvider."+this.pool.getClientId(),s=a+".LastAuthUser";if(this.storage.getItem(s)){this.username=this.storage.getItem(s);var u=a+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(u),i.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:i,ClientMetadata:n};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,(function(t,n){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),o(t,null);if(n){var i=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(i,"RefreshToken")||(i.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(i),r.cacheTokens(),o(null,r.signInUserSession)}}))},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",o=e+"."+this.username+".clockDrift",i=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(o,""+this.signInUserSession.getClockDrift()),this.storage.setItem(i,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",o=e+".LastAuthUser",i=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(o),this.storage.removeItem(i)},t.getCognitoUserSession=function(e){var t=new X_(e),n=new Z_(e),r=new Q_(e);return new nx({IdToken:t,AccessToken:n,RefreshToken:r})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},t.confirmPassword=function(e,t,n,r){var o={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",o,(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess("SUCCESS")}))},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))}))},t.signOut=function(e){var t=this;e&&"function"==typeof e?this.getSession((function(n,r){if(n)return e(n);t.revokeTokens((function(n){t.cleanClientData(),e(n)}))})):this.cleanClientData()},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(new Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(e){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,n=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},(function(e){if(e)return n(e);n()}))},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var o={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",o,(function(r,o){return r?t.onFailure(r):(n.Session=o.Session,"SMS_MFA"===e?t.mfaRequired(o.ChallengeName,o.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(o.ChallengeName,o.ChallengeParameters):void 0)}))},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))}))},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var o={};o.USERNAME=r.username;var i={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:o,Session:r.Session};r.getUserContextData()&&(i.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",i,(function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},e}();function dx(){}n(204),dx.prototype.userAgent=tx.userAgent;const px=dx;function hx(e){var t="function"==typeof Map?new Map:void 0;return hx=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return vx(e,arguments,gx(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),mx(r,e)},hx(e)}function vx(e,t,n){return vx=yx()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&mx(o,n.prototype),o},vx.apply(null,arguments)}function yx(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function mx(e,t){return mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mx(e,t)}function gx(e){return gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gx(e)}var bx=function(e){function t(t,n,r,o){var i;return(i=e.call(this,t)||this).code=n,i.name=r,i.statusCode=o,i}return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,mx(n,r),t;var n,r}(hx(Error)),wx=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(r,o){n.request(e,t,(function(e,t){e?o(new bx(e.message,e.code,e.name,e.statusCode)):r(t)}))}))},t.requestWithRetry=function(e,t,n){var r,o,i=this;(r=[t],o=5e3,void 0===o&&(o=Ex),Sx((function(t){return new Promise((function(n,r){i.request(e,t,(function(e,t){e?r(e):n(t)}))}))}),r,function(e){return function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}(o))).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))},t.request=function(e,t,n){var r,o={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":px.prototype.userAgent,"Cache-Control":"no-store"},i=Object.assign({},this.fetchOptions,{headers:o,method:"POST",mode:"cors",body:JSON.stringify(t)});fetch(this.endpoint,i).then((function(e){return r=e,e}),(function(e){if(e instanceof TypeError)throw new Error("Network error");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(r.ok)return n(null,e);var t=(e.__type||e.code).split("#").pop(),o=new Error(e.message||e.Message||null);return o.name=t,o.code=t,n(o)})).catch((function(e){if(r&&r.headers&&r.headers.get("x-amzn-errortype"))try{var t=r.headers.get("x-amzn-errortype").split(":")[0],o=new Error(r.status?r.status.toString():null);return o.code=t,o.name=t,o.statusCode=r.status,n(o)}catch(t){return n(e)}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return n(e)}))},e}();function Sx(e,t,n,r){if(void 0===r&&(r=1),"function"!=typeof e)throw Error("functionToRetry must be a function");return e.name,JSON.stringify(t),e.apply(void 0,t).catch((function(o){if(e.name,(i=o)&&i.nonRetryable)throw e.name,o;var i,a=n(r,t,o);if(e.name,!1!==a)return new Promise((function(e){return setTimeout(e,a)})).then((function(){return Sx(e,t,n,r+1)}));throw o}))}Error;var Ex=3e5,_x=function(){function e(e,t){var n=e||{},r=n.UserPoolId,o=n.ClientId,i=n.endpoint,a=n.fetchOptions,s=n.AdvancedSecurityDataCollectionFlag;if(!r||!o)throw new Error("Both UserPoolId and ClientId are required.");if(r.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw new Error("Invalid UserPoolId format.");var u=r.split("_")[0];this.userPoolId=r,this.clientId=o,this.client=new wx(u,i,a),this.advancedSecurityDataCollectionFlag=!1!==s,this.storage=e.Storage||(new cx).getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,o,i){var a=this,s={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:i};this.getUserContextData(e)&&(s.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",s,(function(t,n){if(t)return o(t,null);var r={Username:e,Pool:a,Storage:a.storage},i={user:new fx(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return o(null,i)}))},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new fx(n)}return null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),xx=n(895),Tx=function(){function e(e){if(!e.domain)throw new Error("The domain of cookieStorage can not be undefined.");if(this.domain=e.domain,e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),xx.set(e,t,n),xx.get(e)},t.getItem=function(e){return xx.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),xx.remove(e,t)},t.clear=function(){for(var e=xx.get(),t=Object.keys(e).length,n=0;n<t;++n)this.removeItem(Object.keys(e)[n]);return{}},e}(),Ix=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},Ax=n(1938),Cx="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Px=function(e,t,n){_.dispatch("auth",{event:e,data:t,message:n},"Auth",Cx)},Ox=new c("OAuth"),kx=function(){function e(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,o=void 0===r?[]:r;if(this._urlOpener=t.urlOpener||Ix,this._config=t,this._cognitoClientId=n,!this.isValidScopes(o))throw Error("scopes must be a String Array");this._scopes=o}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))},e.prototype.oauthSignIn=function(e,t,n,r,o,i){void 0===e&&(e="code"),void 0===o&&(o=l_.Cognito);var a=this._generateState(32),s=i?a+"-"+i.split("").map((function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")})).join(""):a;!function(e){window.sessionStorage.setItem("oauth_state",e)}(s);var u,c=this._generateRandom(128);u=c,window.sessionStorage.setItem("ouath_pkce_key",u);var l=this._generateChallenge(c),f=this._scopes.join(" "),d=Object.entries(p_(p_({redirect_uri:n,response_type:e,client_id:r,identity_provider:o,scope:f,state:s},"code"===e?{code_challenge:l}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map((function(e){var t=y_(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),p="https://"+t+"/oauth2/authorize?"+d;Ox.debug("Redirecting to "+p),this._urlOpener(p,n)},e.prototype._handleCodeFlow=function(e){return h_(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,l,f,d,p,h;return v_(this,(function(v){switch(v.label){case 0:return t=((0,L.Qc)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=y_(t,2),o=r[0],i=r[1];return p_(p_({},e),((n={})[o]=i,n))}),{code:void 0}).code,n=(0,L.Qc)(e).pathname||"/",r=(0,L.Qc)(this._config.redirectSignIn).pathname||"/",t&&n===r?(o="https://"+this._config.domain+"/oauth2/token",Px("codeFlow",{},"Retrieving tokens from "+o),i=g_(this._config)?this._cognitoClientId:this._config.clientID,a=g_(this._config)?this._config.redirectSignIn:this._config.redirectUri,y=window.sessionStorage.getItem("ouath_pkce_key"),window.sessionStorage.removeItem("ouath_pkce_key"),u=p_({grant_type:"authorization_code",code:t,client_id:i,redirect_uri:a},(s=y)?{code_verifier:s}:{}),Ox.debug("Calling token endpoint: "+o+" with",u),c=Object.entries(u).map((function(e){var t=y_(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),[4,fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c})]):[2];case 1:return[4,v.sent().json()];case 2:if(l=v.sent(),f=l.access_token,d=l.refresh_token,p=l.id_token,h=l.error)throw new Error(h);return[2,{accessToken:f,refreshToken:d,idToken:p}]}var y}))}))},e.prototype._handleImplicitFlow=function(e){return h_(this,void 0,void 0,(function(){var t,n,r;return v_(this,(function(o){return t=((0,L.Qc)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=y_(t,2),o=r[0],i=r[1];return p_(p_({},e),((n={})[o]=i,n))}),{id_token:void 0,access_token:void 0}),n=t.id_token,r=t.access_token,Px("implicitFlow",{},"Got tokens from "+e),Ox.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:r,idToken:n,refreshToken:null}]}))}))},e.prototype.handleAuthResponse=function(e){return h_(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return v_(this,(function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),t=e?p_(p_({},((0,L.Qc)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=y_(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})),((0,L.Qc)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=y_(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})):{},n=t.error,r=t.error_description,n)throw new Error(r);return o=this._validateState(t),Ox.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(i=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,p_.apply(void 0,[p_.apply(void 0,i.concat([u.sent()])),{state:o}])];case 2:return a=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,p_.apply(void 0,[p_.apply(void 0,a.concat([u.sent()])),{state:o}])];case 4:return[3,6];case 5:throw s=u.sent(),Ox.error("Error handling auth response.",s),s;case 6:return[2]}}))}))},e.prototype._validateState=function(e){if(e){var t,n=(t=window.sessionStorage.getItem("oauth_state"),window.sessionStorage.removeItem("oauth_state"),t),r=e.state;if(n&&n!==r)throw new Error("Invalid state in OAuth flow");return r}},e.prototype.signOut=function(){return h_(this,void 0,void 0,(function(){var e,t,n;return v_(this,(function(r){return e="https://"+this._config.domain+"/logout?",t=g_(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=g_(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map((function(e){var t=y_(e,2);return t[0]+"="+t[1]})).join("&"),Px("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),Ox.debug("Signing out from "+e),[2,this._urlOpener(e,n)]}))}))},e.prototype._generateState=function(e){for(var t="",n=e,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)t+=r[Math.round(Math.random()*(r.length-1))];return t},e.prototype._generateChallenge=function(e){var t=new Ax.Sha256;t.update(e);var n=t.digestSync(),r=C_.lW.from(n).toString("base64");return this._base64URL(r)},e.prototype._base64URL=function(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~".length|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<e.byteLength;r+=1){var o=e[r]%t.length;n.push(t[o])}return n.join("")},e}();const Rx=kx;var Nx;!function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",e.AUTOSIGNIN_ERROR="Please use your credentials to sign in"}(Nx||(Nx={}));var Lx=new c("AuthError"),Dx=function(e){function t(n){var r=this,o=jx[n],i=o.message,a=o.log;return(r=e.call(this,i)||this).constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="AuthError",r.log=a||i,Lx.error(r.log),r}return c_(t,e),t}(Error),Mx=function(e){function t(n){var r=e.call(this,n)||this;return r.constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="NoUserPoolError",r}return c_(t,e),t}(Dx),jx={noConfig:{message:Nx.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:Nx.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:Nx.EMPTY_USERNAME},invalidUsername:{message:Nx.INVALID_USERNAME},emptyPassword:{message:Nx.EMPTY_PASSWORD},emptyCode:{message:Nx.EMPTY_CODE},signUpError:{message:Nx.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:Nx.NO_MFA},invalidMFA:{message:Nx.INVALID_MFA},emptyChallengeResponse:{message:Nx.EMPTY_CHALLENGE},noUserSession:{message:Nx.NO_USER_SESSION},deviceConfig:{message:Nx.DEVICE_CONFIG},networkError:{message:Nx.NETWORK_ERROR},autoSignInError:{message:Nx.AUTOSIGNIN_ERROR},default:{message:Nx.DEFAULT_MSG}},Ux=new c("AuthClass"),Fx="aws.cognito.signin.user.admin",zx="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Bx=function(e,t,n){_.dispatch("auth",{event:e,data:t,message:n},"Auth",zx)},qx=function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.inflightSessionPromise=null,this.inflightSessionPromiseCounter=0,this.Credentials=fs,this.wrapRefreshSessionCallback=function(e){return function(t,n){return n?Bx("tokenRefresh",void 0,"New token retrieved"):Bx("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,n)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),_.listen("auth",(function(e){switch(e.payload.event){case"verify":case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}}))}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};Ux.debug("configure Auth");var n=Object.assign({},this._config,T(e).Auth,e);this._config=n;var r=this._config,o=r.userPoolId,i=r.userPoolWebClientId,a=r.cookieStorage,s=r.oauth,u=r.region,c=r.identityPoolId,l=r.mandatorySignIn,f=r.refreshHandlers,d=r.identityPoolRegion,p=r.clientMetadata,h=r.endpoint;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw Ux.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}else this._storage=a?new Tx(a):e.ssr?new I_:(new oe).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),o){var v={UserPoolId:o,ClientId:i,endpoint:h};v.Storage=this._storage,this.userPool=new _x(v,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:l,region:u,userPoolId:o,identityPoolId:c,refreshHandlers:f,storage:this._storage,identityPoolRegion:d});var y=s?g_(this._config.oauth)?s:s.awsCognito:void 0;if(y){var m=Object.assign({cognitoClientId:i,UserPoolId:o,domain:y.domain,scopes:y.scope,redirectSignIn:y.redirectSignIn,redirectSignOut:y.redirectSignOut,responseType:y.responseType,Storage:this._storage,urlOpener:y.urlOpener,clientMetadata:p},y.options);this._oAuthHandler=new Rx({scopes:m.scopes,config:m,cognitoClientId:m.cognitoClientId});var g={};!function(e){if(Y().isBrowser&&window.location)!function(e){var n=e.url;g[n]||(g[n]=!0,t._handleAuthResponse(n))}({url:window.location.href});else if(!Y().isNode)throw new Error("Not supported")}()}return Bx("configured",null,"The Auth category has been configured successfully"),this.autoSignInInitiated||"function"!=typeof this._storage.getItem||(this.isTrueStorageValue("amplify-polling-started")&&(Bx("autoSignIn_failure",null,f_.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started")),this._config},e.prototype.signUp=function(e){for(var t,n,r,o=this,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(!this.userPool)return this.rejectNoUserPool();var s,u=null,c=null,l=[],f=null,d={enabled:!1},p={},h={};if(e&&"string"==typeof e){u=e,c=i?i[0]:null;var v=i?i[1]:null,y=i?i[2]:null;v&&l.push(new ax({Name:"email",Value:v})),y&&l.push(new ax({Name:"phone_number",Value:y}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(f_.SignUpError);u=e.username,c=e.password,e&&e.clientMetadata?s=e.clientMetadata:this._config.clientMetadata&&(s=this._config.clientMetadata);var m=e.attributes;m&&Object.keys(m).map((function(e){l.push(new ax({Name:e,Value:m[e]}))}));var g=e.validationData;g&&(f=[],Object.keys(g).map((function(e){f.push(new ax({Name:e,Value:g[e]}))}))),(d=null!==(t=e.autoSignIn)&&void 0!==t?t:{enabled:!1}).enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),p=null!==(n=d.validationData)&&void 0!==n?n:{},h=null!==(r=d.clientMetaData)&&void 0!==r?r:{})}return u?c?(Ux.debug("signUp attrs:",l),Ux.debug("signUp validation data:",f),new Promise((function(e,t){o.userPool.signUp(u,c,l,f,(function(n,r){n?(Bx("signUp_failure",n,u+" failed to signup"),t(n)):(Bx("signUp",r,u+" has signed up successfully"),d.enabled&&o.handleAutoSignIn(u,c,p,h,r),e(r))}),s)}))):this.rejectAuthError(f_.EmptyPassword):this.rejectAuthError(f_.EmptyUsername)},e.prototype.handleAutoSignIn=function(e,t,n,r,o){this.autoSignInInitiated=!0;var i=new A_({Username:e,Password:t,ValidationData:n,ClientMetadata:r});o.userConfirmed?this.signInAfterUserConfirmed(i):"link"===this._config.signUpVerificationMethod?this.handleLinkAutoSignIn(i):this.handleCodeAutoSignIn(i)},e.prototype.handleCodeAutoSignIn=function(e){var t=this,n=function(r){"confirmSignUp"===r.payload.event&&t.signInAfterUserConfirmed(e,n)};_.listen("auth",n)},e.prototype.handleLinkAutoSignIn=function(e){var t=this;this._storage.setItem("amplify-polling-started","true");var n=Date.now(),r=setInterval((function(){Date.now()-n>18e4?(clearInterval(r),Bx("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),t._storage.removeItem("amplify-auto-sign-in")):t.signInAfterUserConfirmed(e,null,r)}),5e3)},e.prototype.signInAfterUserConfirmed=function(e,t,n){return h_(this,void 0,void 0,(function(){var r,o,i=this;return v_(this,(function(a){switch(a.label){case 0:r=this.createCognitoUser(e.getUsername()),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r.authenticateUser(e,this.authCallbacks(r,(function(r){Bx("autoSignIn",r,e.getUsername()+" has signed in successfully"),t&&_.remove("auth",t),n&&(clearInterval(n),i._storage.removeItem("amplify-polling-started")),i._storage.removeItem("amplify-auto-sign-in")}),(function(e){Ux.error(e),i._storage.removeItem("amplify-auto-sign-in")})))];case 2:return a.sent(),[3,4];case 3:return o=a.sent(),Ux.error(o),[3,4];case 4:return[2]}}))}))},e.prototype.confirmSignUp=function(e,t,n){var r=this;if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(f_.EmptyUsername);if(!t)return this.rejectAuthError(f_.EmptyCode);var o,i=this.createCognitoUser(e),a=!n||"boolean"!=typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?o=n.clientMetadata:this._config.clientMetadata&&(o=this._config.clientMetadata),new Promise((function(n,s){i.confirmRegistration(t,a,(function(t,o){t?s(t):(Bx("confirmSignUp",o,e+" has been confirmed successfully"),r.isTrueStorageValue("amplify-auto-sign-in")&&!r.autoSignInInitiated&&(Bx("autoSignIn_failure",null,f_.AutoSignInError),r._storage.removeItem("amplify-auto-sign-in")),n(o))}),o)}))},e.prototype.isTrueStorageValue=function(e){var t=this._storage.getItem(e);return!!t&&"true"===t},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(f_.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(e,r){n.resendConfirmationCode((function(t,n){t?r(t):e(n)}),t)}))},e.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var r=null,o=null,i={};if("string"==typeof e)r=e,o=t;else{if(!e.username)return this.rejectAuthError(f_.InvalidUsername);void 0!==t&&Ux.warn("The password should be defined under the first parameter object!"),r=e.username,o=e.password,i=e.validationData}if(!r)return this.rejectAuthError(f_.EmptyUsername);var a=new A_({Username:r,Password:o,ValidationData:i,ClientMetadata:n});return o?this.signInWithPassword(a):this.signInWithoutPassword(a)},e.prototype.authCallbacks=function(e,t,n){var r=this,o=this;return{onSuccess:function(i){return h_(r,void 0,void 0,(function(){var r,a,s,u;return v_(this,(function(c){switch(c.label){case 0:Ux.debug(i),delete e.challengeName,delete e.challengeParam,c.label=1;case 1:return c.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return c.sent(),[4,this.Credentials.set(i,"session")];case 3:return r=c.sent(),Ux.debug("succeed to get cognito credentials",r),[3,9];case 4:return a=c.sent(),Ux.debug("cannot get cognito credentials",a),[3,9];case 5:return c.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return s=c.sent(),o.user=s,Bx("signIn",s,"A user "+e.getUsername()+" has been signed in"),t(s),[3,8];case 7:return u=c.sent(),Ux.error("Failed to get the signed in user",u),n(u),[3,8];case 8:return[7];case 9:return[2]}}))}))},onFailure:function(t){Ux.debug("signIn failure",t),Bx("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){Ux.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,r){Ux.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){Ux.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){Ux.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){Ux.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){Ux.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise((function(r,o){n.authenticateUser(e,t.authCallbacks(n,(function(e){t.pendingSignIn=null,r(e)}),(function(e){t.pendingSignIn=null,o(e)})))})),this.pendingSignIn},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise((function(r,o){n.initiateAuth(e,t.authCallbacks(n,r,o))}))},e.prototype.getMFAOptions=function(e){return new Promise((function(t,n){e.getMFAOptions((function(e,r){if(e)return Ux.debug("get MFA Options failed",e),void n(e);Ux.debug("get MFA options success",r),t(r)}))}))},e.prototype.getPreferredMFA=function(e,t){var n=this,r=this;return new Promise((function(o,i){var a=n._config.clientMetadata,s=!!t&&t.bypassCache;e.getUserData((function(t,a){return h_(n,void 0,void 0,(function(){var n,s;return v_(this,(function(u){switch(u.label){case 0:if(!t)return[3,5];if(Ux.debug("getting preferred mfa failed",t),!this.isSessionInvalid(t))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return u.sent(),[3,4];case 3:return n=u.sent(),i(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return i(t),[2];case 5:return(s=r._getMfaTypeFromUserData(a))?(o(s),[2]):(i("invalid MFA Type"),[2])}}))}))}),{bypassCache:s,clientMetadata:a})}))},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;r?0===r.length?t="NOMFA":Ux.debug("invalid case for getPreferredMFA",e):t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){var n=this;return new Promise((function(r,o){e.getUserData((function(t,i){return h_(n,void 0,void 0,(function(){var n;return v_(this,(function(a){switch(a.label){case 0:if(!t)return[3,5];if(Ux.debug("getting user data failed",t),!this.isSessionInvalid(t))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return n=a.sent(),o(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return o(t),[2];case 5:r(i),a.label=6;case 6:return[2]}}))}))}),t)}))},e.prototype.setPreferredMFA=function(e,t){return h_(this,void 0,void 0,(function(){var n,r,o,i,a,s,u=this;return v_(this,(function(c){switch(c.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:n})];case 1:switch(r=c.sent(),o=null,i=null,t){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return i={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return a=r.UserMFASettingList,[4,this._getMfaTypeFromUserData(r)];case 5:if("NOMFA"===(s=c.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===s)o={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==s)return[2,this.rejectAuthError(f_.InvalidMFA)];i={PreferredMfa:!1,Enabled:!1}}return a&&0!==a.length&&a.forEach((function(e){"SMS_MFA"===e?o={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(i={PreferredMfa:!1,Enabled:!1})})),[3,7];case 6:return Ux.debug("no validmfa method provided"),[2,this.rejectAuthError(f_.NoMFA)];case 7:return[2,new Promise((function(t,r){e.setUserMfaPreference(o,i,(function(o,i){if(o)return Ux.debug("Set user mfa preference error",o),r(o);Ux.debug("Set user mfa success",i),Ux.debug("Caching the latest user data into local"),e.getUserData((function(n,o){return h_(u,void 0,void 0,(function(){var o;return v_(this,(function(a){switch(a.label){case 0:if(!n)return[3,5];if(Ux.debug("getting user data failed",n),!this.isSessionInvalid(n))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return o=a.sent(),r(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,r(n)];case 5:return[2,t(i)]}}))}))}),{bypassCache:!0,clientMetadata:n})}))}))]}}))}))},e.prototype.disableSMS=function(e){return new Promise((function(t,n){e.disableMFA((function(e,r){if(e)return Ux.debug("disable mfa failed",e),void n(e);Ux.debug("disable mfa succeed",r),t(r)}))}))},e.prototype.enableSMS=function(e){return new Promise((function(t,n){e.enableMFA((function(e,r){if(e)return Ux.debug("enable mfa failed",e),void n(e);Ux.debug("enable mfa succeed",r),t(r)}))}))},e.prototype.setupTOTP=function(e){return new Promise((function(t,n){e.associateSoftwareToken({onFailure:function(e){Ux.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){Ux.debug("associateSoftwareToken sucess",e),t(e)}})}))},e.prototype.verifyTotpToken=function(e,t){return Ux.debug("verification totp token",e,t),new Promise((function(n,r){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){Ux.debug("verifyTotpToken failed",e),r(e)},onSuccess:function(t){Bx("signIn",e,"A user "+e.getUsername()+" has been signed in"),Bx("verify",e,"A user "+e.getUsername()+" has been verified"),Ux.debug("verifyTotpToken success",t),n(t)}})}))},e.prototype.confirmSignIn=function(e,t,n,r){var o=this;if(void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(f_.EmptyCode);var i=this;return new Promise((function(a,s){e.sendMFACode(t,{onSuccess:function(t){return h_(o,void 0,void 0,(function(){var n,r;return v_(this,(function(o){switch(o.label){case 0:Ux.debug(t),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=o.sent(),Ux.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=o.sent(),Ux.debug("cannot get cognito credentials",r),[3,6];case 5:return i.user=e,Bx("signIn",e,"A user "+e.getUsername()+" has been signed in"),a(e),[7];case 6:return[2]}}))}))},onFailure:function(e){Ux.debug("confirm signIn failure",e),s(e)}},n,r)}))},e.prototype.completeNewPassword=function(e,t,n,r){var o=this;if(void 0===n&&(n={}),void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(f_.EmptyPassword);var i=this;return new Promise((function(a,s){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return h_(o,void 0,void 0,(function(){var n,r;return v_(this,(function(o){switch(o.label){case 0:Ux.debug(t),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=o.sent(),Ux.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=o.sent(),Ux.debug("cannot get cognito credentials",r),[3,6];case 5:return i.user=e,Bx("signIn",e,"A user "+e.getUsername()+" has been signed in"),a(e),[7];case 6:return[2]}}))}))},onFailure:function(e){Ux.debug("completeNewPassword failure",e),Bx("completeNewPassword_failure",e,o.user+" failed to complete the new password flow"),s(e)},mfaRequired:function(t,n){Ux.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,a(e)},mfaSetup:function(t,n){Ux.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,a(e)},totpRequired:function(t,n){Ux.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,a(e)}},r)}))},e.prototype.sendCustomChallengeAnswer=function(e,t,n){var r=this;return void 0===n&&(n=this._config.clientMetadata),this.userPool?t?new Promise((function(o,i){e.sendCustomChallengeAnswer(t,r.authCallbacks(e,o,i),n)})):this.rejectAuthError(f_.EmptyChallengeResponse):this.rejectNoUserPool()},e.prototype.deleteUserAttributes=function(e,t){var n=this;return new Promise((function(r,o){n.userSession(e).then((function(n){e.deleteAttributes(t,(function(e,t){return e?o(e):r(t)}))}))}))},e.prototype.deleteUser=function(){return h_(this,void 0,void 0,(function(){var e,t,n=this;return v_(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._storageSync];case 1:return r.sent(),[3,3];case 2:throw e=r.sent(),Ux.debug("Failed to sync cache info into memory",e),new Error(e);case 3:return t=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(e,r){return h_(n,void 0,void 0,(function(){var n,o=this;return v_(this,(function(i){if(this.userPool){if(!(n=this.userPool.getCurrentUser()))return Ux.debug("Failed to get user from user pool"),[2,r(new Error("No current user."))];n.getSession((function(i,a){return h_(o,void 0,void 0,(function(){var o,a=this;return v_(this,(function(s){switch(s.label){case 0:if(!i)return[3,5];if(Ux.debug("Failed to get the user session",i),!this.isSessionInvalid(i))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return s.sent(),[3,4];case 3:return o=s.sent(),r(new Error("Session is invalid due to: "+i.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,r(i)];case 5:n.deleteUser((function(o,i){if(o)r(o);else{Bx("userDeleted",i,"The authenticated user has been deleted."),n.signOut(),a.user=null;try{a.cleanCachedItems()}catch(e){Ux.debug("failed to clear cached items")}t?a.oAuthSignOutRedirect(e,r):(Bx("signOut",a.user,"A user has been signed out"),e(i))}})),s.label=6;case 6:return[2]}}))}))}))}else Ux.debug("no Congito User pool"),r(new Error("Cognito User pool does not exist"));return[2]}))}))}))]}}))}))},e.prototype.updateUserAttributes=function(e,t,n){var r=this;void 0===n&&(n=this._config.clientMetadata);var o=[],i=this;return new Promise((function(a,s){i.userSession(e).then((function(i){for(var u in t)if("sub"!==u&&u.indexOf("_verified")<0){var c={Name:u,Value:t[u]};o.push(c)}e.updateAttributes(o,(function(e,n,o){if(e)return Bx("updateUserAttributes_failure",e,"Failed to update attributes"),s(e);var i=r.createUpdateAttributesResultList(t,null==o?void 0:o.CodeDeliveryDetailsList);return Bx("updateUserAttributes",i,"Attributes successfully updated"),a(n)}),n)}))}))},e.prototype.createUpdateAttributesResultList=function(e,t){var n={};return Object.keys(e).forEach((function(e){n[e]={isUpdated:!0};var r=null==t?void 0:t.find((function(t){return t.AttributeName===e}));r&&(n[e].isUpdated=!1,n[e].codeDeliveryDetails=r)})),n},e.prototype.userAttributes=function(e){var t=this;return new Promise((function(n,r){t.userSession(e).then((function(t){e.getUserAttributes((function(e,t){e?r(e):n(t)}))}))}))},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then((function(e){var n=t.attributesToObject(e),r={},o={};return n.email&&(n.email_verified?o.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?o.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:o,unverified:r}}))},e.prototype.isErrorWithMessage=function(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},e.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},e.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},e.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},e.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},e.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},e.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},e.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)},e.prototype.cleanUpInvalidSession=function(e){return h_(this,void 0,void 0,(function(){var t=this;return v_(this,(function(n){switch(n.label){case 0:e.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),Ux.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise((function(e,n){t.oAuthSignOutRedirect(e,n)}))]:(Bx("signOut",this.user,"A user has been signed out"),[2])}}))}))},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise((function(n,r){t._storageSync.then((function(){return h_(t,void 0,void 0,(function(){var t,o,i,a,s,u,c=this;return v_(this,(function(l){switch(l.label){case 0:return this.isOAuthInProgress()?(Ux.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise((function(e){var t=setTimeout((function(){Ux.debug("OAuth signIn in progress timeout"),_.remove("auth",n),e()}),1e4);function n(r){var o=r.payload.event;"cognitoHostedUI"!==o&&"cognitoHostedUI_failure"!==o||(Ux.debug("OAuth signIn resolved: "+o),clearTimeout(t),_.remove("auth",n),e())}_.listen("auth",n)}))]):[3,2];case 1:l.sent(),l.label=2;case 2:if(!(t=this.userPool.getCurrentUser()))return Ux.debug("Failed to get user from user pool"),r("No current user"),[2];l.label=3;case 3:return l.trys.push([3,7,,8]),[4,this._userSession(t)];case 4:return o=l.sent(),(i=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,6];case 5:l.sent(),l.label=6;case 6:return a=this._config.clientMetadata,(void 0===(s=o.getAccessToken().decodePayload().scope)?"":s).split(" ").includes(Fx)?(t.getUserData((function(e,o){return h_(c,void 0,void 0,(function(){var i,a,s,u,c,l,f;return v_(this,(function(d){switch(d.label){case 0:if(!e)return[3,7];if(Ux.debug("getting user data failed",e),!this.isSessionInvalid(e))return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return d.sent(),[3,4];case 3:return i=d.sent(),r(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return r(e),[3,6];case 5:n(t),d.label=6;case 6:return[2];case 7:for(a=o.PreferredMfaSetting||"NOMFA",s=[],u=0;u<o.UserAttributes.length;u++)c={Name:o.UserAttributes[u].Name,Value:o.UserAttributes[u].Value},l=new ax(c),s.push(l);return f=this.attributesToObject(s),Object.assign(t,{attributes:f,preferredMFA:a}),[2,n(t)]}}))}))}),{bypassCache:i,clientMetadata:a}),[3,8]):(Ux.debug("Unable to get the user data because the "+Fx+" is not in the scopes of the access token"),[2,n(t)]);case 7:return u=l.sent(),r(u),[3,8];case 8:return[2]}}))}))})).catch((function(e){return Ux.debug("Failed to sync cache info into memory",e),r(e)}))})):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return h_(this,void 0,void 0,(function(){var t,n,r,o,i;return v_(this,(function(a){switch(a.label){case 0:Ux.debug("getting current authenticated user"),t=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._storageSync];case 2:return a.sent(),[3,4];case 3:throw n=a.sent(),Ux.debug("Failed to sync cache info into memory",n),n;case 4:try{(r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=p_(p_({},r.user),{token:r.token}))}catch(e){Ux.debug("cannot load federated user from auth storage")}return t?(this.user=t,Ux.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:Ux.debug("get current authenticated userpool user"),o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return o=a.sent(),[3,9];case 8:return"No userPool"===(i=a.sent())&&Ux.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),Ux.debug("The user is not authenticated by the error",i),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=o,[2,this.user]}}))}))},e.prototype.currentSession=function(){var e=this;return Ux.debug("Getting current session"),this.userPool?new Promise((function(t,n){e.currentUserPoolUser().then((function(r){e.userSession(r).then((function(e){t(e)})).catch((function(e){Ux.debug("Failed to get the current session",e),n(e)}))})).catch((function(e){Ux.debug("Failed to get the current user",e),n(e)}))})):Promise.reject(new Error("No User Pool in the configuration."))},e.prototype._userSession=function(e){return h_(this,void 0,void 0,(function(){var t,n,r=this;return v_(this,(function(o){switch(o.label){case 0:if(!e)return Ux.debug("the user is null"),[2,this.rejectAuthError(f_.NoUserSession)];t=this._config.clientMetadata,0===this.inflightSessionPromiseCounter&&(this.inflightSessionPromise=new Promise((function(n,o){e.getSession((function(t,i){return h_(r,void 0,void 0,(function(){var r;return v_(this,(function(a){switch(a.label){case 0:if(!t)return[3,5];if(Ux.debug("Failed to get the session from user",e),!this.isSessionInvalid(t))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return r=a.sent(),o(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+r.message)),[2];case 4:return o(t),[2];case 5:return Ux.debug("Succeed to get the user session",i),n(i),[2]}}))}))}),{clientMetadata:t})}))),this.inflightSessionPromiseCounter++,o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.inflightSessionPromise];case 2:return n=o.sent(),e.signInUserSession=n,[2,n];case 3:return this.inflightSessionPromiseCounter--,[7];case 4:return[2]}}))}))},e.prototype.userSession=function(e){return this._userSession(e)},e.prototype.currentUserCredentials=function(){return h_(this,void 0,void 0,(function(){var e,t,n=this;return v_(this,(function(r){switch(r.label){case 0:Ux.debug("Getting current user credentials"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),Ux.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(e){Ux.debug("failed to get or parse item aws-amplify-federatedInfo",e)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then((function(e){return Ux.debug("getting session success",e),n.Credentials.set(e,"session")})).catch((function(){return Ux.debug("getting guest credentials"),n.Credentials.set(null,"guest")}))]}}))}))},e.prototype.currentCredentials=function(){return Ux.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise((function(r,o){e.getAttributeVerificationCode(t,{onSuccess:function(e){return r(e)},onFailure:function(e){return o(e)}},n)}))},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise((function(r,o){e.verifyAttribute(t,n,{onSuccess:function(e){r(e)},onFailure:function(e){o(e)}})})):this.rejectAuthError(f_.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then((function(n){return t.verifyUserAttribute(n,e)}))},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then((function(r){return n.verifyUserAttributeSubmit(r,e,t)}))},e.prototype.cognitoIdentitySignOut=function(e,t){return h_(this,void 0,void 0,(function(){var n,r,o=this;return v_(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._storageSync];case 1:return i.sent(),[3,3];case 2:throw n=i.sent(),Ux.debug("Failed to sync cache info into memory",n),n;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(n,i){if(e&&e.global){Ux.debug("user global sign out",t);var a=o._config.clientMetadata;t.getSession((function(e,a){return h_(o,void 0,void 0,(function(){var o,a=this;return v_(this,(function(s){switch(s.label){case 0:if(!e)return[3,5];if(Ux.debug("failed to get the user session",e),!this.isSessionInvalid(e))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return s.sent(),[3,4];case 3:return o=s.sent(),i(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,i(e)];case 5:return t.globalSignOut({onSuccess:function(e){if(Ux.debug("global sign out success"),!r)return n();a.oAuthSignOutRedirect(n,i)},onFailure:function(e){return Ux.debug("global sign out failed",e),i(e)}}),[2]}}))}))}),{clientMetadata:a})}else Ux.debug("user sign out",t),t.signOut((function(){if(!r)return n();o.oAuthSignOutRedirect(n,i)}))}))]}}))}))},e.prototype.oAuthSignOutRedirect=function(e,t){Y().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout((function(){return e(Error("Signout timeout fail"))}),3e3)},e.prototype.signOut=function(e){return h_(this,void 0,void 0,(function(){var t;return v_(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),Ux.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,t)]:[3,5]:[3,7];case 4:return n.sent(),[3,6];case 5:Ux.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:Ux.debug("no Cognito User pool"),n.label=8;case 8:return Bx("signOut",this.user,"A user has been signed out"),this.user=null,[2]}}))}))},e.prototype.cleanCachedItems=function(){return h_(this,void 0,void 0,(function(){return v_(this,(function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.changePassword=function(e,t,n,r){var o=this;return void 0===r&&(r=this._config.clientMetadata),new Promise((function(i,a){o.userSession(e).then((function(o){e.changePassword(t,n,(function(e,t){return e?(Ux.debug("change password failure",e),a(e)):i(t)}),r)}))}))},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(f_.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(r,o){n.forgotPassword({onSuccess:function(){r()},onFailure:function(t){Ux.debug("forgot password failure",t),Bx("forgotPassword_failure",t,e+" forgotPassword failed"),o(t)},inputVerificationCode:function(t){Bx("forgotPassword",n,e+" has initiated forgot password flow"),r(t)}},t)}))},e.prototype.forgotPasswordSubmit=function(e,t,n,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(f_.EmptyUsername);if(!t)return this.rejectAuthError(f_.EmptyCode);if(!n)return this.rejectAuthError(f_.EmptyPassword);var o=this.createCognitoUser(e);return new Promise((function(i,a){o.confirmPassword(t,n,{onSuccess:function(t){Bx("forgotPasswordSubmit",o,e+" forgotPasswordSubmit successful"),i(t)},onFailure:function(t){Bx("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),a(t)}},r)}))},e.prototype.currentUserInfo=function(){return h_(this,void 0,void 0,(function(){var e,t,n,r,o,i,a;return v_(this,(function(s){switch(s.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch((function(e){return Ux.error(e)}))];case 1:if(!(a=s.sent()))return[2,null];s.label=2;case 2:return s.trys.push([2,8,,9]),[4,this.userAttributes(a)];case 3:t=s.sent(),n=this.attributesToObject(t),r=null,s.label=4;case 4:return s.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=s.sent(),[3,7];case 6:return o=s.sent(),Ux.debug("Failed to retrieve credentials while getting current user info",o),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:a.getUsername(),attributes:n}];case 8:return i=s.sent(),Ux.error("currentUserInfo error",i),[2,{}];case 9:return"federated"===e?[2,(a=this.user)||{}]:[2]}}))}))},e.prototype.federatedSignIn=function(e,t,n){return h_(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f,d,p;return v_(this,(function(h){switch(h.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return m_(e)||(v=e)&&["customProvider"].find((function(e){return v.hasOwnProperty(e)}))||function(e){return e&&!!["customState"].find((function(t){return e.hasOwnProperty(t)}))}(e)||void 0===e?(r=e||{provider:l_.Cognito},s=m_(r)?r.provider:r.customProvider,m_(r),o=r.customState,this._config.userPoolId&&(i=g_(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,a=g_(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,a,i,s,o)),[3,4]):[3,1];case 1:s=e;try{(u=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&Ux.warn("There is already a signed in user: "+u+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(e){}return c=t.token,l=t.identity_id,f=t.expires_at,[4,this.Credentials.set({provider:s,token:c,identity_id:l,user:n,expires_at:f},"federation")];case 2:return d=h.sent(),[4,this.currentAuthenticatedUser()];case 3:return p=h.sent(),Bx("signIn",p,"A user "+p.username+" has been signed in"),Ux.debug("federated sign in credentials",d),[2,d];case 4:return[2]}var v}))}))},e.prototype._handleAuthResponse=function(e){return h_(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,l,f,d,p,h;return v_(this,(function(v){switch(v.label){case 0:if(this.oAuthFlowInProgress)return Ux.debug("Skipping URL "+e+" current flow in progress"),[2];v.label=1;case 1:if(v.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(Bx("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(Y().isBrowser?window.location.href:""),n=!!((0,L.Qc)(t).query||"").split("&").map((function(e){return e.split("=")})).find((function(e){var t=y_(e,1)[0];return"code"===t||"error"===t})),r=!!((0,L.Qc)(t).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).find((function(e){var t=y_(e,1)[0];return"access_token"===t||"error"===t})),!n&&!r)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),v.label=2;case 2:return v.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return o=v.sent(),i=o.accessToken,a=o.idToken,s=o.refreshToken,u=o.state,c=new nx({IdToken:new X_({IdToken:a}),RefreshToken:new Q_({RefreshToken:s}),AccessToken:new Z_({AccessToken:i})}),l=void 0,this._config.identityPoolId?[4,this.Credentials.set(c,"session")]:[3,5];case 4:l=v.sent(),Ux.debug("AWS credentials",l),v.label=5;case 5:return f=/-/.test(u),(d=this.createCognitoUser(c.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(c),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),Bx("signIn",d,"A user "+d.getUsername()+" has been signed in"),Bx("cognitoHostedUI",d,"A user "+d.getUsername()+" has been signed in via Cognito Hosted UI"),f&&(p=u.split("-").splice(1).join("-"),Bx("customOAuthState",p.match(/.{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""),"State for user "+d.getUsername())),[2,l];case 6:return h=v.sent(),Ux.debug("Error in cognito hosted auth response",h),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),Bx("signIn_failure",h,"The OAuth response flow failed"),Bx("cognitoHostedUI_failure",h,"A failure occurred when returning to the Cognito Hosted UI"),Bx("customState_failure",h,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}}))}))},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t=this,n={};return e&&e.map((function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?n[e.Name]=t.isTruthyString(e.Value)||!0===e.Value:n[e.Name]=e.Value})),n},e.prototype.isTruthyString=function(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new fx(t);return n&&r.setAuthenticationFlowType(n),r},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?f_.NoConfig:f_.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new Dx(e))},e.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new Mx(e))},e.prototype.rememberDevice=function(){return h_(this,void 0,void 0,(function(){var e,t;return v_(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),Ux.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.setDeviceStatusRemembered({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new Dx(f_.DeviceConfig)):"NetworkError"===e.code?n(new Dx(f_.NetworkError)):n(e)}})}))]}}))}))},e.prototype.forgetDevice=function(){return h_(this,void 0,void 0,(function(){var e,t;return v_(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),Ux.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.forgetDevice({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new Dx(f_.DeviceConfig)):"NetworkError"===e.code?n(new Dx(f_.NetworkError)):n(e)}})}))]}}))}))},e.prototype.fetchDevices=function(){return h_(this,void 0,void 0,(function(){var e,t;return v_(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:throw t=n.sent(),Ux.debug("The user is not authenticated by the error",t),new Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){var r={onSuccess:function(e){var n=e.Devices.map((function(e){var t=e.DeviceAttributes.find((function(e){return"device_name"===e.Name}))||{};return{id:e.DeviceKey,name:t.Value}}));t(n)},onFailure:function(e){"InvalidParameterException"===e.code?n(new Dx(f_.DeviceConfig)):"NetworkError"===e.code?n(new Dx(f_.NetworkError)):n(e)}};e.listDevices(60,null,r)}))]}}))}))},e}(),Kx=new qx(null);d.register(Kx);var Gx=function(){return Gx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Gx.apply(this,arguments)};function Hx(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Vx(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function $x(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Wx(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($x(arguments[t]));return e}var Yx=function(){return Yx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Yx.apply(this,arguments)};function Zx(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Jx(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Zx(arguments[t]));return e}var Xx=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,Yx({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,Yx({},e))})),n},o=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Jx(o(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Jx(o(e)))})),t},i={add:function(t,r){void 0===r&&(r={});var o=r.name,i=r.override,a=Yx({step:"initialize",priority:"normal",middleware:t},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '"+o+"'");var s=e.findIndex((function(e){return e.name===o})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'+o+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");e.splice(s,1)}n.add(o)}e.push(a)},addRelativeTo:function(e,r){var o=r.name,i=r.override,a=Yx({middleware:e},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '"+o+"'");var s=t.findIndex((function(e){return e.name===o})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'+o+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');t.splice(s,1)}n.add(o)}t.push(a)},clone:function(){return r(Xx())},use:function(e){e.applyToStack(i)},remove:function(r){return"string"==typeof r?function(r){var o=!1,i=function(e){return!e.name||e.name!==r||(o=!0,n.delete(r),!1)};return e=e.filter(i),t=t.filter(i),o}(r):function(r){var o=!1,i=function(e){return e.middleware!==r||(o=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(i),t=t.filter(i),o}(r)},removeByTag:function(r){var o=!1,i=function(e){var t=e.tags,i=e.name;return!t||!t.includes(r)||(i&&n.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:function(e){var t=r(Xx());return t.use(e),t},applyToStack:r,resolve:function(n,r){var i,a;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(){var n=[],r=[],i={};e.forEach((function(e){var t=Yx(Yx({},e),{before:[],after:[]});t.name&&(i[t.name]=t),n.push(t)})),t.forEach((function(e){var t=Yx(Yx({},e),{before:[],after:[]});t.name&&(i[t.name]=t),r.push(t)})),r.forEach((function(e){if(e.toMiddleware){var t=i[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var a,s=(a=n,a.sort((function(e,t){return Qx[t.step]-Qx[e.step]||eT[t.priority||"normal"]-eT[e.priority||"normal"]}))).map(o).reduce((function(e,t){return e.push.apply(e,Jx(t)),e}),[]);return s.map((function(e){return e.middleware}))}().reverse()),u=s.next();!u.done;u=s.next())n=(0,u.value)(n,r)}catch(e){i={error:e}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return n}};return i},Qx={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},eT={high:3,normal:2,low:1},tT=function(){function e(e){this.middlewareStack=Xx(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return i(e).then((function(e){return e.output}));i(e).then((function(e){return o(null,e.output)}),(function(e){return o(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),nT=function(){this.middlewareStack=Xx()};function rT(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}var oT=function(e){return Array.isArray(e)?e:[e]},iT=function(e){var t="#text";for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n][t]?e[n]=e[n][t]:"object"==typeof e[n]&&null!==e[n]&&(e[n]=iT(e[n]));return e},aT=function(e,t){return aT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},aT(e,t)};function sT(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function uT(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(sT(arguments[t]));return e}var cT=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,uT([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};cT.prototype=Object.create(String.prototype,{constructor:{value:cT,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(cT,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){function n(){this.constructor=e}aT(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(cT);var lT=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fT=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function dT(e){var t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDay(),o=e.getUTCDate(),i=e.getUTCHours(),a=e.getUTCMinutes(),s=e.getUTCSeconds();return lT[r]+", "+(o<10?"0"+o:""+o)+" "+fT[n]+" "+t+" "+(i<10?"0"+i:""+i)+":"+(a<10?"0"+a:""+a)+":"+(s<10?"0"+s:""+s)+" GMT"}var pT,hT,vT,yT,mT,gT,bT,wT,ST,ET,_T,xT,TT,IT,AT,CT,PT,OT,kT,RT,NT,LT,DT,MT,jT,UT,FT,zT,BT,qT,KT,GT,HT,VT,$T,WT,YT,ZT,JT,XT,QT,eI,tI,nI,rI,oI,iI,aI,sI,uI,cI,lI,fI,dI,pI,hI,vI,yI,mI,gI,bI,wI,SI,EI,_I,xI,TI,II,AI,CI,PI,OI,kI,RI,NI,LI,DI,MI,jI,UI,FI,zI,BI,qI,KI,GI,HI,VI,$I,WI,YI,ZI,JI,XI,QI,eA,tA,nA,rA,oA,iA,aA,sA,uA,cA,lA,fA,dA,pA,hA,vA,yA,mA,gA,bA,wA,SA,EA,_A,xA,TA,IA,AA,CA,PA,OA,kA,RA,NA,LA,DA,MA,jA,UA,FA,zA,BA,qA,KA,GA,HA,VA,$A,WA,YA,ZA,JA,XA,QA,eC,tC,nC,rC,oC,iC,aC,sC,uC,cC,lC,fC,dC,pC,hC,vC,yC,mC,gC,bC,wC,SC,EC,_C,xC,TC,IC,AC,CC,PC,OC,kC,RC,NC,LC,DC,MC,jC,UC,FC,zC,BC,qC,KC,GC,HC,VC,$C,WC,YC,ZC,JC,XC,QC,eP,tP,nP,rP,oP,iP,aP,sP,uP,cP,lP,fP,dP,pP,hP,vP,yP,mP,gP,bP,wP,SP,EP,_P,xP,TP,IP,AP,CP,PP,OP,kP,RP,NP,LP,DP,MP,jP,UP,FP,zP,BP,qP,KP,GP,HP,VP,$P,WP,YP,ZP,JP,XP="***SensitiveInformation***";!function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(pT||(pT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(hT||(hT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(vT||(vT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(yT||(yT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(mT||(mT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(gT||(gT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(bT||(bT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(wT||(wT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ST||(ST={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ET||(ET={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:XP})}}(_T||(_T={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(xT||(xT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(TT||(TT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(IT||(IT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(AT||(AT={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct(Ct({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:XP}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:XP})}}(CT||(CT={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct(Ct(Ct(Ct({},e),e.SSECustomerKey&&{SSECustomerKey:XP}),e.SSEKMSKeyId&&{SSEKMSKeyId:XP}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:XP}),e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:XP})}}(PT||(PT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(OT||(OT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(kT||(kT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(RT||(RT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(NT||(NT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(LT||(LT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(DT||(DT={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct(Ct({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:XP}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:XP})}}(MT||(MT={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct(Ct(Ct({},e),e.SSECustomerKey&&{SSECustomerKey:XP}),e.SSEKMSKeyId&&{SSEKMSKeyId:XP}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:XP})}}(jT||(jT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(UT||(UT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(FT||(FT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(zT||(zT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(BT||(BT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(qT||(qT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(KT||(KT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(GT||(GT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(HT||(HT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(VT||(VT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}($T||($T={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(WT||(WT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(YT||(YT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ZT||(ZT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(JT||(JT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(XT||(XT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(QT||(QT={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(eI||(eI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(tI||(tI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(nI||(nI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(rI||(rI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(oI||(oI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(iI||(iI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(aI||(aI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(sI||(sI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(uI||(uI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(cI||(cI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(lI||(lI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(fI||(fI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(dI||(dI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(pI||(pI={})),(JP=hI||(hI={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},JP.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:dI.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:pI.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(vI||(vI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(yI||(yI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(mI||(mI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(gI||(gI={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.Filter&&{Filter:hI.filterSensitiveLog(e.Filter)})}}(bI||(bI={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.AnalyticsConfiguration&&{AnalyticsConfiguration:bI.filterSensitiveLog(e.AnalyticsConfiguration)})}}(wI||(wI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(SI||(SI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(EI||(EI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(_I||(_I={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(xI||(xI={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.KMSMasterKeyID&&{KMSMasterKeyID:XP})}}(TI||(TI={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:TI.filterSensitiveLog(e.ApplyServerSideEncryptionByDefault)})}}(II||(II={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.Rules&&{Rules:e.Rules.map((function(e){return II.filterSensitiveLog(e)}))})}}(AI||(AI={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:AI.filterSensitiveLog(e.ServerSideEncryptionConfiguration)})}}(CI||(CI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(PI||(PI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(OI||(OI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(kI||(kI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(RI||(RI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(NI||(NI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(LI||(LI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(DI||(DI={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.KeyId&&{KeyId:XP})}}(MI||(MI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(jI||(jI={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.SSEKMS&&{SSEKMS:MI.filterSensitiveLog(e.SSEKMS)})}}(UI||(UI={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.Encryption&&{Encryption:UI.filterSensitiveLog(e.Encryption)})}}(FI||(FI={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.S3BucketDestination&&{S3BucketDestination:FI.filterSensitiveLog(e.S3BucketDestination)})}}(zI||(zI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(BI||(BI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(qI||(qI={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.Destination&&{Destination:zI.filterSensitiveLog(e.Destination)})}}(KI||(KI={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.InventoryConfiguration&&{InventoryConfiguration:KI.filterSensitiveLog(e.InventoryConfiguration)})}}(GI||(GI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(HI||(HI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(VI||(VI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}($I||($I={})),(ZP=WI||(WI={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},ZP.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:dI.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:$I.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(YI||(YI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ZI||(ZI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(JI||(JI={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.Filter&&{Filter:WI.filterSensitiveLog(e.Filter)})}}(XI||(XI={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.Rules&&{Rules:e.Rules.map((function(e){return XI.filterSensitiveLog(e)}))})}}(QI||(QI={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(eA||(eA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(tA||(tA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(nA||(nA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(rA||(rA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(oA||(oA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(iA||(iA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(aA||(aA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(sA||(sA={})),(YP=uA||(uA={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},YP.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:dI.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:sA.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.Filter&&{Filter:uA.filterSensitiveLog(e.Filter)})}}(cA||(cA={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.MetricsConfiguration&&{MetricsConfiguration:cA.filterSensitiveLog(e.MetricsConfiguration)})}}(lA||(lA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(fA||(fA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(dA||(dA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(pA||(pA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(hA||(hA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(vA||(vA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(yA||(yA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(mA||(mA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(gA||(gA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(bA||(bA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(wA||(wA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(SA||(SA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(EA||(EA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(_A||(_A={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(xA||(xA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(TA||(TA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(IA||(IA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(AA||(AA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(CA||(CA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(PA||(PA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(OA||(OA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(kA||(kA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(RA||(RA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(NA||(NA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(LA||(LA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(DA||(DA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(MA||(MA={})),(WP=jA||(jA={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},WP.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:dI.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:MA.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(UA||(UA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(FA||(FA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(zA||(zA={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.Filter&&{Filter:jA.filterSensitiveLog(e.Filter)})}}(BA||(BA={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.Rules&&{Rules:e.Rules.map((function(e){return BA.filterSensitiveLog(e)}))})}}(qA||(qA={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.ReplicationConfiguration&&{ReplicationConfiguration:qA.filterSensitiveLog(e.ReplicationConfiguration)})}}(KA||(KA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(GA||(GA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(HA||(HA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(VA||(VA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}($A||($A={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(WA||(WA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(YA||(YA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ZA||(ZA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(JA||(JA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(XA||(XA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(QA||(QA={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(eC||(eC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(tC||(tC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(nC||(nC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(rC||(rC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(oC||(oC={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:XP})}}(iC||(iC={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.SSECustomerKey&&{SSECustomerKey:XP})}}(aC||(aC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(sC||(sC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(uC||(uC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(cC||(cC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(lC||(lC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(fC||(fC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(dC||(dC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(pC||(pC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(hC||(hC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(vC||(vC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(yC||(yC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(mC||(mC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(gC||(gC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(bC||(bC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(wC||(wC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(SC||(SC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(EC||(EC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(_C||(_C={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(xC||(xC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(TC||(TC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(IC||(IC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(AC||(AC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(CC||(CC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(PC||(PC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(OC||(OC={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:XP})}}(kC||(kC={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.SSECustomerKey&&{SSECustomerKey:XP})}}(RC||(RC={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.AnalyticsConfigurationList&&{AnalyticsConfigurationList:e.AnalyticsConfigurationList.map((function(e){return bI.filterSensitiveLog(e)}))})}}(NC||(NC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(LC||(LC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(DC||(DC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(MC||(MC={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map((function(e){return KI.filterSensitiveLog(e)}))})}}(jC||(jC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(UC||(UC={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.MetricsConfigurationList&&{MetricsConfigurationList:e.MetricsConfigurationList.map((function(e){return cA.filterSensitiveLog(e)}))})}}(FC||(FC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(zC||(zC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(BC||(BC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(qC||(qC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(KC||(KC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(GC||(GC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(HC||(HC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(VC||(VC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}($C||($C={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(WC||(WC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(YC||(YC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ZC||(ZC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(JC||(JC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(XC||(XC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(QC||(QC={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(eP||(eP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(tP||(tP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(nP||(nP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(rP||(rP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(oP||(oP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(iP||(iP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(aP||(aP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(sP||(sP={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.AnalyticsConfiguration&&{AnalyticsConfiguration:bI.filterSensitiveLog(e.AnalyticsConfiguration)})}}(uP||(uP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(cP||(cP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(lP||(lP={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:AI.filterSensitiveLog(e.ServerSideEncryptionConfiguration)})}}(fP||(fP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(dP||(dP={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.InventoryConfiguration&&{InventoryConfiguration:KI.filterSensitiveLog(e.InventoryConfiguration)})}}(pP||(pP={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.Rules&&{Rules:e.Rules.map((function(e){return XI.filterSensitiveLog(e)}))})}}(hP||(hP={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.LifecycleConfiguration&&{LifecycleConfiguration:hP.filterSensitiveLog(e.LifecycleConfiguration)})}}(vP||(vP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(yP||(yP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(mP||(mP={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.MetricsConfiguration&&{MetricsConfiguration:cA.filterSensitiveLog(e.MetricsConfiguration)})}}(gP||(gP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(bP||(bP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(wP||(wP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(SP||(SP={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.ReplicationConfiguration&&{ReplicationConfiguration:qA.filterSensitiveLog(e.ReplicationConfiguration)})}}(EP||(EP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(_P||(_P={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(xP||(xP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(TP||(TP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(IP||(IP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(AP||(AP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(CP||(CP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(PP||(PP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(OP||(OP={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct(Ct({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:XP}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:XP})}}(kP||(kP={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct(Ct(Ct({},e),e.SSECustomerKey&&{SSECustomerKey:XP}),e.SSEKMSKeyId&&{SSEKMSKeyId:XP}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:XP})}}(RP||(RP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(NP||(NP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(LP||(LP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(DP||(DP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(MP||(MP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(jP||(jP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(UP||(UP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(FP||(FP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(zP||(zP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(BP||(BP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(qP||(qP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(KP||(KP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(GP||(GP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(HP||(HP={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(VP||(VP={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.KMSKeyId&&{KMSKeyId:XP})}}($P||($P={}));var QP=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),eO=function(){return eO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},eO.apply(this,arguments)};function tO(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var nO=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(eO(eO({},this),{headers:eO({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return eO(eO({},e),((r={})[n]=Array.isArray(o)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(tO(arguments[t]));return e}(o):o,r))}),{}))),n},e}();var rO=function(){function e(e,t){void 0===t&&(t=[]),this.name=e,this.children=t,this.attributes={}}return e.prototype.withName=function(e){return this.name=e,this},e.prototype.addAttribute=function(e,t){return this.attributes[e]=t,this},e.prototype.addChildNode=function(e){return this.children.push(e),this},e.prototype.removeAttribute=function(e){return delete this.attributes[e],this},e.prototype.toString=function(){var e,t,n=Boolean(this.children.length),r="<"+this.name,o=this.attributes;try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(o)),a=i.next();!a.done;a=i.next()){var s=a.value,u=o[s];null!=u&&(r+=" "+s+'="'+(""+u).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")+'"')}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r+(n?">"+this.children.map((function(e){return e.toString()})).join("")+"</"+this.name+">":"/>")},e}(),oO=function(){function e(e){this.value=e}return e.prototype.toString=function(){return(""+this.value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e}(),iO=n(2649),aO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:return r=[Ct({},e)],c={},[4,IO(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(c.body=l.sent(),c)])),i="UnknownError",i=AO(e,n.body)){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":return[3,2]}return[3,4];case 2:return a=[{}],[4,bO(n,t)];case 3:return o=Ct.apply(void 0,[Ct.apply(void 0,a.concat([l.sent()])),{name:i,$metadata:_O(e)}]),[3,5];case 4:s=n.body,i=s.code||s.Code||i,o=Ct(Ct({},s),{name:""+i,message:s.message||s.Message||i,$fault:"client",$metadata:_O(e)}),l.label=5;case 5:return u=o.message||o.Message||i,o.message=u,delete o.Message,[2,Promise.reject(Object.assign(new Error(u),o))]}}))}))},sO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return r=[Ct({},e)],u={},[4,IO(e.body,t)];case 1:return n=Ct.apply(void 0,r.concat([(u.body=c.sent(),u)])),i="UnknownError",i=AO(e,n.body),a=n.body,i=a.code||a.Code||i,o=Ct(Ct({},a),{name:""+i,message:a.message||a.Message||i,$fault:"client",$metadata:_O(e)}),s=o.message||o.Message||i,o.message=s,delete o.Message,[2,Promise.reject(Object.assign(new Error(s),o))]}}))}))},uO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:return r=[Ct({},e)],c={},[4,IO(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(c.body=l.sent(),c)])),i="UnknownError",i=AO(e,n.body)){case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":return[3,2]}return[3,4];case 2:return a=[{}],[4,wO(n,t)];case 3:return o=Ct.apply(void 0,[Ct.apply(void 0,a.concat([l.sent()])),{name:i,$metadata:_O(e)}]),[3,5];case 4:s=n.body,i=s.code||s.Code||i,o=Ct(Ct({},s),{name:""+i,message:s.message||s.Message||i,$fault:"client",$metadata:_O(e)}),l.label=5;case 5:return u=o.message||o.Message||i,o.message=u,delete o.Message,[2,Promise.reject(Object.assign(new Error(u),o))]}}))}))},cO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return r=[Ct({},e)],u={},[4,IO(e.body,t)];case 1:return n=Ct.apply(void 0,r.concat([(u.body=c.sent(),u)])),i="UnknownError",i=AO(e,n.body),a=n.body,i=a.code||a.Code||i,o=Ct(Ct({},a),{name:""+i,message:a.message||a.Message||i,$fault:"client",$metadata:_O(e)}),s=o.message||o.Message||i,o.message=s,delete o.Message,[2,Promise.reject(Object.assign(new Error(s),o))]}}))}))},lO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return r=[Ct({},e)],u={},[4,IO(e.body,t)];case 1:return n=Ct.apply(void 0,r.concat([(u.body=c.sent(),u)])),i="UnknownError",i=AO(e,n.body),a=n.body,i=a.code||a.Code||i,o=Ct(Ct({},a),{name:""+i,message:a.message||a.Message||i,$fault:"client",$metadata:_O(e)}),s=o.message||o.Message||i,o.message=s,delete o.Message,[2,Promise.reject(Object.assign(new Error(s),o))]}}))}))},fO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return r=[Ct({},e)],l={},[4,IO(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(l.body=f.sent(),l)])),i="UnknownError",i=AO(e,n.body)){case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":return[3,2];case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":return[3,4]}return[3,6];case 2:return a=[{}],[4,yO(n,t)];case 3:return o=Ct.apply(void 0,[Ct.apply(void 0,a.concat([f.sent()])),{name:i,$metadata:_O(e)}]),[3,7];case 4:return s=[{}],[4,gO(n,t)];case 5:return o=Ct.apply(void 0,[Ct.apply(void 0,s.concat([f.sent()])),{name:i,$metadata:_O(e)}]),[3,7];case 6:u=n.body,i=u.code||u.Code||i,o=Ct(Ct({},u),{name:""+i,message:u.message||u.Message||i,$fault:"client",$metadata:_O(e)}),f.label=7;case 7:return c=o.message||o.Message||i,o.message=c,delete o.Message,[2,Promise.reject(Object.assign(new Error(c),o))]}}))}))},dO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:return r=[Ct({},e)],c={},[4,IO(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(c.body=l.sent(),c)])),i="UnknownError",i=AO(e,n.body)){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":return[3,2]}return[3,4];case 2:return a=[{}],[4,mO(n,t)];case 3:return o=Ct.apply(void 0,[Ct.apply(void 0,a.concat([l.sent()])),{name:i,$metadata:_O(e)}]),[3,5];case 4:s=n.body,i=s.code||s.Code||i,o=Ct(Ct({},s),{name:""+i,message:s.message||s.Message||i,$fault:"client",$metadata:_O(e)}),l.label=5;case 5:return u=o.message||o.Message||i,o.message=u,delete o.Message,[2,Promise.reject(Object.assign(new Error(u),o))]}}))}))},pO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return r=[Ct({},e)],u={},[4,IO(e.body,t)];case 1:return n=Ct.apply(void 0,r.concat([(u.body=c.sent(),u)])),i="UnknownError",i=AO(e,n.body),a=n.body,i=a.code||a.Code||i,o=Ct(Ct({},a),{name:""+i,message:a.message||a.Message||i,$fault:"client",$metadata:_O(e)}),s=o.message||o.Message||i,o.message=s,delete o.Message,[2,Promise.reject(Object.assign(new Error(s),o))]}}))}))},hO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return r=[Ct({},e)],u={},[4,IO(e.body,t)];case 1:return n=Ct.apply(void 0,r.concat([(u.body=c.sent(),u)])),i="UnknownError",i=AO(e,n.body),a=n.body,i=a.code||a.Code||i,o=Ct(Ct({},a),{name:""+i,message:a.message||a.Message||i,$fault:"client",$metadata:_O(e)}),s=o.message||o.Message||i,o.message=s,delete o.Message,[2,Promise.reject(Object.assign(new Error(s),o))]}}))}))},vO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return r=[Ct({},e)],u={},[4,IO(e.body,t)];case 1:return n=Ct.apply(void 0,r.concat([(u.body=c.sent(),u)])),i="UnknownError",i=AO(e,n.body),a=n.body,i=a.code||a.Code||i,o=Ct(Ct({},a),{name:""+i,message:a.message||a.Message||i,$fault:"client",$metadata:_O(e)}),s=o.message||o.Message||i,o.message=s,delete o.Message,[2,Promise.reject(Object.assign(new Error(s),o))]}}))}))},yO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n;return kt(this,(function(r){return t={name:"InvalidObjectState",$fault:"client",$metadata:_O(e),AccessTier:void 0,StorageClass:void 0},void 0!==(n=e.body).AccessTier&&(t.AccessTier=n.AccessTier),void 0!==n.StorageClass&&(t.StorageClass=n.StorageClass),[2,t]}))}))},mO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t;return kt(this,(function(n){return t={name:"NoSuchBucket",$fault:"client",$metadata:_O(e)},e.body,[2,t]}))}))},gO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t;return kt(this,(function(n){return t={name:"NoSuchKey",$fault:"client",$metadata:_O(e)},e.body,[2,t]}))}))},bO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t;return kt(this,(function(n){return t={name:"NoSuchUpload",$fault:"client",$metadata:_O(e)},e.body,[2,t]}))}))},wO=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t;return kt(this,(function(n){return t={name:"ObjectNotInActiveTierError",$fault:"client",$metadata:_O(e)},e.body,[2,t]}))}))},SO=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){if(null===e)return null;var t=function(e,t){var n=new rO("CompletedPart");if(void 0!==e.ETag&&null!==e.ETag){var r=new rO("ETag").addChildNode(new oO(e.ETag)).withName("ETag");n.addChildNode(r)}return void 0!==e.PartNumber&&null!==e.PartNumber&&(r=new rO("PartNumber").addChildNode(new oO(String(e.PartNumber))).withName("PartNumber"),n.addChildNode(r)),n}(e);return t.withName("member")}))},EO=function(e,t){var n={DisplayName:void 0,ID:void 0};return void 0!==e.DisplayName&&(n.DisplayName=e.DisplayName),void 0!==e.ID&&(n.ID=e.ID),n},_O=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},xO=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},TO=function(e){return!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size)},IO=function(e,t){return function(e,t){return xO(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){if(e.length){var t=(0,iO.parse)(e,{attributeNamePrefix:"",ignoreAttributes:!1,parseNodeValue:!1,tagValueProcessor:function(e,t){return e.replace(/&amp;/g,"&").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<")}}),n="#text",r=Object.keys(t)[0],o=t[r];return o[n]&&(o[r]=o[n],delete o[n]),iT(o)}return{}}))},AO=function(e,t){return void 0!==t.Code?t.Code:404==e.statusCode?"NotFound":""},CO=function(){return CO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},CO.apply(this,arguments)};function PO(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var OO=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(CO(CO({},this),{headers:CO({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return CO(CO({},e),((r={})[n]=Array.isArray(o)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(PO(arguments[t]));return e}(o):o,r))}),{}))),n},e}();var kO=function(e){return"string"==typeof e&&0===e.indexOf("arn:")&&e.split(":").length>=6},RO=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,NO=/(\d+\.){3}\d+/,LO=/\.\./,DO=/\./,MO=/^(.+\.)?s3[.-]([a-z0-9-]+)\./,jO=/^s3(-external-1)?\.amazonaws\.com$/,UO="amazonaws.com",FO=function(e){return BO(e)?e.replace(/fips-|-fips/,""):e},zO=function(e){var t=e.match(MO);return[t[2],e.replace(new RegExp("^"+t[0]),"")]},BO=function(e){return e.startsWith("fips-")||e.endsWith("-fips")},qO=function(e,t){return e===t||FO(e)===t||e===FO(t)},KO=function(e,t){if(void 0===t&&(t={tlsCompatible:!0}),e.length>=64||!/^[a-z0-9][a-z0-9.-]+[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||(null==t?void 0:t.tlsCompatible)&&DO.test(e))throw new Error("Invalid DNS label "+e)},GO=function(e){var t=e.isCustomEndpoint,n=(e.baseHostname,e.dualstackEndpoint),r=e.accelerateEndpoint;if(t){if(n)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(r)throw new Error("Accelerate endpoint is not supported with custom endpoint")}return function(e){return"string"==typeof e.bucketName}(e)?VO(CO(CO({},e),{isCustomEndpoint:t})):HO(CO(CO({},e),{isCustomEndpoint:t}))},HO=function(e){var t,n=e.isCustomEndpoint,r=e.baseHostname,o=PO(n?[e.clientRegion,r]:(t=r,jO.test(t)?[t.replace("."+UO,""),UO]:zO(t)),2),i=o[0],a=o[1],s=e.pathStyleEndpoint,u=e.dualstackEndpoint,c=void 0!==u&&u,l=e.accelerateEndpoint,f=void 0!==l&&l,d=e.tlsCompatible,p=void 0===d||d,h=e.useArnRegion,v=e.bucketName,y=e.clientPartition,m=void 0===y?"aws":y,g=e.clientSigningRegion,b=void 0===g?i:g;!function(e){if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")}({pathStyleEndpoint:s,accelerateEndpoint:f,tlsCompatible:p});var w=v.service,S=v.partition,E=v.accountId,_=v.region,x=v.resource;!function(e){if("s3"!==e&&"s3-outposts"!==e)throw new Error("Expect 's3' or 's3-outposts' in ARN service component")}(w),function(e,t){if(e!==t.clientPartition)throw new Error('Partition in ARN is incompatible, got "'+e+'" but expected "'+t.clientPartition+'"')}(S,{clientPartition:m}),function(e){if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")}(E),function(e,t){if(""===e)throw new Error("ARN region is empty");if(!t.useArnRegion&&!qO(e,t.clientRegion)&&!qO(e,t.clientSigningRegion))throw new Error("Region in ARN is incompatible, got "+e+" but expected "+t.clientRegion);if(t.useArnRegion&&BO(e))throw new Error("Endpoint does not support FIPS region")}(_,{useArnRegion:h,clientRegion:i,clientSigningRegion:b});var T=function(e){var t=e.includes(":")?":":"/",n=PO(e.split(t)),r=n[0],o=n.slice(1);if("accesspoint"===r){if(1!==o.length||""===o[0])throw new Error("Access Point ARN should have one resource accesspoint"+t+"{accesspointname}");return{accesspointName:o[0]}}if("outpost"===r){if(!o[0]||"accesspoint"!==o[1]||!o[2]||3!==o.length)throw new Error("Outpost ARN should have resource outpost"+t+"{outpostId}"+t+"accesspoint"+t+"{accesspointName}");var i=PO(o,3),a=i[0];return i[1],{outpostId:a,accesspointName:i[2]}}throw new Error("ARN resource should begin with 'accesspoint"+t+"' or 'outpost"+t+"'")}(x),I=T.accesspointName,A=T.outpostId;KO(I+"-"+E,{tlsCompatible:p});var C=h?_:i,P=h?_:b;return A?(function(e){if("s3-outposts"!==e)throw new Error("Expect 's3-posts' in Outpost ARN service component")}(w),KO(A,{tlsCompatible:p}),function(e){if(e)throw new Error("Dualstack endpoint is not supported with Outpost")}(c),function(e){if(BO(null!=e?e:""))throw new Error("FIPS region is not supported with Outpost, got "+e)}(C),{bucketEndpoint:!0,hostname:I+"-"+E+"."+A+(n?"":".s3-outposts."+C)+"."+a,signingRegion:P,signingService:"s3-outposts"}):(function(e){if("s3"!==e)throw new Error("Expect 's3' in Accesspoint ARN service component")}(w),{bucketEndpoint:!0,hostname:I+"-"+E+(n?"":".s3-accesspoint"+(c?".dualstack":"")+"."+C)+"."+a,signingRegion:P})},VO=function(e){var t,n=e.accelerateEndpoint,r=void 0!==n&&n,o=e.clientRegion,i=e.baseHostname,a=e.bucketName,s=e.dualstackEndpoint,u=void 0!==s&&s,c=e.pathStyleEndpoint,l=void 0!==c&&c,f=e.tlsCompatible,d=void 0===f||f,p=e.isCustomEndpoint,h=PO(void 0!==p&&p?[o,i]:(t=i,jO.test(t)?["us-east-1",UO]:zO(t)),2),v=h[0],y=h[1];return l||!function(e){return RO.test(e)&&!NO.test(e)&&!LO.test(e)}(a)||d&&DO.test(a)?{bucketEndpoint:!1,hostname:u?"s3.dualstack."+v+"."+y:i}:(r?i="s3-accelerate"+(u?".dualstack":"")+"."+y:u&&(i="s3.dualstack."+v+"."+y),{bucketEndpoint:!0,hostname:a+"."+i})},$O=function(e){return function(t,n){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(E){switch(E.label){case 0:return o=r.input.Bucket,i=e.bucketEndpoint,a=r.request,OO.isInstance(a)?e.bucketEndpoint?(a.hostname=o,[3,7]):[3,1]:[3,8];case 1:return kO(o)?(s=function(e){var t=e.split(":");if(t.length<6||"arn"!==t[0])throw new Error("Malformed ARN");var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(t);return{partition:n[1],service:n[2],region:n[3],accountId:n[4],resource:n.slice(5).join(":")}}(o),u=FO,[4,e.region()]):[3,5];case 2:return m=u.apply(void 0,[E.sent()]),[4,e.regionInfoProvider(m)];case 3:return c=E.sent()||{},l=c.partition,f=c.signingRegion,d=void 0===f?m:f,[4,e.useArnRegion()];case 4:return p=E.sent(),h=GO({bucketName:s,baseHostname:a.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===a.protocol,useArnRegion:p,clientPartition:l,clientSigningRegion:d,clientRegion:m,isCustomEndpoint:e.isCustomEndpoint}),w=h.hostname,S=h.bucketEndpoint,v=h.signingRegion,y=h.signingService,v&&v!==d&&(n.signing_region=v),y&&"s3"!==y&&(n.signing_service=y),a.hostname=w,i=S,[3,7];case 5:return g=FO,[4,e.region()];case 6:m=g.apply(void 0,[E.sent()]),b=GO({bucketName:o,clientRegion:m,baseHostname:a.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===a.protocol,isCustomEndpoint:e.isCustomEndpoint}),w=b.hostname,S=b.bucketEndpoint,a.hostname=w,i=S,E.label=7;case 7:i&&(a.path=a.path.replace(/^(\/)?[^\/]+/,""),""===a.path&&(a.path="/")),E.label=8;case 8:return[2,t(CO(CO({},r),{request:a}))]}}))}))}}},WO={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},YO=function(e){return{applyToStack:function(t){t.addRelativeTo($O(e),WO)}}},ZO=function(){return ZO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ZO.apply(this,arguments)};function JO(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function XO(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function QO(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var ek={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},tk=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),nk=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(ZO(ZO({},this),{headers:ZO({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return ZO(ZO({},e),((r={})[n]=Array.isArray(o)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(QO(arguments[t]));return e}(o):o,r))}),{}))),n},e}(),rk={step:"build",tags:["USE_REGIONAL_ENDPOINT","S3"],name:"useRegionalEndpointMiddleware",override:!0},ok=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},ik={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},ak=function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t){return function(n){return JO(void 0,void 0,void 0,(function(){var r,o,i,a,s,u,c;return XO(this,(function(l){switch(l.label){case 0:return[4,t(n)];case 1:return r=l.sent(),o=r.response,tk.isInstance(o)?(i=o.statusCode,a=o.body,i<200&&i>=300?[2,r]:[4,ok(a,e)]):[2,r];case 2:return s=l.sent(),[4,(f=s,d=e,ok(f,d).then((function(e){return d.utf8Encoder(e)})))];case 3:if(u=l.sent(),0===s.length)throw(c=new Error("S3 aborted request")).name="InternalError",c;return u&&u.match("<Error>")&&(o.statusCode=400),o.body=s,[2,r]}var f,d}))}))}}}(e),ik)}}},sk=function(){return sk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},sk.apply(this,arguments)};function uk(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function ck(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var lk={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},fk={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function dk(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return uk(void 0,void 0,void 0,(function(){var o,i;return ck(this,(function(a){switch(a.label){case 0:return[4,n(r)];case 1:return o=a.sent().response,[4,t(o,e)];case 2:return i=a.sent(),[2,{response:o,output:i}]}}))}))}}}(e,n),lk),r.add(function(e,t){return function(n,r){return function(r){return uk(void 0,void 0,void 0,(function(){var o;return ck(this,(function(i){switch(i.label){case 0:return[4,t(r.input,e)];case 1:return o=i.sent(),[2,n(sk(sk({},r),{request:o}))]}}))}))}}}(e,t),fk)}}}var pk=function(){return pk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},pk.apply(this,arguments)};var hk={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},vk=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(w){switch(w.label){case 0:t=pk({},r.input),o=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}],w.label=1;case 1:w.trys.push([1,6,7,8]),i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),a=i.next(),w.label=2;case 2:return a.done?[3,5]:(s=a.value,(u=t[s.target])?(c=ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):"string"==typeof u?e.utf8Decoder(u):new Uint8Array(u),l=e.base64Encoder(c),(f=new e.md5).update(c),d=[pk({},t)],(b={})[s.target]=l,p=s.hash,v=(h=e).base64Encoder,[4,f.digest()]):[3,4]);case 3:t=pk.apply(void 0,d.concat([(b[p]=v.apply(h,[w.sent()]),b)])),w.label=4;case 4:return a=i.next(),[3,2];case 5:return[3,8];case 6:return y=w.sent(),m={error:y},[3,8];case 7:try{a&&!a.done&&(g=i.return)&&g.call(i)}finally{if(m)throw m.error}return[7];case 8:return[2,n(pk(pk({},r),{input:t}))]}}))}))}}}(e),hk)}}},yk=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dk(t,this.serialize,this.deserialize)),this.middlewareStack.use(ak(t)),this.middlewareStack.use(vk(t)),this.middlewareStack.use(YO(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"CopyObjectCommand",inputFilterSensitiveLog:PT.filterSensitiveLog,outputFilterSensitiveLog:CT.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:if(n=Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct({},TO(e.ACL)&&{"x-amz-acl":e.ACL}),TO(e.CacheControl)&&{"cache-control":e.CacheControl}),TO(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),TO(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),TO(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),TO(e.ContentType)&&{"content-type":e.ContentType}),TO(e.CopySource)&&{"x-amz-copy-source":e.CopySource}),TO(e.CopySourceIfMatch)&&{"x-amz-copy-source-if-match":e.CopySourceIfMatch}),TO(e.CopySourceIfModifiedSince)&&{"x-amz-copy-source-if-modified-since":dT(e.CopySourceIfModifiedSince).toString()}),TO(e.CopySourceIfNoneMatch)&&{"x-amz-copy-source-if-none-match":e.CopySourceIfNoneMatch}),TO(e.CopySourceIfUnmodifiedSince)&&{"x-amz-copy-source-if-unmodified-since":dT(e.CopySourceIfUnmodifiedSince).toString()}),TO(e.Expires)&&{expires:dT(e.Expires).toString()}),TO(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),TO(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),TO(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),TO(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),TO(e.MetadataDirective)&&{"x-amz-metadata-directive":e.MetadataDirective}),TO(e.TaggingDirective)&&{"x-amz-tagging-directive":e.TaggingDirective}),TO(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),TO(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),TO(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),TO(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),TO(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),TO(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),TO(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),TO(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),TO(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),TO(e.CopySourceSSECustomerAlgorithm)&&{"x-amz-copy-source-server-side-encryption-customer-algorithm":e.CopySourceSSECustomerAlgorithm}),TO(e.CopySourceSSECustomerKey)&&{"x-amz-copy-source-server-side-encryption-customer-key":e.CopySourceSSECustomerKey}),TO(e.CopySourceSSECustomerKeyMD5)&&{"x-amz-copy-source-server-side-encryption-customer-key-md5":e.CopySourceSSECustomerKeyMD5}),TO(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),TO(e.Tagging)&&{"x-amz-tagging":e.Tagging}),TO(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),TO(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),TO(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),TO(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),TO(e.ExpectedSourceBucketOwner)&&{"x-amz-source-expected-bucket-owner":e.ExpectedSourceBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var r;return Ct(Ct({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))}),{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",rT(o)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((o=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",o.split("/").map((function(e){return rT(e)})).join("/")),i={"x-id":"CopyObject"},[4,t.endpoint()];case 1:return a=f.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new nO({protocol:c,hostname:s,port:l,method:"PUT",headers:n,path:r,query:i,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){switch(o.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,uO(e,t)]:(n={$metadata:_O(e),BucketKeyEnabled:void 0,CopyObjectResult:void 0,CopySourceVersionId:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-copy-source-version-id"]&&(n.CopySourceVersionId=e.headers["x-amz-copy-source-version-id"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,IO(e.body,t)]);case 1:return r=o.sent(),n.CopyObjectResult=function(e,t){var n={ETag:void 0,LastModified:void 0};return void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),n}(r),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(nT),mk=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dk(t,this.serialize,this.deserialize)),this.middlewareStack.use(vk(t)),this.middlewareStack.use(YO(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"GetObjectCommand",inputFilterSensitiveLog:aC.filterSensitiveLog,outputFilterSensitiveLog:iC.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:if(n=Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct({},TO(e.IfMatch)&&{"if-match":e.IfMatch}),TO(e.IfModifiedSince)&&{"if-modified-since":dT(e.IfModifiedSince).toString()}),TO(e.IfNoneMatch)&&{"if-none-match":e.IfNoneMatch}),TO(e.IfUnmodifiedSince)&&{"if-unmodified-since":dT(e.IfUnmodifiedSince).toString()}),TO(e.Range)&&{range:e.Range}),TO(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),TO(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),TO(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),TO(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),TO(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",rT(o)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((o=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",o.split("/").map((function(e){return rT(e)})).join("/")),i=Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct({"x-id":"GetObject"},void 0!==e.ResponseCacheControl&&{"response-cache-control":e.ResponseCacheControl}),void 0!==e.ResponseContentDisposition&&{"response-content-disposition":e.ResponseContentDisposition}),void 0!==e.ResponseContentEncoding&&{"response-content-encoding":e.ResponseContentEncoding}),void 0!==e.ResponseContentLanguage&&{"response-content-language":e.ResponseContentLanguage}),void 0!==e.ResponseContentType&&{"response-content-type":e.ResponseContentType}),void 0!==e.ResponseExpires&&{"response-expires":(e.ResponseExpires.toISOString().split(".")[0]+"Z").toString()}),void 0!==e.VersionId&&{versionId:e.VersionId}),void 0!==e.PartNumber&&{partNumber:e.PartNumber.toString()}),[4,t.endpoint()];case 1:return a=f.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new nO({protocol:c,hostname:s,port:l,method:"GET",headers:n,path:r,query:i,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return 200!==e.statusCode&&e.statusCode>=300?[2,fO(e,t)]:(n={$metadata:_O(e),AcceptRanges:void 0,Body:void 0,BucketKeyEnabled:void 0,CacheControl:void 0,ContentDisposition:void 0,ContentEncoding:void 0,ContentLanguage:void 0,ContentLength:void 0,ContentRange:void 0,ContentType:void 0,DeleteMarker:void 0,ETag:void 0,Expiration:void 0,Expires:void 0,LastModified:void 0,Metadata:void 0,MissingMeta:void 0,ObjectLockLegalHoldStatus:void 0,ObjectLockMode:void 0,ObjectLockRetainUntilDate:void 0,PartsCount:void 0,ReplicationStatus:void 0,RequestCharged:void 0,Restore:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,StorageClass:void 0,TagCount:void 0,VersionId:void 0,WebsiteRedirectLocation:void 0},void 0!==e.headers["x-amz-delete-marker"]&&(n.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers["accept-ranges"]&&(n.AcceptRanges=e.headers["accept-ranges"]),void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-restore"]&&(n.Restore=e.headers["x-amz-restore"]),void 0!==e.headers["last-modified"]&&(n.LastModified=new Date(e.headers["last-modified"])),void 0!==e.headers["content-length"]&&(n.ContentLength=parseInt(e.headers["content-length"],10)),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-missing-meta"]&&(n.MissingMeta=parseInt(e.headers["x-amz-missing-meta"],10)),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["cache-control"]&&(n.CacheControl=e.headers["cache-control"]),void 0!==e.headers["content-disposition"]&&(n.ContentDisposition=e.headers["content-disposition"]),void 0!==e.headers["content-encoding"]&&(n.ContentEncoding=e.headers["content-encoding"]),void 0!==e.headers["content-language"]&&(n.ContentLanguage=e.headers["content-language"]),void 0!==e.headers["content-range"]&&(n.ContentRange=e.headers["content-range"]),void 0!==e.headers["content-type"]&&(n.ContentType=e.headers["content-type"]),void 0!==e.headers.expires&&(n.Expires=new Date(e.headers.expires)),void 0!==e.headers["x-amz-website-redirect-location"]&&(n.WebsiteRedirectLocation=e.headers["x-amz-website-redirect-location"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-storage-class"]&&(n.StorageClass=e.headers["x-amz-storage-class"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),void 0!==e.headers["x-amz-replication-status"]&&(n.ReplicationStatus=e.headers["x-amz-replication-status"]),void 0!==e.headers["x-amz-mp-parts-count"]&&(n.PartsCount=parseInt(e.headers["x-amz-mp-parts-count"],10)),void 0!==e.headers["x-amz-tagging-count"]&&(n.TagCount=parseInt(e.headers["x-amz-tagging-count"],10)),void 0!==e.headers["x-amz-object-lock-mode"]&&(n.ObjectLockMode=e.headers["x-amz-object-lock-mode"]),void 0!==e.headers["x-amz-object-lock-retain-until-date"]&&(n.ObjectLockRetainUntilDate=new Date(e.headers["x-amz-object-lock-retain-until-date"])),void 0!==e.headers["x-amz-object-lock-legal-hold"]&&(n.ObjectLockLegalHoldStatus=e.headers["x-amz-object-lock-legal-hold"]),Object.keys(e.headers).forEach((function(t){void 0===n.Metadata&&(n.Metadata={}),t.startsWith("x-amz-meta-")&&(n.Metadata[t.substring(11)]=e.headers[t])})),r=e.body,n.Body=r,[2,Promise.resolve(n)])}))}))}(e,t)},t}(nT),gk=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dk(t,this.serialize,this.deserialize)),this.middlewareStack.use(YO(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"DeleteObjectCommand",inputFilterSensitiveLog:XT.filterSensitiveLog,outputFilterSensitiveLog:JT.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:if(n=Ct(Ct(Ct(Ct({},TO(e.MFA)&&{"x-amz-mfa":e.MFA}),TO(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),TO(e.BypassGovernanceRetention)&&{"x-amz-bypass-governance-retention":e.BypassGovernanceRetention.toString()}),TO(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",rT(o)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((o=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",o.split("/").map((function(e){return rT(e)})).join("/")),i=Ct({"x-id":"DeleteObject"},void 0!==e.VersionId&&{versionId:e.VersionId}),[4,t.endpoint()];case 1:return a=f.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new nO({protocol:c,hostname:s,port:l,method:"DELETE",headers:n,path:r,query:i,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n;return kt(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,lO(e,t)]:(n={$metadata:_O(e),DeleteMarker:void 0,RequestCharged:void 0,VersionId:void 0},void 0!==e.headers["x-amz-delete-marker"]&&(n.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,xO(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(nT),bk=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dk(t,this.serialize,this.deserialize)),this.middlewareStack.use(YO(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"ListObjectsV2Command",inputFilterSensitiveLog:XC.filterSensitiveLog,outputFilterSensitiveLog:JC.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:if(n=Ct(Ct({},TO(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),TO(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");return r=r.replace("{Bucket}",rT(o)),i=Ct(Ct(Ct(Ct(Ct(Ct(Ct({"list-type":"2"},void 0!==e.Delimiter&&{delimiter:e.Delimiter}),void 0!==e.EncodingType&&{"encoding-type":e.EncodingType}),void 0!==e.MaxKeys&&{"max-keys":e.MaxKeys.toString()}),void 0!==e.Prefix&&{prefix:e.Prefix}),void 0!==e.ContinuationToken&&{"continuation-token":e.ContinuationToken}),void 0!==e.FetchOwner&&{"fetch-owner":e.FetchOwner.toString()}),void 0!==e.StartAfter&&{"start-after":e.StartAfter}),[4,t.endpoint()];case 1:return a=f.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new nO({protocol:c,hostname:s,port:l,method:"GET",headers:n,path:r,query:i,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){switch(o.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,dO(e,t)]:(n={$metadata:_O(e),CommonPrefixes:void 0,Contents:void 0,ContinuationToken:void 0,Delimiter:void 0,EncodingType:void 0,IsTruncated:void 0,KeyCount:void 0,MaxKeys:void 0,Name:void 0,NextContinuationToken:void 0,Prefix:void 0,StartAfter:void 0},[4,IO(e.body,t)]);case 1:return""===(r=o.sent()).CommonPrefixes&&(n.CommonPrefixes=[]),void 0!==r.CommonPrefixes&&(n.CommonPrefixes=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={Prefix:void 0};return void 0!==e.Prefix&&(n.Prefix=e.Prefix),n}(e)}))}(oT(r.CommonPrefixes))),""===r.Contents&&(n.Contents=[]),void 0!==r.Contents&&(n.Contents=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={Key:void 0,LastModified:void 0,ETag:void 0,Size:void 0,StorageClass:void 0,Owner:void 0};return void 0!==e.Key&&(n.Key=e.Key),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.Size&&(n.Size=parseInt(e.Size)),void 0!==e.StorageClass&&(n.StorageClass=e.StorageClass),void 0!==e.Owner&&(n.Owner=EO(e.Owner,t)),n}(e,t)}))}(oT(r.Contents),t)),void 0!==r.ContinuationToken&&(n.ContinuationToken=r.ContinuationToken),void 0!==r.Delimiter&&(n.Delimiter=r.Delimiter),void 0!==r.EncodingType&&(n.EncodingType=r.EncodingType),void 0!==r.IsTruncated&&(n.IsTruncated="true"==r.IsTruncated),void 0!==r.KeyCount&&(n.KeyCount=parseInt(r.KeyCount)),void 0!==r.MaxKeys&&(n.MaxKeys=parseInt(r.MaxKeys)),void 0!==r.Name&&(n.Name=r.Name),void 0!==r.NextContinuationToken&&(n.NextContinuationToken=r.NextContinuationToken),void 0!==r.Prefix&&(n.Prefix=r.Prefix),void 0!==r.StartAfter&&(n.StartAfter=r.StartAfter),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(nT);var wk=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,Sk)},Sk=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function Ek(e){var t=e.port,n=e.query,r=e.protocol,o=e.path,i=e.hostname;r&&":"!==r.substr(-1)&&(r+=":"),t&&(i+=":"+t),o&&"/"!==o.charAt(0)&&(o="/"+o);var a=n?function(e){var t,n,r=[];try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e).sort()),i=o.next();!i.done;i=o.next()){var a=i.value,s=e[a];if(a=wk(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push(a+"="+wk(s[u]));else{var l=a;(s||"string"==typeof s)&&(l+="="+wk(s)),r.push(l)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.join("&")}(n):"";return a&&"?"!==a[0]&&(a="?"+a),r+"//"+i+o+a}function _k(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function xk(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function Tk(e,t){return _k(this,void 0,void 0,(function(){var n,r,o=this;return xk(this,(function(i){switch(i.label){case 0:return n=function(e){return function(e){return _k(o,void 0,void 0,(function(){return xk(this,(function(t){return[2,{output:{request:e.request},response:void 0}]}))}))}},(r=e.middlewareStack.clone()).add(n,{step:"build",priority:"low"}),[4,t.resolveMiddleware(r,e.config,void 0)(t).then((function(e){return e.output.request}))];case 1:return[2,i.sent()]}}))}))}var Ik=function(){return Ik=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ik.apply(this,arguments)};function Ak(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function Ck(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Pk(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function Ok(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function kk(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Rk(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(kk(arguments[t]));return e}for(var Nk={},Lk={},Dk=0;Dk<256;Dk++){var Mk=Dk.toString(16).toLowerCase();1===Mk.length&&(Mk="0"+Mk),Nk[Dk]=Mk,Lk[Mk]=Dk}function jk(e){for(var t="",n=0;n<e.byteLength;n++)t+=Nk[e[n]];return t}var Uk="X-Amz-Date",Fk="X-Amz-Signature",zk="X-Amz-Security-Token",Bk="authorization",qk=Uk.toLowerCase(),Kk=[Bk,qk,"date"],Gk=Fk.toLowerCase(),Hk="x-amz-content-sha256",Vk=zk.toLowerCase(),$k={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Wk=/^proxy-/,Yk=/^sec-/,Zk="AWS4-HMAC-SHA256",Jk="AWS4-HMAC-SHA256-PAYLOAD",Xk="aws4_request",Qk={},eR=[];function tR(e,t,n){return e+"/"+t+"/"+n+"/"+Xk}function nR(e,t,n){var r=new e(t);return r.update(n),r.digest()}function rR(e,t,n){var r,o,i=e.headers,a={};try{for(var s=Ok(Object.keys(i).sort()),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.toLowerCase();(l in $k||(null==t?void 0:t.has(l))||Wk.test(l)||Yk.test(l))&&(!n||n&&!n.has(l))||(a[l]=i[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a}var oR=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,iR)},iR=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function aR(e,t){var n=e.headers,r=e.body;return Ck(this,void 0,void 0,(function(){var e,o,i,a,s,u,c;return Pk(this,(function(l){switch(l.label){case 0:try{for(e=Ok(Object.keys(n)),o=e.next();!o.done;o=e.next())if((i=o.value).toLowerCase()===Hk)return[2,n[i]]}catch(e){u={error:e}}finally{try{o&&!o.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=jk,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function sR(e){var t=e.headers,n=e.query,r=Ak(e,["headers","query"]);return Ik(Ik({},r),{headers:Ik({},t),query:n?uR(n):void 0})}function uR(e){return Object.keys(e).reduce((function(t,n){var r,o=e[n];return Ik(Ik({},t),((r={})[n]=Array.isArray(o)?Rk(o):o,r))}),{})}function cR(e){var t,n;e="function"==typeof e.clone?e.clone():sR(e);try{for(var r=Ok(Object.keys(e.headers)),o=r.next();!o.done;o=r.next()){var i=o.value;Kk.indexOf(i.toLowerCase())>-1&&delete e.headers[i]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}var lR=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,o=e.service,i=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=pR(r),this.credentialProvider=hR(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Ck(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T;return Pk(this,(function(I){switch(I.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,o=t.expiresIn,i=void 0===o?3600:o,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=I.sent(),null==c?[3,2]:(p=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:p=I.sent(),I.label=4;case 4:return d=p,h=fR(r),v=h.longDate,y=h.shortDate,i>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(m=tR(y,d,null!=l?l:this.service),g=function(e,t){var n,r,o;void 0===t&&(t={});var i="function"==typeof e.clone?e.clone():sR(e),a=i.headers,s=i.query,u=void 0===s?{}:s;try{for(var c=Ok(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(o=t.unhoistableHeaders)||void 0===o?void 0:o.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return Ik(Ik({},e),{headers:a,query:u})}(cR(e),{unhoistableHeaders:s}),f.sessionToken&&(g.query[zk]=f.sessionToken),g.query["X-Amz-Algorithm"]=Zk,g.query["X-Amz-Credential"]=f.accessKeyId+"/"+m,g.query[Uk]=v,g.query["X-Amz-Expires"]=i.toString(10),b=rR(g,a,u),g.query["X-Amz-SignedHeaders"]=dR(b),w=g.query,S=Fk,E=this.getSignature,_=[v,m,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,T=[g,b],[4,aR(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,T.concat([I.sent()]))]))];case 6:return w[S]=I.sent(),[2,g]}}))}))},e.prototype.sign=function(e,t){return Ck(this,void 0,void 0,(function(){return Pk(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,o=t.signingDate,i=void 0===o?new Date:o,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return Ck(this,void 0,void 0,(function(){var e,t,o,c,l,f,d,p,h,v,y;return Pk(this,(function(m){switch(m.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=m.sent(),m.label=3;case 3:return e=t,o=fR(i),c=o.shortDate,l=o.longDate,f=tR(c,e,null!=u?u:this.service),[4,aR({headers:{},body:r},this.sha256)];case 4:return d=m.sent(),(p=new this.sha256).update(n),v=jk,[4,p.digest()];case 5:return h=v.apply(void 0,[m.sent()]),y=[Jk,l,f,a,h,d].join("\n"),[2,this.signString(y,{signingDate:i,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signingRegion,a=n.signingService;return Ck(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return Pk(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==i?[3,2]:(r=i,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=fR(o).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=jk,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return Ck(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,p,h,v,y;return Pk(this,(function(m){switch(m.label){case 0:return[4,this.credentialProvider()];case 1:return t=m.sent(),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=m.sent(),m.label=4;case 4:return n=r,c=cR(e),l=fR(o),f=l.longDate,d=l.shortDate,p=tR(d,n,null!=u?u:this.service),c.headers[qk]=f,t.sessionToken&&(c.headers[Vk]=t.sessionToken),[4,aR(c,this.sha256)];case 5:return h=m.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var o=Ok(Object.keys(t)),i=o.next();!i.done;i=o.next())if(e===i.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}(Hk,c.headers)&&this.applyChecksum&&(c.headers[Hk]=h),v=rR(c,a,i),[4,this.getSignature(f,p,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,h))];case 6:return y=m.sent(),c.headers[Bk]=Zk+" Credential="+t.accessKeyId+"/"+p+", SignedHeaders="+dR(v)+", Signature="+y,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,o=void 0===r?{}:r,i=[],a={},s=function(e){if(e.toLowerCase()===Gk)return"continue";i.push(e);var t=o[e];"string"==typeof t?a[e]=oR(e)+"="+oR(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([oR(e)+"="+oR(n)])}),[]).join("&"))};try{for(var u=Ok(Object.keys(o).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return i.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return Ck(this,void 0,void 0,(function(){var r,o;return Pk(this,(function(i){switch(i.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return o=i.sent(),[2,Zk+"\n"+e+"\n"+t+"\n"+jk(o)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return Ck(this,void 0,void 0,(function(){var o,i,a,s,u;return Pk(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return o=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(i=new(s.apply(a,[void 0,c.sent()]))).update(o),u=jk,[4,i.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,o){return Ck(void 0,void 0,void 0,(function(){var i,a,s,u,c,l,f,d,p;return Pk(this,(function(h){switch(h.label){case 0:return[4,nR(e,t.secretAccessKey,t.accessKeyId)];case 1:if(i=h.sent(),(a=n+":"+r+":"+o+":"+jk(i)+":"+t.sessionToken)in Qk)return[2,Qk[a]];for(eR.push(a);eR.length>50;)delete Qk[eR.shift()];s="AWS4"+t.secretAccessKey,h.label=2;case 2:h.trys.push([2,7,8,9]),u=Ok([n,r,o,Xk]),c=u.next(),h.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,nR(e,s,l)]);case 4:s=h.sent(),h.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=h.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(p=u.return)&&p.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,Qk[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),fR=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},dR=function(e){return Object.keys(e).sort().join(";")},pR=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},hR=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},vR=function(){function e(e){var t=Ik({service:e.signingName||e.service||"s3",uriEscapePath:e.uriEscapePath||!1},e);this.signer=new lR(t)}return e.prototype.presign=function(e,t){void 0===t&&(t={});var n=t.unsignableHeaders,r=void 0===n?new Set:n,o=t.unhoistableHeaders,i=void 0===o?new Set:o,a=Ak(t,["unsignableHeaders","unhoistableHeaders"]);return Ck(this,void 0,void 0,(function(){return Pk(this,(function(t){return r.add("content-type"),Object.keys(e.headers).map((function(e){return e.toLowerCase()})).filter((function(e){return e.startsWith("x-amz-server-side-encryption")})).forEach((function(e){i.add(e)})),e.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",e.headers.host||(e.headers.host=e.hostname),[2,this.signer.presign(e,Ik({expiresIn:900,unsignableHeaders:r,unhoistableHeaders:i},a))]}))}))},e}();!function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(Ik(Ik({},this),{headers:Ik({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return Ik(Ik({},e),((r={})[n]=Array.isArray(o)?Rk(o):o,r))}),{}))),n}}();var yR,mR,gR,bR=n(6742),wR=n(4073),SR=n(9669),ER=n.n(SR);!function(e){e.NO_CREDENTIALS="No credentials",e.NO_SRC_KEY='source param should be an object with the property "key" with value of type string',e.NO_DEST_KEY='destination param should be an object with the property "key" with value of type string',e.INVALID_BLOB="Object must be an instance of Blob"}(yR||(yR={})),function(e){e.CLEANUP_FAILED="Multipart copy clean up failed",e.NO_OBJECT_FOUND="Object does not exist",e.INVALID_QUEUESIZE="Queue size must be a positive number",e.NO_COPYSOURCE="You must specify a copy source",e.MAX_NUM_PARTS_EXCEEDED="Only a maximum of 10000 parts are allowed"}(mR||(mR={})),function(e){e.UPLOAD_PAUSED_MESSAGE="paused"}(gR||(gR={}));var _R=new c("axios-http-handler"),xR="sendUploadProgress",TR="sendDownloadProgress",IR=function(e,t){var n,r;try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(e)),i=o.next();!i.done;i=o.next()){var a=$x(i.value,2),s=a[0],u=a[1];s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=u,delete e[s])}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},AR=[function(e,t){return"undefined"!=typeof Blob&&e instanceof Blob?(IR(t,"Content-Type"),IR(t,"Accept"),e):ER().defaults.transformRequest[0].call(null,e,t)}],CR=function(){function e(e,t,n){void 0===e&&(e={}),this.httpOptions=e,this.emitter=t,this.cancelTokenSource=n}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=this.httpOptions.requestTimeout,r=t.emitter||this.emitter,o=e.path;if(e.query){var i=(0,wR.I)(e.query);i&&(o+="?"+i)}var a=e.port,s=e.protocol+"//"+e.hostname+(a?":"+a:"")+o,u={};u.url=s,u.method=e.method,u.headers=e.headers,delete u.headers.host,e.body?u.data=e.body:u.headers[Object.keys(u.headers).find((function(e){return"content-type"===e.toLowerCase()}))]&&(u.data=null),r&&(u.onUploadProgress=function(e){r.emit(xR,e),_R.debug(e)},u.onDownloadProgress=function(e){r.emit(TR,e),_R.debug(e)}),this.cancelTokenSource&&(u.cancelToken=this.cancelTokenSource.token),t.cancelTokenSource&&(u.cancelToken=t.cancelTokenSource.token),u.responseType="blob",ee.isReactNative&&(u.transformRequest=AR);var c,l=[ER().request(u).then((function(e){return{response:new bR.Z({headers:e.headers,statusCode:e.status,body:e.data})}})).catch((function(e){var t,n;if(e.message!==gR.UPLOAD_PAUSED_MESSAGE&&_R.error(e.message),ER().isCancel(e)||!function(e){return void 0!==e&&Object.prototype.hasOwnProperty.call(e,"response")&&void 0!==e.response&&Object.prototype.hasOwnProperty.call(e.response,"status")&&"number"==typeof e.response.status}(e))throw e;return{response:new bR.Z({statusCode:e.response.status,body:null===(t=e.response)||void 0===t?void 0:t.data,headers:null===(n=e.response)||void 0===n?void 0:n.headers})}})),(c=n,void 0===c&&(c=0),new Promise((function(e,t){c&&setTimeout((function(){var e=new Error("Request did not complete within "+c+" ms");e.name="TimeoutError",t(e)}),c)})))];return Promise.race(l)},e}();var PR="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",OR="contentLengthMiddleware",kR="__uploadInProgress",RR=function(e,t,n,r,o){if(e){var i={attrs:n};r&&(i.metrics=r),_.dispatch("storage",{event:t,data:i,message:o},"Storage",PR)}},NR=n(8515);function LR(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function DR(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var MR=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,jR)},jR=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()},UR=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var o=new Error("Request aborted");return o.name="AbortError",Promise.reject(o)}var i=e.path;if(e.query){var a=function(e){var t,n,r=[];try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e).sort()),i=o.next();!i.done;i=o.next()){var a=i.value,s=e[a];if(a=MR(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push(a+"="+MR(s[u]));else{var l=a;(s||"string"==typeof s)&&(l+="="+MR(s)),r.push(l)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.join("&")}(e.query);a&&(i+="?"+a)}var s=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(s?":"+s:"")+i,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var f,d=new Request(c,l),p=[fetch(d).then((function(e){var t,n,r=e.headers,o={};try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r.entries()),a=i.next();!a.done;a=i.next()){var s=a.value;o[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new QP({headers:o,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new QP({headers:o,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&p.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(p)},e}();function FR(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var o=null!==(e=r.result)&&void 0!==e?e:"",i=o.indexOf(","),a=i>-1?i+1:o.length;t(o.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}function zR(e,t,n){return void 0===n&&(n=1048576),new Promise((function(r,o){var i=new FileReader;i.addEventListener("error",o),i.addEventListener("abort",o);var a=e.size,s=0;function u(){s>=a?r():i.readAsArrayBuffer(e.slice(s,Math.min(a,s+n)))}i.addEventListener("load",(function(e){var n=e.target.result;t(new Uint8Array(n)),s+=n.byteLength,u()})),u()}))}var BR=[1732584193,4023233417,2562383102,271733878],qR=function(){function e(){this.state=Uint32Array.from(BR),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(!function(e){return"string"==typeof e?0===e.length:0===e.byteLength}(e)){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=function(e){return"string"==typeof e?(t=e,"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(t):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(t)):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e);var t}(e),n=0,r=t.byteLength;for(this.bytesHashed+=r;r>0;)this.buffer.setUint8(this.bufferLength++,t[n++]),r--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)}},e.prototype.digest=function(){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var e,t,n,r,o,i,a;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(s){if(!this.finished){if(t=(e=this).buffer,n=e.bufferLength,r=e.bytesHashed,o=8*r,t.setUint8(this.bufferLength++,128),n%64>=56){for(a=this.bufferLength;a<64;a++)t.setUint8(a,0);this.hashBuffer(),this.bufferLength=0}for(a=this.bufferLength;a<56;a++)t.setUint8(a,0);t.setUint32(56,o>>>0,!0),t.setUint32(60,Math.floor(o/4294967296),!0),this.hashBuffer(),this.finished=!0}for(i=new DataView(new ArrayBuffer(16)),a=0;a<4;a++)i.setUint32(4*a,this.state[a],!0);return[2,new Uint8Array(i.buffer,i.byteOffset,i.byteLength)]}))}))},e.prototype.hashBuffer=function(){var e=this.buffer,t=this.state,n=t[0],r=t[1],o=t[2],i=t[3];n=GR(n,r,o,i,e.getUint32(0,!0),7,3614090360),i=GR(i,n,r,o,e.getUint32(4,!0),12,3905402710),o=GR(o,i,n,r,e.getUint32(8,!0),17,606105819),r=GR(r,o,i,n,e.getUint32(12,!0),22,3250441966),n=GR(n,r,o,i,e.getUint32(16,!0),7,4118548399),i=GR(i,n,r,o,e.getUint32(20,!0),12,1200080426),o=GR(o,i,n,r,e.getUint32(24,!0),17,2821735955),r=GR(r,o,i,n,e.getUint32(28,!0),22,4249261313),n=GR(n,r,o,i,e.getUint32(32,!0),7,1770035416),i=GR(i,n,r,o,e.getUint32(36,!0),12,2336552879),o=GR(o,i,n,r,e.getUint32(40,!0),17,4294925233),r=GR(r,o,i,n,e.getUint32(44,!0),22,2304563134),n=GR(n,r,o,i,e.getUint32(48,!0),7,1804603682),i=GR(i,n,r,o,e.getUint32(52,!0),12,4254626195),o=GR(o,i,n,r,e.getUint32(56,!0),17,2792965006),n=HR(n,r=GR(r,o,i,n,e.getUint32(60,!0),22,1236535329),o,i,e.getUint32(4,!0),5,4129170786),i=HR(i,n,r,o,e.getUint32(24,!0),9,3225465664),o=HR(o,i,n,r,e.getUint32(44,!0),14,643717713),r=HR(r,o,i,n,e.getUint32(0,!0),20,3921069994),n=HR(n,r,o,i,e.getUint32(20,!0),5,3593408605),i=HR(i,n,r,o,e.getUint32(40,!0),9,38016083),o=HR(o,i,n,r,e.getUint32(60,!0),14,3634488961),r=HR(r,o,i,n,e.getUint32(16,!0),20,3889429448),n=HR(n,r,o,i,e.getUint32(36,!0),5,568446438),i=HR(i,n,r,o,e.getUint32(56,!0),9,3275163606),o=HR(o,i,n,r,e.getUint32(12,!0),14,4107603335),r=HR(r,o,i,n,e.getUint32(32,!0),20,1163531501),n=HR(n,r,o,i,e.getUint32(52,!0),5,2850285829),i=HR(i,n,r,o,e.getUint32(8,!0),9,4243563512),o=HR(o,i,n,r,e.getUint32(28,!0),14,1735328473),n=VR(n,r=HR(r,o,i,n,e.getUint32(48,!0),20,2368359562),o,i,e.getUint32(20,!0),4,4294588738),i=VR(i,n,r,o,e.getUint32(32,!0),11,2272392833),o=VR(o,i,n,r,e.getUint32(44,!0),16,1839030562),r=VR(r,o,i,n,e.getUint32(56,!0),23,4259657740),n=VR(n,r,o,i,e.getUint32(4,!0),4,2763975236),i=VR(i,n,r,o,e.getUint32(16,!0),11,1272893353),o=VR(o,i,n,r,e.getUint32(28,!0),16,4139469664),r=VR(r,o,i,n,e.getUint32(40,!0),23,3200236656),n=VR(n,r,o,i,e.getUint32(52,!0),4,681279174),i=VR(i,n,r,o,e.getUint32(0,!0),11,3936430074),o=VR(o,i,n,r,e.getUint32(12,!0),16,3572445317),r=VR(r,o,i,n,e.getUint32(24,!0),23,76029189),n=VR(n,r,o,i,e.getUint32(36,!0),4,3654602809),i=VR(i,n,r,o,e.getUint32(48,!0),11,3873151461),o=VR(o,i,n,r,e.getUint32(60,!0),16,530742520),n=$R(n,r=VR(r,o,i,n,e.getUint32(8,!0),23,3299628645),o,i,e.getUint32(0,!0),6,4096336452),i=$R(i,n,r,o,e.getUint32(28,!0),10,1126891415),o=$R(o,i,n,r,e.getUint32(56,!0),15,2878612391),r=$R(r,o,i,n,e.getUint32(20,!0),21,4237533241),n=$R(n,r,o,i,e.getUint32(48,!0),6,1700485571),i=$R(i,n,r,o,e.getUint32(12,!0),10,2399980690),o=$R(o,i,n,r,e.getUint32(40,!0),15,4293915773),r=$R(r,o,i,n,e.getUint32(4,!0),21,2240044497),n=$R(n,r,o,i,e.getUint32(32,!0),6,1873313359),i=$R(i,n,r,o,e.getUint32(60,!0),10,4264355552),o=$R(o,i,n,r,e.getUint32(24,!0),15,2734768916),r=$R(r,o,i,n,e.getUint32(52,!0),21,1309151649),n=$R(n,r,o,i,e.getUint32(16,!0),6,4149444226),i=$R(i,n,r,o,e.getUint32(44,!0),10,3174756917),o=$R(o,i,n,r,e.getUint32(8,!0),15,718787259),r=$R(r,o,i,n,e.getUint32(36,!0),21,3951481745),t[0]=n+t[0]&4294967295,t[1]=r+t[1]&4294967295,t[2]=o+t[2]&4294967295,t[3]=i+t[3]&4294967295},e}();function KR(e,t,n,r,o,i){return((t=(t+e&4294967295)+(r+i&4294967295)&4294967295)<<o|t>>>32-o)+n&4294967295}function GR(e,t,n,r,o,i,a){return KR(t&n|~t&r,e,t,o,i,a)}function HR(e,t,n,r,o,i,a){return KR(t&r|n&~r,e,t,o,i,a)}function VR(e,t,n,r,o,i,a){return KR(t^n^r,e,t,o,i,a)}function $R(e,t,n,r,o,i,a){return KR(n^(t|~r),e,t,o,i,a)}var WR=function(){return WR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},WR.apply(this,arguments)};function YR(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function ZR(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function JR(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var XR={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},QR=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],eN=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],tN=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],nN=[500,502,503,504],rN=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||eN.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},oN=n(1457),iN=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},aN=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return QR.includes(e.name)}(e)||rN(e)||function(e){var t;return tN.includes(e.name)||nN.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},sN=function(){function e(e,t){var n,r,o,i,a,s,u;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:aN,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:iN,this.retryQuota=null!==(o=null==t?void 0:t.retryQuota)&&void 0!==o?o:(i=500,a=500,s=function(e){return"TimeoutError"===e.name?10:5},u=function(e){return s(e)<=a},Object.freeze({hasRetryTokens:u,retrieveRetryTokens:function(e){if(!u(e))throw new Error("No retry token available");var t=s(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,i)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return YR(this,void 0,void 0,(function(){var e;return ZR(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return YR(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return ZR(this,(function(l){switch(l.label){case 0:return r=0,o=0,[4,this.getMaxAttempts()];case 1:i=l.sent(),a=t.request,nO.isInstance(a)&&(a.headers["amz-sdk-invocation-id"]=(0,oN.v4)()),s=function(){var s,c,l,f,d;return ZR(this,(function(p){switch(p.label){case 0:return p.trys.push([0,2,,5]),nO.isInstance(a)&&(a.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+i),[4,e(t)];case 1:return s=p.sent(),c=s.response,l=s.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=o,[2,{value:{response:c,output:l}}];case 2:return f=p.sent(),r++,u.shouldRetry(f,r,i)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(rN(f)?500:100,r),o+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return p.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=o,f;case 5:return[2]}}))},u=this,l.label=2;case 2:return[5,s()];case 3:return"object"==typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}();var uN=n(1545),cN="s3.{region}.amazonaws.com",lN=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),fN=new Set(["cn-north-1","cn-northwest-1"]),dN=new Set(["us-iso-east-1"]),pN=new Set(["us-isob-east-1"]),hN=new Set(["us-gov-east-1","us-gov-west-1"]);function vN(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var yN={apiVersion:"2006-03-01",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"s3.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"s3.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"s3.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"s3.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"s3.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"s3.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"s3.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"aws-global":n={hostname:"s3.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"ca-central-1":n={hostname:"s3.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"s3.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"s3.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"s3.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"s3.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"s3.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"s3.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"s3.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"s3.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-gov-west-1":n={hostname:"s3-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"me-south-1":n={hostname:"s3.me-south-1.amazonaws.com",partition:"aws"};break;case"s3-external-1":n={hostname:"s3-external-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"sa-east-1":n={hostname:"s3.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"s3.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"s3.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"s3.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":n={hostname:"s3.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-iso-east-1":n={hostname:"s3.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"s3.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"s3.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"s3.us-west-2.amazonaws.com",partition:"aws"};break;default:lN.has(e)&&(n={hostname:cN.replace("{region}",e),partition:"aws"}),fN.has(e)&&(n={hostname:"s3.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),dN.has(e)&&(n={hostname:"s3.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),pN.has(e)&&(n={hostname:"s3.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),hN.has(e)&&(n={hostname:"s3.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:cN.replace("{region}",e),partition:"aws"})}return Promise.resolve(Ct({signingService:"s3"},n))},serviceId:"S3",signingEscapePath:!1,urlParser:function(e){var t,n=new URL(e),r=n.hostname,o=n.pathname,i=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.split("&")),i=o.next();!i.done;i=o.next()){var a=vN(i.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:i?parseInt(i):void 0,protocol:a,path:o,query:t}},useArnRegion:!1},mN=Ct(Ct({},yN),{runtime:"browser",base64Decoder:er,base64Encoder:tr,bodyLengthChecker:function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0},credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:function(e){var t=e.serviceId,n=e.clientVersion;return function(){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e,r,o,i,a,s,u,c,l;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(f){return e=(null===(o=null===window||void 0===window?void 0:window.navigator)||void 0===o?void 0:o.userAgent)?gr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(i=null==e?void 0:e.os)||void 0===i?void 0:i.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser",(null!==(u=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown")+"_"+(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}}({serviceId:yN.serviceId,clientVersion:"3.6.1"}),eventStreamSerdeProvider:oh,maxAttempts:3,md5:qR,region:function(){return Promise.reject("Region is missing")},requestHandler:new UR,sha256:NR.Sha256,streamCollector:function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return LR(this,void 0,void 0,(function(){var t,n;return DR(this,(function(r){switch(r.label){case 0:return[4,FR(e)];case 1:return t=r.sent(),n=er(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return LR(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return DR(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return o=u.sent(),i=o.done,(a=o.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=i,[3,1];case 3:return[2,t]}}))}))}(e)},streamHasher:function(e,t){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var n;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(r){switch(r.label){case 0:return n=new e,[4,zR(t,(function(e){n.update(e)}))];case 1:return r.sent(),[2,n.digest()]}}))}))},utf8Decoder:uN.fromUtf8,utf8Encoder:uN.toUtf8}),gN=function(){return gN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},gN.apply(this,arguments)};var bN=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var o=Promise.resolve(t);return function(){return o}}return t},wN=function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t,n,r,o,i;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(a){switch(a.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=a.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(o=(null!==(i=a.sent())&&void 0!==i?i:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+o)]}}))}))},SN=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},EN=function(){return EN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},EN.apply(this,arguments)};var _N="content-length",xN={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},TN=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t,o,i,a,s;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(u){return t=r.request,nO.isInstance(t)&&(o=t.body,i=t.headers,o&&-1===Object.keys(i).map((function(e){return e.toLowerCase()})).indexOf(_N)&&void 0!==(a=e(o))&&(t.headers=EN(EN({},t.headers),((s={})[_N]=String(a),s)))),[2,n(EN(EN({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),xN)}}},IN=function(){return IN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},IN.apply(this,arguments)};function AN(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var CN=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(IN(IN({},this),{headers:IN({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return IN(IN({},e),((r={})[n]=Array.isArray(o)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(AN(arguments[t]));return e}(o):o,r))}),{}))),n},e}(),PN={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},ON=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(o){return t=r.request,CN.isInstance(t)&&t.body&&"node"===e.runtime&&(t.headers=IN(IN({},t.headers),{Expect:"100-continue"})),[2,n(IN(IN({},r),{request:t}))]}))}))}}}(e),PN)}}};var kN={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},RN=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,o;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(i){return nO.isInstance(n.request)?(r=n.request,(void 0===(o=(e.requestHandler.metadata||{}).handlerProtocol)?"":o).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),kN)}}};var NN=function(){return function(e,t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(d){switch(d.label){case 0:return r=t.clientName,o=t.commandName,i=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(c,["$metadata"]),a.info({clientName:r,commandName:o,input:i(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}},LN={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},DN=function(){return DN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},DN.apply(this,arguments)};function MN(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function jN(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var UN=function(){return UN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},UN.apply(this,arguments)};function FN(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function zN(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function BN(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qN(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}for(var KN={},GN={},HN=0;HN<256;HN++){var VN=HN.toString(16).toLowerCase();1===VN.length&&(VN="0"+VN),KN[HN]=VN,GN[VN]=HN}function $N(e){for(var t="",n=0;n<e.byteLength;n++)t+=KN[e[n]];return t}var WN="X-Amz-Date",YN="X-Amz-Signature",ZN="X-Amz-Security-Token",JN="authorization",XN=WN.toLowerCase(),QN=[JN,XN,"date"],eL=YN.toLowerCase(),tL="x-amz-content-sha256",nL=ZN.toLowerCase(),rL={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},oL=/^proxy-/,iL=/^sec-/,aL="AWS4-HMAC-SHA256",sL="AWS4-HMAC-SHA256-PAYLOAD",uL="aws4_request",cL={},lL=[];function fL(e,t,n){return e+"/"+t+"/"+n+"/"+uL}function dL(e,t,n){var r=new e(t);return r.update(n),r.digest()}function pL(e,t,n){var r,o,i=e.headers,a={};try{for(var s=BN(Object.keys(i).sort()),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.toLowerCase();(l in rL||(null==t?void 0:t.has(l))||oL.test(l)||iL.test(l))&&(!n||n&&!n.has(l))||(a[l]=i[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a}function hL(e,t){var n=e.headers,r=e.body;return FN(this,void 0,void 0,(function(){var e,o,i,a,s,u,c;return zN(this,(function(l){switch(l.label){case 0:try{for(e=BN(Object.keys(n)),o=e.next();!o.done;o=e.next())if((i=o.value).toLowerCase()===tL)return[2,n[i]]}catch(e){u={error:e}}finally{try{o&&!o.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=$N,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function vL(e){var t=e.headers,n=e.query,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["headers","query"]);return UN(UN({},r),{headers:UN({},t),query:n?yL(n):void 0})}function yL(e){return Object.keys(e).reduce((function(t,n){var r,o=e[n];return UN(UN({},t),((r={})[n]=Array.isArray(o)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(qN(arguments[t]));return e}(o):o,r))}),{})}function mL(e){var t,n;e="function"==typeof e.clone?e.clone():vL(e);try{for(var r=BN(Object.keys(e.headers)),o=r.next();!o.done;o=r.next()){var i=o.value;QN.indexOf(i.toLowerCase())>-1&&delete e.headers[i]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}var gL=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,o=e.service,i=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=SL(r),this.credentialProvider=EL(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),FN(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T;return zN(this,(function(I){switch(I.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,o=t.expiresIn,i=void 0===o?3600:o,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=I.sent(),null==c?[3,2]:(p=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:p=I.sent(),I.label=4;case 4:return d=p,h=bL(r),v=h.longDate,y=h.shortDate,i>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(m=fL(y,d,null!=l?l:this.service),g=function(e,t){var n,r,o;void 0===t&&(t={});var i="function"==typeof e.clone?e.clone():vL(e),a=i.headers,s=i.query,u=void 0===s?{}:s;try{for(var c=BN(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(o=t.unhoistableHeaders)||void 0===o?void 0:o.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return UN(UN({},e),{headers:a,query:u})}(mL(e),{unhoistableHeaders:s}),f.sessionToken&&(g.query[ZN]=f.sessionToken),g.query["X-Amz-Algorithm"]=aL,g.query["X-Amz-Credential"]=f.accessKeyId+"/"+m,g.query[WN]=v,g.query["X-Amz-Expires"]=i.toString(10),b=pL(g,a,u),g.query["X-Amz-SignedHeaders"]=wL(b),w=g.query,S=YN,E=this.getSignature,_=[v,m,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,T=[g,b],[4,hL(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,T.concat([I.sent()]))]))];case 6:return w[S]=I.sent(),[2,g]}}))}))},e.prototype.sign=function(e,t){return FN(this,void 0,void 0,(function(){return zN(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,o=t.signingDate,i=void 0===o?new Date:o,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return FN(this,void 0,void 0,(function(){var e,t,o,c,l,f,d,p,h,v,y;return zN(this,(function(m){switch(m.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=m.sent(),m.label=3;case 3:return e=t,o=bL(i),c=o.shortDate,l=o.longDate,f=fL(c,e,null!=u?u:this.service),[4,hL({headers:{},body:r},this.sha256)];case 4:return d=m.sent(),(p=new this.sha256).update(n),v=$N,[4,p.digest()];case 5:return h=v.apply(void 0,[m.sent()]),y=[sL,l,f,a,h,d].join("\n"),[2,this.signString(y,{signingDate:i,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signingRegion,a=n.signingService;return FN(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return zN(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==i?[3,2]:(r=i,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=bL(o).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=$N,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return FN(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,p,h,v,y;return zN(this,(function(m){switch(m.label){case 0:return[4,this.credentialProvider()];case 1:return t=m.sent(),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=m.sent(),m.label=4;case 4:return n=r,c=mL(e),l=bL(o),f=l.longDate,d=l.shortDate,p=fL(d,n,null!=u?u:this.service),c.headers[XN]=f,t.sessionToken&&(c.headers[nL]=t.sessionToken),[4,hL(c,this.sha256)];case 5:return h=m.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var o=BN(Object.keys(t)),i=o.next();!i.done;i=o.next())if(e===i.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}(tL,c.headers)&&this.applyChecksum&&(c.headers[tL]=h),v=pL(c,a,i),[4,this.getSignature(f,p,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,h))];case 6:return y=m.sent(),c.headers[JN]=aL+" Credential="+t.accessKeyId+"/"+p+", SignedHeaders="+wL(v)+", Signature="+y,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,o=void 0===r?{}:r,i=[],a={},s=function(e){if(e.toLowerCase()===eL)return"continue";i.push(e);var t=o[e];"string"==typeof t?a[e]=MR(e)+"="+MR(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([MR(e)+"="+MR(n)])}),[]).join("&"))};try{for(var u=BN(Object.keys(o).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return i.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return FN(this,void 0,void 0,(function(){var r,o;return zN(this,(function(i){switch(i.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return o=i.sent(),[2,aL+"\n"+e+"\n"+t+"\n"+$N(o)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return FN(this,void 0,void 0,(function(){var o,i,a,s,u;return zN(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return o=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(i=new(s.apply(a,[void 0,c.sent()]))).update(o),u=$N,[4,i.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,o){return FN(void 0,void 0,void 0,(function(){var i,a,s,u,c,l,f,d,p;return zN(this,(function(h){switch(h.label){case 0:return[4,dL(e,t.secretAccessKey,t.accessKeyId)];case 1:if(i=h.sent(),(a=n+":"+r+":"+o+":"+$N(i)+":"+t.sessionToken)in cL)return[2,cL[a]];for(lL.push(a);lL.length>50;)delete cL[lL.shift()];s="AWS4"+t.secretAccessKey,h.label=2;case 2:h.trys.push([2,7,8,9]),u=BN([n,r,o,uL]),c=u.next(),h.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,dL(e,s,l)]);case 4:s=h.sent(),h.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=h.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(p=u.return)&&p.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,cL[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),bL=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},wL=function(e){return Object.keys(e).sort().join(";")},SL=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},EL=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function _L(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}function xL(e){return function(t,n){return function(r){return MN(this,void 0,void 0,(function(){var o,i,a,s,u,c,l,f,d;return jN(this,(function(p){switch(p.label){case 0:return nO.isInstance(r.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(r)];case 1:return i=p.sent(),[3,3];case 2:i=e.signer,p.label=3;case 3:return o=i,s=t,u=[DN({},r)],d={},[4,o.sign(r.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,s.apply(void 0,[DN.apply(void 0,u.concat([(d.request=p.sent(),d)]))])];case 5:return a=p.sent(),c=a.response.headers,(l=c&&(c.date||c.Date))&&(h=f=Date.parse(l),v=e.systemClockOffset,Math.abs(function(e){return new Date(Date.now()+e)}(v).getTime()-h)>=3e5&&(e.systemClockOffset=f-Date.now())),[2,a]}var h,v}))}))}}}var TL={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},IL=function(){return IL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},IL.apply(this,arguments)};function AL(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function CL(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(AL(arguments[t]));return e}var PL,OL,kL,RL,NL,LL,DL,ML,jL,UL,FL,zL,BL,qL,KL,GL,HL,VL,$L,WL,YL,ZL,JL,XL,QL,eD,tD,nD,rD,oD,iD,aD,sD,uD,cD="user-agent",lD=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,fD=function(e){var t=AL(e,2),n=t[0],r=t[1],o=n.indexOf("/"),i=n.substring(0,o),a=n.substring(o+1);return"api"===i&&(a=a.toLowerCase()),[i,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(lD,"_")})).join("/")},dD={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},pD=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var o,i,a,s,u,c,l,f;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(d){switch(d.label){case 0:return o=r.request,nO.isInstance(o)?(i=o.headers,a=(null===(l=null==t?void 0:t.userAgent)||void 0===l?void 0:l.map(fD))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=d.sent().map(fD),u=(null===(f=null==n?void 0:n.customUserAgent)||void 0===f?void 0:f.map(fD))||[],i["x-amz-user-agent"]=CL(s,a,u).join(" "),c=CL(s.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&c&&(i[cD]=i[cD]?i[cD]+" "+c:c),[2,e(IL(IL({},r),{request:o}))]}}))}))}}),dD)}}},hD=function(e){function t(t){var n,r,o,i,a=this,s=function(e){if(!e.region)throw new Error("Region is missing");return gN(gN({},e),{region:SN(e.region)})}(Ct(Ct({},mN),t)),u=function(e){var t;return gN(gN({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?bN(e):function(){return wN(e)},isCustomEndpoint:!!e.endpoint})}(s),c=function(e){var t,n=this,r=_L(e.credentials||e.credentialDefaultProvider(e)),o=e.signingEscapePath,i=void 0===o||o,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?_L(e.signer):function(){return _L(e.region)().then((function(t){return MN(n,void 0,void 0,(function(){return jN(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(t,2),o=n[0],a=n[1],s=o.signingRegion,c=o.signingService;return e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId,new gL({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:i})}))},DN(DN({},e),{systemClockOffset:s,signingEscapePath:i,credentials:r,signer:t})}(u),l=function(e){var t=e.bucketEndpoint,n=void 0!==t&&t,r=e.forcePathStyle,o=void 0!==r&&r,i=e.useAccelerateEndpoint,a=void 0!==i&&i,s=e.useDualstackEndpoint,u=void 0!==s&&s,c=e.useArnRegion,l=void 0!==c&&c;return CO(CO({},e),{bucketEndpoint:n,forcePathStyle:o,useAccelerateEndpoint:a,useDualstackEndpoint:u,useArnRegion:"function"==typeof l?l:function(){return Promise.resolve(l)}})}((r=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}((n=c).maxAttempts),WR(WR({},n),{maxAttempts:r,retryStrategy:n.retryStrategy||new sN(r)}))),f=function(e){return IL(IL({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}(l),d=zh(f);return(a=e.call(this,d)||this).config=d,a.middlewareStack.use((o=a.config,{applyToStack:function(e){e.addRelativeTo(xL(o),TL)}})),a.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return YR(void 0,void 0,void 0,(function(){var o;return ZR(this,(function(i){return(null===(o=null==e?void 0:e.retryStrategy)||void 0===o?void 0:o.mode)&&(n.userAgent=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(JR(arguments[t]));return e}(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),XR)}}}(a.config)),a.middlewareStack.use(TN(a.config)),a.middlewareStack.use(RN(a.config)),a.middlewareStack.use((a.config,{applyToStack:function(e){e.add(NN(),LN)}})),a.middlewareStack.use((a.config,{applyToStack:function(e){e.add(function(){var e=this;return function(t){return function(n){return JO(e,void 0,void 0,(function(){var e,r;return XO(this,(function(o){if("string"==typeof(e=n.input.Bucket)&&!kO(e)&&e.indexOf("/")>=0)throw(r=new Error("Bucket name shouldn't contain '/', received '"+e+"'")).name="InvalidBucketName",r;return[2,t(ZO({},n))]}))}))}}}(),ek)}})),a.middlewareStack.use((i=a.config,{applyToStack:function(e){e.add(function(e){return function(t){return function(n){return JO(void 0,void 0,void 0,(function(){var r,o;return XO(this,(function(i){switch(i.label){case 0:return r=n.request,!nk.isInstance(r)||e.isCustomEndpoint?[2,t(ZO({},n))]:"s3.amazonaws.com"!==r.hostname?[3,1]:(r.hostname="s3.us-east-1.amazonaws.com",[3,3]);case 1:return o="aws-global",[4,e.region()];case 2:o===i.sent()&&(r.hostname="s3.amazonaws.com"),i.label=3;case 3:return[2,t(ZO({},n))]}}))}))}}}(i),rk)}})),a.middlewareStack.use(ON(a.config)),a.middlewareStack.use(pD(a.config)),a}return xe(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(tT),vD=new c("S3ClientUtils"),yD={accessKeyId:"",secretAccessKey:""},mD=function(e){var t=e.credentials,n=e.level,r=e.customPrefix||{},o=e.identityId||t.identityId,i=(void 0!==r.private?r.private:"private/")+o+"/",a=(void 0!==r.protected?r.protected:"protected/")+o+"/",s=void 0!==r.public?r.public:"public/";switch(n){case"private":return i;case"protected":return a;default:return s}},gD=function(e,t){return function(n,r){return function(r){return Hx(void 0,void 0,void 0,(function(){var o,i,a,s;return Vx(this,(function(u){switch(u.label){case 0:return[4,fs.get()];case 1:return o=u.sent(),i=fs.shear(o),a=mD(Gx(Gx({},e),{credentials:i})),s=Object.assign({},r.input),Object.prototype.hasOwnProperty.call(r.input,"Key")?(s.Key=a+t,r.input=s):Object.prototype.hasOwnProperty.call(r.input,"Prefix")&&(s.Prefix=a+t,r.input=s),[2,n(r)]}}))}))}}},bD=function(e){return function(t,n){return function(n){return Hx(void 0,void 0,void 0,(function(){var r,o;return Vx(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t(n)];case 1:return[2,i.sent()];case 2:throw(a=r=i.sent()).ServerTime&&"string"==typeof a.Code&&"RequestTimeTooSkewed"===a.Code&&(o=new Date(r.ServerTime),e.systemClockOffset=o.getTime()-Date.now()),r;case 3:return[2]}var a}))}))}}},wD={step:"finalizeRequest",name:"autoAdjustClockskewMiddleware"},SD={step:"initialize",name:"addPrefixMiddleware"},ED=function(){return Hx(void 0,void 0,void 0,(function(){var e,t,n;return Vx(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,fs.get()];case 1:return(e=r.sent())?(t=fs.shear(e),vD.debug("credentials provider get credentials",t),[2,t]):[2,yD];case 2:return n=r.sent(),vD.warn("credentials provider error",n),[2,yD];case 3:return[2]}}))}))},_D=function(e,t){var n=e.region,r=e.cancelTokenSource,o=e.dangerouslyConnectToHttpEndpointForTesting,i=e.useAccelerateEndpoint,a={};o&&(a={endpoint:"http://localhost:20005",tls:!1,bucketEndpoint:!1,forcePathStyle:!0});var s=new hD(Gx(Gx({region:n,credentials:ED,customUserAgent:te()},a),{requestHandler:new CR({},t,r),useAccelerateEndpoint:i}));return s.middlewareStack.remove(OR),s},xD=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dk(t,this.serialize,this.deserialize)),this.middlewareStack.use(vk(t)),this.middlewareStack.use(YO(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:RP.filterSensitiveLog,outputFilterSensitiveLog:kP.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d;return kt(this,(function(p){switch(p.label){case 0:if(n=Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct({"content-type":"application/octet-stream"},TO(e.ACL)&&{"x-amz-acl":e.ACL}),TO(e.CacheControl)&&{"cache-control":e.CacheControl}),TO(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),TO(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),TO(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),TO(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),TO(e.ContentMD5)&&{"content-md5":e.ContentMD5}),TO(e.ContentType)&&{"content-type":e.ContentType}),TO(e.Expires)&&{expires:dT(e.Expires).toString()}),TO(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),TO(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),TO(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),TO(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),TO(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),TO(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),TO(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),TO(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),TO(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),TO(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),TO(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),TO(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),TO(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),TO(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),TO(e.Tagging)&&{"x-amz-tagging":e.Tagging}),TO(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),TO(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),TO(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),TO(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var r;return Ct(Ct({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))}),{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",rT(o)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((o=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",o.split("/").map((function(e){return rT(e)})).join("/")),i={"x-id":"PutObject"},void 0!==e.Body&&(s=e.Body,a=s),[4,t.endpoint()];case 1:return u=p.sent(),c=u.hostname,l=u.protocol,f=void 0===l?"https":l,d=u.port,[2,new nO({protocol:f,hostname:c,port:d,method:"PUT",headers:n,path:r,query:i,body:a})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n;return kt(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,hO(e,t)]:(n={$metadata:_O(e),BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,xO(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(nT),TD=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dk(t,this.serialize,this.deserialize)),this.middlewareStack.use(vk(t)),this.middlewareStack.use(YO(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"CreateMultipartUploadCommand",inputFilterSensitiveLog:jT.filterSensitiveLog,outputFilterSensitiveLog:MT.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:if(n=Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct({},TO(e.ACL)&&{"x-amz-acl":e.ACL}),TO(e.CacheControl)&&{"cache-control":e.CacheControl}),TO(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),TO(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),TO(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),TO(e.ContentType)&&{"content-type":e.ContentType}),TO(e.Expires)&&{expires:dT(e.Expires).toString()}),TO(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),TO(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),TO(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),TO(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),TO(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),TO(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),TO(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),TO(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),TO(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),TO(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),TO(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),TO(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),TO(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),TO(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),TO(e.Tagging)&&{"x-amz-tagging":e.Tagging}),TO(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),TO(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),TO(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),TO(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var r;return Ct(Ct({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))}),{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",rT(o)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((o=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",o.split("/").map((function(e){return rT(e)})).join("/")),i={uploads:""},[4,t.endpoint()];case 1:return a=f.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new nO({protocol:c,hostname:s,port:l,method:"POST",headers:n,path:r,query:i,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){switch(o.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,cO(e,t)]:(n={$metadata:_O(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,BucketKeyEnabled:void 0,Key:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,UploadId:void 0},void 0!==e.headers["x-amz-abort-date"]&&(n.AbortDate=new Date(e.headers["x-amz-abort-date"])),void 0!==e.headers["x-amz-abort-rule-id"]&&(n.AbortRuleId=e.headers["x-amz-abort-rule-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,IO(e.body,t)]);case 1:return void 0!==(r=o.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.UploadId&&(n.UploadId=r.UploadId),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(nT);!function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(PL||(PL={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.Encryption&&{Encryption:$P.filterSensitiveLog(e.Encryption)})}}(OL||(OL={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.S3&&{S3:OL.filterSensitiveLog(e.S3)})}}(kL||(kL={})),function(e){e.IGNORE="IGNORE",e.NONE="NONE",e.USE="USE"}(RL||(RL={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(NL||(NL={})),function(e){e.DOCUMENT="DOCUMENT",e.LINES="LINES"}(LL||(LL={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(DL||(DL={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ML||(ML={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(jL||(jL={})),function(e){e.ALWAYS="ALWAYS",e.ASNEEDED="ASNEEDED"}(UL||(UL={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(FL||(FL={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(zL||(zL={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(BL||(BL={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(qL||(qL={})),function(e){e.SELECT="SELECT"}(KL||(KL={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.OutputLocation&&{OutputLocation:kL.filterSensitiveLog(e.OutputLocation)})}}(GL||(GL={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.RestoreRequest&&{RestoreRequest:GL.filterSensitiveLog(e.RestoreRequest)})}}(HL||(HL={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(VL||(VL={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}($L||($L={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(WL||(WL={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(YL||(YL={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ZL||(ZL={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(JL||(JL={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(XL||(XL={})),function(e){e.visit=function(e,t){return void 0!==e.Records?t.Records(e.Records):void 0!==e.Stats?t.Stats(e.Stats):void 0!==e.Progress?t.Progress(e.Progress):void 0!==e.Cont?t.Cont(e.Cont):void 0!==e.End?t.End(e.End):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Records?{Records:ZL.filterSensitiveLog(e.Records)}:void 0!==e.Stats?{Stats:XL.filterSensitiveLog(e.Stats)}:void 0!==e.Progress?{Progress:YL.filterSensitiveLog(e.Progress)}:void 0!==e.Cont?{Cont:VL.filterSensitiveLog(e.Cont)}:void 0!==e.End?{End:$L.filterSensitiveLog(e.End)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(QL||(QL={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.Payload&&{Payload:"STREAMING_CONTENT"})}}(eD||(eD={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(tD||(tD={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(nD||(nD={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.SSECustomerKey&&{SSECustomerKey:XP})}}(rD||(rD={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:XP})}}(oD||(oD={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.SSECustomerKey&&{SSECustomerKey:XP})}}(iD||(iD={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(aD||(aD={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:XP})}}(sD||(sD={})),function(e){e.filterSensitiveLog=function(e){return Ct(Ct(Ct({},e),e.SSECustomerKey&&{SSECustomerKey:XP}),e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:XP})}}(uD||(uD={}));var ID,AD,CD=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dk(t,this.serialize,this.deserialize)),this.middlewareStack.use(vk(t)),this.middlewareStack.use(YO(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"UploadPartCommand",inputFilterSensitiveLog:iD.filterSensitiveLog,outputFilterSensitiveLog:oD.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d;return kt(this,(function(p){switch(p.label){case 0:if(n=Ct(Ct(Ct(Ct(Ct(Ct(Ct({"content-type":"application/octet-stream"},TO(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),TO(e.ContentMD5)&&{"content-md5":e.ContentMD5}),TO(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),TO(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),TO(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),TO(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),TO(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",rT(o)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((o=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",o.split("/").map((function(e){return rT(e)})).join("/")),i=Ct(Ct({"x-id":"UploadPart"},void 0!==e.PartNumber&&{partNumber:e.PartNumber.toString()}),void 0!==e.UploadId&&{uploadId:e.UploadId}),void 0!==e.Body&&(s=e.Body,a=s),[4,t.endpoint()];case 1:return u=p.sent(),c=u.hostname,l=u.protocol,f=void 0===l?"https":l,d=u.port,[2,new nO({protocol:f,hostname:c,port:d,method:"PUT",headers:n,path:r,query:i,body:a})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n;return kt(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,vO(e,t)]:(n={$metadata:_O(e),BucketKeyEnabled:void 0,ETag:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0},void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,xO(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(nT),PD=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dk(t,this.serialize,this.deserialize)),this.middlewareStack.use(ak(t)),this.middlewareStack.use(YO(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"CompleteMultipartUploadCommand",inputFilterSensitiveLog:IT.filterSensitiveLog,outputFilterSensitiveLog:_T.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d;return kt(this,(function(p){switch(p.label){case 0:if(n=Ct(Ct({"content-type":"application/xml"},TO(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),TO(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",rT(o)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((o=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",o.split("/").map((function(e){return rT(e)})).join("/")),i=Ct({},void 0!==e.UploadId&&{uploadId:e.UploadId}),void 0!==e.MultipartUpload&&(s=function(e,t){var n=new rO("CompletedMultipartUpload");return void 0!==e.Parts&&null!==e.Parts&&SO(e.Parts,t).map((function(e){e=e.withName("Part"),n.addChildNode(e)})),n}(e.MultipartUpload,t),a='<?xml version="1.0" encoding="UTF-8"?>',s.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),a+=s.toString()),[4,t.endpoint()];case 1:return u=p.sent(),c=u.hostname,l=u.protocol,f=void 0===l?"https":l,d=u.port,[2,new nO({protocol:f,hostname:c,port:d,method:"POST",headers:n,path:r,query:i,body:a})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){switch(o.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,sO(e,t)]:(n={$metadata:_O(e),Bucket:void 0,BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,Key:void 0,Location:void 0,RequestCharged:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,IO(e.body,t)]);case 1:return void 0!==(r=o.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.ETag&&(n.ETag=r.ETag),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.Location&&(n.Location=r.Location),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(nT),OD=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dk(t,this.serialize,this.deserialize)),this.middlewareStack.use(YO(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"AbortMultipartUploadCommand",inputFilterSensitiveLog:vT.filterSensitiveLog,outputFilterSensitiveLog:hT.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:if(n=Ct(Ct({},TO(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),TO(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",rT(o)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((o=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",o.split("/").map((function(e){return rT(e)})).join("/")),i=Ct({"x-id":"AbortMultipartUpload"},void 0!==e.UploadId&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return a=f.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new nO({protocol:c,hostname:s,port:l,method:"DELETE",headers:n,path:r,query:i,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n;return kt(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,aO(e,t)]:(n={$metadata:_O(e),RequestCharged:void 0},void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,xO(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(nT),kD=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dk(t,this.serialize,this.deserialize)),this.middlewareStack.use(YO(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"ListPartsCommand",inputFilterSensitiveLog:iP.filterSensitiveLog,outputFilterSensitiveLog:oP.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:if(n=Ct(Ct({},TO(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),TO(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",rT(o)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((o=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",o.split("/").map((function(e){return rT(e)})).join("/")),i=Ct(Ct(Ct({"x-id":"ListParts"},void 0!==e.MaxParts&&{"max-parts":e.MaxParts.toString()}),void 0!==e.PartNumberMarker&&{"part-number-marker":e.PartNumberMarker}),void 0!==e.UploadId&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return a=f.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new nO({protocol:c,hostname:s,port:l,method:"GET",headers:n,path:r,query:i,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){switch(o.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,pO(e,t)]:(n={$metadata:_O(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,Initiator:void 0,IsTruncated:void 0,Key:void 0,MaxParts:void 0,NextPartNumberMarker:void 0,Owner:void 0,PartNumberMarker:void 0,Parts:void 0,RequestCharged:void 0,StorageClass:void 0,UploadId:void 0},void 0!==e.headers["x-amz-abort-date"]&&(n.AbortDate=new Date(e.headers["x-amz-abort-date"])),void 0!==e.headers["x-amz-abort-rule-id"]&&(n.AbortRuleId=e.headers["x-amz-abort-rule-id"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,IO(e.body,t)]);case 1:return void 0!==(r=o.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.Initiator&&(n.Initiator=function(e,t){var n={ID:void 0,DisplayName:void 0};return void 0!==e.ID&&(n.ID=e.ID),void 0!==e.DisplayName&&(n.DisplayName=e.DisplayName),n}(r.Initiator)),void 0!==r.IsTruncated&&(n.IsTruncated="true"==r.IsTruncated),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.MaxParts&&(n.MaxParts=parseInt(r.MaxParts)),void 0!==r.NextPartNumberMarker&&(n.NextPartNumberMarker=r.NextPartNumberMarker),void 0!==r.Owner&&(n.Owner=EO(r.Owner,t)),void 0!==r.PartNumberMarker&&(n.PartNumberMarker=r.PartNumberMarker),""===r.Part&&(n.Parts=[]),void 0!==r.Part&&(n.Parts=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={PartNumber:void 0,LastModified:void 0,ETag:void 0,Size:void 0};return void 0!==e.PartNumber&&(n.PartNumber=parseInt(e.PartNumber)),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.Size&&(n.Size=parseInt(e.Size)),n}(e)}))}(oT(r.Part))),void 0!==r.StorageClass&&(n.StorageClass=r.StorageClass),void 0!==r.UploadId&&(n.UploadId=r.UploadId),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(nT),RD=n(7187),ND=new c("AWSS3ProviderManagedUpload"),LD=function(){function e(e,t,n){this.minPartSize=5242880,this.queueSize=4,this.body=null,this.params=null,this.opts=null,this.completedParts=[],this.uploadId=null,this.bytesUploaded=0,this.totalBytesToUpload=0,this.emitter=null,this.params=e,this.opts=t,this.emitter=n,this.s3client=this._createNewS3Client(t,n)}return e.prototype.upload=function(){return Hx(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s=this;return Vx(this,(function(u){switch(u.label){case 0:return u.trys.push([0,10,,12]),e=this,[4,this.validateAndSanitizeBody(this.params.Body)];case 1:return e.body=u.sent(),this.totalBytesToUpload=this.byteLength(this.body),this.totalBytesToUpload<=this.minPartSize?(this.params.Body=this.body,t=new xD(this.params),[2,this.s3client.send(t)]):[3,2];case 2:return n=this,[4,this.createMultiPartUpload()];case 3:n.uploadId=u.sent(),r=Math.ceil(this.totalBytesToUpload/this.minPartSize),o=this.createParts(),i=0,u.label=4;case 4:return i<r?[4,this.uploadParts(this.uploadId,o.slice(i,i+this.queueSize))]:[3,7];case 5:u.sent(),u.label=6;case 6:return i+=this.queueSize,[3,4];case 7:return o.map((function(e){s.removeEventListener(e)})),[4,this.finishMultiPartUpload(this.uploadId)];case 8:return[2,u.sent()];case 9:return[3,12];case 10:return a=u.sent(),[4,this.cleanup(this.uploadId)];case 11:throw u.sent(),ND.error("Error. Cancelling the multipart upload."),a;case 12:return[2]}}))}))},e.prototype.createParts=function(){try{for(var e=[],t=0;t<this.totalBytesToUpload;){var n=Math.min(t+this.minPartSize,this.totalBytesToUpload);e.push({bodyPart:this.body.slice(t,n),partNumber:e.length+1,emitter:new RD.EventEmitter,_lastUploadedBytes:0}),t+=this.minPartSize}return e}catch(e){throw ND.error(e),e}},e.prototype.createMultiPartUpload=function(){return Hx(this,void 0,void 0,(function(){var e,t,n;return Vx(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=new TD(this.params),[4,this.s3client.send(e)];case 1:return t=r.sent(),ND.debug(t.UploadId),[2,t.UploadId];case 2:throw n=r.sent(),ND.error(n),n;case 3:return[2]}}))}))},e.prototype.uploadParts=function(e,t){return Hx(this,void 0,void 0,(function(){var n,r,o,i=this;return Vx(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Promise.all(t.map((function(t){return Hx(i,void 0,void 0,(function(){var n,r,o,i,a,s,u;return Vx(this,(function(c){switch(c.label){case 0:return this.setupEventListener(t),n={emitter:t.emitter},r=this.params,o=r.Key,i=r.Bucket,a=r.SSECustomerAlgorithm,s=r.SSECustomerKey,u=r.SSECustomerKeyMD5,[4,this.s3client.send(new CD(Gx(Gx(Gx({PartNumber:t.partNumber,Body:t.bodyPart,UploadId:e,Key:o,Bucket:i},a&&{SSECustomerAlgorithm:a}),s&&{SSECustomerKey:s}),u&&{SSECustomerKeyMD5:u})),n)];case 1:return[2,c.sent()]}}))}))})))];case 1:for(n=a.sent(),r=0;r<n.length;r++)this.completedParts.push({PartNumber:t[r].partNumber,ETag:n[r].ETag});return[3,3];case 2:throw o=a.sent(),ND.error("Error happened while uploading a part. Cancelling the multipart upload"),o;case 3:return[2]}}))}))},e.prototype.finishMultiPartUpload=function(e){return Hx(this,void 0,void 0,(function(){var t,n,r;return Vx(this,(function(o){switch(o.label){case 0:t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e,MultipartUpload:{Parts:this.completedParts}},n=new PD(t),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.s3client.send(n)];case 2:return[2,o.sent().Key];case 3:throw r=o.sent(),ND.error("Error happened while finishing the upload."),r;case 4:return[2]}}))}))},e.prototype.cleanup=function(e){return Hx(this,void 0,void 0,(function(){var t,n;return Vx(this,(function(r){switch(r.label){case 0:return this.body=null,this.completedParts=[],this.bytesUploaded=0,this.totalBytesToUpload=0,t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e},[4,this.s3client.send(new OD(t))];case 1:return r.sent(),[4,this.s3client.send(new kD(t))];case 2:if((n=r.sent())&&n.Parts&&n.Parts.length>0)throw new Error("Multipart upload clean up failed.");return[2]}}))}))},e.prototype.removeEventListener=function(e){e.emitter.removeAllListeners(xR),e.emitter.removeAllListeners(TR)},e.prototype.setupEventListener=function(e){var t=this;e.emitter.on(xR,(function(n){t.progressChanged(e.partNumber,n.loaded-e._lastUploadedBytes),e._lastUploadedBytes=n.loaded}))},e.prototype.progressChanged=function(e,t){this.bytesUploaded+=t,this.emitter.emit(xR,{loaded:this.bytesUploaded,total:this.totalBytesToUpload,part:e,key:this.params.Key})},e.prototype.byteLength=function(e){if(null==e)return 0;if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("string"!=typeof e.path)throw new Error("Cannot determine length of "+e)},e.prototype.validateAndSanitizeBody=function(e){return Hx(this,void 0,void 0,(function(){return Vx(this,(function(t){return this.isGenericObject(e)?[2,JSON.stringify(e)]:[2,e]}))}))},e.prototype.isGenericObject=function(e){if(null!==e&&"object"==typeof e)try{return!(this.byteLength(e)>=0)}catch(e){return!0}return!1},e.prototype._createNewS3Client=function(e,t){var n=_D(e,t);return n.middlewareStack.add(gD(this.opts,this.params.Key),SD),n.middlewareStack.add(bD(n.config),wD),n},e}(),DD=new c("AWSS3UploadTask");function MD(e,t){return e.PartNumber-t.PartNumber}!function(e){e[e.INIT=0]="INIT",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.PAUSED=2]="PAUSED",e[e.CANCELLED=3]="CANCELLED",e[e.COMPLETED=4]="COMPLETED"}(ID||(ID={})),function(e){e.CANCEL="cancel",e.UPLOAD_COMPLETE="uploadComplete",e.UPLOAD_PROGRESS="uploadPartProgress",e.ERROR="error"}(AD||(AD={}));var jD=function(){function e(e){var t=e.s3Client,n=e.file,r=e.emitter,o=e.storage,i=e.params,a=e.level,s=e.prefixPromise;this.partSize=5242880,this.queueSize=4,this.inProgress=[],this.completedParts=[],this.queued=[],this.bytesUploaded=0,this.totalBytes=0,this.state=ID.INIT,this.prefixPromise=s,this.s3client=t,this.s3client.middlewareStack.remove(OR),this.storage=o,this.storageSync=Promise.resolve(),"function"==typeof this.storage.sync&&(this.storageSync=this.storage.sync()),this.params=i,this.file=n,this.totalBytes=this.file.size,this.bytesUploaded=0,this.emitter=r,this.queued=[],this.fileId=this._getFileId(a),this._validateParams(),this.emitter.on(AD.ERROR,(function(){}))}return Object.defineProperty(e.prototype,"percent",{get:function(){return this.bytesUploaded/this.totalBytes*100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInProgress",{get:function(){return this.state===ID.IN_PROGRESS},enumerable:!0,configurable:!0}),e.prototype._listSingleFile=function(e){var t=e.key,n=e.bucket;return Hx(this,void 0,void 0,(function(){var e,r,o,i,a;return Vx(this,(function(s){switch(s.label){case 0:return[4,this.s3client.send(new bk({Bucket:n,Prefix:t}))];case 1:return e=s.sent(),r=e.Contents,o=void 0===r?[]:r,[4,this.prefixPromise];case 2:return i=s.sent(),a=o.find((function(e){return e.Key===""+i+t})),[2,a]}}))}))},e.prototype._getFileId=function(e){return function(e){return void 0!==e&&e instanceof File}(this.file)?[this.file.name,this.file.lastModified,this.file.size,this.file.type,this.params.Bucket,e,this.params.Key].join("-"):[this.file.size,this.file.type,this.params.Bucket,e,this.params.Key].join("-")},e.prototype._findCachedUploadParts=function(){return Hx(this,void 0,void 0,(function(){var e,t;return Vx(this,(function(n){switch(n.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return e=n.sent(),0!==Object.keys(e).length&&Object.prototype.hasOwnProperty.call(e,this.fileId)?((t=e[this.fileId]).lastTouched=Date.now(),this.storage.setItem(kR,JSON.stringify(e)),[4,this.s3client.send(new kD({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:t.uploadId}))]):[2,{parts:[],uploadId:null}];case 2:return[2,{parts:n.sent().Parts||[],uploadId:t.uploadId}]}}))}))},e.prototype._emitEvent=function(e,t){this.emitter.emit(e,t)},e.prototype._validateParams=function(){if(this.file.size/this.partSize>1e4)throw new Error("Too many parts. Number of parts is "+this.file.size/this.partSize+", maximum is 10000.")},e.prototype._listCachedUploadTasks=function(){return Hx(this,void 0,void 0,(function(){var e;return Vx(this,(function(t){switch(t.label){case 0:return[4,this.storageSync];case 1:return t.sent(),e=this.storage.getItem(kR)||"{}",[2,JSON.parse(e)]}}))}))},e.prototype._cache=function(e){return Hx(this,void 0,void 0,(function(){var t;return Vx(this,(function(n){switch(n.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return(t=n.sent())[this.fileId]=e,this.storage.setItem(kR,JSON.stringify(t)),[2]}}))}))},e.prototype._isCached=function(){return Hx(this,void 0,void 0,(function(){var e,t;return Vx(this,(function(n){switch(n.label){case 0:return t=(e=Object.prototype.hasOwnProperty).call,[4,this._listCachedUploadTasks()];case 1:return[2,t.apply(e,[n.sent(),this.fileId])]}}))}))},e.prototype._removeFromCache=function(){return Hx(this,void 0,void 0,(function(){var e;return Vx(this,(function(t){switch(t.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return delete(e=t.sent())[this.fileId],this.storage.setItem(kR,JSON.stringify(e)),[2]}}))}))},e.prototype._onPartUploadCompletion=function(e){var t=e.eTag,n=e.partNumber,r=e.chunk;return Hx(this,void 0,void 0,(function(){return Vx(this,(function(e){return this.completedParts.push({ETag:t,PartNumber:n}),this.bytesUploaded+=function(e){if("string"==typeof e)return e.length;if(function(e){return void 0!==e&&e instanceof ArrayBuffer}(e))return e.byteLength;if(function(e){return void 0!==e&&e instanceof Blob}(e))return e.size;throw new Error("Cannot determine byte length of "+e)}(r),this._emitEvent(AD.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes}),this.inProgress=this.inProgress.filter((function(e){return e.uploadPartInput.PartNumber!==n})),this.queued.length&&this.state!==ID.PAUSED&&this._startNextPart(),this._isDone()&&this._completeUpload(),[2]}))}))},e.prototype._completeUpload=function(){return Hx(this,void 0,void 0,(function(){var e;return Vx(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.s3client.send(new PD({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId,MultipartUpload:{Parts:this.completedParts.sort(MD)}}))];case 1:return t.sent(),this._verifyFileSize(),this._emitEvent(AD.UPLOAD_COMPLETE,{key:this.params.Key}),this._removeFromCache(),this.state=ID.COMPLETED,[3,3];case 2:return e=t.sent(),DD.error("error completing upload",e),this._emitEvent(AD.ERROR,e),[3,3];case 3:return[2]}}))}))},e.prototype._makeUploadPartRequest=function(e,t){return Hx(this,void 0,void 0,(function(){var n,r;return Vx(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this.s3client.send(new CD(e),{cancelTokenSource:t})];case 1:return n=o.sent(),[4,this._onPartUploadCompletion({eTag:n.ETag,partNumber:e.PartNumber,chunk:e.Body})];case 2:return o.sent(),[3,4];case 3:return r=o.sent(),this.state===ID.PAUSED?DD.log("upload paused"):this.state===ID.CANCELLED?DD.log("upload aborted"):DD.error("error starting next part of upload: ",r),ER().isCancel(r)||r.message===gR.UPLOAD_PAUSED_MESSAGE||(this._emitEvent(AD.ERROR,r),this.pause()),[3,4];case 4:return[2]}}))}))},e.prototype._startNextPart=function(){if(this.queued.length>0&&this.state!==ID.PAUSED){var e=ER().CancelToken.source(),t=this.queued.shift();this.inProgress.push({uploadPartInput:t,s3Request:this._makeUploadPartRequest(t,e),cancel:e.cancel})}},e.prototype._verifyFileSize=function(){return Hx(this,void 0,void 0,(function(){var e,t;return Vx(this,(function(n){switch(n.label){case 0:return[4,this._listSingleFile({key:this.params.Key,bucket:this.params.Bucket})];case 1:if(e=n.sent(),!(t=Boolean(e&&e.Size===this.file.size)))throw new Error("File size does not match between local file and file on s3");return[2,t]}}))}))},e.prototype._isDone=function(){return!this.queued.length&&!this.inProgress.length&&this.bytesUploaded===this.totalBytes},e.prototype._createParts=function(){for(var e=this.file.size,t=[],n=0;n<e;){var r=Math.min(n+this.partSize,e);t.push({Body:this.file.slice(n,r),Key:this.params.Key,Bucket:this.params.Bucket,PartNumber:t.length+1,UploadId:this.uploadId}),n+=this.partSize}return t},e.prototype._initCachedUploadParts=function(e){this.bytesUploaded+=e.reduce((function(e,t){return e+t.Size}),0);var t=new Set(e.map((function(e){return e.PartNumber})));this.queued=this.queued.filter((function(e){return!t.has(e.PartNumber)})),this.completedParts=e.map((function(e){return{PartNumber:e.PartNumber,ETag:e.ETag}})),this._emitEvent(AD.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes})},e.prototype._initMultipartUpload=function(){return Hx(this,void 0,void 0,(function(){var e;return Vx(this,(function(t){switch(t.label){case 0:return[4,this.s3client.send(new TD(this.params))];case 1:return e=t.sent(),this._cache({uploadId:e.UploadId,lastTouched:Date.now(),bucket:this.params.Bucket,key:this.params.Key,fileName:this.file instanceof File?this.file.name:""}),[2,e.UploadId]}}))}))},e.prototype._initializeUploadTask=function(){return Hx(this,void 0,void 0,(function(){var e,t,n,r;return Vx(this,(function(o){switch(o.label){case 0:this.state=ID.IN_PROGRESS,o.label=1;case 1:return o.trys.push([1,7,,8]),[4,this._isCached()];case 2:return o.sent()?[4,this._findCachedUploadParts()]:[3,4];case 3:return e=o.sent(),t=e.parts,n=e.uploadId,this.uploadId=n,this.queued=this._createParts(),this._initCachedUploadParts(t),this._startUpload(),[3,6];case 4:return this.uploadId?[3,6]:[4,this._initMultipartUpload()];case 5:n=o.sent(),this.uploadId=n,this.queued=this._createParts(),this._startUpload(),o.label=6;case 6:return[3,8];case 7:return r=o.sent(),ER().isCancel(r)||DD.error("Error initializing the upload task",r),[3,8];case 8:return[2]}}))}))},e.prototype.resume=function(){this.state===ID.CANCELLED?DD.warn("This task has already been cancelled"):this.state===ID.COMPLETED?DD.warn("This task has already been completed"):this.state===ID.IN_PROGRESS?DD.warn("Upload task already in progress"):this.uploadId?this._startUpload():this._initializeUploadTask()},e.prototype._startUpload=function(){this.state=ID.IN_PROGRESS;for(var e=0;e<this.queueSize;e++)this._startNextPart()},e.prototype._cancel=function(){return Hx(this,void 0,void 0,(function(){var e;return Vx(this,(function(t){switch(t.label){case 0:return this.state!==ID.CANCELLED?[3,1]:(DD.warn("This task has already been cancelled"),[2,!1]);case 1:return this.state!==ID.COMPLETED?[3,2]:(DD.warn("This task has already been completed"),[2,!1]);case 2:this.pause(),this.queued=[],this.completedParts=[],this.bytesUploaded=0,this.state=ID.CANCELLED,t.label=3;case 3:return t.trys.push([3,6,,7]),[4,this.s3client.send(new OD({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId}))];case 4:return t.sent(),[4,this._removeFromCache()];case 5:return t.sent(),[2,!0];case 6:return e=t.sent(),DD.error("Error cancelling upload task",e),[2,!1];case 7:return[2]}}))}))},e.prototype.pause=function(){var e;this.state===ID.CANCELLED?DD.warn("This task has already been cancelled"):this.state===ID.COMPLETED?DD.warn("This task has already been completed"):this.state===ID.PAUSED&&DD.warn("This task is already paused"),this.state=ID.PAUSED;var t=this.inProgress.splice(0,this.inProgress.length);t.forEach((function(e){e.cancel(gR.UPLOAD_PAUSED_MESSAGE)})),(e=this.queued).unshift.apply(e,Wx(t.map((function(e){return e.uploadPartInput}))))},e}(),UD=new c("AWSS3Provider"),FD="public",zD=function(){function e(e){var t=this;this._config=e||{},this._storage=(new oe).getStorage(),_.listen("auth",(function(e){var n=e.payload;"signOut"!==n.event&&"signIn"!==n.event||t._storage.removeItem(kR)})),UD.debug("Storage Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(e){if(UD.debug("configure Storage",e),!e)return this._config;var t=T(e);return this._config=Object.assign({},this._config,t.Storage),this._config.bucket||UD.debug("Do not have bucket yet"),this._config},e.prototype.startResumableUpload=function(e,t){var n=e.s3Client,r=e.emitter,o=e.key,i=e.file,a=e.params,s=t.progressCallback,u=t.completeCallback,c=t.errorCallback,l=t.track,f=void 0!==l&&l;if(!(i instanceof Blob))throw new Error(yR.INVALID_BLOB);r.on(AD.UPLOAD_PROGRESS,(function(e){s&&("function"==typeof s?s(e):UD.warn("progressCallback should be a function, not a "+typeof s))})),r.on(AD.UPLOAD_COMPLETE,(function(e){u&&("function"==typeof u?u(e):UD.warn("completeCallback should be a function, not a "+typeof u))})),r.on(AD.ERROR,(function(e){c&&("function"==typeof c?c(e):UD.warn("errorCallback should be a function, not a "+typeof c))}));var d=fs.get().then((function(e){var n=fs.shear(e);return mD(Gx(Gx({},t),{credentials:n}))})),p=new jD({s3Client:n,file:i,emitter:r,level:t.level,storage:this._storage,params:a,prefixPromise:d});return RR(f,"upload",{method:"put",result:"success"},null,"Upload Task created successfully for "+o),p.resume(),p},e.prototype.copy=function(e,t,n){return Hx(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T,I,A;return Vx(this,(function(C){switch(C.label){case 0:return[4,this._ensureCredentials()];case 1:if(!C.sent()||!this._isWithCredentials(this._config))throw new Error(yR.NO_CREDENTIALS);if(r=Object.assign({},this._config,n),o=r.acl,i=r.bucket,a=r.cacheControl,s=r.expires,u=r.track,c=r.serverSideEncryption,l=r.SSECustomerAlgorithm,f=r.SSECustomerKey,d=r.SSECustomerKeyMD5,p=r.SSEKMSKeyId,h=e.level,v=void 0===h?FD:h,y=e.identityId,m=e.key,g=t.level,b=void 0===g?FD:g,w=t.key,!m||"string"!=typeof m)throw new Error(yR.NO_SRC_KEY);if(!w||"string"!=typeof w)throw new Error(yR.NO_DEST_KEY);"protected"!==v&&y&&UD.warn('You may copy files from another user if the source level is "protected", currently it\'s '+v),S=this._prefix(Gx(Gx(Gx({},r),{level:v}),y&&{identityId:y})),E=this._prefix(Gx(Gx({},r),{level:b})),_=i+"/"+S+m,x=""+E+w,UD.debug("copying "+_+" to "+x),T={Bucket:i,CopySource:_,Key:x,MetadataDirective:"COPY"},a&&(T.CacheControl=a),s&&(T.Expires=s),c&&(T.ServerSideEncryption=c),l&&(T.SSECustomerAlgorithm=l),f&&(T.SSECustomerKey=f),d&&(T.SSECustomerKeyMD5=d),p&&(T.SSEKMSKeyId=p),o&&(T.ACL=o),I=this._createNewS3Client(r),C.label=2;case 2:return C.trys.push([2,4,,5]),[4,I.send(new yk(T))];case 3:return C.sent(),RR(u,"copy",{method:"copy",result:"success"},null,"Copy success from "+m+" to "+w),[2,{key:w}];case 4:throw A=C.sent(),RR(u,"copy",{method:"copy",result:"failed"},null,"Copy failed from "+m+" to "+w),A;case 5:return[2]}}))}))},e.prototype.get=function(e,t){return Hx(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T,I,A,C;return Vx(this,(function(P){switch(P.label){case 0:return[4,this._ensureCredentials()];case 1:if(!P.sent()||!this._isWithCredentials(this._config))throw new Error(yR.NO_CREDENTIALS);if(n=Object.assign({},this._config,t),r=n.bucket,o=n.download,i=n.cacheControl,a=n.contentDisposition,s=n.contentEncoding,u=n.contentLanguage,c=n.contentType,l=n.expires,f=n.track,d=n.SSECustomerAlgorithm,p=n.SSECustomerKey,h=n.SSECustomerKeyMD5,v=n.progressCallback,y=this._prefix(n),m=y+e,g=new RD.EventEmitter,b=this._createNewS3Client(n,g),UD.debug("get "+e+" from "+m),w={Bucket:r,Key:m},i&&(w.ResponseCacheControl=i),a&&(w.ResponseContentDisposition=a),s&&(w.ResponseContentEncoding=s),u&&(w.ResponseContentLanguage=u),c&&(w.ResponseContentType=c),d&&(w.SSECustomerAlgorithm=d),p&&(w.SSECustomerKey=p),h&&(w.SSECustomerKeyMD5=h),!0!==o)return[3,5];S=new mk(w),P.label=2;case 2:return P.trys.push([2,4,,5]),v&&("function"==typeof v?g.on(TR,(function(e){v(e)})):UD.warn("progressCallback should be a function, not a "+typeof v)),[4,b.send(S)];case 3:return E=P.sent(),g.removeAllListeners(TR),RR(f,"download",{method:"get",result:"success"},{fileSize:Number(E.Body.size||E.Body.length)},"Download success for "+e),[2,E];case 4:throw _=P.sent(),RR(f,"download",{method:"get",result:"failed"},null,"Download failed with "+_.message),_;case 5:return P.trys.push([5,8,,9]),x=new vR(Gx({},b.config)),[4,Tk(b,new mk(w))];case 6:return T=P.sent(),A=Ek,[4,x.presign(T,{expiresIn:l||900})];case 7:return I=A.apply(void 0,[P.sent()]),RR(f,"getSignedUrl",{method:"get",result:"success"},null,"Signed URL: "+I),[2,I];case 8:throw C=P.sent(),UD.warn("get signed url error",C),RR(f,"getSignedUrl",{method:"get",result:"failed"},null,"Could not get a signed URL for "+e),C;case 9:return[2]}}))}))},e.prototype.put=function(e,t,n){var r=Object.assign({},this._config,n),o=r.bucket,i=r.track,a=r.progressCallback,s=r.level,u=r.resumable,c=r.contentType,l=r.contentDisposition,f=r.contentEncoding,d=r.cacheControl,p=r.expires,h=r.metadata,v=r.tagging,y=r.acl,m=r.serverSideEncryption,g=r.SSECustomerAlgorithm,b=r.SSECustomerKey,w=r.SSECustomerKeyMD5,S=r.SSEKMSKeyId,E={Bucket:o,Key:e,Body:t,ContentType:c||"binary/octet-stream"};d&&(E.CacheControl=d),l&&(E.ContentDisposition=l),f&&(E.ContentEncoding=f),p&&(E.Expires=p),h&&(E.Metadata=h),v&&(E.Tagging=v),m&&(E.ServerSideEncryption=m),g&&(E.SSECustomerAlgorithm=g),b&&(E.SSECustomerKey=b),w&&(E.SSECustomerKeyMD5=w),S&&(E.SSEKMSKeyId=S);var _=new RD.EventEmitter,x=new LD(E,r,_);if(y&&(E.ACL=y),!0===u){var T=this._createNewS3Client(r);T.middlewareStack.add(gD(r,e),SD);var I={bucket:o,key:e,s3Client:T,file:t,emitter:_,accessLevel:s,params:E};return this.startResumableUpload(I,n)}try{return a&&("function"==typeof a?_.on(xR,(function(e){a(e)})):UD.warn("progressCallback should be a function, not a "+typeof a)),x.upload().then((function(t){return UD.debug("upload result",t),RR(i,"upload",{method:"put",result:"success"},null,"Upload success for "+e),{key:e}}))}catch(t){throw UD.warn("error uploading",t),RR(i,"upload",{method:"put",result:"failed"},null,"Error uploading "+e),t}},e.prototype.remove=function(e,t){return Hx(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return Vx(this,(function(f){switch(f.label){case 0:return[4,this._ensureCredentials()];case 1:if(!f.sent()||!this._isWithCredentials(this._config))throw new Error(yR.NO_CREDENTIALS);n=Object.assign({},this._config,t),r=n.bucket,o=n.track,i=this._prefix(n),a=i+e,s=this._createNewS3Client(n),UD.debug("remove "+e+" from "+a),u=new gk({Bucket:r,Key:a}),f.label=2;case 2:return f.trys.push([2,4,,5]),[4,s.send(u)];case 3:return c=f.sent(),RR(o,"delete",{method:"remove",result:"success"},null,"Deleted "+e+" successfully"),[2,c];case 4:throw l=f.sent(),RR(o,"delete",{method:"remove",result:"failed"},null,"Deletion of "+e+" failed with "+l),l;case 5:return[2]}}))}))},e.prototype._list=function(e,t,n){return Hx(this,void 0,void 0,(function(){var r,o,i,a;return Vx(this,(function(s){switch(s.label){case 0:return r={results:[],hasNextToken:!1},o=this._createNewS3Client(t),i=new bk(Gx({},e)),[4,o.send(i)];case 1:return(a=s.sent())&&a.Contents&&(r.results=a.Contents.map((function(e){return{key:e.Key.substr(n.length),eTag:e.ETag,lastModified:e.LastModified,size:e.Size}})),r.nextToken=a.NextContinuationToken,r.hasNextToken=a.IsTruncated),[2,r]}}))}))},e.prototype.list=function(e,t){return Hx(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v;return Vx(this,(function(y){switch(y.label){case 0:return[4,this._ensureCredentials()];case 1:if(!y.sent()||!this._isWithCredentials(this._config))throw new Error(yR.NO_CREDENTIALS);n=Object.assign({},this._config,t),r=n.bucket,o=n.track,i=n.pageSize,a=n.nextToken,s=this._prefix(n),u=s+e,UD.debug("list "+e+" from "+u),y.label=2;case 2:if(y.trys.push([2,10,,11]),c={results:[],hasNextToken:!1},f=void 0,(d={Bucket:r,Prefix:u,MaxKeys:l=1e3,ContinuationToken:a}).ContinuationToken=a,"ALL"!==i)return[3,7];y.label=3;case 3:return[4,this._list(d,n,s)];case 4:f=y.sent(),(h=c.results).push.apply(h,Wx(f.results)),f.nextToken&&(d.ContinuationToken=f.nextToken),y.label=5;case 5:if(f.nextToken)return[3,3];y.label=6;case 6:return[3,9];case 7:return i&&i<=l&&"number"==typeof i?d.MaxKeys=i:UD.warn("pageSize should be from 0 - "+l+"."),[4,this._list(d,n,s)];case 8:f=y.sent(),(v=c.results).push.apply(v,Wx(f.results)),c.hasNextToken=f.hasNextToken,c.nextToken=f.nextToken,y.label=9;case 9:return RR(o,"list",{method:"list",result:"success"},null,c.results.length+" items returned from list operation"),UD.debug("list",c),[2,c];case 10:throw p=y.sent(),UD.error("list InvalidArgument",p),RR(o,"list",{method:"list",result:"failed"},null,"Listing items failed: "+p.message),p;case 11:return[2]}}))}))},e.prototype._ensureCredentials=function(){return Hx(this,void 0,void 0,(function(){var e,t,n;return Vx(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,fs.get()];case 1:return(e=r.sent())?(t=fs.shear(e),UD.debug("set credentials for storage",t),this._config.credentials=t,[2,!0]):[2,!1];case 2:return n=r.sent(),UD.warn("ensure credentials error",n),[2,!1];case 3:return[2]}}))}))},e.prototype._isWithCredentials=function(e){return"object"==typeof e&&e.hasOwnProperty("credentials")},e.prototype._prefix=function(e){var t=e.credentials,n=e.level,r=e.customPrefix||{},o=e.identityId||t.identityId,i=(void 0!==r.private?r.private:"private/")+o+"/",a=(void 0!==r.protected?r.protected:"protected/")+o+"/",s=void 0!==r.public?r.public:"public/";switch(n){case"private":return i;case"protected":return a;default:return s}},e.prototype._createNewS3Client=function(e,t){var n=_D(e,t);return n.middlewareStack.add(bD(n.config),wD),n},e.CATEGORY="Storage",e.PROVIDER_NAME="AWSS3",e}(),BD=new c("StorageClass"),qD=new c("Storage"),KD="AWSS3",GD=function(){function e(){this._config={},this._pluggables=[],this._cancelTokenSourceMap=new WeakMap,BD.debug("Storage Options",this._config),this.get=this.get.bind(this),this.put=this.put.bind(this),this.remove=this.remove.bind(this),this.list=this.list.bind(this)}return e.prototype.getModuleName=function(){return"Storage"},e.prototype.addPluggable=function(e){if(e&&"Storage"===e.getCategory())return this._pluggables.push(e),e.configure(this._config[e.getProviderName()])},e.prototype.getPluggable=function(e){var t=this._pluggables.find((function(t){return t.getProviderName()===e}));return void 0===t?(BD.debug("No plugin found with providerName",e),null):t},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.configure=function(e){var t,n=this;if(BD.debug("configure Storage"),!e)return this._config;var r=null!==(t=T(e).Storage)&&void 0!==t?t:{},o=["bucket","region","level","track","customPrefix","serverSideEncryption","SSECustomerAlgorithm","SSECustomerKey","SSECustomerKeyMD5","SSEKMSKeyId"];return function(e){return Object.keys(e).find((function(e){return o.includes(e)}))}(r)&&!r[KD]&&(r[KD]={}),Object.entries(r).forEach((function(e){var t=$x(e,2),n=t[0],i=t[1];n&&o.includes(n)&&void 0!==i&&(r[KD][n]=i,delete r[n])})),Object.keys(r).forEach((function(e){"string"!=typeof r[e]&&(n._config[e]=Gx(Gx({},n._config[e]),r[e]))})),this._pluggables.forEach((function(e){e.configure(n._config[e.getProviderName()])})),0===this._pluggables.length&&this.addPluggable(new zD),this._config},e.prototype.getCancellableTokenSource=function(){return ER().CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenSourceMap.set(e,t)},e.prototype.isUploadTask=function(e){return void 0!==e&&"function"==typeof e.pause&&"function"==typeof e.resume},e.prototype.cancel=function(e,t){if(e instanceof jD)return e._cancel();var n=this._cancelTokenSourceMap.get(e);n?n.cancel(t):BD.debug("The request does not map to any cancel token")},e.prototype.copy=function(e,t,n){var r=(null==n?void 0:n.provider)||KD,o=this._pluggables.find((function(e){return e.getProviderName()===r}));if(void 0===o)return BD.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider");var i=this.getCancellableTokenSource();if("function"!=typeof o.copy)return Promise.reject(".copy is not implemented on provider "+o.getProviderName());var a=o.copy(e,t,Gx(Gx({},n),{cancelTokenSource:i}));return this.updateRequestToBeCancellable(a,i),a},e.prototype.get=function(e,t){var n=(null==t?void 0:t.provider)||KD,r=this._pluggables.find((function(e){return e.getProviderName()===n}));if(void 0===r)return BD.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider");var o=this.getCancellableTokenSource(),i=r.get(e,Gx(Gx({},t),{cancelTokenSource:o}));return this.updateRequestToBeCancellable(i,o),i},e.prototype.isCancelError=function(e){return ER().isCancel(e)},e.prototype.put=function(e,t,n){var r=(null==n?void 0:n.provider)||KD,o=this._pluggables.find((function(e){return e.getProviderName()===r}));if(void 0===o)return BD.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider");var i=this.getCancellableTokenSource(),a=o.put(e,t,Gx(Gx({},n),{cancelTokenSource:i}));return this.isUploadTask(a)||this.updateRequestToBeCancellable(a,i),a},e.prototype.remove=function(e,t){var n=(null==t?void 0:t.provider)||KD,r=this._pluggables.find((function(e){return e.getProviderName()===n}));return void 0===r?(BD.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):r.remove(e,t)},e.prototype.list=function(e,t){var n=(null==t?void 0:t.provider)||KD,r=this._pluggables.find((function(e){return e.getProviderName()===n}));return void 0===r?(BD.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):r.list(e,t)},e}(),HD=null,VD=function(){if(HD)return HD;qD.debug("Create Storage Instance, debug"),(HD=new GD).vault=new GD;var e=HD.configure;return HD.configure=function(t){qD.debug("storage configure called");var n=Gx({},e.call(HD,t));Object.keys(n).forEach((function(e){"string"!=typeof n[e]&&(n[e]=Gx(Gx({},n[e]),{level:"private"}))})),qD.debug("storage vault configure called"),HD.vault.configure(n)},HD}();d.register(VD);var $D=function(){return $D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$D.apply(this,arguments)};var WD=function(){return WD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},WD.apply(this,arguments)};function YD(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function ZD(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function JD(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var XD=new c("RestClient"),QD=function(){function e(e){this._region="us-east-1",this._service="execute-api",this._custom_header=void 0,this._cancelTokenMap=null,this.Credentials=fs,this._options=e,XD.debug("API Options",this._options),null==this._cancelTokenMap&&(this._cancelTokenMap=new WeakMap)}return e.prototype.ajax=function(e,t,n){return ZD(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f,d,p,h,v,y,m=this;return JD(this,(function(g){switch(g.label){case 0:return XD.debug(t,e),i="us-east-1",a="execute-api",s=void 0,"string"==typeof e?(r=this._parseUrl(e),o=e):(o=e.endpoint,s=e.custom_header,i=e.region,a=e.service,r=this._parseUrl(e.endpoint)),u={method:t,url:o,host:r.host,path:r.path,headers:{},data:null,responseType:"json",timeout:0,cancelToken:null},c={},ee.isReactNative&&(l=ee.userAgent||"aws-amplify/0.1.x",c={"User-Agent":l}),f=Object.assign({},n),d=f.response,f.body&&("function"==typeof FormData&&f.body instanceof FormData?(c["Content-Type"]="multipart/form-data",u.data=f.body):(c["Content-Type"]="application/json; charset=UTF-8",u.data=JSON.stringify(f.body))),f.responseType&&(u.responseType=f.responseType),f.withCredentials&&(u.withCredentials=f.withCredentials),f.timeout&&(u.timeout=f.timeout),f.cancellableToken&&(u.cancelToken=f.cancellableToken.token),u.signerServiceInfo=f.signerServiceInfo,"function"!=typeof s?[3,2]:[4,s()];case 1:return h=g.sent(),[3,3];case 2:h=void 0,g.label=3;case 3:return p=h,u.headers=WD(WD(WD({},c),p),f.headers),(v=(0,L.Qc)(o,!0,!0)).search,y=YD(v,["search"]),u.url=(0,L.WU)(WD(WD({},y),{query:WD(WD({},y.query),f.queryStringParameters||{})})),void 0!==u.headers.Authorization?(u.headers=Object.keys(u.headers).reduce((function(e,t){return u.headers[t]&&(e[t]=u.headers[t]),e}),{}),[2,this._request(u,d)]):[2,this.Credentials.get().then((function(r){return m._signed(WD({},u),r,d,{region:i,service:a}).catch((function(r){if(D.isClockSkewError(r)){var o=r.response.headers,i=o&&(o.date||o.Date),a=new Date(i),s=D.getDateFromHeaderString(u.headers["x-amz-date"]);if(D.isClockSkewed(a))return D.setClockOffset(a.getTime()-s.getTime()),m.ajax(e,t,n)}throw r}))}),(function(e){return XD.debug("No credentials available, the request will be unsigned"),m._request(u,d)}))]}}))}))},e.prototype.get=function(e,t){return this.ajax(e,"GET",t)},e.prototype.put=function(e,t){return this.ajax(e,"PUT",t)},e.prototype.patch=function(e,t){return this.ajax(e,"PATCH",t)},e.prototype.post=function(e,t){return this.ajax(e,"POST",t)},e.prototype.del=function(e,t){return this.ajax(e,"DELETE",t)},e.prototype.head=function(e,t){return this.ajax(e,"HEAD",t)},e.prototype.cancel=function(e,t){var n=this._cancelTokenMap.get(e);return!!n&&(n.cancel(t),!0)},e.prototype.hasCancelToken=function(e){return this._cancelTokenMap.has(e)},e.prototype.isCancel=function(e){return ER().isCancel(e)},e.prototype.getCancellableToken=function(){return ER().CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenMap.set(e,t)},e.prototype.endpoint=function(e){var t=this,n=this._options.endpoints,r="";return Array.isArray(n)?(n.forEach((function(n){n.name===e&&(r=n.endpoint,"string"==typeof n.region?t._region=n.region:"string"==typeof t._options.region&&(t._region=t._options.region),"string"==typeof n.service?t._service=n.service||"execute-api":t._service="execute-api","function"==typeof n.custom_header?t._custom_header=n.custom_header:t._custom_header=void 0)})),r):r},e.prototype._signed=function(e,t,n,r){var o=r.service,i=r.region,a=e.signerServiceInfo,s=YD(e,["signerServiceInfo"]),u=i||this._region||this._options.region,c=o||this._service||this._options.service,l={secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken},f={region:u,service:c},d=Object.assign(f,a),p=$.sign(s,l,d);return p.data&&(p.body=p.data),XD.debug("Signed Request: ",p),delete p.headers.host,ER()(p).then((function(e){return n?e:e.data})).catch((function(e){throw XD.debug(e),e}))},e.prototype._request=function(e,t){return void 0===t&&(t=!1),ER()(e).then((function(e){return t?e:e.data})).catch((function(e){throw XD.debug(e),e}))},e.prototype._parseUrl=function(e){var t=e.split("/");return{host:t[2],path:"/"+t.slice(3).join("/")}},e}(),eM=new c("RestAPI"),tM=function(){function e(e){this._api=null,this.Credentials=fs,this._options=e,eM.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"RestAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,o=YD(t,["API"]),i=WD(WD({},o),r);if(eM.debug("configure Rest API",{opt:i}),i.aws_project_region){if(i.aws_cloud_logic_custom){var a=i.aws_cloud_logic_custom;i.endpoints="string"==typeof a?JSON.parse(a):a}i=Object.assign({},i,{region:i.aws_project_region,header:{}})}return Array.isArray(i.endpoints)?i.endpoints.forEach((function(e){void 0!==e.custom_header&&"function"!=typeof e.custom_header&&(eM.warn("Rest API "+e.name+", custom_header should be a function"),e.custom_header=void 0)})):this._options&&Array.isArray(this._options.endpoints)?i.endpoints=this._options.endpoints:i.endpoints=[],this._options=Object.assign({},this._options,i),this.createInstance(),this._options},e.prototype.createInstance=function(){return eM.debug("create Rest API instance"),this._api=new QD(this._options),this._api.Credentials=this.Credentials,!0},e.prototype.get=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.get(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.post=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.post(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.put=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.put(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.patch=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.patch(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.del=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.del(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.head=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.head(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.hasCancelToken=function(e){return this._api.hasCancelToken(e)},e.prototype.endpoint=function(e){return ZD(this,void 0,void 0,(function(){return JD(this,(function(t){return[2,this._api.endpoint(e)]}))}))},e.prototype.getEndpointInfo=function(e,t){var n=this._options.endpoints;if(!Array.isArray(n))throw new Error("API category not configured");var r=n.find((function(t){return t.name===e}));if(!r)throw new Error("API "+e+" does not exist");var o={endpoint:r.endpoint+t};return"string"==typeof r.region?o.region=r.region:"string"==typeof this._options.region&&(o.region=this._options.region),"string"==typeof r.service?o.service=r.service||"execute-api":o.service="execute-api","function"==typeof r.custom_header?o.custom_header=r.custom_header:o.custom_header=void 0,o},e}(),nM=new tM(null);d.register(nM);var rM=function(){return rM=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},rM.apply(this,arguments)};function oM(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function iM(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function aM(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function sM(e){return sM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sM(e)}"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var uM="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function cM(e,t){for(var n,r=/\r\n|[\n\r]/g,o=1,i=t+1;(n=r.exec(e.body))&&n.index<t;)o+=1,i=t+1-(n.index+n[0].length);return{line:o,column:i}}function lM(e){return fM(e.source,cM(e.source,e.start))}function fM(e,t){var n=e.locationOffset.column-1,r=pM(n)+e.body,o=t.line-1,i=e.locationOffset.line-1,a=t.line+i,s=1===t.line?n:0,u=t.column+s,c="".concat(e.name,":").concat(a,":").concat(u,"\n"),l=r.split(/\r\n|[\n\r]/g),f=l[o];if(f.length>120){for(var d=Math.floor(u/80),p=u%80,h=[],v=0;v<f.length;v+=80)h.push(f.slice(v,v+80));return c+dM([["".concat(a),h[0]]].concat(h.slice(1,d+1).map((function(e){return["",e]})),[[" ",pM(p-1)+"^"],["",h[d+1]]]))}return c+dM([["".concat(a-1),l[o-1]],["".concat(a),f],["",pM(u-1)+"^"],["".concat(a+1),l[o+1]]])}function dM(e){var t=e.filter((function(e){return e[0],void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],o=e[1];return pM(n-(t=r).length)+t+(o?" | "+o:" |")})).join("\n")}function pM(e){return Array(e+1).join(" ")}function hM(e){return hM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hM(e)}function vM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gM(e,t){return!t||"object"!==hM(t)&&"function"!=typeof t?bM(e):t}function bM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wM(e){var t="function"==typeof Map?new Map:void 0;return wM=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return SM(e,arguments,xM(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_M(r,e)},wM(e)}function SM(e,t,n){return SM=EM()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&_M(o,n.prototype),o},SM.apply(null,arguments)}function EM(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _M(e,t){return _M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_M(e,t)}function xM(e){return xM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xM(e)}var TM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_M(e,t)}(a,e);var t,n,r,o,i=(t=a,n=EM(),function(){var e,r=xM(t);if(n){var o=xM(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return gM(this,e)});function a(e,t,n,r,o,s,u){var c,l,f,d;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(d=i.call(this,e)).name="GraphQLError",d.originalError=null!=s?s:void 0,d.nodes=IM(Array.isArray(t)?t:t?[t]:void 0);for(var p=[],h=0,v=null!==(y=d.nodes)&&void 0!==y?y:[];h<v.length;h++){var y,m=v[h].loc;null!=m&&p.push(m)}p=IM(p),d.source=null!=n?n:null===(c=p)||void 0===c?void 0:c[0].source,d.positions=null!=r?r:null===(l=p)||void 0===l?void 0:l.map((function(e){return e.start})),d.locations=r&&n?r.map((function(e){return cM(n,e)})):null===(f=p)||void 0===f?void 0:f.map((function(e){return cM(e.source,e.start)})),d.path=null!=o?o:void 0;var g,b=null==s?void 0:s.extensions;return null==u&&"object"==sM(g=b)&&null!==g?d.extensions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vM(Object(n),!0).forEach((function(t){yM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b):d.extensions=null!=u?u:{},Object.defineProperties(bM(d),{message:{enumerable:!0},locations:{enumerable:null!=d.locations},path:{enumerable:null!=d.path},extensions:{enumerable:null!=d.extensions&&Object.keys(d.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=s&&s.stack?(Object.defineProperty(bM(d),"stack",{value:s.stack,writable:!0,configurable:!0}),gM(d)):(Error.captureStackTrace?Error.captureStackTrace(bM(d),a):Object.defineProperty(bM(d),"stack",{value:Error().stack,writable:!0,configurable:!0}),d)}return r=a,(o=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var o=r[n];o.loc&&(t+="\n\n"+lM(o.loc))}else if(e.source&&e.locations)for(var i=0,a=e.locations;i<a.length;i++){var s=a[i];t+="\n\n"+fM(e.source,s)}return t}(this)}},{key:uM,get:function(){return"Object"}}])&&mM(r.prototype,o),a}(wM(Error));function IM(e){return void 0===e||0===e.length?void 0:e}function AM(e,t,n){return new TM("Syntax Error: ".concat(n),void 0,e,[t])}var CM=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});const PM="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function OM(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(0))throw new Error("Unexpected invariant triggered.")}(),e.prototype.inspect=t,PM&&(e.prototype[PM]=t)}var kM=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();OM(kM);var RM=function(){function e(e,t,n,r,o,i,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=o,this.value=a,this.prev=i,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function NM(e){return null!=e&&"string"==typeof e.kind}OM(RM);var LM=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function DM(e){return DM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DM(e)}function MM(e){return jM(e,[])}function jM(e,t){switch(DM(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(PM)];return"function"==typeof t?t:"function"==typeof e.inspect?e.inspect:void 0}(e);if(void 0!==r){var o=r.call(e);if(o!==e)return"string"==typeof o?o:jM(o,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,o=[],i=0;i<n;++i)o.push(jM(e[i],t));return 1===r?o.push("... 1 more item"):r>1&&o.push("... ".concat(r," more items")),"["+o.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);return 0===n.length?"{}":t.length>2?"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]":"{ "+n.map((function(n){return n+": "+jM(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function UM(e,t){if(!Boolean(e))throw new Error(t)}function FM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zM=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||UM(0,"Body must be a string. Received: ".concat(MM(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||UM(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||UM(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n;return t=e,(n=[{key:uM,get:function(){return"Source"}}])&&FM(t.prototype,n),e}(),BM=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function qM(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,r=!0,o=0,i=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:10===e.charCodeAt(a+1)&&++a;case 10:n=!1,r=!0,o=0;break;case 9:case 32:++o;break;default:r&&!n&&(null===i||o<i)&&(i=o),r=!1}return null!==(t=i)&&void 0!==t?t:0}(e);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(var o=0;o<t.length&&KM(t[o]);)++o;for(var i=t.length;i>o&&KM(t[i-1]);)--i;return t.slice(o,i).join("\n")}function KM(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}var GM=function(){function e(e){var t=new RM(LM.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==LM.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=VM(this,e)}while(e.kind===LM.COMMENT);return e},e}();function HM(e){return isNaN(e)?LM.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function VM(e,t){for(var n=e.source,r=n.body,o=r.length,i=t.end;i<o;){var a=r.charCodeAt(i),s=e.line,u=1+i-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:10===r.charCodeAt(i+1)?i+=2:++i,++e.line,e.lineStart=i;continue;case 33:return new RM(LM.BANG,i,i+1,s,u,t);case 35:return WM(n,i,s,u,t);case 36:return new RM(LM.DOLLAR,i,i+1,s,u,t);case 38:return new RM(LM.AMP,i,i+1,s,u,t);case 40:return new RM(LM.PAREN_L,i,i+1,s,u,t);case 41:return new RM(LM.PAREN_R,i,i+1,s,u,t);case 46:if(46===r.charCodeAt(i+1)&&46===r.charCodeAt(i+2))return new RM(LM.SPREAD,i,i+3,s,u,t);break;case 58:return new RM(LM.COLON,i,i+1,s,u,t);case 61:return new RM(LM.EQUALS,i,i+1,s,u,t);case 64:return new RM(LM.AT,i,i+1,s,u,t);case 91:return new RM(LM.BRACKET_L,i,i+1,s,u,t);case 93:return new RM(LM.BRACKET_R,i,i+1,s,u,t);case 123:return new RM(LM.BRACE_L,i,i+1,s,u,t);case 124:return new RM(LM.PIPE,i,i+1,s,u,t);case 125:return new RM(LM.BRACE_R,i,i+1,s,u,t);case 34:return 34===r.charCodeAt(i+1)&&34===r.charCodeAt(i+2)?XM(n,i,s,u,t,e):JM(n,i,s,u,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return YM(n,i,a,s,u,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return tj(n,i,s,u,t)}throw AM(n,i,$M(a))}var c=e.line,l=1+i-e.lineStart;return new RM(LM.EOF,o,o,c,l,t)}function $M(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(HM(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(HM(e),".")}function WM(e,t,n,r,o){var i,a=e.body,s=t;do{i=a.charCodeAt(++s)}while(!isNaN(i)&&(i>31||9===i));return new RM(LM.COMMENT,t,s,n,r,o,a.slice(t+1,s))}function YM(e,t,n,r,o,i){var a=e.body,s=n,u=t,c=!1;if(45===s&&(s=a.charCodeAt(++u)),48===s){if((s=a.charCodeAt(++u))>=48&&s<=57)throw AM(e,u,"Invalid number, unexpected digit after 0: ".concat(HM(s),"."))}else u=ZM(e,u,s),s=a.charCodeAt(u);if(46===s&&(c=!0,s=a.charCodeAt(++u),u=ZM(e,u,s),s=a.charCodeAt(u)),69!==s&&101!==s||(c=!0,43!==(s=a.charCodeAt(++u))&&45!==s||(s=a.charCodeAt(++u)),u=ZM(e,u,s),s=a.charCodeAt(u)),46===s||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(s))throw AM(e,u,"Invalid number, expected digit but got: ".concat(HM(s),"."));return new RM(c?LM.FLOAT:LM.INT,t,u,r,o,i,a.slice(t,u))}function ZM(e,t,n){var r=e.body,o=t,i=n;if(i>=48&&i<=57){do{i=r.charCodeAt(++o)}while(i>=48&&i<=57);return o}throw AM(e,o,"Invalid number, expected digit but got: ".concat(HM(i),"."))}function JM(e,t,n,r,o){for(var i=e.body,a=t+1,s=a,u=0,c="";a<i.length&&!isNaN(u=i.charCodeAt(a))&&10!==u&&13!==u;){if(34===u)return c+=i.slice(s,a),new RM(LM.STRING,t,a+1,n,r,o,c);if(u<32&&9!==u)throw AM(e,a,"Invalid character within String: ".concat(HM(u),"."));if(++a,92===u){switch(c+=i.slice(s,a-1),u=i.charCodeAt(a)){case 34:c+='"';break;case 47:c+="/";break;case 92:c+="\\";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+="\n";break;case 114:c+="\r";break;case 116:c+="\t";break;case 117:var l=QM(i.charCodeAt(a+1),i.charCodeAt(a+2),i.charCodeAt(a+3),i.charCodeAt(a+4));if(l<0){var f=i.slice(a+1,a+5);throw AM(e,a,"Invalid character escape sequence: \\u".concat(f,"."))}c+=String.fromCharCode(l),a+=4;break;default:throw AM(e,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(u),"."))}s=++a}}throw AM(e,a,"Unterminated string.")}function XM(e,t,n,r,o,i){for(var a=e.body,s=t+3,u=s,c=0,l="";s<a.length&&!isNaN(c=a.charCodeAt(s));){if(34===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return l+=a.slice(u,s),new RM(LM.BLOCK_STRING,t,s+3,n,r,o,qM(l));if(c<32&&9!==c&&10!==c&&13!==c)throw AM(e,s,"Invalid character within String: ".concat(HM(c),"."));10===c?(++s,++i.line,i.lineStart=s):13===c?(10===a.charCodeAt(s+1)?s+=2:++s,++i.line,i.lineStart=s):92===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(l+=a.slice(u,s)+'"""',u=s+=4):++s}throw AM(e,s,"Unterminated string.")}function QM(e,t,n,r){return ej(e)<<12|ej(t)<<8|ej(n)<<4|ej(r)}function ej(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function tj(e,t,n,r,o){for(var i=e.body,a=i.length,s=t+1,u=0;s!==a&&!isNaN(u=i.charCodeAt(s))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++s;return new RM(LM.NAME,t,s,n,r,o,i.slice(t,s))}function nj(e,t){return new rj(e,t).parseDocument()}var rj=function(){function e(e,t){var n=function(e){return e instanceof zM}(e)?e:new zM(e);this._lexer=new GM(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(LM.NAME);return{kind:CM.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:CM.DOCUMENT,definitions:this.many(LM.SOF,this.parseDefinition,LM.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(LM.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(LM.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(LM.BRACE_L))return{kind:CM.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(LM.NAME)&&(t=this.parseName()),{kind:CM.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(LM.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(LM.PAREN_L,this.parseVariableDefinition,LM.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:CM.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(LM.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(LM.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(LM.DOLLAR),{kind:CM.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:CM.SELECTION_SET,selections:this.many(LM.BRACE_L,this.parseSelection,LM.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(LM.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(LM.COLON)?(e=r,t=this.parseName()):t=r,{kind:CM.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(LM.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(LM.PAREN_L,t,LM.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(LM.COLON),{kind:CM.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:CM.ARGUMENT,name:this.parseName(),value:(this.expectToken(LM.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(LM.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(LM.NAME)?{kind:CM.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:CM.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:CM.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:CM.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case LM.BRACKET_L:return this.parseList(e);case LM.BRACE_L:return this.parseObject(e);case LM.INT:return this._lexer.advance(),{kind:CM.INT,value:t.value,loc:this.loc(t)};case LM.FLOAT:return this._lexer.advance(),{kind:CM.FLOAT,value:t.value,loc:this.loc(t)};case LM.STRING:case LM.BLOCK_STRING:return this.parseStringLiteral();case LM.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:CM.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:CM.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:CM.NULL,loc:this.loc(t)};default:return{kind:CM.ENUM,value:t.value,loc:this.loc(t)}}case LM.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:CM.STRING,value:e.value,block:e.kind===LM.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:CM.LIST,values:this.any(LM.BRACKET_L,(function(){return t.parseValueLiteral(e)}),LM.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:CM.OBJECT,fields:this.any(LM.BRACE_L,(function(){return t.parseObjectField(e)}),LM.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(LM.COLON),{kind:CM.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(LM.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(LM.AT),{kind:CM.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(LM.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(LM.BRACKET_R),e={kind:CM.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(LM.BANG)?{kind:CM.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:CM.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===LM.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(LM.STRING)||this.peek(LM.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(LM.BRACE_L,this.parseOperationTypeDefinition,LM.BRACE_R);return{kind:CM.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(LM.COLON);var n=this.parseNamedType();return{kind:CM.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:CM.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),i=this.parseFieldsDefinition();return{kind:CM.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:o,fields:i,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(LM.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(LM.AMP)||this.peek(LM.NAME));return t}return this.delimitedMany(LM.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(LM.BRACE_L)&&this._lexer.lookahead().kind===LM.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(LM.BRACE_L,this.parseFieldDefinition,LM.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(LM.COLON);var o=this.parseTypeReference(),i=this.parseDirectives(!0);return{kind:CM.FIELD_DEFINITION,description:t,name:n,arguments:r,type:o,directives:i,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(LM.PAREN_L,this.parseInputValueDef,LM.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(LM.COLON);var r,o=this.parseTypeReference();this.expectOptionalToken(LM.EQUALS)&&(r=this.parseValueLiteral(!0));var i=this.parseDirectives(!0);return{kind:CM.INPUT_VALUE_DEFINITION,description:t,name:n,type:o,defaultValue:r,directives:i,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),i=this.parseFieldsDefinition();return{kind:CM.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:o,fields:i,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),o=this.parseUnionMemberTypes();return{kind:CM.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:o,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(LM.EQUALS)?this.delimitedMany(LM.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();return{kind:CM.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:o,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(LM.BRACE_L,this.parseEnumValueDefinition,LM.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:CM.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();return{kind:CM.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:o,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(LM.BRACE_L,this.parseInputValueDef,LM.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===LM.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(LM.BRACE_L,this.parseOperationTypeDefinition,LM.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:CM.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:CM.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===o.length)throw this.unexpected();return{kind:CM.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:o,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===o.length)throw this.unexpected();return{kind:CM.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:o,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:CM.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:CM.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:CM.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(LM.AT);var n=this.parseName(),r=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var i=this.parseDirectiveLocations();return{kind:CM.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:o,locations:i,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(LM.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==BM[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new kM(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw AM(this._lexer.source,t.start,"Expected ".concat(ij(e),", found ").concat(oj(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==LM.NAME||t.value!==e)throw AM(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(oj(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===LM.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return AM(this._lexer.source,t.start,"Unexpected ".concat(oj(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function oj(e){var t=e.value;return ij(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function ij(e){return function(e){return e===LM.BANG||e===LM.DOLLAR||e===LM.AMP||e===LM.PAREN_L||e===LM.PAREN_R||e===LM.SPREAD||e===LM.COLON||e===LM.EQUALS||e===LM.AT||e===LM.BRACKET_L||e===LM.BRACKET_R||e===LM.BRACE_L||e===LM.PIPE||e===LM.BRACE_R}(e)?'"'.concat(e,'"'):e}var aj={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},sj=Object.freeze({});function uj(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var o=n?r.leave:r.enter;if("function"==typeof o)return o}else{var i=n?e.leave:e.enter;if(i){if("function"==typeof i)return i;var a=i[t];if("function"==typeof a)return a}}}function cj(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:aj,r=void 0,o=Array.isArray(e),i=[e],a=-1,s=[],u=void 0,c=void 0,l=void 0,f=[],d=[],p=e;do{var h=++a===i.length,v=h&&0!==s.length;if(h){if(c=0===d.length?void 0:f[f.length-1],u=l,l=d.pop(),v){if(o)u=u.slice();else{for(var y={},m=0,g=Object.keys(u);m<g.length;m++){var b=g[m];y[b]=u[b]}u=y}for(var w=0,S=0;S<s.length;S++){var E=s[S][0],_=s[S][1];o&&(E-=w),o&&null===_?(u.splice(E,1),w++):u[E]=_}}a=r.index,i=r.keys,s=r.edits,o=r.inArray,r=r.prev}else{if(c=l?o?a:i[a]:void 0,null==(u=l?l[c]:p))continue;l&&f.push(c)}var x,T=void 0;if(!Array.isArray(u)){if(!NM(u))throw new Error("Invalid AST Node: ".concat(MM(u),"."));var I=uj(t,u.kind,h);if(I){if((T=I.call(t,u,c,l,f,d))===sj)break;if(!1===T){if(!h){f.pop();continue}}else if(void 0!==T&&(s.push([c,T]),!h)){if(!NM(T)){f.pop();continue}u=T}}}void 0===T&&v&&s.push([c,u]),h?f.pop():(r={inArray:o,index:a,keys:i,edits:s,prev:r},i=(o=Array.isArray(u))?u:null!==(x=n[u.kind])&&void 0!==x?x:[],a=-1,s=[],l&&d.push(l),l=u)}while(void 0!==r);return 0!==s.length&&(p=s[s.length-1][1]),p}(e,{leave:lj})}var lj={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return dj(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=hj("(",dj(e.variableDefinitions,", "),")"),o=dj(e.directives," "),i=e.selectionSet;return n||o||r||"query"!==t?dj([t,dj([n,r]),o,i]," "):i},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,o=e.directives;return t+": "+n+hj(" = ",r)+hj(" ",dj(o," "))},SelectionSet:function(e){return pj(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,o=e.directives,i=e.selectionSet,a=hj("",t,": ")+n,s=a+hj("(",dj(r,", "),")");return s.length>80&&(s=a+hj("(\n",vj(dj(r,"\n")),"\n)")),dj([s,dj(o," "),i]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+hj(" ",dj(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return dj(["...",hj("on ",t),dj(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,o=e.directives,i=e.selectionSet;return"fragment ".concat(t).concat(hj("(",dj(r,", "),")")," ")+"on ".concat(n," ").concat(hj("",dj(o," ")," "))+i},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),o=" "===e[0]||"\t"===e[0],i='"'===e[e.length-1],a="\\"===e[e.length-1],s=!r||i||a||n,u="";return!s||r&&o||(u+="\n"+t),u+=t?e.replace(/\n/g,"\n"+t):e,s&&(u+="\n"),'"""'+u.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+dj(e.values,", ")+"]"},ObjectValue:function(e){return"{"+dj(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+hj("(",dj(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:fj((function(e){var t=e.directives,n=e.operationTypes;return dj(["schema",dj(t," "),pj(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:fj((function(e){return dj(["scalar",e.name,dj(e.directives," ")]," ")})),ObjectTypeDefinition:fj((function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return dj(["type",t,hj("implements ",dj(n," & ")),dj(r," "),pj(o)]," ")})),FieldDefinition:fj((function(e){var t=e.name,n=e.arguments,r=e.type,o=e.directives;return t+(mj(n)?hj("(\n",vj(dj(n,"\n")),"\n)"):hj("(",dj(n,", "),")"))+": "+r+hj(" ",dj(o," "))})),InputValueDefinition:fj((function(e){var t=e.name,n=e.type,r=e.defaultValue,o=e.directives;return dj([t+": "+n,hj("= ",r),dj(o," ")]," ")})),InterfaceTypeDefinition:fj((function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return dj(["interface",t,hj("implements ",dj(n," & ")),dj(r," "),pj(o)]," ")})),UnionTypeDefinition:fj((function(e){var t=e.name,n=e.directives,r=e.types;return dj(["union",t,dj(n," "),r&&0!==r.length?"= "+dj(r," | "):""]," ")})),EnumTypeDefinition:fj((function(e){var t=e.name,n=e.directives,r=e.values;return dj(["enum",t,dj(n," "),pj(r)]," ")})),EnumValueDefinition:fj((function(e){return dj([e.name,dj(e.directives," ")]," ")})),InputObjectTypeDefinition:fj((function(e){var t=e.name,n=e.directives,r=e.fields;return dj(["input",t,dj(n," "),pj(r)]," ")})),DirectiveDefinition:fj((function(e){var t=e.name,n=e.arguments,r=e.repeatable,o=e.locations;return"directive @"+t+(mj(n)?hj("(\n",vj(dj(n,"\n")),"\n)"):hj("(",dj(n,", "),")"))+(r?" repeatable":"")+" on "+dj(o," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return dj(["extend schema",dj(t," "),pj(n)]," ")},ScalarTypeExtension:function(e){return dj(["extend scalar",e.name,dj(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return dj(["extend type",t,hj("implements ",dj(n," & ")),dj(r," "),pj(o)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return dj(["extend interface",t,hj("implements ",dj(n," & ")),dj(r," "),pj(o)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return dj(["extend union",t,dj(n," "),r&&0!==r.length?"= "+dj(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return dj(["extend enum",t,dj(n," "),pj(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return dj(["extend input",t,dj(n," "),pj(r)]," ")}};function fj(e){return function(t){return dj([t.description,e(t)],"\n")}}function dj(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function pj(e){return hj("{\n",vj(dj(e,"\n")),"\n}")}function hj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function vj(e){return hj("  ",e.replace(/\n/g,"\n  "))}function yj(e){return-1!==e.indexOf("\n")}function mj(e){return null!=e&&e.some(yj)}var gj="undefined"!=typeof Symbol&&"function"==typeof Symbol.for,bj=(gj&&Symbol.for("INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER"),gj?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"),wj=function(e,t){return wj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},wj(e,t)},Sj=function(){return Sj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Sj.apply(this,arguments)};function Ej(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function _j(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var xj=n(9329);const Tj=n.n(xj)();var Ij=n(5408),Aj=new c("I18n"),Cj=function(){function e(e){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},e),this._lang=this._options.language,!this._lang&&"undefined"!=typeof window&&window&&window.navigator&&(this._lang=window.navigator.language),Aj.debug(this._lang)}return e.prototype.setLanguage=function(e){this._lang=e},e.prototype.get=function(e,t){if(void 0===t&&(t=void 0),!this._lang)return void 0!==t?t:e;var n=this._lang,r=this.getByLanguage(e,n);return r||(n.indexOf("-")>0&&(r=this.getByLanguage(e,n.split("-")[0])),r||(void 0!==t?t:e))},e.prototype.getByLanguage=function(e,t,n){if(void 0===n&&(n=null),!t)return n;var r=this._dict[t];return r?r[e]:n},e.prototype.putVocabulariesForLanguage=function(e,t){var n=this._dict[e];n||(n=this._dict[e]={}),Object.assign(n,t)},e.prototype.putVocabularies=function(e){var t=this;Object.keys(e).map((function(n){t.putVocabulariesForLanguage(n,e[n])}))},e}(),Pj=new c("I18n"),Oj=null,kj=null,Rj=function(){function e(){}return e.configure=function(t){return Pj.debug("configure I18n"),t?(Oj=Object.assign({},Oj,t.I18n||t),e.createInstance(),Oj):Oj},e.getModuleName=function(){return"I18n"},e.createInstance=function(){Pj.debug("create I18n instance"),kj||(kj=new Cj(Oj))},e.setLanguage=function(t){return e.checkConfig(),kj.setLanguage(t)},e.get=function(t,n){return e.checkConfig()?kj.get(t,n):void 0===n?t:n},e.putVocabulariesForLanguage=function(t,n){return e.checkConfig(),kj.putVocabulariesForLanguage(t,n)},e.putVocabularies=function(t){return e.checkConfig(),kj.putVocabularies(t)},e.checkConfig=function(){return kj||(kj=new Cj(Oj)),!0},e}();d.register(Rj);var Nj,Lj,Dj={userAgent:ee.userAgent},Mj=new c("AbstractPubSubProvider"),jj=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=Sj(Sj({},e),this._config),Mj.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"PubSub"},Object.defineProperty(e.prototype,"options",{get:function(){return Sj({},this._config)},enumerable:!0,configurable:!0}),e}();!function(e){e.CONNECTION_CLOSED="Connection closed",e.CONNECTION_FAILED="Connection failed",e.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",e.SUBSCRIPTION_ACK="Subscription ack",e.TIMEOUT_DISCONNECT="Timeout disconnect"}(Nj||(Nj={})),function(e){e.Connected="Connected",e.ConnectedPendingNetwork="ConnectedPendingNetwork",e.ConnectionDisrupted="ConnectionDisrupted",e.ConnectionDisruptedPendingNetwork="ConnectionDisruptedPendingNetwork",e.Connecting="Connecting",e.ConnectedPendingDisconnect="ConnectedPendingDisconnect",e.Disconnected="Disconnected",e.ConnectedPendingKeepAlive="ConnectedPendingKeepAlive"}(Lj||(Lj={}));var Uj,Fj,zj,Bj=[400,401,403];!function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.GQL_DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error"}(Uj||(Uj={})),function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"}(Fj||(Fj={})),function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"}(zj||(zj={}));var qj="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Kj={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},Gj=3e5,Hj=function(){function e(){}return e.prototype.networkMonitor=function(t){if(Y().isNode)return Tj.from([{online:!0}]);var n=W()?self:window;return new Tj((function(t){t.next({online:n.navigator.onLine});var r=function(){return t.next({online:!0})},o=function(){return t.next({online:!1})};return n.addEventListener("online",r),n.addEventListener("offline",o),e._observers.push(t),function(){n.removeEventListener("online",r),n.removeEventListener("offline",o),e._observers=e._observers.filter((function(e){return e!==t}))}}))},e._observerOverride=function(t){var n,r,i=function(n){if(n.closed)return e._observers=e._observers.filter((function(e){return e!==n})),"continue";n.next(t)};try{for(var a=(0,o.__values)(e._observers),s=a.next();!s.done;s=a.next())i(s.value)}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e._observers=[],e}();const Vj=Hj;var $j,Wj=function(){return(new Vj).networkMonitor()},Yj={KEEP_ALIVE_MISSED:{keepAliveState:"unhealthy"},KEEP_ALIVE:{keepAliveState:"healthy"},CONNECTION_ESTABLISHED:{connectionState:"connected"},CONNECTION_FAILED:{intendedConnectionState:"disconnected",connectionState:"disconnected"},CLOSING_CONNECTION:{intendedConnectionState:"disconnected"},OPENING_CONNECTION:{intendedConnectionState:"connected",connectionState:"connecting"},CLOSED:{connectionState:"disconnected"},ONLINE:{networkState:"connected"},OFFLINE:{networkState:"disconnected"}},Zj=function(){function e(){var e=this;this._networkMonitoringSubscription=void 0,this._linkedConnectionState={networkState:"connected",connectionState:"disconnected",intendedConnectionState:"disconnected",keepAliveState:"healthy"},this._initialNetworkStateSubscription=Wj().subscribe((function(t){var n,r=t.online;e.record(r?Yj.ONLINE:Yj.OFFLINE),null===(n=e._initialNetworkStateSubscription)||void 0===n||n.unsubscribe()})),this._linkedConnectionStateObservable=new Tj((function(t){t.next(e._linkedConnectionState),e._linkedConnectionStateObserver=t}))}return e.prototype.enableNetworkMonitoring=function(){var e,t=this;null===(e=this._initialNetworkStateSubscription)||void 0===e||e.unsubscribe(),void 0===this._networkMonitoringSubscription&&(this._networkMonitoringSubscription=Wj().subscribe((function(e){var n=e.online;t.record(n?Yj.ONLINE:Yj.OFFLINE)})))},e.prototype.disableNetworkMonitoring=function(){var e;null===(e=this._networkMonitoringSubscription)||void 0===e||e.unsubscribe(),this._networkMonitoringSubscription=void 0},Object.defineProperty(e.prototype,"connectionStateObservable",{get:function(){var e,t=this;return this._linkedConnectionStateObservable.map((function(e){return t.connectionStatesTranslator(e)})).filter((function(t){var n=t!==e;return e=t,n}))},enumerable:!0,configurable:!0}),e.prototype.record=function(e){"connected"===e.intendedConnectionState?this.enableNetworkMonitoring():"disconnected"===e.intendedConnectionState&&this.disableNetworkMonitoring();var t=Sj(Sj({},this._linkedConnectionState),e);this._linkedConnectionState=Sj({},t),this._linkedConnectionStateObserver.next(this._linkedConnectionState)},e.prototype.connectionStatesTranslator=function(e){var t=e.connectionState,n=e.networkState,r=e.intendedConnectionState,o=e.keepAliveState;return"connected"===t&&"disconnected"===n?Lj.ConnectedPendingNetwork:"connected"===t&&"disconnected"===r?Lj.ConnectedPendingDisconnect:"disconnected"===t&&"connected"===r&&"disconnected"===n?Lj.ConnectionDisruptedPendingNetwork:"disconnected"===t&&"connected"===r?Lj.ConnectionDisrupted:"connected"===t&&"unhealthy"===o?Lj.ConnectedPendingKeepAlive:"connecting"===t?Lj.Connecting:"disconnected"===t?Lj.Disconnected:Lj.Connected},e}();!function(e){e.START_RECONNECT="START_RECONNECT",e.HALT_RECONNECT="HALT_RECONNECT"}($j||($j={}));var Jj,Xj=function(){function e(){this.reconnectObservers=[]}return e.prototype.addObserver=function(e){this.reconnectObservers.push(e)},e.prototype.record=function(e){var t=this;e===$j.START_RECONNECT&&void 0===this.reconnectSetTimeoutId&&void 0===this.reconnectIntervalId&&(this.reconnectSetTimeoutId=setTimeout((function(){t._triggerReconnect(),t.reconnectIntervalId=setInterval((function(){t._triggerReconnect()}),6e4)}),5e3)),e===$j.HALT_RECONNECT&&(this.reconnectIntervalId&&(clearInterval(this.reconnectIntervalId),this.reconnectIntervalId=void 0),this.reconnectSetTimeoutId&&(clearTimeout(this.reconnectSetTimeoutId),this.reconnectSetTimeoutId=void 0))},e.prototype.close=function(){this.reconnectObservers.forEach((function(e){var t;null===(t=e.complete)||void 0===t||t.call(e)}))},e.prototype._triggerReconnect=function(){this.reconnectObservers.forEach((function(e){var t;null===(t=e.next)||void 0===t||t.call(e)}))},e}(),Qj=new c("AWSAppSyncRealTimeProvider"),eU=function(e,t,n){_.dispatch("api",{event:e,data:t,message:n},"PubSub",qj)},tU=/^https:\/\/\w{26}\.appsync\-api\.\w{2}(?:(?:\-\w{2,})+)\-\d\.amazonaws.com(?:\.cn)?\/graphql$/i,nU=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.socketStatus=zj.CLOSED,n.keepAliveTimeout=Gj,n.subscriptionObserverMap=new Map,n.promiseArray=[],n.connectionStateMonitor=new Zj,n.reconnectionMonitor=new Xj,n.connectionStateMonitorSubscription=n.connectionStateMonitor.connectionStateObservable.subscribe((function(e){eU("ConnectionStateChange",{provider:n,connectionState:e},"Connection state is "+e),n.connectionState=e,e===Lj.ConnectionDisrupted&&n.reconnectionMonitor.record($j.START_RECONNECT),[Lj.Connected,Lj.ConnectedPendingDisconnect,Lj.ConnectedPendingKeepAlive,Lj.ConnectedPendingNetwork,Lj.ConnectedPendingNetwork,Lj.ConnectionDisruptedPendingNetwork,Lj.Disconnected].includes(e)&&n.reconnectionMonitor.record($j.HALT_RECONNECT)})),n}return function(e,t){function n(){this.constructor=e}wj(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.close=function(){this.socketStatus=zj.CLOSED,this.connectionStateMonitor.record(Yj.CONNECTION_FAILED),this.connectionStateMonitorSubscription.unsubscribe(),this.reconnectionMonitor.close()},t.prototype.getNewWebSocket=function(e,t){return new WebSocket(e,t)},t.prototype.getProviderName=function(){return"AWSAppSyncRealTimeProvider"},t.prototype.newClient=function(){throw new Error("Not used here")},t.prototype.publish=function(e,t,n){return Ej(this,void 0,void 0,(function(){return _j(this,(function(e){throw new Error("Operation not supported")}))}))},t.prototype.isCustomDomain=function(e){return null===e.match(tU)},t.prototype.subscribe=function(e,t){var n=this,r=null==t?void 0:t.appSyncGraphqlEndpoint;return new Tj((function(e){if(t&&r){var o,i=!1,a=(0,Ij.v4)(),s=function(){i||(i=!0,n._startSubscriptionWithAWSAppSyncRealTime({options:t,observer:e,subscriptionId:a}).catch((function(e){Qj.debug(Nj.REALTIME_SUBSCRIPTION_INIT_ERROR+": "+e),n.connectionStateMonitor.record(Yj.CLOSED)})).finally((function(){i=!1})))};return o=new Tj((function(e){n.reconnectionMonitor.addObserver(e)})).subscribe((function(){s()})),s(),function(){return Ej(n,void 0,void 0,(function(){var e,t;return _j(this,(function(n){switch(n.label){case 0:null==o||o.unsubscribe(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,this._waitForSubscriptionToBeConnected(a)];case 2:if(n.sent(),!(e=(this.subscriptionObserverMap.get(a)||{}).subscriptionState))return[2];if(e!==Fj.CONNECTED)throw new Error("Subscription never connected");return this._sendUnsubscriptionMessage(a),[3,5];case 3:return t=n.sent(),Qj.debug("Error while unsubscribing "+t),[3,5];case 4:return this._removeSubscriptionObserver(a),[7];case 5:return[2]}}))}))}}e.error({errors:[Sj({},new TM("Subscribe only available for AWS AppSync endpoint"))]}),e.complete()}))},Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype._startSubscriptionWithAWSAppSyncRealTime=function(e){var t,n=e.options,r=e.observer,o=e.subscriptionId;return Ej(this,void 0,void 0,(function(){var e,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T,I,A=this;return _j(this,(function(C){switch(C.label){case 0:return e=n.appSyncGraphqlEndpoint,i=n.authenticationType,a=n.query,s=n.variables,u=n.apiKey,c=n.region,l=n.graphql_headers,f=void 0===l?function(){return{}}:l,d=n.additionalHeaders,p=void 0===d?{}:d,h=Fj.PENDING,v={query:a,variables:s},this.subscriptionObserverMap.set(o,{observer:r,query:null!=a?a:"",variables:null!=s?s:{},subscriptionState:h,startAckTimeoutId:void 0}),y=JSON.stringify(v),g=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:u,appSyncGraphqlEndpoint:e,authenticationType:i,payload:y,canonicalUri:"",region:c,additionalHeaders:p})];case 1:return b=[Sj.apply(void 0,g.concat([C.sent()]))],[4,f()];case 2:m=Sj.apply(void 0,[Sj.apply(void 0,[Sj.apply(void 0,b.concat([C.sent()])),p]),(I={},I["x-amz-user-agent"]=Dj.userAgent,I)]),w={id:o,payload:{data:y,extensions:{authorization:Sj({},m)}},type:Uj.GQL_START},S=JSON.stringify(w),C.label=3;case 3:return C.trys.push([3,5,,6]),this.connectionStateMonitor.record(Yj.OPENING_CONNECTION),[4,this._initializeWebSocketConnection({apiKey:u,appSyncGraphqlEndpoint:e,authenticationType:i,region:c,additionalHeaders:p})];case 4:return C.sent(),[3,6];case 5:return E=C.sent(),this._logStartSubscriptionError(o,r,E),[2];case 6:return _=null!==(t=this.subscriptionObserverMap.get(o))&&void 0!==t?t:{},x=_.subscriptionFailedCallback,T=_.subscriptionReadyCallback,this.subscriptionObserverMap.set(o,{observer:r,subscriptionState:h,query:null!=a?a:"",variables:null!=s?s:{},subscriptionReadyCallback:T,subscriptionFailedCallback:x,startAckTimeoutId:setTimeout((function(){A._timeoutStartSubscriptionAck.call(A,o)}),15e3)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(S),[2]}}))}))},t.prototype._logStartSubscriptionError=function(e,t,n){var r;Qj.debug({err:n});var o=null!==(r=n.message)&&void 0!==r?r:"";if(Promise.resolve(this.connectionStateMonitor.record(Yj.CLOSED)),this.connectionState!==Lj.ConnectionDisruptedPendingNetwork){se(n)?t.error({errors:[Sj({},new TM(Nj.CONNECTION_FAILED+": "+o))]}):Qj.debug(Nj.CONNECTION_FAILED+": "+o);var i=(this.subscriptionObserverMap.get(e)||{}).subscriptionFailedCallback;"function"==typeof i&&i()}},t.prototype._waitForSubscriptionToBeConnected=function(e){return Ej(this,void 0,void 0,(function(){var t,n=this;return _j(this,(function(r){return(t=this.subscriptionObserverMap.get(e))&&t.subscriptionState===Fj.PENDING?[2,new Promise((function(r,o){var i=t.observer,a=t.subscriptionState,s=t.variables,u=t.query;n.subscriptionObserverMap.set(e,{observer:i,subscriptionState:a,variables:s,query:u,subscriptionReadyCallback:r,subscriptionFailedCallback:o})}))]:[2]}))}))},t.prototype._sendUnsubscriptionMessage=function(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===zj.READY){var t={id:e,type:Uj.GQL_STOP},n=JSON.stringify(t);this.awsRealTimeSocket.send(n)}}catch(e){Qj.debug({err:e})}},t.prototype._removeSubscriptionObserver=function(e){this.subscriptionObserverMap.delete(e),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},t.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0))if(this.awsRealTimeSocket)if(this.connectionStateMonitor.record(Yj.CLOSING_CONNECTION),this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{Qj.debug("closing WebSocket..."),this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId);var e=this.awsRealTimeSocket;e.onclose=null,e.onerror=null,e.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=zj.CLOSED,this.connectionStateMonitor.record(Yj.CLOSED)}else this.socketStatus=zj.CLOSED},t.prototype._handleIncomingSubscriptionMessage=function(e){var t=this;Qj.debug("subscription message from AWS AppSync RealTime: "+e.data);var n=JSON.parse(e.data),r=n.id,o=void 0===r?"":r,i=n.payload,a=n.type,s=this.subscriptionObserverMap.get(o)||{},u=s.observer,c=void 0===u?null:u,l=s.query,f=void 0===l?"":l,d=s.variables,p=void 0===d?{}:d,h=s.startAckTimeoutId,v=s.subscriptionReadyCallback,y=s.subscriptionFailedCallback;if(Qj.debug({id:o,observer:c,query:f,variables:p}),a===Uj.GQL_DATA&&i&&i.data)c?c.next(i):Qj.debug("observer not found for id: "+o);else{if(a===Uj.GQL_START_ACK){Qj.debug("subscription ready for "+JSON.stringify({query:f,variables:p})),"function"==typeof v&&v(),h&&clearTimeout(h),eU(Nj.SUBSCRIPTION_ACK,{query:f,variables:p},"Connection established for subscription");var m=Fj.CONNECTED;return c&&this.subscriptionObserverMap.set(o,{observer:c,query:f,variables:p,startAckTimeoutId:void 0,subscriptionState:m,subscriptionReadyCallback:v,subscriptionFailedCallback:y}),void this.connectionStateMonitor.record(Yj.CONNECTION_ESTABLISHED)}if(a===Uj.GQL_CONNECTION_KEEP_ALIVE)return this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId),this.keepAliveTimeoutId=setTimeout((function(){return t._errorDisconnect(Nj.TIMEOUT_DISCONNECT)}),this.keepAliveTimeout),this.keepAliveAlertTimeoutId=setTimeout((function(){t.connectionStateMonitor.record(Yj.KEEP_ALIVE_MISSED)}),65e3),void this.connectionStateMonitor.record(Yj.KEEP_ALIVE);a===Uj.GQL_ERROR&&(m=Fj.FAILED,c&&(this.subscriptionObserverMap.set(o,{observer:c,query:f,variables:p,startAckTimeoutId:h,subscriptionReadyCallback:v,subscriptionFailedCallback:y,subscriptionState:m}),Qj.debug(Nj.CONNECTION_FAILED+": "+JSON.stringify(i)),c.error({errors:[Sj({},new TM(Nj.CONNECTION_FAILED+": "+JSON.stringify(i)))]}),h&&clearTimeout(h),"function"==typeof y&&y()))}},t.prototype._errorDisconnect=function(e){Qj.debug("Disconnect error: "+e),this.awsRealTimeSocket&&(this.connectionStateMonitor.record(Yj.CLOSED),this.awsRealTimeSocket.close()),this.socketStatus=zj.CLOSED},t.prototype._timeoutStartSubscriptionAck=function(e){var t=this.subscriptionObserverMap.get(e);if(t){var n=t.observer,r=t.query,o=t.variables;if(!n)return;this.subscriptionObserverMap.set(e,{observer:n,query:r,variables:o,subscriptionState:Fj.FAILED}),this.connectionStateMonitor.record(Yj.CLOSED),Qj.debug("timeoutStartSubscription",JSON.stringify({query:r,variables:o}))}},t.prototype._initializeWebSocketConnection=function(e){var t=this,n=e.appSyncGraphqlEndpoint,r=e.authenticationType,o=e.apiKey,i=e.region,a=e.additionalHeaders;if(this.socketStatus!==zj.READY)return new Promise((function(e,s){return Ej(t,void 0,void 0,(function(){var t,u,c,l,f,d,p,h,v,y;return _j(this,(function(m){switch(m.label){case 0:if(this.promiseArray.push({res:e,rej:s}),this.socketStatus!==zj.CLOSED)return[3,5];m.label=1;case 1:return m.trys.push([1,4,,5]),this.socketStatus=zj.CONNECTING,t="{}",l=(c=JSON).stringify,[4,this._awsRealTimeHeaderBasedAuth({authenticationType:r,payload:t,canonicalUri:"/connect",apiKey:o,appSyncGraphqlEndpoint:n,region:i,additionalHeaders:a})];case 2:return u=l.apply(c,[m.sent()]),f=C_.lW.from(u).toString("base64"),d=C_.lW.from(t).toString("base64"),p=null!=n?n:"",p=this.isCustomDomain(p)?p.concat("/realtime"):p.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta"),h=this.isSSLEnabled?"wss://":"ws://",p=p.replace("https://",h).replace("http://",h),v=p+"?header="+f+"&payload="+d,[4,this._initializeRetryableHandshake(v)];case 3:return m.sent(),this.promiseArray.forEach((function(e){var t=e.res;Qj.debug("Notifying connection successful"),t()})),this.socketStatus=zj.READY,this.promiseArray=[],[3,5];case 4:return y=m.sent(),Qj.debug("Connection exited with",y),this.promiseArray.forEach((function(e){return(0,e.rej)(y)})),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=zj.CLOSED,[3,5];case 5:return[2]}}))}))}))},t.prototype._initializeRetryableHandshake=function(e){return Ej(this,void 0,void 0,(function(){return _j(this,(function(t){switch(t.label){case 0:return Qj.debug("Initializaling retryable Handshake"),[4,fe(this._initializeHandshake.bind(this),[e],5e3)];case 1:return t.sent(),[2]}}))}))},t.prototype._initializeHandshake=function(e){return Ej(this,void 0,void 0,(function(){var t,n,r,o,i=this;return _j(this,(function(a){switch(a.label){case 0:Qj.debug("Initializing handshake "+e),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,new Promise((function(t,n){var r=i.getNewWebSocket(e,"graphql-ws");r.onerror=function(){Qj.debug("WebSocket connection error")},r.onclose=function(){n(new Error("Connection handshake error"))},r.onopen=function(){return i.awsRealTimeSocket=r,t()}}))];case 2:return a.sent(),[4,new Promise((function(e,t){if(i.awsRealTimeSocket){var n=!1;i.awsRealTimeSocket.onerror=function(e){Qj.debug("WebSocket error "+JSON.stringify(e))},i.awsRealTimeSocket.onclose=function(e){Qj.debug("WebSocket closed "+e.reason),t(new Error(JSON.stringify(e)))},i.awsRealTimeSocket.onmessage=function(r){Qj.debug("subscription message from AWS AppSyncRealTime: "+r.data+" ");var o=JSON.parse(r.data),a=o.type,s=o.payload,u=(void 0===s?{}:s).connectionTimeoutMs,c=void 0===u?Gj:u;if(a===Uj.GQL_CONNECTION_ACK)return n=!0,i.awsRealTimeSocket&&(i.keepAliveTimeout=c,i.awsRealTimeSocket.onmessage=i._handleIncomingSubscriptionMessage.bind(i),i.awsRealTimeSocket.onerror=function(e){Qj.debug(e),i._errorDisconnect(Nj.CONNECTION_CLOSED)},i.awsRealTimeSocket.onclose=function(e){Qj.debug("WebSocket closed "+e.reason),i._errorDisconnect(Nj.CONNECTION_CLOSED)}),void e("Cool, connected to AWS AppSyncRealTime");if(a===Uj.GQL_CONNECTION_ERROR){var l=o.payload,f=(void 0===l?{}:l).errors,d=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(void 0===f?[]:f,1)[0],p=void 0===d?{}:d,h=p.errorType,v=void 0===h?"":h,y=p.errorCode;t({errorType:v,errorCode:void 0===y?0:y})}};var r={type:Uj.GQL_CONNECTION_INIT};i.awsRealTimeSocket.send(JSON.stringify(r)),setTimeout((function(){n||(i.connectionStateMonitor.record(Yj.CONNECTION_FAILED),t(new Error("Connection timeout: ack from AWSAppSyncRealTime was not received after 15000 ms")))}),15e3)}}))];case 3:return a.sent(),[3,5];case 4:throw t=a.sent(),r=(n=t).errorType,o=n.errorCode,Bj.includes(o)?new ae(r):r?new Error(r):t;case 5:return[2]}}))}))},t.prototype._awsRealTimeHeaderBasedAuth=function(e){var t=e.authenticationType,n=e.payload,r=e.canonicalUri,o=e.appSyncGraphqlEndpoint,i=e.apiKey,a=e.region,s=e.additionalHeaders;return Ej(this,void 0,void 0,(function(){var e,u,c;return _j(this,(function(l){switch(l.label){case 0:return e={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeOPENIDHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeCUPHeader.bind(this),AWS_LAMBDA:this._customAuthHeader},t&&e[t]?[3,1]:(Qj.debug("Authentication type "+t+" not supported"),[2,""]);case 1:return u=e[t],c=L.Qc(null!=o?o:"").host,Qj.debug("Authenticating with "+t),[4,u({payload:n,canonicalUri:r,appSyncGraphqlEndpoint:o,apiKey:i,region:a,host:c,additionalHeaders:s})];case 2:return[2,l.sent()]}}))}))},t.prototype._awsRealTimeCUPHeader=function(e){var t=e.host;return Ej(this,void 0,void 0,(function(){return _j(this,(function(e){switch(e.label){case 0:return[4,Kx.currentSession()];case 1:return[2,{Authorization:e.sent().getAccessToken().getJwtToken(),host:t}]}}))}))},t.prototype._awsRealTimeOPENIDHeader=function(e){var t=e.host;return Ej(this,void 0,void 0,(function(){var e,n,r;return _j(this,(function(o){switch(o.label){case 0:return[4,sl.getItem("federatedInfo")];case 1:return(n=o.sent())?(e=n.token,[3,4]):[3,2];case 2:return[4,Kx.currentAuthenticatedUser()];case 3:(r=o.sent())&&(e=r.token),o.label=4;case 4:if(!e)throw new Error("No federated jwt");return[2,{Authorization:e,host:t}]}}))}))},t.prototype._awsRealTimeApiKeyHeader=function(e){var t=e.apiKey,n=e.host;return Ej(this,void 0,void 0,(function(){var e,r;return _j(this,(function(o){return e=new Date,r=e.toISOString().replace(/[:\-]|\.\d{3}/g,""),[2,{host:n,"x-amz-date":r,"x-api-key":t}]}))}))},t.prototype._awsRealTimeIAMHeader=function(e){var t=e.payload,n=e.canonicalUri,r=e.appSyncGraphqlEndpoint,o=e.region;return Ej(this,void 0,void 0,(function(){var e,i,a;return _j(this,(function(s){switch(s.label){case 0:return e={region:o,service:"appsync"},[4,this._ensureCredentials()];case 1:if(!s.sent())throw new Error("No credentials");return[4,fs.get().then((function(e){var t=e;return{secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken}}))];case 2:return i=s.sent(),a={url:""+r+n,data:t,method:"POST",headers:Sj({},Kj)},[2,$.sign(a,i,e).headers]}}))}))},t.prototype._customAuthHeader=function(e){var t=e.host,n=e.additionalHeaders;if(!n||!n.Authorization)throw new Error("No auth token specified");return{Authorization:n.Authorization,host:t}},t.prototype._ensureCredentials=function(){return fs.get().then((function(e){if(!e)return!1;var t=fs.shear(e);return Qj.debug("set credentials for AWSAppSyncRealTimeProvider",t),!0})).catch((function(e){return Qj.warn("ensure credentials error",e),!1}))},t}(jj),rU=Y().isNode,oU=new c("PubSub"),iU=function(){function e(e){this._options=null!=e?e:{},oU.debug("PubSub Options",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this)}return Object.defineProperty(e.prototype,"awsAppSyncRealTimeProvider",{get:function(){return this._awsAppSyncRealTimeProvider||(this._awsAppSyncRealTimeProvider=new nU(this._options)),this._awsAppSyncRealTimeProvider},enumerable:!0,configurable:!0}),e.prototype.getModuleName=function(){return"PubSub"},e.prototype.configure=function(e){var t=this,n=e?e.PubSub||e:{};return oU.debug("configure PubSub",{opt:n}),this._options=Object.assign({},this._options,n),this._pluggables.map((function(e){return e.configure(t._options)})),this._options},e.prototype.addPluggable=function(e){return Ej(this,void 0,void 0,(function(){return _j(this,(function(t){return e&&"PubSub"===e.getCategory()?(this._pluggables.push(e),[2,e.configure(this._options)]):[2]}))}))},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.getProviderByName=function(e){return e===bj?this.awsAppSyncRealTimeProvider:this._pluggables.find((function(t){return t.getProviderName()===e}))},e.prototype.getProviders=function(e){void 0===e&&(e={});var t=e.provider;if(!t)return this._pluggables;var n=this.getProviderByName(t);if(!n)throw new Error("Could not find provider named "+t);return[n]},e.prototype.publish=function(e,t,n){return Ej(this,void 0,void 0,(function(){return _j(this,(function(r){return[2,Promise.all(this.getProviders(n).map((function(r){return r.publish(e,t,n)})))]}))}))},e.prototype.subscribe=function(e,t){if(rU&&this._options&&this._options.ssr)throw new Error("Subscriptions are not supported for Server-Side Rendering (SSR)");oU.debug("subscribe options",t);var n=this.getProviders(t);return new Tj((function(r){var o=n.map((function(n){return{provider:n,observable:n.subscribe(e,t)}})).map((function(e){var t=e.provider;return e.observable.subscribe({start:console.error,next:function(e){return r.next({provider:t,value:e})},error:function(e){return r.error({provider:t,error:e})}})}));return function(){return o.forEach((function(e){return e.unsubscribe()}))}}))},e}(),aU=new iU;d.register(aU),function(e){e.NO_API_KEY="No api-key configured",e.NO_CURRENT_USER="No current user",e.NO_CREDENTIALS="No credentials",e.NO_FEDERATED_JWT="No federated jwt",e.NO_AUTH_TOKEN="No auth token specified"}(Jj||(Jj={}));var sU=new c("GraphQLAPI"),uU=function(e,t,n,r){return void 0===t&&(t={}),{query:e,variables:t,authToken:n,userAgentSuffix:r}},cU=function(){function e(e){this._api=null,this.Auth=Kx,this.Cache=sl,this.Credentials=fs,this._options=e,sU.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"GraphQLAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["API"]),i=rM(rM({},o),r);return sU.debug("configure GraphQL API",{opt:i}),i.aws_project_region&&(i=Object.assign({},i,{region:i.aws_project_region,header:{}})),void 0!==i.graphql_headers&&"function"!=typeof i.graphql_headers&&(sU.warn("graphql_headers should be a function"),i.graphql_headers=void 0),this._options=Object.assign({},this._options,i),this.createInstance(),this._options},e.prototype.createInstance=function(){return sU.debug("create Rest instance"),this._options?(this._api=new QD(this._options),this._api.Credentials=this.Credentials,!0):Promise.reject("API not configured")},e.prototype._headerBasedAuth=function(e,t){return void 0===t&&(t={}),oM(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return iM(this,(function(l){switch(l.label){case 0:switch(n=this._options,r=n.aws_appsync_authenticationType,o=n.aws_appsync_apiKey,i={},e||r||"AWS_IAM"){case"API_KEY":return[3,1];case"AWS_IAM":return[3,2];case"OPENID_CONNECT":return[3,4];case"AMAZON_COGNITO_USER_POOLS":return[3,11];case"AWS_LAMBDA":return[3,15]}return[3,16];case 1:if(!o)throw new Error(Jj.NO_API_KEY);return i={Authorization:null,"X-Api-Key":o},[3,17];case 2:return[4,this._ensureCredentials()];case 3:if(!l.sent())throw new Error(Jj.NO_CREDENTIALS);return[3,17];case 4:return l.trys.push([4,9,,10]),a=void 0,[4,sl.getItem("federatedInfo")];case 5:return(s=l.sent())?(a=s.token,[3,8]):[3,6];case 6:return[4,Kx.currentAuthenticatedUser()];case 7:(u=l.sent())&&(a=u.token),l.label=8;case 8:if(!a)throw new Error(Jj.NO_FEDERATED_JWT);return i={Authorization:a},[3,10];case 9:throw l.sent(),new Error(Jj.NO_CURRENT_USER);case 10:return[3,17];case 11:return l.trys.push([11,13,,14]),[4,this.Auth.currentSession()];case 12:return c=l.sent(),i={Authorization:c.getAccessToken().getJwtToken()},[3,14];case 13:throw l.sent(),new Error(Jj.NO_CURRENT_USER);case 14:return[3,17];case 15:if(!t.Authorization)throw new Error(Jj.NO_AUTH_TOKEN);return i={Authorization:t.Authorization},[3,17];case 16:return i={Authorization:null},[3,17];case 17:return[2,i]}}))}))},e.prototype.getGraphqlOperationType=function(e){return aM(nj(e).definitions,1)[0].operation},e.prototype.graphql=function(e,t){var n=e.query,r=e.variables,o=void 0===r?{}:r,i=e.authMode,a=e.authToken,s=e.userAgentSuffix,u=nj("string"==typeof n?n:cj(n)),c=aM(u.definitions.filter((function(e){return"OperationDefinition"===e.kind})),1)[0],l=(void 0===c?{}:c).operation,f=t||{};switch(a&&(f.Authorization=a),l){case"query":case"mutation":this.createInstanceIfNotCreated();var d=this._api.getCancellableToken(),p={cancellableToken:d},h=this._graphql({query:u,variables:o,authMode:i,userAgentSuffix:s},f,p);return this._api.updateRequestToBeCancellable(h,d),h;case"subscription":return this._graphqlSubscribe({query:u,variables:o,authMode:i},f);default:throw new Error("invalid operation type: "+l)}},e.prototype._graphql=function(e,t,n){var r=e.query,o=e.variables,i=e.authMode,a=e.userAgentSuffix;return void 0===t&&(t={}),void 0===n&&(n={}),oM(this,void 0,void 0,(function(){var e,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T,I;return iM(this,(function(A){switch(A.label){case 0:return this.createInstanceIfNotCreated(),e=this._options,s=e.aws_appsync_region,u=e.aws_appsync_graphqlEndpoint,c=e.graphql_headers,l=void 0===c?function(){return{}}:c,f=e.graphql_endpoint,d=e.graphql_endpoint_iam_region,h=[{}],(v=!f)?[4,this._headerBasedAuth(i,t)]:[3,2];case 1:v=A.sent(),A.label=2;case 2:return y=[rM.apply(void 0,h.concat([v]))],(m=f)?d?[4,this._headerBasedAuth(i,t)]:[3,4]:[3,6];case 3:return g=A.sent(),[3,5];case 4:g={Authorization:null},A.label=5;case 5:m=g,A.label=6;case 6:return b=[rM.apply(void 0,y.concat([m]))],[4,l({query:r,variables:o})];case 7:if(p=rM.apply(void 0,[rM.apply(void 0,[rM.apply(void 0,b.concat([A.sent()])),t]),!f&&(I={},I["x-amz-user-agent"]=te(a),I)]),w={query:cj(r),variables:o},S=Object.assign({headers:p,body:w,signerServiceInfo:{service:f?"execute-api":"appsync",region:f?d:s}},n),!(E=f||u))throw{data:{},errors:[new TM("No graphql endpoint provided.")]};A.label=8;case 8:return A.trys.push([8,10,,11]),[4,this._api.post(E,S)];case 9:return _=A.sent(),[3,11];case 10:if(x=A.sent(),this._api.isCancel(x))throw x;return _={data:{},errors:[new TM(x.message,null,null,null,null,x)]},[3,11];case 11:if((T=_.errors)&&T.length)throw _;return[2,_]}}))}))},e.prototype.createInstanceIfNotCreated=function(){return oM(this,void 0,void 0,(function(){return iM(this,(function(e){switch(e.label){case 0:return this._api?[3,2]:[4,this.createInstance()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.hasCancelToken=function(e){return this._api.hasCancelToken(e)},e.prototype._graphqlSubscribe=function(e,t){var n=e.query,r=e.variables,o=e.authMode,i=e.authToken;void 0===t&&(t={});var a=this._options,s=a.aws_appsync_region,u=a.aws_appsync_graphqlEndpoint,c=a.aws_appsync_authenticationType,l=a.aws_appsync_apiKey,f=a.graphql_headers,d=void 0===f?function(){return{}}:f,p=o||c||"AWS_IAM";if(aU&&"function"==typeof aU.subscribe)return aU.subscribe("",{provider:bj,appSyncGraphqlEndpoint:u,authenticationType:p,apiKey:l,query:cj(n),region:s,variables:r,graphql_headers:d,additionalHeaders:t,authToken:i});throw sU.debug("No pubsub module applied for subscription"),new Error("No pubsub module applied for subscription")},e.prototype._ensureCredentials=function(){var e=this;return this.Credentials.get().then((function(t){if(!t)return!1;var n=e.Credentials.shear(t);return sU.debug("set credentials for api",n),!0})).catch((function(e){return sU.warn("ensure credentials error",e),!1}))},e}(),lU=new cU(null);d.register(lU);var fU=new c("API"),dU=function(){function e(e){this.Auth=Kx,this.Cache=sl,this.Credentials=fs,this._options=e,this._restApi=new tM(e),this._graphqlApi=new cU(e),fU.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"API"},e.prototype.configure=function(e){this._options=Object.assign({},this._options,e),this._restApi.Credentials=this.Credentials,this._graphqlApi.Auth=this.Auth,this._graphqlApi.Cache=this.Cache,this._graphqlApi.Credentials=this.Credentials;var t=this._restApi.configure(this._options),n=this._graphqlApi.configure(this._options);return $D($D({},t),n)},e.prototype.get=function(e,t,n){return this._restApi.get(e,t,n)},e.prototype.post=function(e,t,n){return this._restApi.post(e,t,n)},e.prototype.put=function(e,t,n){return this._restApi.put(e,t,n)},e.prototype.patch=function(e,t,n){return this._restApi.patch(e,t,n)},e.prototype.del=function(e,t,n){return this._restApi.del(e,t,n)},e.prototype.head=function(e,t,n){return this._restApi.head(e,t,n)},e.prototype.isCancel=function(e){return this._restApi.isCancel(e)},e.prototype.cancel=function(e,t){return this._restApi.hasCancelToken(e)?this._restApi.cancel(e,t):!!this._graphqlApi.hasCancelToken(e)&&this._graphqlApi.cancel(e,t)},e.prototype.endpoint=function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(t){return[2,this._restApi.endpoint(e)]}))}))},e.prototype.getGraphqlOperationType=function(e){return this._graphqlApi.getGraphqlOperationType(e)},e.prototype.graphql=function(e,t){return this._graphqlApi.graphql(e,t)},e}(),pU=new dU(null);function hU(e){var t=new Error(e);return t.source="ulid",t}d.register(pU);var vU="0123456789ABCDEFGHJKMNPQRSTVWXYZ",yU=vU.length,mU=Math.pow(2,48)-1;function gU(e,t,n){return t>e.length-1?e:e.substr(0,t)+n+e.substr(t+1)}function bU(e){var t=Math.floor(e()*yU);return t===yU&&(t=yU-1),vU.charAt(t)}function wU(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(e>mU)throw hU("cannot encode time greater than "+mU);if(e<0)throw hU("time must be positive");if(!1===Number.isInteger(e))throw hU("time must be an integer");for(var n=void 0,r="";t>0;t--)r=vU.charAt(n=e%yU)+r,e=(e-n)/yU;return r}function SU(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];t||(t="undefined"!=typeof window?window:null);var r=t&&(t.crypto||t.msCrypto);if(r)return function(){var e=new Uint8Array(1);return r.getRandomValues(e),e[0]/255};try{var o=n(4788);return function(){return o.randomBytes(1).readUInt8()/255}}catch(e){}if(e){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch(e){}return function(){return Math.random()}}throw hU("secure crypto unusable, insecure Math.random not allowed")}function EU(e){e||(e=SU());var t=0,n=void 0;return function(r){if(isNaN(r)&&(r=Date.now()),r<=t){var o=n=function(e){for(var t=void 0,n=e.length,r=void 0,o=void 0,i=yU-1;!t&&n-- >=0;){if(r=e[n],-1===(o=vU.indexOf(r)))throw hU("incorrectly encoded string");o!==i?t=gU(e,n,vU[o+1]):e=gU(e,n,vU[0])}if("string"==typeof t)return t;throw hU("cannot increment this string")}(n);return wU(t,10)+o}t=r;var i=n=function(e,t){for(var n="";e>0;e--)n=bU(t)+n;return n}(16,e);return wU(r,10)+i}}_U||(_U=SU());var _U,xU,TU=n(8029),IU=function(){function e(){}return e.createPredicateBuilder=function(t){var n=t.name,r=new Set(Object.keys(t.fields)),o=new Proxy({},{get:function(t,o,i){var a=o;if(!r.has(a))throw new Error("Invalid field for model. field: "+a+", model: "+n);return function(t){var n;return null===(n=e.sortPredicateGroupsMap.get(i))||void 0===n||n.push({field:a,sortDirection:t}),i}}});return e.sortPredicateGroupsMap.set(o,[]),o},e.isValidPredicate=function(t){return e.sortPredicateGroupsMap.has(t)},e.getPredicates=function(t,n){if(void 0===n&&(n=!0),n&&!e.isValidPredicate(t))throw new Error("The predicate is not valid");var r=e.sortPredicateGroupsMap.get(t);if(r)return r;throw new Error("Predicate group not found")},e.createFromExisting=function(t,n){if(n&&t)return n(e.createPredicateBuilder(t))},e.sortPredicateGroupsMap=new WeakMap,e}(),AU="id",CU="#",PU="-";!function(e){e.DATASTORE="datastore",e.USER="user",e.SYNC="sync",e.STORAGE="storage"}(xU||(xU={}));var OU=xU.DATASTORE,kU=xU.USER,RU=xU.SYNC,NU=xU.STORAGE,LU="/DataStore",DU=function(e){return void 0===e||null==e},MU=function(e,t,n){var r,o=!1;if(0===n.length)return!0;switch(t){case"not":r="every",o=!0;break;case"and":r="every";break;case"or":r="some";break;default:throw new Error("Invalid "+t)}var i=n[r]((function(t){if(DF(t)){var n=t.field,r=t.operator,o=t.operand,i=e[n];return jU(i,r,o)}if(MF(t)){var a=t.type,s=t.predicates;return MU(e,a,s)}throw new Error("Not a predicate or group")}));return o?!i:i},jU=function(e,t,n){switch(t){case"ne":return e!==n;case"eq":return e===n;case"le":return e<=n;case"lt":return e<n;case"ge":return e>=n;case"gt":return e>n;case"between":var r=Nt(n,2),o=r[0],i=r[1];return e>=o&&e<=i;case"beginsWith":return!DU(e)&&e.startsWith(n);case"contains":return!DU(e)&&e.indexOf(n)>-1;case"notContains":return DU(e)||-1===e.indexOf(n);default:return!1}},UU=function(e){return e&&"function"==typeof e.copyOf};new WeakSet;var FU,zU,BU=new WeakMap,qU=function(e,t,n,r,o){var i=[],a=o(n.name,e).copyOf(t,(function(){}));i.unshift({modelName:e,item:a,instance:a}),BU.has(n)||BU.set(n,Array.from(n.modelTopologicalOrdering.keys()));var s=BU.get(n);return i.sort((function(e,t){return s.indexOf(e.modelName)-s.indexOf(t.modelName)})),i},KU=function(){return(1,C_.lW.from((new O_).random(1).toString(),"hex")).readUInt8(0)/255};function GU(e){var t=EU(KU);return function(){return t(e)}}function HU(){return"undefined"!=typeof performance&&performance&&"function"==typeof performance.now?0|performance.now():Date.now()}function VU(e){return function(t,n){var r,o;try{for(var i=Rt(e),a=i.next();!a.done;a=i.next()){var s=a.value,u=s.field,c=s.sortDirection===nF.ASCENDING?1:-1;if(t[u]<n[u])return-1*c;if(t[u]>n[u])return 1*c}}catch(e){r={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return 0}}function $U(e,t,n){var r,o;void 0===n&&(n=!1);var i=e,a=t;if(i instanceof Object&&!(a instanceof Object)||!(i instanceof Object)&&a instanceof Object)return!1;if(!(i instanceof Object))return!(!n||!function(e,t){return null==e&&null==t}(i,a))||i===a;if(Array.isArray(i)&&!Array.isArray(a)||Array.isArray(a)&&!Array.isArray(i))return!1;i instanceof Set&&a instanceof Set&&(i=Lt(i),a=Lt(a)),i instanceof Map&&a instanceof Map&&(i=Object.fromEntries(i),a=Object.fromEntries(a));var s=Object.keys(i),u=Object.keys(a);if(s.length!==u.length&&(!n||Array.isArray(i)))return!1;var c=s.length>=u.length?s:u;try{for(var l=Rt(c),f=l.next();!f.done;f=l.next()){var d=f.value;if(!$U(i[d],a[d],n))return!1}}catch(e){r={error:e}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}return!0}function WU(e,t){if(t&&e.length>1){if(t.sort){var n=IU.getPredicates(t.sort);if(n.length){var r=VU(n);e.sort(r)}}var o=t.page,i=void 0===o?0:o,a=t.limit,s=void 0===a?0:a,u=Math.max(0,i*s)||0,c=s>0?u+s:e.length;return e.slice(u,c)}return e}function YU(e,t){return Ot(this,void 0,void 0,(function(){var n,r,o,i,a,s;return kt(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,7]),n=Rt(e),r=n.next(),u.label=1;case 1:return r.done?[3,4]:(o=r.value,[4,t(o)]);case 2:if(u.sent())return[2,!0];u.label=3;case 3:return r=n.next(),[3,1];case 4:return[3,7];case 5:return i=u.sent(),a={error:i},[3,7];case 6:try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}return[7];case 7:return[2,!1]}}))}))}function ZU(e,t){return Ot(this,void 0,void 0,(function(){var n,r,o,i,a,s;return kt(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,7]),n=Rt(e),r=n.next(),u.label=1;case 1:return r.done?[3,4]:(o=r.value,[4,t(o)]);case 2:if(!u.sent())return[2,!1];u.label=3;case 3:return r=n.next(),[3,1];case 4:return[3,7];case 5:return i=u.sent(),a={error:i},[3,7];case 6:try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}return[7];case 7:return[2,!0]}}))}))}var JU,XU,QU,eF,tF,nF,rF,oF,iF,aF,sF=function(e){return!!/^\d{4}-\d{2}-\d{2}(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},uF=function(e){return!!/^\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},cF=function(e){return!!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},lF=function(e){return!!/^\d+$/.exec(String(e))},fF=function(e){return!!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.exec(e)},dF=function(e){try{return JSON.parse(e),!0}catch(e){return!1}},pF=function(e){try{return!!new URL(e)}catch(e){return!1}},hF=function(e){return!!/^\+?\d[\d\s-]+$/.exec(e)},vF=function(e){return!!/((^((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))$)|(^((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?$))$/.exec(e)},yF=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},mF=function(){function e(e){this.limitPromise=new yF,this.raceInFlight=!1,this.callback=function(){},this.defaultErrorHandler=function(e){throw void 0===e&&(e="DeferredCallbackResolver error"),new Error(e)},this.callback=e.callback,this.errorHandler=e.errorHandler||this.defaultErrorHandler,this.maxInterval=e.maxInterval||2e3}return e.prototype.startTimer=function(){var e=this;this.timerPromise=new Promise((function(t,n){e.timer=setTimeout((function(){t(UF.TIMER)}),e.maxInterval)}))},e.prototype.racePromises=function(){return Ot(this,void 0,void 0,(function(){var e,t;return kt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),this.raceInFlight=!0,this.startTimer(),[4,Promise.race([this.timerPromise,this.limitPromise.promise])];case 1:return e=n.sent(),this.callback(),[3,4];case 2:return t=n.sent(),this.errorHandler(t),[3,4];case 3:return this.clear(),this.raceInFlight=!1,this.limitPromise=new yF,[2,e];case 4:return[2]}}))}))},e.prototype.start=function(){this.raceInFlight||this.racePromises()},e.prototype.clear=function(){clearTimeout(this.timer)},e.prototype.resolve=function(){this.limitPromise.resolve(UF.LIMIT)},e}(),gF=function(e,t){return e+"_"+t},bF=function(e){var t=function(e){var t;return null===(t=null==e?void 0:e.attributes)||void 0===t?void 0:t.find(OF)}(e);return t&&kF(t)?t.properties.fields:[AU]},wF=function(e,t){return t.map((function(t){return e[t]}))},SF=function(e,t){var n;return e.some((function(e){if(e.modelName===t){var r=_F(e);return n=r&&xF(r),!0}})),n},EF=function(e,t){var n;n=Array.isArray(t)?xF(t):t;var r=e.find((function(e){return Nt(e,1)[0]===n}));return r&&r[0]},_F=function(e){var t=null==e?void 0:e.targetName,n=null==e?void 0:e.targetNames;return Array.isArray(n)?n:"string"==typeof t?[t]:void 0},xF=function(e){return e.reduce((function(e,t,n){return 0===n?t:""+e+PU+t}),"")},TF=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},IF=function(e,t){var n,r;return(null===(r=null===(n=null==e?void 0:e.keys)||void 0===n?void 0:n[t])||void 0===r?void 0:r.primaryKey)||[AU]};function AF(e){return e&&void 0!==e.pluralName}function CF(e){return(null==e?void 0:e.targetName)||(null==e?void 0:e.targetNames)}function PF(e,t){var n,r;return null===(r=null===(n=null==e?void 0:e.fields[t])||void 0===n?void 0:n.association)||void 0===r?void 0:r.connectionType}function OF(e){return"key"===e.type&&e.properties&&e.properties.fields&&e.properties.fields.length>0}function kF(e){return OF(e)&&void 0===e.properties.name}function RF(e){return OF(e)&&void 0!==e.properties.name&&e.properties.fields.length>2}function NF(e){return!(!e||!e.nonModel)}function LF(e,t){var n=bF(t);return"object"==typeof e&&e&&n.every((function(t){return void 0!==e[t]}))}function DF(e){return e&&void 0!==e.field}function MF(e){return e&&void 0!==e.type}function jF(e,t){return Ot(this,void 0,void 0,(function(){return kt(this,(function(n){return[2,{modelConstructor:e,conditionProducer:t}]}))}))}!function(e){e.CUSTOM="custom",e.OWNER="owner",e.GROUPS="groups",e.PRIVATE="private",e.PUBLIC="public"}(JU||(JU={})),function(e){e.FUNCTION="function",e.USER_POOLS="userPools",e.OIDC="oidc",e.IAM="iam",e.API_KEY="apiKey"}(XU||(XU={})),(aF=QU||(QU={}))[aF.ID=0]="ID",aF[aF.String=1]="String",aF[aF.Int=2]="Int",aF[aF.Float=3]="Float",aF[aF.Boolean=4]="Boolean",aF[aF.AWSDate=5]="AWSDate",aF[aF.AWSTime=6]="AWSTime",aF[aF.AWSDateTime=7]="AWSDateTime",aF[aF.AWSTimestamp=8]="AWSTimestamp",aF[aF.AWSEmail=9]="AWSEmail",aF[aF.AWSJSON=10]="AWSJSON",aF[aF.AWSURL=11]="AWSURL",aF[aF.AWSPhone=12]="AWSPhone",aF[aF.AWSIPAddress=13]="AWSIPAddress",function(e){e.getJSType=function(e){switch(e){case"Boolean":return"boolean";case"ID":case"String":case"AWSDate":case"AWSTime":case"AWSDateTime":case"AWSEmail":case"AWSURL":case"AWSPhone":case"AWSIPAddress":return"string";case"Int":case"Float":case"AWSTimestamp":return"number";case"AWSJSON":return"object";default:throw new Error("Invalid scalar type")}},e.getValidationFunction=function(e){switch(e){case"AWSDate":return sF;case"AWSTime":return uF;case"AWSDateTime":return cF;case"AWSTimestamp":return lF;case"AWSEmail":return fF;case"AWSJSON":return dF;case"AWSURL":return pF;case"AWSPhone":return hF;case"AWSIPAddress":return vF;default:return}}}(QU||(QU={})),function(e){e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(eF||(eF={})),function(e){e[e.FIRST=0]="FIRST",e[e.LAST=1]="LAST"}(tF||(tF={})),function(e){e.ASCENDING="ASCENDING",e.DESCENDING="DESCENDING"}(nF||(nF={})),function(e){e.DEFAULT="DEFAULT",e.MULTI_AUTH="MULTI_AUTH"}(rF||(rF={})),function(e){e.CREATE="CREATE",e.READ="READ",e.UPDATE="UPDATE",e.DELETE="DELETE"}(oF||(oF={})),function(e){e.sync="sync",e.mutate="mutate",e.subscribe="subscribe"}(iF||(iF={}));var UF,FF=Symbol("DISCARD");!function(e){e.LIMIT="LIMIT",e.TIMER="TIMER"}(UF||(UF={}));var zF,BF=function(){this.__isPredicateInternalsKeySentinel=!0},qF=function(){function e(){this._state=zF.Open,this.jobs=new Set}return e.prototype.add=function(t,n){var r,o;"string"==typeof t?(r=void 0,o=t):(r=t,o=n);var i=this.closedFailure(o);if(i)return i;if(void 0===r)return this.addHook(o);if("function"==typeof r)return this.addFunction(r,o);if(r instanceof e)return this.addManager(r,o);throw new Error("If `job` is provided, it must be an Observable, Function, or BackgroundProcessManager.")},e.prototype.addCleaner=function(e,t){var n=this,r=this.addHook(t),i=r.resolve,a=function(){return(0,o.__awaiter)(n,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,e()];case 1:return t.sent(),i(),[2]}}))}))};return r.onTerminate.then(a),a},e.prototype.addFunction=function(e,t){var n,r=e(new Promise((function(e){n=e})));return"function"==typeof(null==r?void 0:r.then)&&this.registerPromise(r,n,t),r},e.prototype.addManager=function(e,t){var n=this;this.addCleaner((function(){return(0,o.__awaiter)(n,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.close()];case 1:return[2,t.sent()]}}))}))}),t)},e.prototype.addHook=function(e){var t,n,r,o=new Promise((function(e,r){t=e,n=r})),i=new Promise((function(e){r=e}));return this.registerPromise(o,r,e),{resolve:t,reject:n,onTerminate:i}},e.prototype.registerPromise=function(e,t,n){var r=this,o={promise:e,terminate:t,description:n};this.jobs.add(o),e.then((function(){r.jobs.delete(o)})).catch((function(){r.jobs.delete(o)}))},Object.defineProperty(e.prototype,"length",{get:function(){return this.jobs.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return Array.from(this.jobs).map((function(e){return e.description}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._state===zF.Open},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isClosing",{get:function(){return this._state===zF.Closing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isClosed",{get:function(){return this._state===zF.Closed},enumerable:!0,configurable:!0}),e.prototype.closedFailure=function(e){if(!this.isOpen)return Promise.reject(new KF(["The manager is "+this.state+".",'You tried to add "'+e+'".',"Pending jobs: [\n"+this.pending.map((function(e){return"    "+e})).join(",\n")+"\n]"].join("\n")))},e.prototype.close=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,o.__generator)(this,(function(a){switch(a.label){case 0:if(!this.isOpen)return[3,2];this._state=zF.Closing;try{for(e=(0,o.__values)(Array.from(this.jobs)),t=e.next();!t.done;t=e.next()){n=t.value;try{n.terminate()}catch(e){console.warn("Failed to send termination signal to job. Error: "+e.message,n)}}}catch(e){r={error:e}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}return this._closingPromise=Promise.allSettled(Array.from(this.jobs).map((function(e){return e.promise}))),[4,this._closingPromise];case 1:a.sent(),this._state=zF.Closed,a.label=2;case 2:return[2,this._closingPromise]}}))}))},e.prototype.open=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return this.isClosing?[4,this.close()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this._state=zF.Open,[2]}}))}))},e}(),KF=function(e){function t(t){return e.call(this,"BackgroundManagerNotOpenError: "+t)||this}return(0,o.__extends)(t,e),t}(Error);function GF(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function HF(e){return!!e&&!!e[kz]}function VF(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Rz}(e)||Array.isArray(e)||!!e[Oz]||!!e.constructor[Oz]||XF(e)||QF(e))}function $F(e,t,n){void 0===n&&(n=!1),0===WF(e)?(n?Object.keys:Nz)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function WF(e){var t=e[kz];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:XF(e)?2:QF(e)?3:0}function YF(e,t){return 2===WF(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ZF(e,t){return 2===WF(e)?e.get(t):e[t]}function JF(e,t,n){var r=WF(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function XF(e){return Iz&&e instanceof Map}function QF(e){return Az&&e instanceof Set}function ez(e){return e.o||e.t}function tz(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Lz(e);delete t[kz];for(var n=Nz(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function nz(e,t){return void 0===t&&(t=!1),oz(e)||HF(e)||!VF(e)||(WF(e)>1&&(e.set=e.add=e.clear=e.delete=rz),Object.freeze(e),t&&$F(e,(function(e,t){return nz(t,!0)}),!0)),e}function rz(){GF(2)}function oz(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function iz(e){var t=Dz[e];return t||GF(18,e),t}function az(){return xz}function sz(e,t){t&&(iz("Patches"),e.u=[],e.s=[],e.v=t)}function uz(e){cz(e),e.p.forEach(fz),e.p=null}function cz(e){e===xz&&(xz=e.l)}function lz(e){return xz={p:[],l:xz,h:e,m:!0,_:0}}function fz(e){var t=e[kz];0===t.i||1===t.i?t.j():t.O=!0}function dz(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||iz("ES5").S(t,e,r),r?(n[kz].P&&(uz(t),GF(4)),VF(e)&&(e=pz(t,e),t.l||vz(t,e)),t.u&&iz("Patches").M(n[kz],e,t.u,t.s)):e=pz(t,n,[]),uz(t),t.u&&t.v(t.u,t.s),e!==Pz?e:void 0}function pz(e,t,n){if(oz(t))return t;var r=t[kz];if(!r)return $F(t,(function(o,i){return hz(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return vz(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=tz(r.k):r.o;$F(3===r.i?new Set(o):o,(function(t,i){return hz(e,r,o,t,i,n)})),vz(e,o,!1),n&&e.u&&iz("Patches").R(r,n,e.u,e.s)}return r.o}function hz(e,t,n,r,o,i){if(HF(o)){var a=pz(e,o,i&&t&&3!==t.i&&!YF(t.D,r)?i.concat(r):void 0);if(JF(n,r,a),!HF(a))return;e.m=!1}if(VF(o)&&!oz(o)){if(!e.h.F&&e._<1)return;pz(e,o),t&&t.A.l||vz(e,o)}}function vz(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&nz(t,n)}function yz(e,t){var n=e[kz];return(n?ez(n):e)[t]}function mz(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function gz(e){e.P||(e.P=!0,e.l&&gz(e.l))}function bz(e){e.o||(e.o=tz(e.t))}function wz(e,t,n){var r=XF(t)?iz("MapSet").N(t,n):QF(t)?iz("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:az(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=Mz;n&&(o=[r],i=jz);var a=Proxy.revocable(o,i),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(t,n):iz("ES5").J(t,n);return(n?n.A:az()).p.push(r),r}function Sz(e){return HF(e)||GF(22,e),function e(t){if(!VF(t))return t;var n,r=t[kz],o=WF(t);if(r){if(!r.P&&(r.i<4||!iz("ES5").K(r)))return r.t;r.I=!0,n=Ez(t,o),r.I=!1}else n=Ez(t,o);return $F(n,(function(t,o){r&&ZF(r.t,t)===o||JF(n,t,e(o))})),3===o?new Set(n):n}(e)}function Ez(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return tz(e)}!function(e){e.Open="Open",e.Closing="Closing",e.Closed="Closed"}(zF||(zF={}));var _z,xz,Tz="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Iz="undefined"!=typeof Map,Az="undefined"!=typeof Set,Cz="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Pz=Tz?Symbol.for("immer-nothing"):((_z={})["immer-nothing"]=!0,_z),Oz=Tz?Symbol.for("immer-draftable"):"__$immer_draftable",kz=Tz?Symbol.for("immer-state"):"__$immer_state",Rz=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Nz="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Lz=Object.getOwnPropertyDescriptors||function(e){var t={};return Nz(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Dz={},Mz={get:function(e,t){if(t===kz)return e;var n=ez(e);if(!YF(n,t))return function(e,t,n){var r,o=mz(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!VF(r)?r:r===yz(e.t,t)?(bz(e),e.o[t]=wz(e.A.h,r,e)):r},has:function(e,t){return t in ez(e)},ownKeys:function(e){return Reflect.ownKeys(ez(e))},set:function(e,t,n){var r=mz(ez(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=yz(ez(e),t),i=null==o?void 0:o[kz];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,o)&&(void 0!==n||YF(e.t,t)))return!0;bz(e),gz(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==yz(e.t,t)||t in e.t?(e.D[t]=!1,bz(e),gz(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=ez(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){GF(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){GF(12)}},jz={};$F(Mz,(function(e,t){jz[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),jz.deleteProperty=function(e,t){return Mz.deleteProperty.call(this,e[0],t)},jz.set=function(e,t,n){return Mz.set.call(this,e[0],t,n,e[0])};var Uz=function(){function e(e){var t=this;this.g=Cz,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var i=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return i.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&GF(6),void 0!==r&&"function"!=typeof r&&GF(7),VF(e)){var s=lz(t),u=wz(t,e,void 0),c=!0;try{a=n(u),c=!1}finally{c?uz(s):cz(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return sz(s,r),dz(e,s)}),(function(e){throw uz(s),e})):(sz(s,r),dz(a,s))}if(!e||"object"!=typeof e){if((a=n(e))===Pz)return;return void 0===a&&(a=e),t.F&&nz(a,!0),a}GF(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))}:[t.produce(e,n,(function(e,t){r=e,o=t})),r,o];var r,o},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){VF(e)||GF(8),HF(e)&&(e=Sz(e));var t=lz(this),n=wz(this,e,void 0);return n[kz].C=!0,cz(t),n},t.finishDraft=function(e,t){var n=(e&&e[kz]).A;return sz(n,t),dz(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Cz&&GF(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var o=iz("Patches").$;return HF(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(n+1))}))},e}(),Fz=new Uz,zz=(Fz.produce,Fz.produceWithPatches.bind(Fz),Fz.setAutoFreeze.bind(Fz));function Bz(e){return"private"!==e.allow||e.provider?"public"!==e.allow||e.provider?e.provider:XU.API_KEY:XU.USER_POOLS}function qz(e){var t=e.rules,n=e.currentUser,r=new Set;return t.forEach((function(e){switch(e.allow){case JU.CUSTOM:e.provider&&e.provider!==XU.FUNCTION||r.add(d_.AWS_LAMBDA);break;case JU.GROUPS:case JU.OWNER:n&&(e.provider===XU.USER_POOLS?r.add(d_.AMAZON_COGNITO_USER_POOLS):e.provider===XU.OIDC&&r.add(d_.OPENID_CONNECT));break;case JU.PRIVATE:n&&(e.provider&&e.provider!==XU.USER_POOLS?e.provider===XU.IAM&&r.add(d_.AWS_IAM):r.add(d_.AMAZON_COGNITO_USER_POOLS));break;case JU.PUBLIC:e.provider===XU.IAM?r.add(d_.AWS_IAM):e.provider&&e.provider!==XU.API_KEY||r.add(d_.API_KEY)}})),Array.from(r)}Fz.setUseProxies.bind(Fz),Fz.applyPatches.bind(Fz),Fz.createDraft.bind(Fz),Fz.finishDraft.bind(Fz);var Kz=function(){return[]},Gz=new WeakSet;function Hz(e){return Gz.has(e)}var Vz=new Set(["and","or","not"]),$z=new Set(["eq","ne","gt","lt","ge","le","contains","notContains","beginsWith","between"]),Wz=function(e){return Array.isArray(e)?e.every((function(e){return Wz(e)})):1===Object.keys(e).length},Yz=(Symbol("A predicate that matches all records"),function(){function e(){}return Object.defineProperty(e,"ALL",{get:function(){var e=function(e){return e};return Gz.add(e),e},enumerable:!0,configurable:!0}),e}()),Zz=function(){function e(){}return e.createPredicateBuilder=function(t){var n,r=t.name,o=new Set(Object.keys(t.fields)),i=new Proxy({},n={get:function(t,i,a){var s=i;switch(s){case"and":case"or":case"not":return function(t){var r={type:s,predicates:[]},o=new Proxy({},n);return e.predicateGroupsMap.set(o,r),t(o),e.predicateGroupsMap.get(a).predicates.push(r),a}}var u=i;if(!o.has(u))throw new Error("Invalid field for model. field: "+u+", model: "+r);return function(t,n){return e.predicateGroupsMap.get(a).predicates.push({field:u,operator:t,operand:n}),a}}});return e.predicateGroupsMap.set(i,{type:"and",predicates:[]}),i},e.isValidPredicate=function(t){return e.predicateGroupsMap.has(t)},e.getPredicates=function(t,n){if(void 0===n&&(n=!0),n&&!e.isValidPredicate(t))throw new Error("The predicate is not valid");return e.predicateGroupsMap.get(t)},e.createFromExisting=function(t,n){if(n&&t)return n(e.createPredicateBuilder(t))},e.createForSingleField=function(t,n,r){return e.createPredicateBuilder(t)[n]("eq",r)},e.createForPk=function(t,n){var r=bF(t),o=wF(n,r),i=e.createPredicateBuilder(t);return r.forEach((function(e,t){var n=o[t];i=i[e]("eq",n)})),i},e.createFromFlatEqualities=function(t,n){var r,o,i=e.createPredicateBuilder(t);try{for(var a=Rt(Object.entries(n)),s=a.next();!s.done;s=a.next()){var u=Nt(s.value,2),c=u[0],l=u[1];i=i[c]("eq",l)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return i},e.createGroupFromExisting=function(t,n,r){var o=e.createPredicateBuilder(t);return o=o[n]((function(t){var n,o,i,a=t;try{for(var s=Rt(r),u=s.next();!u.done;u=s.next()){var c=u.value;"function"==typeof c?a=c(a):null===(i=e.predicateGroupsMap.get(a))||void 0===i||i.predicates.push(e.predicateGroupsMap.get(c))}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return a})),o},e.transformGraphQLtoPredicateAST=function(e){var t=this;if(!Wz(e))throw new Error("Invalid QGL AST: "+e);if(function(e){var t=Lt(Object.keys(e));return 1===t.length&&Vz.has(t[0])}(e)){var n=Object.keys(e)[0],r=this.transformGraphQLtoPredicateAST(e[n]);return{type:n,predicates:Array.isArray(r)?r:[r]}}if(function(e){var t=Lt(Object.keys(e));return!Array.isArray(e)&&1===t.length&&$z.has(t[0])}(e)){var o=Object.keys(e)[0];return{operator:o,operand:e[o]}}if(Array.isArray(e))return e.map((function(e){return t.transformGraphQLtoPredicateAST(e)}));var i=Object.keys(e)[0];return Ct({field:i},this.transformGraphQLtoPredicateAST(e[i]))},e.createFromAST=function(t,n){var r=e.createPredicateBuilder(t);return e.predicateGroupsMap.set(r,this.transformGraphQLtoPredicateAST(n)),r},e.predicateGroupsMap=new WeakMap,e}(),Jz=function(){function e(){this._queue=[],this._pending=!1}return e.prototype.isLocked=function(){return this._pending},e.prototype.acquire=function(){var e=this,t=new Promise((function(t){return e._queue.push(t)}));return this._pending||this._dispatchNext(),t},e.prototype.runExclusive=function(e){return this.acquire().then((function(t){var n;try{n=e()}catch(e){throw t(),e}return Promise.resolve(n).then((function(e){return t(),e}),(function(e){throw t(),e}))}))},e.prototype._dispatchNext=function(){this._queue.length>0?(this._pending=!0,this._queue.shift()(this._dispatchNext.bind(this))):this._pending=!1},e}();const Xz=Jz;var Qz,eB,tB=n(9393),nB=n.n(tB),rB=new c("DataStore");!function(e){e.LIST="query",e.CREATE="mutation",e.UPDATE="mutation",e.DELETE="mutation",e.GET="query"}(Qz||(Qz={})),function(e){e.CREATE="Create",e.UPDATE="Update",e.DELETE="Delete",e.GET="Get"}(eB||(eB={}));var oB=Object.keys({_version:void 0,_lastChangedAt:void 0,_deleted:void 0});function iB(e,t){var n=aB(t),r=function(e,t){var n=[];return Object.values(t.fields).forEach((function(t){var r=t.name,o=t.type;if(NF(o)){var i=e.nonModels[o.nonModel],a=Object.values(aB(i)).map((function(e){return e.name})),s=[];Object.values(i.fields).forEach((function(t){var n=t.type,r=t.name;if(NF(n)){var o=e.nonModels[n.nonModel];s.push(r+" { "+iB(e,o)+" }")}})),n.push(r+" { "+a.join(" ")+" "+s.join(" ")+" }")}})),n}(e,t),o=function(e,t){var n=function(e){var t=[];return function(e){return AF(e)&&void 0!==e.attributes}(e)&&e.attributes.forEach((function(e){if(e.properties&&e.properties.rules){var n=e.properties.rules.find((function(e){return"owner"===e.allow}));n&&n.ownerField&&t.push(n.ownerField)}})),t}(e);return!t.owner&&n.includes("owner")?["owner"]:[]}(t,n),i=Object.values(n).map((function(e){return e.name})).concat(o).concat(r);return AF(t)&&(i=i.concat(oB).concat(function(e,t){var n=[];return Object.values(e.fields).filter((function(e){var t=e.association;return t&&Object.keys(t).length})).forEach((function(r){var o=r.name,i=r.association,a=(i||{}).connectionType;switch(a){case"HAS_ONE":case"HAS_MANY":break;case"BELONGS_TO":if(CF(i))if(i.targetNames&&i.targetNames.length>0){var s=Nt(function(e){var t={},n={};return Object.keys(e.models).forEach((function(r){var o,i;t[r]={indexes:[],relationTypes:[]},n[r]={};var a,s,u=e.models[r];if(Object.keys(u.fields).forEach((function(e){var n=u.fields[e];if("object"==typeof n.type&&"model"in n.type){var o=n.association.connectionType;if(t[r].relationTypes.push({fieldName:n.name,modelName:n.type.model,relationType:o,targetName:n.association.targetName,targetNames:n.association.targetNames,associatedWith:n.association.associatedWith}),"BELONGS_TO"===o){var i=_F(n.association);if(i){var a=xF(i);t[r].indexes.push([a,i])}}}})),u.attributes){n[r].compositeKeys=(a=function(e){return e.reduce((function(e,t){var n=new Set(t);if(0===e.length)return e.push(n),e;var r=e.findIndex((function(e){return Lt(e).some((function(e){return n.has(e)}))}));if(r>-1){var o=new Set(Lt(e[r],n));e[r]=o}else e.push(n);return e}),[])},s=a(u.attributes.filter(RF).map((function(e){return Nt(e.properties.fields).slice(1)}))),a(s));var c=function(e){if(!OF(e))return"continue";var o=e.properties.fields;if(kF(e))return n[r].primaryKey=o,"continue";var i=xF(o),a=t[r].indexes.find((function(e){return Nt(e,1)[0]===i}));a||t[r].indexes.push([i,o])};try{for(var l=Rt(u.attributes),f=l.next();!f.done;f=l.next())c(f.value)}catch(e){o={error:e}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}}n[r].primaryKey||(n[r].primaryKey=[AU]),t[r].indexes.push(["byPk",n[r].primaryKey,{unique:!0}])})),[t,n]}(t),1)[0][e.fields[o].type.model].indexes.find((function(e){return"byPk"===Nt(e,1)[0]})),u=s&&s[1],c=null==u?void 0:u.join(" ");n.push(o+" { "+c+" _deleted }")}else n.push(o+" { id _deleted }");break;default:throw new Error("Invalid connection type "+a)}})),n}(t,e))),i.join("\n")}function aB(e){var t=e.fields;return Object.values(t).filter((function(e){return!!((t=e.type)&&void 0!==QU[t]||function(e){return!(!e||!e.enum)}(e.type));var t})).reduce((function(e,t){return e[t.name]=t,e}),{})}function sB(e,t,n){var r,o,i,a,s=iB(e,t),u=t.name,c=t.pluralName;switch(n){case"LIST":r="sync"+c,o="($limit: Int, $nextToken: String, $lastSync: AWSTimestamp, $filter: Model"+u+"FilterInput)",i="(limit: $limit, nextToken: $nextToken, lastSync: $lastSync, filter: $filter)",s="items {\n\t\t\t\t\t\t\t"+s+"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnextToken\n\t\t\t\t\t\tstartedAt";break;case"CREATE":r="create"+u,o="($input: Create"+u+"Input!)",i="(input: $input)",a=eB.CREATE;break;case"UPDATE":r="update"+u,o="($input: Update"+u+"Input!, $condition: Model"+u+"ConditionInput)",i="(input: $input, condition: $condition)",a=eB.UPDATE;break;case"DELETE":r="delete"+u,o="($input: Delete"+u+"Input!, $condition: Model"+u+"ConditionInput)",i="(input: $input, condition: $condition)",a=eB.DELETE;break;case"GET":r="get"+u,o="($id: ID!)",i="(id: $id)",a=eB.GET;break;default:throw new Error("Invalid graphQlOpType "+n)}return[[a,r,Qz[n]+" operation"+o+"{\n\t\t"+r+i+"{\n\t\t\t"+s+"\n\t\t}\n\t}"]]}function uB(e,t,n,r,o,i,a,s,u){var c;switch(n){case eF.INSERT:c=eB.CREATE;break;case eF.UPDATE:c=eB.UPDATE;break;case eF.DELETE:c=eB.DELETE;break;default:throw new Error("Invalid opType "+n)}var l=vB(t,o),f=eF.INSERT&&u?{id:u}:{},d=s(a,Ct(Ct({},f),{data:JSON.stringify(o,(function(e,n){return e&&null!==n&&"object"==typeof n&&t.fields[e]&&"AWSJSON"===t.fields[e].type?JSON.stringify(n):n})),modelId:l,model:r.name,operation:c,condition:JSON.stringify(i)}));return d}function cB(e,t){void 0===t&&(t=[]);var n={};if(!e||!Array.isArray(e.predicates))return n;var r=e.type,o=e.predicates,i="and"===r||"or"===r;n[r]=i?[]:{};var a=function(e){return i?n[r].push(e):n[r]=e};if(o.forEach((function(e){var n,r;if(DF(e)){var o=e.field,i=e.operator,s=e.operand;if(t.includes(o))return;var u=((n={})[o]=((r={})[i]=s,r),n);a(u)}else{var c=cB(e,t);Object.keys(c).length>0&&a(c)}})),i){if(0===n[r].length)return{}}else if(0===Object.keys(n[r]).length)return{};return n}function lB(e,t){var n=e[t.groupClaim]||[];if("string"==typeof n){var r=void 0;try{r=JSON.parse(n)}catch(e){r=n}n=[].concat(r)}return n}function fB(e){var t=e.authModeStrategy,n=e.defaultAuthMode,r=e.modelName,o=e.schema;return Ot(this,void 0,void 0,(function(){var e,i,a,s=this;return kt(this,(function(u){switch(u.label){case 0:e=Object.values(oF),i={CREATE:[],READ:[],UPDATE:[],DELETE:[]},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(e.map((function(e){return Ot(s,void 0,void 0,(function(){var a;return kt(this,(function(s){switch(s.label){case 0:return[4,t({schema:o,modelName:r,operation:e})];case 1:return"string"==typeof(a=s.sent())?i[e]=[a]:Array.isArray(a)&&a.length?i[e]=a:i[e]=[n],[2]}}))}))})))];case 2:return u.sent(),[3,4];case 3:return a=u.sent(),rB.debug("Error getting auth modes for model: "+r,a),[3,4];case 4:return[2,i]}}))}))}function dB(e){var t,n=["Request failed with status code 401","Request failed with status code 403"];return e&&e.errors?t=e.errors.find((function(e){return n.includes(e.message)})):e&&e.message&&(t=e),t?t.message:null}function pB(e){var t=Object.values(Jj);return e&&e.message&&t.find((function(t){return e.message.includes(t)}))||null}function hB(e,t){return void 0===t&&(t={}),Ot(this,void 0,void 0,(function(){var n,r,o;return kt(this,(function(i){switch(i.label){case 0:if(e!==d_.AWS_LAMBDA)return[3,6];if(n=t.authProviders,!(r=(void 0===n?{functionAuthProvider:null}:n).functionAuthProvider)||"function"!=typeof r)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r()];case 2:return[2,i.sent().token];case 3:throw o=i.sent(),new Error("Error retrieving token from `functionAuthProvider`: "+o);case 4:return[3,6];case 5:throw new Error("You must provide a `functionAuthProvider` function to `DataStore.configure` when using "+d_.AWS_LAMBDA);case 6:return[2]}}))}))}function vB(e,t){var n=bF(e).map((function(e){return t[e]})).join(PU);return n}let yB,mB;const gB=new WeakMap,bB=new WeakMap,wB=new WeakMap,SB=new WeakMap,EB=new WeakMap;let _B={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return bB.get(e);if("objectStoreNames"===t)return e.objectStoreNames||wB.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return TB(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function xB(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(mB||(mB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(IB(this),e),TB(gB.get(this))}:function(...e){return TB(t.apply(IB(this),e))}:function(e,...n){const r=t.call(IB(this),e,...n);return wB.set(r,e.sort?e.sort():[e]),TB(r)}:(e instanceof IDBTransaction&&function(e){if(bB.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)}));bB.set(e,t)}(e),n=e,(yB||(yB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>n instanceof e))?new Proxy(e,_B):e);var t,n}function TB(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(TB(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&gB.set(t,e)})).catch((()=>{})),EB.set(t,e),t}(e);if(SB.has(e))return SB.get(e);const t=xB(e);return t!==e&&(SB.set(e,t),EB.set(t,e)),t}const IB=e=>EB.get(e);function AB(e,t,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const a=indexedDB.open(e,t),s=TB(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(TB(a.result),e.oldVersion,e.newVersion,TB(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),s.then((e=>{i&&e.addEventListener("close",(()=>i())),o&&e.addEventListener("versionchange",(()=>o()))})).catch((()=>{})),s}function CB(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(()=>t())),TB(n).then((()=>{}))}const PB=["get","getKey","getAll","getAllKeys","count"],OB=["put","add","delete","clear"],kB=new Map;function RB(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(kB.get(t))return kB.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=OB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!PB.includes(n))return;const i=async function(e,...t){const i=this.transaction(e,o?"readwrite":"readonly");let a=i.store;r&&(a=a.index(t.shift()));const s=await a[n](...t);return o&&await i.done,s};return kB.set(t,i),i}var NB;NB=_B,_B={...NB,get:(e,t,n)=>RB(e,t)||NB.get(e,t,n),has:(e,t)=>!!RB(e,t)||NB.has(e,t)};var LB=new c("DataStore"),DB="amplify-datastore",MB=function(){function e(){var e=this;this.dbName=DB,this.safariCompatabilityMode=!1,this.canonicalKeyPath=function(t){return e.safariCompatabilityMode?t.length>1?t:t[0]:t}}return e.prototype.getStorenameForModel=function(e){var t=this.namespaceResolver(e),n=e.name;return gF(t,n)},e.prototype.getIndexKeyValuesFromModel=function(e){var t=Object.getPrototypeOf(e).constructor,n=this.namespaceResolver(t),r=IF(this.schema.namespaces[n],t.name);return wF(e,r)},e.prototype.checkPrivate=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return[4,new Promise((function(e){var t,n=(0,TU.v4)(),r=function(){FU=!1,e(!0)},o=function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(r){switch(r.label){case 0:return t&&t.result&&"function"==typeof t.result.close?[4,t.result.close()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[4,indexedDB.deleteDatabase(n)];case 3:return r.sent(),FU=!0,[2,e(!1)]}}))}))};return!0===FU?o():!1===FU||null===indexedDB?r():((t=indexedDB.open(n)).onerror=r,void(t.onsuccess=o))})).then((function(e){return e}))];case 1:return e.sent()?(LB.error("IndexedDB not supported in this browser's private mode"),[2,Promise.reject("IndexedDB not supported in this browser's private mode")]):[2,Promise.resolve()]}}))}))},e.prototype.setSafariCompatabilityMode=function(){return Ot(this,void 0,void 0,(function(){var e;return kt(this,(function(t){switch(t.label){case 0:return e=this,[4,Ot(void 0,void 0,void 0,(function(){var e,t,n,r,o,i;return kt(this,(function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),e=(0,TU.v4)(),t="indexedDBFeatureProbeStore",n="idx",null===indexedDB?[2,!1]:void 0!==zU?[2,zU]:[4,new Promise((function(r){var o=indexedDB.open(e);o.onerror=function(){return r(!1)},o.onsuccess=function(){var e=o.result;r(e)},o.onupgradeneeded=function(e){var o,i=null===(o=null==e?void 0:e.target)||void 0===o?void 0:o.result;i.onerror=function(){return r(!1)},i.createObjectStore(t,{autoIncrement:!0}).createIndex(n,["id"])}}))];case 1:if(!(r=a.sent()))throw new Error("Could not open probe DB");return(o=r.transaction(t,"readwrite")).objectStore(t).add({id:1}),o.commit(),[4,new Promise((function(e){var o=r.transaction(t,"readonly").objectStore(t).index(n).get([1]);o.onerror=function(){return e(!1)},o.onsuccess=function(t){var n;e(null===(n=null==t?void 0:t.target)||void 0===n?void 0:n.result)}}))];case 2:return i=a.sent(),r&&"function"==typeof r.close?[4,r.close()]:[3,4];case 3:a.sent(),a.label=4;case 4:return[4,indexedDB.deleteDatabase(e)];case 5:return a.sent(),zU=void 0===i,[3,7];case 6:return a.sent(),zU=!1,[3,7];case 7:return[2,zU]}}))}))];case 1:return e.safariCompatabilityMode=t.sent(),!0===this.safariCompatabilityMode&&LB.debug("IndexedDB Adapter is running in Safari Compatability Mode"),[2]}}))}))},e.prototype.getNamespaceAndModelFromStorename=function(e){var t=Nt(e.split("_"));return{namespaceName:t[0],modelName:t.slice(1).join("_")}},e.prototype.setUp=function(e,t,n,r,o){return Ot(this,void 0,void 0,(function(){var i,a,s=this;return kt(this,(function(u){switch(u.label){case 0:return[4,this.checkPrivate()];case 1:return u.sent(),[4,this.setSafariCompatabilityMode()];case 2:return u.sent(),this.initPromise?[3,3]:(this.initPromise=new Promise((function(e,t){s.resolve=e,s.reject=t})),[3,5]);case 3:return[4,this.initPromise];case 4:u.sent(),u.label=5;case 5:o&&(this.dbName=DB+"-"+o),this.schema=e,this.namespaceResolver=t,this.modelInstanceCreator=n,this.getModelConstructorByModelName=r,u.label=6;case 6:return u.trys.push([6,9,,10]),this.db?[3,8]:(i=this,[4,AB(this.dbName,3,{upgrade:function(t,n,r,o){return Ot(s,void 0,void 0,(function(){var i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w=this;return kt(this,(function(S){switch(S.label){case 0:if(0===n)return Object.keys(e.namespaces).forEach((function(n){var r=e.namespaces[n];Object.keys(r.models).forEach((function(e){var r=gF(n,e);w.createObjectStoreForModel(t,n,r,e)}))})),[2];if(1!==n&&2!==n||3!==r)return[3,16];S.label=1;case 1:S.trys.push([1,14,,15]),S.label=2;case 2:S.trys.push([2,11,12,13]),i=Rt(o.objectStoreNames),a=i.next(),S.label=3;case 3:return a.done?[3,10]:(s=a.value,u=o.objectStore(s),c="tmp_"+s,u.name=c,l=this.getNamespaceAndModelFromStorename(s),f=l.namespaceName,(d=l.modelName)in this.schema.namespaces[f].models?(p=this.createObjectStoreForModel(t,f,s,d),[4,u.openCursor()]):(t.deleteObjectStore(c),[3,9]));case 4:h=S.sent(),v=0,S.label=5;case 5:return h&&h.value?[4,p.put(h.value)]:[3,8];case 6:return S.sent(),[4,h.continue()];case 7:return h=S.sent(),v++,[3,5];case 8:t.deleteObjectStore(c),LB.debug(v+" "+s+" records migrated"),S.label=9;case 9:return a=i.next(),[3,3];case 10:return[3,13];case 11:return y=S.sent(),g={error:y},[3,13];case 12:try{a&&!a.done&&(b=i.return)&&b.call(i)}finally{if(g)throw g.error}return[7];case 13:return Object.keys(e.namespaces).forEach((function(n){var r=e.namespaces[n],i=new Set(o.objectStoreNames);Object.keys(r.models).map((function(e){return[e,gF(n,e)]})).filter((function(e){var t=Nt(e,2)[1];return!i.has(t)})).forEach((function(e){var r=Nt(e,2),o=r[0],i=r[1];w.createObjectStoreForModel(t,n,i,o)}))})),[3,15];case 14:throw m=S.sent(),LB.error("Error migrating IndexedDB data",m),o.abort(),m;case 15:case 16:return[2]}}))}))}})]);case 7:i.db=u.sent(),this.resolve(),u.label=8;case 8:return[3,10];case 9:return a=u.sent(),this.reject(a),[3,10];case 10:return[2]}}))}))},e.prototype._get=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r;return kt(this,(function(o){switch(o.label){case 0:return"string"==typeof e?(r=e,n=this.db.transaction(r,"readonly").store.index("byPk")):n=e.index("byPk"),[4,n.get(this.canonicalKeyPath(t))];case 1:return[2,o.sent()]}}))}))},e.prototype.save=function(e,t){var n,r;return Ot(this,void 0,void 0,(function(){var o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T,I,A,C,P,O,k,R,N,L=this;return kt(this,(function(D){switch(D.label){case 0:return[4,this.checkPrivate()];case 1:return D.sent(),o=Object.getPrototypeOf(e).constructor,i=this.getStorenameForModel(o),a=this.namespaceResolver(o),s=qU(o.name,e,this.schema.namespaces[a],this.modelInstanceCreator,this.getModelConstructorByModelName),u=new Set,c=Object.values(s).map((function(e){var t=e.modelName,n=e.item,r=e.instance,o=gF(a,t);return u.add(o),{storeName:o,item:n,instance:r,keys:IF(L.schema.namespaces[a],t)}})),l=this.db.transaction(Lt([i],Array.from(u.values())),"readwrite"),f=l.objectStore(i),d=this.getIndexKeyValuesFromModel(e),[4,this._get(f,d)];case 2:if(p=D.sent(),t&&p&&(h=Zz.getPredicates(t),y=(v=h||{}).predicates,m=v.type,!MU(p,m,y)))throw g="Conditional update failed",LB.error(g,{model:p,condition:y}),new Error(g);b=[],D.label=3;case 3:D.trys.push([3,11,12,17]),w=Mt(c),D.label=4;case 4:return[4,w.next()];case 5:return(S=D.sent()).done?[3,10]:(E=S.value,_=E.storeName,x=E.item,T=E.instance,I=E.keys,A=l.objectStore(_),C=I.map((function(e){return x[e]})),[4,this._get(A,C)]);case 6:return P=D.sent(),O=void 0===P?eF.INSERT:eF.UPDATE,k=this.getIndexKeyValuesFromModel(e),TF(C,k)||O===eF.INSERT?[4,A.index("byPk").getKey(this.canonicalKeyPath(C))]:[3,9];case 7:return R=D.sent(),[4,A.put(x,R)];case 8:D.sent(),b.push([T,O]),D.label=9;case 9:return[3,4];case 10:return[3,17];case 11:return N=D.sent(),n={error:N},[3,17];case 12:return D.trys.push([12,,15,16]),S&&!S.done&&(r=w.return)?[4,r.call(w)]:[3,14];case 13:D.sent(),D.label=14;case 14:return[3,16];case 15:if(n)throw n.error;return[7];case 16:return[7];case 17:return[4,l.done];case 18:return D.sent(),[2,b]}}))}))},e.prototype.load=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,o,i,a,s=this;return kt(this,(function(u){return r=this.schema.namespaces[e],o=r.relationships[t].relationTypes,i=o.map((function(t){var n=t.modelName;return gF(e,n)})),a=this.getModelConstructorByModelName(e,t),i.length,[2,n.map((function(e){return s.modelInstanceCreator(a,e)}))]}))}))},e.prototype.query=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f=this;return kt(this,(function(d){switch(d.label){case 0:return[4,this.checkPrivate()];case 1:return d.sent(),r=this.getStorenameForModel(e),o=this.namespaceResolver(e),i=t&&Zz.getPredicates(t),a=IF(this.schema.namespaces[o],e.name),s=i&&this.keyValueFromPredicate(i,a),u=n&&n.sort,c=n&&n.limit,[4,Ot(f,void 0,void 0,(function(){var e,t,o;return kt(this,(function(a){switch(a.label){case 0:return s?[4,this.getByKey(r,s)]:[3,2];case 1:return[2,(e=a.sent())?[e]:[]];case 2:return i?[4,this.filterOnPredicate(r,i)]:[3,4];case 3:return t=a.sent(),[2,this.inMemoryPagination(t,n)];case 4:return u?[4,this.getAll(r)]:[3,6];case 5:return o=a.sent(),[2,this.inMemoryPagination(o,n)];case 6:return c?[2,this.enginePagination(r,n)]:[2,this.getAll(r)]}}))}))];case 2:return l=d.sent(),[4,this.load(o,e.name,l)];case 3:return[2,d.sent()]}}))}))},e.prototype.getByKey=function(e,t){return Ot(this,void 0,void 0,(function(){return kt(this,(function(n){switch(n.label){case 0:return[4,this._get(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.getAll=function(e){return Ot(this,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return[4,this.db.getAll(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.keyValueFromPredicate=function(e,t){var n,r,o=e.predicates;if(o.length===t.length){var i=[],a=function(e){var t=o.find((function(t){return DF(t)&&t.field===e&&"eq"===t.operator}));t&&i.push(t.operand)};try{for(var s=Rt(t),u=s.next();!u.done;u=s.next())a(u.value)}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i.length===t.length?i:void 0}},e.prototype.matchingIndex=function(e,t,n){var r,o,i=n.objectStore(e);try{for(var a=Rt(i.indexNames),s=a.next();!s.done;s=a.next()){var u=s.value,c=i.index(u);if(c.keyPath===t)return c}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}},e.prototype.filterOnPredicate=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_=this;return kt(this,(function(x){switch(x.label){case 0:for(n=t.predicates,r=t.type;1===n.length&&MF(n[0]);)r=n[0].type,n=n[0].predicates;return i=n.filter((function(e){return DF(e)})),a=this.db.transaction(e),s=i.map((function(t){return{predicate:t,index:_.matchingIndex(e,String(t.field),a)}})),[4,a.done];case 1:return x.sent(),"and"!==r?[3,6]:(u=s.filter((function(e){return e.index&&"eq"===e.predicate.operator})),u.length>0?[4,(d=u[0]).index.getAll(d.predicate.operand)]:[3,3]);case 2:return o=x.sent(),[3,5];case 3:return[4,this.getAll(e)];case 4:o=x.sent(),x.label=5;case 5:return[3,20];case 6:if("or"!==r)return[3,18];if(!(s.length>0&&s.every((function(e){return e.index&&"eq"===e.predicate.operator}))))return[3,15];c=new Map,x.label=7;case 7:x.trys.push([7,12,13,14]),l=Rt(s),f=l.next(),x.label=8;case 8:return f.done?[3,11]:[4,(d=f.value).index.getAll(d.predicate.operand)];case 9:p=x.sent();try{for(S=void 0,h=Rt(p),v=h.next();!v.done;v=h.next())y=v.value,c.set(y.id,y)}catch(e){S={error:e}}finally{try{v&&!v.done&&(E=h.return)&&E.call(h)}finally{if(S)throw S.error}}x.label=10;case 10:return f=l.next(),[3,8];case 11:return[3,14];case 12:return m=x.sent(),b={error:m},[3,14];case 13:try{f&&!f.done&&(w=l.return)&&w.call(l)}finally{if(b)throw b.error}return[7];case 14:return o=Array.from(c.values()),[3,17];case 15:return[4,this.getAll(e)];case 16:o=x.sent(),x.label=17;case 17:return[3,20];case 18:return[4,this.getAll(e)];case 19:o=x.sent(),x.label=20;case 20:return g=n?o.filter((function(e){return MU(e,r,n)})):o,[2,g]}}))}))},e.prototype.inMemoryPagination=function(e,t){return WU(e,t)},e.prototype.enginePagination=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return t?(r=t.page,o=void 0===r?0:r,i=t.limit,a=void 0===i?0:i,s=Math.max(0,o*a)||0,[4,this.db.transaction(e).objectStore(e).openCursor()]):[3,7];case 1:return(u=f.sent())&&s>0?[4,u.advance(s)]:[3,3];case 2:f.sent(),f.label=3;case 3:c=[],l="number"==typeof a&&a>0,f.label=4;case 4:return u&&u.value?(c.push(u.value),l&&c.length===a?[3,6]:[4,u.continue()]):[3,6];case 5:return u=f.sent(),[3,4];case 6:return n=c,[3,9];case 7:return[4,this.db.getAll(e)];case 8:n=f.sent(),f.label=9;case 9:return[2,n]}}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=tF.FIRST),Ot(this,void 0,void 0,(function(){var n,r,o;return kt(this,(function(i){switch(i.label){case 0:return[4,this.checkPrivate()];case 1:return i.sent(),n=this.getStorenameForModel(e),[4,this.db.transaction([n],"readonly").objectStore(n).openCursor(void 0,t===tF.FIRST?"next":"prev")];case 2:return r=i.sent(),[2,(o=r?r.value:void 0)&&this.modelInstanceCreator(e,o)]}}))}))},e.prototype.delete=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b;return kt(this,(function(w){switch(w.label){case 0:return[4,this.checkPrivate()];case 1:return w.sent(),n=[],UU(e)?(a=e,r=this.namespaceResolver(a),u=this.getStorenameForModel(a),[4,this.query(a,t)]):[3,9];case 2:return o=w.sent(),g=this.schema.namespaces[r].relationships[a.name].relationTypes,void 0===t?[3,5]:[4,this.deleteTraverse(g,o,a.name,r,n)];case 3:return w.sent(),[4,this.deleteItem(n)];case 4:return w.sent(),b=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[o,b]];case 5:return[4,this.deleteTraverse(g,o,a.name,r,n)];case 6:return w.sent(),[4,this.db.transaction([u],"readwrite").objectStore(u).clear()];case 7:return w.sent(),b=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[o,b]];case 8:return[3,17];case 9:return i=e,a=Object.getPrototypeOf(i).constructor,s=this.namespaceResolver(a),u=this.getStorenameForModel(a),t?(c=this.db.transaction([u],"readwrite"),l=c.objectStore(u),f=this.getIndexKeyValuesFromModel(i),[4,this._get(l,f)]):[3,13];case 10:if(void 0===(d=w.sent()))return m="Model instance not found in storage",LB.warn(m,{model:i}),[2,[[i],[]]];if(p=Zz.getPredicates(t),v=(h=p).predicates,y=h.type,!MU(d,y,v))throw m="Conditional update failed",LB.error(m,{model:d,condition:v}),new Error(m);return[4,c.done];case 11:return w.sent(),g=this.schema.namespaces[s].relationships[a.name].relationTypes,[4,this.deleteTraverse(g,[i],a.name,s,n)];case 12:return w.sent(),[3,15];case 13:return g=this.schema.namespaces[s].relationships[a.name].relationTypes,[4,this.deleteTraverse(g,[i],a.name,s,n)];case 14:w.sent(),w.label=15;case 15:return[4,this.deleteItem(n)];case 16:return w.sent(),b=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[[i],b]];case 17:return[2]}}))}))},e.prototype.deleteItem=function(e){var t,n,r,o;return Ot(this,void 0,void 0,(function(){var i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w;return kt(this,(function(S){switch(S.label){case 0:i=e.map((function(e){return e.storeName})),a=this.db.transaction(Lt(i),"readwrite"),S.label=1;case 1:S.trys.push([1,22,23,28]),s=Mt(e),S.label=2;case 2:return[4,s.next()];case 3:if((u=S.sent()).done)return[3,21];c=u.value,l=c.storeName,f=c.items,d=a.objectStore(l),S.label=4;case 4:S.trys.push([4,14,15,20]),p=Mt(f),S.label=5;case 5:return[4,p.next()];case 6:return(h=S.sent()).done?[3,13]:(v=h.value)?(y=void 0,"object"!=typeof v?[3,8]:(m=this.getIndexKeyValuesFromModel(v),[4,d.index("byPk").getKey(this.canonicalKeyPath(m))])):[3,12];case 7:return y=S.sent(),[3,10];case 8:return g=v.toString(),[4,d.index("byPk").getKey(g)];case 9:y=S.sent(),S.label=10;case 10:return void 0===y?[3,12]:[4,d.delete(y)];case 11:S.sent(),S.label=12;case 12:return[3,5];case 13:return[3,20];case 14:return b=S.sent(),r={error:b},[3,20];case 15:return S.trys.push([15,,18,19]),h&&!h.done&&(o=p.return)?[4,o.call(p)]:[3,17];case 16:S.sent(),S.label=17;case 17:return[3,19];case 18:if(r)throw r.error;return[7];case 19:return[7];case 20:return[3,2];case 21:return[3,28];case 22:return w=S.sent(),t={error:w},[3,28];case 23:return S.trys.push([23,,26,27]),u&&!u.done&&(n=s.return)?[4,n.call(s)]:[3,25];case 24:S.sent(),S.label=25;case 25:return[3,27];case 26:if(t)throw t.error;return[7];case 27:return[7];case 28:return[2]}}))}))},e.prototype.deleteTraverse=function(e,t,n,r,o){var i,a,s,u,c,l,f,d,p,h,v,y;return Ot(this,void 0,void 0,(function(){var m,g,b,w,S,E,_,x,T,I,A,C,P,O,k,R,N,L,D=this;return kt(this,(function(M){switch(M.label){case 0:M.trys.push([0,38,39,44]),i=Mt(e),M.label=1;case 1:return[4,i.next()];case 2:if((a=M.sent()).done)return[3,37];switch(m=a.value,g=m.relationType,b=m.modelName,w=m.targetName,S=m.targetNames,E=m.associatedWith,_=gF(r,b),g){case"HAS_ONE":return[3,3];case"HAS_MANY":return[3,20];case"BELONGS_TO":return[3,34]}return[3,35];case 3:M.trys.push([3,13,14,19]),s=Mt(t),M.label=4;case 4:return[4,s.next()];case 5:return(u=M.sent()).done?[3,12]:(P=u.value,x="byPk",(null==S?void 0:S.length)?(T=S.filter((function(e){var t;return null!==(t=P[e])&&void 0!==t&&t})).map((function(e){return P[e]})),0===T.length?[3,12]:[4,this.db.transaction(_,"readwrite").objectStore(_).index(x).get(this.canonicalKeyPath(T))]):[3,8]);case 6:return A=M.sent(),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,A?[A]:[],b,r,o)];case 7:return M.sent(),[3,12];case 8:if(O=void 0,T=void 0,w&&w in P){if(O=x,null===(I=P[w]))return[3,12];T=[I]}else O=SF(this.schema.namespaces[r].relationships[b].relationTypes,n),T=this.getIndexKeyValuesFromModel(P);return T&&O?[4,this.db.transaction(_,"readwrite").objectStore(_).index(O).get(this.canonicalKeyPath(T))]:[3,12];case 9:return A=M.sent(),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,A?[A]:[],b,r,o)];case 10:M.sent(),M.label=11;case 11:return[3,4];case 12:return[3,19];case 13:return C=M.sent(),p={error:C},[3,19];case 14:return M.trys.push([14,,17,18]),u&&!u.done&&(h=s.return)?[4,h.call(s)]:[3,16];case 15:M.sent(),M.label=16;case 16:return[3,18];case 17:if(p)throw p.error;return[7];case 18:return[7];case 19:return[3,36];case 20:M.trys.push([20,27,28,33]),c=Mt(t),M.label=21;case 21:return[4,c.next()];case 22:return(l=M.sent()).done?[3,26]:(P=l.value,O=SF(this.schema.namespaces[r].relationships[b].relationTypes,n)||EF(this.schema.namespaces[r].relationships[b].indexes,E),k=this.getIndexKeyValuesFromModel(P),[4,this.db.transaction(_,"readwrite").objectStore(_).index(O).getAll(this.canonicalKeyPath(k))]);case 23:return R=M.sent(),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,R,b,r,o)];case 24:M.sent(),M.label=25;case 25:return[3,21];case 26:return[3,33];case 27:return N=M.sent(),v={error:N},[3,33];case 28:return M.trys.push([28,,31,32]),l&&!l.done&&(y=c.return)?[4,y.call(c)]:[3,30];case 29:M.sent(),M.label=30;case 30:return[3,32];case 31:if(v)throw v.error;return[7];case 32:return[7];case 33:case 34:return[3,36];case 35:throw new Error("Invalid relation type "+g);case 36:return[3,1];case 37:return[3,44];case 38:return L=M.sent(),f={error:L},[3,44];case 39:return M.trys.push([39,,42,43]),a&&!a.done&&(d=i.return)?[4,d.call(i)]:[3,41];case 40:M.sent(),M.label=41;case 41:return[3,43];case 42:if(f)throw f.error;return[7];case 43:return[7];case 44:return o.push({storeName:gF(r,n),items:t.map((function(e){return D.modelInstanceCreator(D.getModelConstructorByModelName(r,n),e)}))}),[2]}}))}))},e.prototype.clear=function(){var e;return Ot(this,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return[4,this.checkPrivate()];case 1:return t.sent(),null===(e=this.db)||void 0===e||e.close(),[4,CB(this.dbName)];case 2:return t.sent(),this.db=void 0,this.initPromise=void 0,[2]}}))}))},e.prototype.batchSave=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h=this;return kt(this,(function(v){switch(v.label){case 0:return 0===t.length?[2,[]]:[4,this.checkPrivate()];case 1:v.sent(),n=[],r=this.getStorenameForModel(e),o=this.db.transaction(r,"readwrite"),i=o.store,a=function(t){var r,o,a,u,c,l,f,d;return kt(this,(function(p){switch(p.label){case 0:return r=s.namespaceResolver(e),o=e.name,a=s.modelInstanceCreator(e,t),u=qU(o,a,s.schema.namespaces[r],s.modelInstanceCreator,s.getModelConstructorByModelName),c=s.getIndexKeyValuesFromModel(a),l=t._deleted,[4,i.index("byPk").getKey(s.canonicalKeyPath(c))];case 1:return f=p.sent(),l?[3,3]:(d=u.find((function(e){var t=e.instance,n=h.getIndexKeyValuesFromModel(t);return TF(n,c)})).instance,n.push([d,f?eF.UPDATE:eF.INSERT]),[4,i.put(d,f)]);case 2:return p.sent(),[3,5];case 3:return n.push([t,eF.DELETE]),f?[4,i.delete(f)]:[3,5];case 4:p.sent(),p.label=5;case 5:return[2]}}))},s=this,v.label=2;case 2:v.trys.push([2,7,8,9]),u=Rt(t),c=u.next(),v.label=3;case 3:return c.done?[3,6]:(l=c.value,[5,a(l)]);case 4:v.sent(),v.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=v.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(p=u.return)&&p.call(u)}finally{if(d)throw d.error}return[7];case 9:return[4,o.done];case 10:return v.sent(),[2,n]}}))}))},e.prototype.createObjectStoreForModel=function(e,t,n,r){var o=e.createObjectStore(n,{autoIncrement:!0});return this.schema.namespaces[t].relationships[r].indexes.forEach((function(e){var t=Nt(e,3),n=t[0],r=t[1],i=t[2];o.createIndex(n,r,i)})),o},e}();const jB=new MB;var UB=function(){var e=this;this.db=new Map,this.getAllKeys=function(){return Ot(e,void 0,void 0,(function(){return kt(this,(function(e){return[2,Array.from(this.db.keys())]}))}))},this.multiGet=function(t){return Ot(e,void 0,void 0,(function(){var e=this;return kt(this,(function(n){return[2,t.reduce((function(t,n){return t.push([n,e.db.get(n)]),t}),[])]}))}))},this.multiRemove=function(t,n){return Ot(e,void 0,void 0,(function(){var e=this;return kt(this,(function(r){return t.forEach((function(t){return e.db.delete(t)})),"function"==typeof n&&n(),[2]}))}))},this.multiSet=function(t,n){return Ot(e,void 0,void 0,(function(){var e=this;return kt(this,(function(r){return t.forEach((function(t){var n=Nt(t,2),r=n[0],o=n[1];e.setItem(r,o)})),"function"==typeof n&&n(),[2]}))}))},this.setItem=function(t,n){return Ot(e,void 0,void 0,(function(){return kt(this,(function(e){return[2,this.db.set(t,n)]}))}))},this.removeItem=function(t){return Ot(e,void 0,void 0,(function(){return kt(this,(function(e){return[2,this.db.delete(t)]}))}))},this.getItem=function(t){return Ot(e,void 0,void 0,(function(){return kt(this,(function(e){return[2,this.db.get(t)]}))}))}},FB="@AmplifyDatastore",zB="Data",BB=new Map,qB=function(){function e(){this._collectionInMemoryIndex=new Map,this.storage=new UB}return e.prototype.getCollectionIndex=function(e){return this._collectionInMemoryIndex.has(e)||this._collectionInMemoryIndex.set(e,new Map),this._collectionInMemoryIndex.get(e)},e.prototype.getMonotonicFactory=function(e){return BB.has(e)||BB.set(e,GU()),BB.get(e)},e.prototype.init=function(){return Ot(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b;return kt(this,(function(w){switch(w.label){case 0:return this._collectionInMemoryIndex.clear(),[4,this.storage.getAllKeys()];case 1:e=w.sent(),t=[],w.label=2;case 2:w.trys.push([2,12,13,14]),n=Rt(e),r=n.next(),w.label=3;case 3:return r.done?[3,11]:(o=r.value,i=Nt(o.split("::"),5),a=i[0],s=i[1],u=i[2],c=i[3],l=i[4],a!==FB?[3,10]:u!==zB?[3,9]:(f=void 0,void 0!==l?[3,7]:(d=c,p=this.getMonotonicFactory(s)(),h=this.getLegacyKeyForItem(s,d),v=this.getKeyForItem(s,d,p),[4,this.storage.getItem(h)])));case 4:return y=w.sent(),[4,this.storage.setItem(v,y)];case 5:return w.sent(),[4,this.storage.removeItem(h)];case 6:return w.sent(),f=p,[3,8];case 7:f=c,w.label=8;case 8:return this.getCollectionIndex(s).set(l,f),[3,10];case 9:"Collection"===u&&t.push(o),w.label=10;case 10:return r=n.next(),[3,3];case 11:return[3,14];case 12:return m=w.sent(),g={error:m},[3,14];case 13:try{r&&!r.done&&(b=n.return)&&b.call(n)}finally{if(g)throw g.error}return[7];case 14:return t.length>0?[4,this.storage.multiRemove(t)]:[3,16];case 15:w.sent(),w.label=16;case 16:return[2]}}))}))},e.prototype.save=function(e,t,n,r){var o,i;return Ot(this,void 0,void 0,(function(){var a,s,u;return kt(this,(function(c){switch(c.label){case 0:return a=xF(n),s=(null===(o=this.getCollectionIndex(t))||void 0===o?void 0:o.get(a))||this.getMonotonicFactory(t)(),u=this.getKeyForItem(t,r,s),null===(i=this.getCollectionIndex(t))||void 0===i||i.set(r,s),[4,this.storage.setItem(u,JSON.stringify(e))];case 1:return c.sent(),[2]}}))}))},e.prototype.batchSave=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_=this;return kt(this,(function(x){switch(x.label){case 0:if(0===t.length)return[2,[]];r=[],o=this.getCollectionIndex(e),i=new Set,a=new Set,s=[],u={},c=function(t){var r=n.map((function(e){return t[e]})),c=t._deleted,f=o.get(r.join(CU))||l.getMonotonicFactory(e)(),d=l.getKeyForItem(e,r.join(CU),f);s.push(d),u[d]={ulid:f,model:t},c?i.add(d):a.add(d)},l=this;try{for(f=Rt(t),d=f.next();!d.done;d=f.next())p=d.value,c(p)}catch(e){b={error:e}}finally{try{d&&!d.done&&(w=f.return)&&w.call(f)}finally{if(b)throw b.error}}return[4,this.storage.multiGet(s)];case 1:return h=x.sent(),v=h.filter((function(e){return!!Nt(e,2)[1]})).reduce((function(e,t){var n=Nt(t,1)[0];return e.add(n)}),new Set),[4,new Promise((function(e,t){if(0!==i.size){var r=Array.from(i);r.forEach((function(e){var t=n.map((function(t){return u[e].model[t]})).join(CU);o.delete(t)})),_.storage.multiRemove(r,(function(n){n&&n.length>0?t(n):e()}))}else e()}))];case 2:return x.sent(),[4,new Promise((function(e,t){if(0!==a.size){var r=Array.from(a).map((function(e){return[e,JSON.stringify(u[e].model)]}));a.forEach((function(e){var t=u[e],r=t.model,i=t.ulid,a=n.map((function(e){return r[e]})).join(CU);o.set(a,i)})),_.storage.multiSet(r,(function(n){n&&n.length>0?t(n):e()}))}else e()}))];case 3:x.sent();try{for(y=Rt(s),m=y.next();!m.done;m=y.next())g=m.value,i.has(g)&&v.has(g)?r.push([u[g].model,eF.DELETE]):a.has(g)&&r.push([u[g].model,v.has(g)?eF.UPDATE:eF.INSERT])}catch(e){S={error:e}}finally{try{m&&!m.done&&(E=y.return)&&E.call(y)}finally{if(S)throw S.error}}return[2,r]}}))}))},e.prototype.get=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,o;return kt(this,(function(i){switch(i.label){case 0:return n=this.getCollectionIndex(t).get(e),r=this.getKeyForItem(t,e,n),[4,this.storage.getItem(r)];case 1:return[2,(o=i.sent())&&JSON.parse(o)]}}))}))},e.prototype.getOne=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,o,i,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return n=this.getCollectionIndex(t),r=Nt(e===tF.FIRST?function(){var e,t,r,o,i;try{for(var a=Rt(n),s=a.next();!s.done;s=a.next()){o=(r=Nt(s.value,2))[0],i=r[1];break}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return[o,i]}():function(){var e,t,r,o,i;try{for(var a=Rt(n),s=a.next();!s.done;s=a.next())o=(r=Nt(s.value,2))[0],i=r[1]}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return[o,i]}(),2),o=r[0],i=r[1],a=this.getKeyForItem(t,o,i),(u=a)?[4,this.storage.getItem(a)]:[3,2];case 1:u=c.sent(),c.label=2;case 2:return[2,(s=u)&&JSON.parse(s)||void 0]}}))}))},e.prototype.getAll=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w;return kt(this,(function(S){switch(S.label){case 0:n=this.getCollectionIndex(e),o=(r=t||{}).page,i=void 0===o?0:o,a=r.limit,s=void 0===a?0:a,u=Math.max(0,i*s)||0,c=s>0?u+s:void 0,l=[],f=0;try{for(d=Rt(n),p=d.next();!p.done&&(h=Nt(p.value,2),v=h[0],y=h[1],++f<=u||(l.push(this.getKeyForItem(e,v,y)),f!==c));p=d.next());}catch(e){b={error:e}}finally{try{p&&!p.done&&(w=d.return)&&w.call(d)}finally{if(b)throw b.error}}return[4,this.storage.multiGet(l)];case 1:return m=S.sent(),g=m.filter((function(e){return Nt(e,2)[1]})).map((function(e){var t=Nt(e,2)[1];return JSON.parse(t)})),[2,g]}}))}))},e.prototype.delete=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r;return kt(this,(function(o){switch(o.label){case 0:return n=this.getCollectionIndex(t).get(e),r=this.getKeyForItem(t,e,n),this.getCollectionIndex(t).delete(e),[4,this.storage.removeItem(r)];case 1:return o.sent(),[2]}}))}))},e.prototype.clear=function(){return Ot(this,void 0,void 0,(function(){var e,t;return kt(this,(function(n){switch(n.label){case 0:return[4,this.storage.getAllKeys()];case 1:return e=n.sent(),t=e.filter((function(e){return e.startsWith(FB)})),[4,this.storage.multiRemove(t)];case 2:return n.sent(),this._collectionInMemoryIndex.clear(),[2]}}))}))},e.prototype.getKeyForItem=function(e,t,n){return this.getKeyPrefixForStoreItems(e)+"::"+n+"::"+t},e.prototype.getLegacyKeyForItem=function(e,t){return this.getKeyPrefixForStoreItems(e)+"::"+t},e.prototype.getKeyPrefixForStoreItems=function(e){return FB+"::"+e+"::"+zB},e}();const KB=qB;var GB=new c("DataStore"),HB=function(){function e(){}return e.prototype.getStorenameForModel=function(e){var t=this.namespaceResolver(e),n=e.name;return gF(t,n)},e.prototype.getIndexKeyValuesFromModel=function(e){var t=Object.getPrototypeOf(e).constructor,n=this.namespaceResolver(t),r=IF(this.schema.namespaces[n],t.name);return wF(e,r)},e.prototype.getIndexKeyValuesPath=function(e){return this.getIndexKeyValuesFromModel(e).join(CU)},e.prototype.setUp=function(e,t,n,r){return Ot(this,void 0,void 0,(function(){var o,i=this;return kt(this,(function(a){switch(a.label){case 0:return this.initPromise?[3,1]:(this.initPromise=new Promise((function(e,t){i.resolve=e,i.reject=t})),[3,3]);case 1:return[4,this.initPromise];case 2:return a.sent(),[2];case 3:this.schema=e,this.namespaceResolver=t,this.modelInstanceCreator=n,this.getModelConstructorByModelName=r,a.label=4;case 4:return a.trys.push([4,7,,8]),this.db?[3,6]:(this.db=new KB,[4,this.db.init()]);case 5:a.sent(),this.resolve(),a.label=6;case 6:return[3,8];case 7:return o=a.sent(),this.reject(o),[3,8];case 8:return[2]}}))}))},e.prototype.save=function(e,t){var n,r;return Ot(this,void 0,void 0,(function(){var o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T,I,A,C,P,O,k=this;return kt(this,(function(R){switch(R.label){case 0:return o=Object.getPrototypeOf(e).constructor,i=this.getStorenameForModel(o),a=this.namespaceResolver(o),s=qU(o.name,e,this.schema.namespaces[a],this.modelInstanceCreator,this.getModelConstructorByModelName),u=new Set,c=Object.values(s).map((function(e){var t=e.modelName,n=e.item,r=e.instance,o=gF(a,t);return u.add(o),{storeName:o,item:n,instance:r,keys:IF(k.schema.namespaces[a],t)}})),l=this.getIndexKeyValuesPath(e),[4,this.db.get(l,i)];case 1:if(f=R.sent(),t&&f&&(d=Zz.getPredicates(t),h=(p=d).predicates,v=p.type,!MU(f,v,h)))throw y="Conditional update failed",GB.error(y,{model:f,condition:h}),new Error(y);m=[],R.label=2;case 2:R.trys.push([2,9,10,15]),g=Mt(c),R.label=3;case 3:return[4,g.next()];case 4:return(b=R.sent()).done?[3,8]:(w=b.value,S=w.storeName,E=w.item,_=w.instance,x=w.keys,T=x.map((function(e){return E[e]})),I=T.join(CU),[4,this.db.get(I,S)]);case 5:return A=R.sent(),C=A?eF.UPDATE:eF.INSERT,P=this.getIndexKeyValuesFromModel(e),TF(T,P)||C===eF.INSERT?[4,this.db.save(E,S,x,I)]:[3,7];case 6:R.sent(),m.push([_,C]),R.label=7;case 7:return[3,3];case 8:return[3,15];case 9:return O=R.sent(),n={error:O},[3,15];case 10:return R.trys.push([10,,13,14]),b&&!b.done&&(r=g.return)?[4,r.call(g)]:[3,12];case 11:R.sent(),R.label=12;case 12:return[3,14];case 13:if(n)throw n.error;return[7];case 14:return[7];case 15:return[2,m]}}))}))},e.prototype.load=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,o,i,a,s=this;return kt(this,(function(u){return r=this.schema.namespaces[e],o=r.relationships[t].relationTypes,i=o.map((function(t){var n=t.modelName;return gF(e,n)})),a=this.getModelConstructorByModelName(e,t),i.length,[2,n.map((function(e){return s.modelInstanceCreator(a,e)}))]}))}))},e.prototype.query=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f=this;return kt(this,(function(d){switch(d.label){case 0:return r=this.getStorenameForModel(e),o=this.namespaceResolver(e),i=t&&Zz.getPredicates(t),a=IF(this.schema.namespaces[o],e.name),s=i&&this.keyValueFromPredicate(i,a),u=n&&n.sort,c=n&&n.limit,[4,Ot(f,void 0,void 0,(function(){var e,t,o;return kt(this,(function(a){switch(a.label){case 0:return s?[4,this.getByKey(r,s)]:[3,2];case 1:return[2,(e=a.sent())?[e]:[]];case 2:return i?[4,this.filterOnPredicate(r,i)]:[3,4];case 3:return t=a.sent(),[2,this.inMemoryPagination(t,n)];case 4:return u||c?[4,this.getAll(r)]:[3,6];case 5:return o=a.sent(),[2,this.inMemoryPagination(o,n)];case 6:return[2,this.getAll(r)]}}))}))];case 1:return l=d.sent(),[4,this.load(o,e.name,l)];case 2:return[2,d.sent()]}}))}))},e.prototype.getByKey=function(e,t){return Ot(this,void 0,void 0,(function(){return kt(this,(function(n){switch(n.label){case 0:return[4,this.db.get(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.getAll=function(e){return Ot(this,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return[4,this.db.getAll(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.keyValueFromPredicate=function(e,t){var n,r,o=e.predicates;if(o.length===t.length){var i=[],a=function(e){var t=o.find((function(t){return DF(t)&&t.field===e&&"eq"===t.operator}));t&&i.push(t.operand)};try{for(var s=Rt(t),u=s.next();!u.done;u=s.next())a(u.value)}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i.length===t.length?i.join(CU):void 0}},e.prototype.filterOnPredicate=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,o,i;return kt(this,(function(a){switch(a.label){case 0:return n=t.predicates,r=t.type,[4,this.getAll(e)];case 1:return o=a.sent(),i=n?o.filter((function(e){return MU(e,r,n)})):o,[2,i]}}))}))},e.prototype.inMemoryPagination=function(e,t){return WU(e,t)},e.prototype.queryOne=function(e,t){return void 0===t&&(t=tF.FIRST),Ot(this,void 0,void 0,(function(){var n,r;return kt(this,(function(o){switch(o.label){case 0:return n=this.getStorenameForModel(e),[4,this.db.getOne(t,n)];case 1:return[2,(r=o.sent())&&this.modelInstanceCreator(e,r)]}}))}))},e.prototype.delete=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v,y;return kt(this,(function(m){switch(m.label){case 0:return n=[],UU(e)?(i=e,a=this.namespaceResolver(i),[4,this.query(i,t)]):[3,8];case 1:return r=m.sent(),v=this.schema.namespaces[a].relationships[i.name].relationTypes,void 0===t?[3,4]:[4,this.deleteTraverse(v,r,i.name,a,n)];case 2:return m.sent(),[4,this.deleteItem(n)];case 3:return m.sent(),y=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[r,y]];case 4:return[4,this.deleteTraverse(v,r,i.name,a,n)];case 5:return m.sent(),[4,this.deleteItem(n)];case 6:return m.sent(),y=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[r,y]];case 7:return[3,15];case 8:return o=e,i=Object.getPrototypeOf(o).constructor,a=this.namespaceResolver(i),s=this.getStorenameForModel(i),t?(u=this.getIndexKeyValuesPath(o),[4,this.db.get(u,s)]):[3,11];case 9:if(void 0===(c=m.sent()))return h="Model instance not found in storage",GB.warn(h,{model:o}),[2,[[o],[]]];if(l=Zz.getPredicates(t),d=(f=l).predicates,p=f.type,!MU(c,p,d))throw h="Conditional update failed",GB.error(h,{model:c,condition:d}),new Error(h);return v=this.schema.namespaces[a].relationships[i.name].relationTypes,[4,this.deleteTraverse(v,[o],i.name,a,n)];case 10:return m.sent(),[3,13];case 11:return v=this.schema.namespaces[a].relationships[i.name].relationTypes,[4,this.deleteTraverse(v,[o],i.name,a,n)];case 12:m.sent(),m.label=13;case 13:return[4,this.deleteItem(n)];case 14:return m.sent(),y=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[[o],y]];case 15:return[2]}}))}))},e.prototype.deleteItem=function(e){var t,n,r,o;return Ot(this,void 0,void 0,(function(){var i,a,s,u,c,l,f,d,p,h,v;return kt(this,(function(y){switch(y.label){case 0:y.trys.push([0,17,18,23]),i=Mt(e),y.label=1;case 1:return[4,i.next()];case 2:if((a=y.sent()).done)return[3,16];s=a.value,u=s.storeName,c=s.items,y.label=3;case 3:y.trys.push([3,9,10,15]),l=Mt(c),y.label=4;case 4:return[4,l.next()];case 5:return(f=y.sent()).done?[3,8]:(d=f.value)?"object"!=typeof d?[3,7]:(p=this.getIndexKeyValuesPath(d),[4,this.db.delete(p,u)]):[3,7];case 6:y.sent(),y.label=7;case 7:return[3,4];case 8:return[3,15];case 9:return h=y.sent(),r={error:h},[3,15];case 10:return y.trys.push([10,,13,14]),f&&!f.done&&(o=l.return)?[4,o.call(l)]:[3,12];case 11:y.sent(),y.label=12;case 12:return[3,14];case 13:if(r)throw r.error;return[7];case 14:return[7];case 15:return[3,1];case 16:return[3,23];case 17:return v=y.sent(),t={error:v},[3,23];case 18:return y.trys.push([18,,21,22]),a&&!a.done&&(n=i.return)?[4,n.call(i)]:[3,20];case 19:y.sent(),y.label=20;case 20:return[3,22];case 21:if(t)throw t.error;return[7];case 22:return[7];case 23:return[2]}}))}))},e.prototype.deleteTraverse=function(e,t,n,r,o){var i,a,s,u,c,l,f,d,p,h,v,y;return Ot(this,void 0,void 0,(function(){var m,g,b,w,S,E,_,x,T,I,A,C,P,O,k,R,N,L,D,M,j,U,F,z,B,q=this;return kt(this,(function(K){switch(K.label){case 0:K.trys.push([0,38,39,44]),i=Mt(e),K.label=1;case 1:return[4,i.next()];case 2:if((a=K.sent()).done)return[3,37];switch(m=a.value,g=m.relationType,b=m.modelName,w=m.targetName,S=m.targetNames,E=m.associatedWith,_=gF(r,b),x=SF(this.schema.namespaces[r].relationships[b].relationTypes,n)||EF(this.schema.namespaces[r].relationships[b].indexes,m.associatedWith),g){case"HAS_ONE":return[3,3];case"HAS_MANY":return[3,20];case"BELONGS_TO":return[3,34]}return[3,35];case 3:K.trys.push([3,13,14,19]),s=Mt(t),K.label=4;case 4:return[4,s.next()];case 5:return(u=K.sent()).done?[3,12]:(D=u.value,S&&(null==S?void 0:S.length)?(x?T=x.split(PU):E&&(T=Array.isArray(E)?E:[E]),I=S.every((function(e){return D.hasOwnProperty(e)})),k=this.getIndexKeyValuesPath(D),C=T===E,A=I&&C?S.filter((function(e){var t;return null!==(t=D[e])&&void 0!==t&&t})).map((function(e){return D[e]})):k.split(CU),0===A.length?[3,12]:[4,this.db.getAll(_)]):[3,8]);case 6:return j=K.sent(),N=void 0,N=I?j.filter((function(e){return T.every((function(t){return A.includes(e[t])}))})):j.filter((function(e){return e[T]===A})),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,N,b,r,o)];case 7:return K.sent(),[3,11];case 8:return P=x||E,O=w in D,k=this.getIndexKeyValuesPath(D),(R=O?D[w]:k)?[4,this.db.getAll(_)]:[3,12];case 9:return j=K.sent(),N=j.filter((function(e){return e[P]===R})),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,N,b,r,o)];case 10:K.sent(),K.label=11;case 11:return[3,4];case 12:return[3,19];case 13:return L=K.sent(),p={error:L},[3,19];case 14:return K.trys.push([14,,17,18]),u&&!u.done&&(h=s.return)?[4,h.call(s)]:[3,16];case 15:K.sent(),K.label=16;case 16:return[3,18];case 17:if(p)throw p.error;return[7];case 18:return[7];case 19:return[3,36];case 20:K.trys.push([20,27,28,33]),c=Mt(t),K.label=21;case 21:return[4,c.next()];case 22:return(l=K.sent()).done?[3,26]:(D=l.value,M=this.getIndexKeyValuesFromModel(D),[4,this.db.getAll(_)]);case 23:return j=K.sent(),U=x.split(PU),F=j.filter((function(e){return U.every((function(t){return M.includes(e[t])}))})),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,F,b,r,o)];case 24:K.sent(),K.label=25;case 25:return[3,21];case 26:return[3,33];case 27:return z=K.sent(),v={error:z},[3,33];case 28:return K.trys.push([28,,31,32]),l&&!l.done&&(y=c.return)?[4,y.call(c)]:[3,30];case 29:K.sent(),K.label=30;case 30:return[3,32];case 31:if(v)throw v.error;return[7];case 32:return[7];case 33:case 34:return[3,36];case 35:throw new Error("Invalid relationType "+g);case 36:return[3,1];case 37:return[3,44];case 38:return B=K.sent(),f={error:B},[3,44];case 39:return K.trys.push([39,,42,43]),a&&!a.done&&(d=i.return)?[4,d.call(i)]:[3,41];case 40:K.sent(),K.label=41;case 41:return[3,43];case 42:if(f)throw f.error;return[7];case 43:return[7];case 44:return o.push({storeName:gF(r,n),items:t.map((function(e){return q.modelInstanceCreator(q.getModelConstructorByModelName(r,n),e)}))}),[2]}}))}))},e.prototype.clear=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return[4,this.db.clear()];case 1:return e.sent(),this.db=void 0,this.initPromise=void 0,[2]}}))}))},e.prototype.batchSave=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h=this;return kt(this,(function(v){switch(v.label){case 0:n=e.name,r=this.namespaceResolver(e),o=gF(r,n),i=IF(this.schema.namespaces[r],n),a=[],s=function(t){var o=u.modelInstanceCreator(e,t),i=qU(n,o,u.schema.namespaces[r],u.modelInstanceCreator,u.getModelConstructorByModelName),s=u.getIndexKeyValuesPath(o),c=i.find((function(e){var t=e.instance,n=h.getIndexKeyValuesPath(t);return TF([n],[s])})).instance;a.push(c)},u=this;try{for(c=Rt(t),l=c.next();!l.done;l=c.next())f=l.value,s(f)}catch(e){d={error:e}}finally{try{l&&!l.done&&(p=c.return)&&p.call(c)}finally{if(d)throw d.error}}return[4,this.db.batchSave(o,a,i)];case 1:return[2,v.sent()]}}))}))},e}();const VB=new HB;var $B=new c("DataStore"),WB=function(){function e(e,t,n,r,o,i){this.schema=e,this.namespaceResolver=t,this.getModelConstructorByModelName=n,this.modelInstanceCreator=r,this.adapter=o,this.sessionId=i,this.adapter=this.adapter||(Y().isBrowser&&window.indexedDB||W()&&self.indexedDB?jB:VB),this.pushStream=new(nB())}return e.getNamespace=function(){return{name:NU,relationships:{},enums:{},models:{},nonModels:{}}},e.prototype.init=function(){return Ot(this,void 0,void 0,(function(){var e,t;return kt(this,(function(n){switch(n.label){case 0:return void 0===this.initialized?[3,2]:[4,this.initialized];case 1:case 3:return n.sent(),[2];case 2:return $B.debug("Starting Storage"),this.initialized=new Promise((function(n,r){e=n,t=r})),this.adapter.setUp(this.schema,this.namespaceResolver,this.modelInstanceCreator,this.getModelConstructorByModelName,this.sessionId).then(e,t),[4,this.initialized]}}))}))},e.prototype.save=function(e,t,n,r){return Ot(this,void 0,void 0,(function(){var o,i=this;return kt(this,(function(a){switch(a.label){case 0:return[4,this.init()];case 1:if(a.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.save(e,t)];case 2:return(o=a.sent()).forEach((function(a){var s,u=Nt(a,2),c=u[0],l=u[1],f=!!n;if(l===eF.UPDATE&&!f&&null===(s=i.getUpdateMutationInput(e,c,r)))return o;var d=s||c,p=Object.getPrototypeOf(c).constructor;i.pushStream.next({model:p,opType:l,element:d,mutator:n,condition:t&&Zz.getPredicates(t,!1)||null,savedElement:c})})),[2,o]}}))}))},e.prototype.delete=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l=this;return kt(this,(function(f){switch(f.label){case 0:return[4,this.init()];case 1:if(f.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.delete(e,t)];case 2:return c=Nt.apply(void 0,[f.sent(),2]),r=c[0],o=c[1],i=UU(e)?e:Object.getPrototypeOf(e||{}).constructor,a=this.namespaceResolver(i),s=this.schema.namespaces[a].models[i.name],u=new Set(r.map((function(e){return vB(s,e)}))),UU(e)||Array.isArray(o)||(o=[o]),o.forEach((function(r){var o,i=Object.getPrototypeOf(r).constructor;if(!UU(e)){var a=vB(s,r);o=u.has(a)?Zz.getPredicates(t,!1):void 0}l.pushStream.next({model:i,opType:eF.DELETE,element:r,mutator:n,condition:o||null})})),[2,[r,o]]}}))}))},e.prototype.query=function(e,t,n){return Ot(this,void 0,void 0,(function(){return kt(this,(function(r){switch(r.label){case 0:return[4,this.init()];case 1:if(r.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.query(e,t,n)];case 2:return[2,r.sent()]}}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=tF.FIRST),Ot(this,void 0,void 0,(function(){return kt(this,(function(n){switch(n.label){case 0:return[4,this.init()];case 1:if(n.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.queryOne(e,t)];case 2:return[2,n.sent()]}}))}))},e.prototype.observe=function(e,t,n){var r=!e,o=t&&Zz.getPredicates(t,!1)||{},i=o.predicates,a=o.type,s=this.pushStream.observable.filter((function(e){var t=e.mutator;return!n||t!==n})).map((function(e){return e.mutator,Pt(e,["mutator"])}));return r||(s=s.filter((function(t){var n=t.model,r=t.element;return e===n&&(!i||!a||MU(r,a,i))}))),s},e.prototype.clear=function(e){return void 0===e&&(e=!0),Ot(this,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:if(this.initialized=void 0,!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.clear()];case 1:return t.sent(),e&&this.pushStream.complete(),[2]}}))}))},e.prototype.batchSave=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,o=this;return kt(this,(function(i){switch(i.label){case 0:return[4,this.init()];case 1:if(i.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.batchSave(e,t)];case 2:return(r=i.sent()).forEach((function(t){var r=Nt(t,2),i=r[0],a=r[1];o.pushStream.next({model:e,opType:a,element:i,mutator:n,condition:null})})),[2,r]}}))}))},e.prototype.getUpdateMutationInput=function(e,t,n){var r,o,i;if(!n||!n.length)return null;var a=Nt(n,2),s=a[0],u=a[1],c={},l=s.map((function(e){return e.path&&e.path[0]})),f=Object.getPrototypeOf(e).constructor,d=this.namespaceResolver(f),p=this.schema.namespaces[d].models[f.name].fields,h=(null===(i=this.schema.namespaces[d].keys)||void 0===i?void 0:i[f.name])||{},v=h.primaryKey,y=h.compositeKeys,m=void 0===y?[]:y;if(l.forEach((function(e){var n,r,o,i,a,s,l,f,d,h,v,y=CF(null===(v=p[e])||void 0===v?void 0:v.association);if(Array.isArray(y))try{for(var g=Rt(y),b=g.next();!b.done;b=g.next()){var w=b.value;if(!$U(u[w],t[w])){c[w]=void 0===t[w]?null:t[w];try{for(var S=(o=void 0,Rt(m)),E=S.next();!E.done;E=S.next())if((P=E.value).has(w))try{for(var _=(a=void 0,Rt(P)),x=_.next();!x.done;x=_.next()){var T=x.value;c[T]=t[T]}}catch(e){a={error:e}}finally{try{x&&!x.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}}catch(e){o={error:e}}finally{try{E&&!E.done&&(i=S.return)&&i.call(S)}finally{if(o)throw o.error}}}}}catch(e){n={error:e}}finally{try{b&&!b.done&&(r=g.return)&&r.call(g)}finally{if(n)throw n.error}}else{var I=y||e;if(!$U(u[I],t[I])){c[I]=void 0===t[I]?null:t[I];try{for(var A=Rt(m),C=A.next();!C.done;C=A.next()){var P;if((P=C.value).has(I))try{for(var O=(d=void 0,Rt(P)),k=O.next();!k.done;k=O.next())T=k.value,c[T]=t[T]}catch(e){d={error:e}}finally{try{k&&!k.done&&(h=O.return)&&h.call(O)}finally{if(d)throw d.error}}}}catch(e){l={error:e}}finally{try{C&&!C.done&&(f=A.return)&&f.call(A)}finally{if(l)throw l.error}}}}})),0===Object.keys(c).length)return null;if(v&&v.length)try{for(var g=Rt(v),b=g.next();!b.done;b=g.next()){var w=b.value;c[w]=t[w]}}catch(e){r={error:e}}finally{try{b&&!b.done&&(o=g.return)&&o.call(g)}finally{if(r)throw r.error}}var S=t.id,E=t._version,_=t._lastChangedAt,x=t._deleted;return Ct(Ct({},c),{id:S,_version:E,_lastChangedAt:_,_deleted:x})},e}(),YB=function(){function e(e,t,n,r,o,i){this.mutex=new Xz,this.storage=new WB(e,t,n,r,o,i)}return e.prototype.runExclusive=function(e){return this.mutex.runExclusive(e.bind(this,this.storage))},e.prototype.save=function(e,t,n,r){return Ot(this,void 0,void 0,(function(){return kt(this,(function(o){return[2,this.runExclusive((function(o){return o.save(e,t,n,r)}))]}))}))},e.prototype.delete=function(e,t,n){return Ot(this,void 0,void 0,(function(){return kt(this,(function(r){return[2,this.runExclusive((function(r){if(UU(e)){var o=e;return r.delete(o,t,n)}var i=e;return r.delete(i,t,n)}))]}))}))},e.prototype.query=function(e,t,n){return Ot(this,void 0,void 0,(function(){return kt(this,(function(r){return[2,this.runExclusive((function(r){return r.query(e,t,n)}))]}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=tF.FIRST),Ot(this,void 0,void 0,(function(){return kt(this,(function(n){return[2,this.runExclusive((function(n){return n.queryOne(e,t)}))]}))}))},e.getNamespace=function(){return WB.getNamespace()},e.prototype.observe=function(e,t,n){return this.storage.observe(e,t,n)},e.prototype.clear=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return[4,this.runExclusive((function(e){return e.clear()}))];case 1:return e.sent(),[2]}}))}))},e.prototype.batchSave=function(e,t){return this.storage.batchSave(e,t)},e.prototype.init=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){return[2,this.storage.init()]}))}))},e}(),ZB=function(){function e(e,t){if(!PF(e.schema,t))throw new Error(e.schema.name+"."+t+" is not a relationship.");this.localModel=e,this._field=t}return e.from=function(e,t){return PF(e.schema,t)?new this(e,t):null},e.allFrom=function(t){var n,r,o=[];try{for(var i=Rt(Object.keys(t.schema.fields)),a=i.next();!a.done;a=i.next()){var s=a.value,u=e.from(t,s);u&&o.push(u)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o},Object.defineProperty(e.prototype,"localDefinition",{get:function(){return this.localModel.schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localConstructor",{get:function(){return this.localModel.builder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.localAssocation.connectionType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localAssocation",{get:function(){return this.localDefinition.fields[this.field].association},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localJoinFields",{get:function(){return this.localAssocation.targetName?[this.localAssocation.targetName]:this.localAssocation.targetNames?this.localAssocation.targetNames:this.localPKFields},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localPKFields",{get:function(){return this.localModel.pkField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteDefinition",{get:function(){var e;return null===(e=this.remoteModelType.modelConstructor)||void 0===e?void 0:e.schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteModelType",{get:function(){return this.localDefinition.fields[this.field].type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteModelConstructor",{get:function(){return this.remoteModelType.modelConstructor.builder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remotePKFields",{get:function(){var e;return(null===(e=this.remoteModelType.modelConstructor)||void 0===e?void 0:e.pkField)||["id"]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localAssociatedWith",{get:function(){return"HAS_MANY"===this.localAssocation.connectionType||"HAS_ONE"===this.localAssocation.connectionType?Array.isArray(this.localAssocation.associatedWith)?this.localAssocation.associatedWith:[this.localAssocation.associatedWith]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"explicitRemoteAssociation",{get:function(){var e;if(this.localAssociatedWith)return 1===this.localAssociatedWith.length?null===(e=this.remoteDefinition.fields[this.localAssociatedWith[0]])||void 0===e?void 0:e.association:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteJoinFields",{get:function(){var e,t,n;return(null===(e=this.explicitRemoteAssociation)||void 0===e?void 0:e.targetName)?[this.explicitRemoteAssociation.targetName]:(null===(t=this.explicitRemoteAssociation)||void 0===t?void 0:t.targetNames)?null===(n=this.explicitRemoteAssociation)||void 0===n?void 0:n.targetNames:this.localAssociatedWith?this.localAssociatedWith:this.remotePKFields},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this.localJoinFields.length>0&&this.remoteJoinFields.length>0},enumerable:!0,configurable:!0}),e.prototype.createLocalFKObject=function(e){for(var t={},n=0;n<this.localJoinFields.length;n++)t[this.localJoinFields[n]]=e[this.remoteJoinFields[n]];return t},e.prototype.createRemoteQueryObject=function(e){for(var t={},n=0;n<this.remoteJoinFields.length;n++){if(null==e[this.localJoinFields[n]])return null;t[this.remoteJoinFields[n]]=e[this.localJoinFields[n]]}return t},e}(),JB=(new Vj).networkMonitor(),XB=(new c("DataStore"),function(){function e(){this.connectionStatus={online:!1}}return e.prototype.status=function(){var e=this;if(this.observer)throw new Error("Subscriber already exists");return new Tj((function(t){return e.observer=t,e.subscription=JB.subscribe((function(n){var r=n.online;e.connectionStatus.online=r;var o=Ct({},e.connectionStatus);t.next(o)})),function(){clearTimeout(e.timeout),e.unsubscribe()}}))},e.prototype.unsubscribe=function(){this.subscription&&(clearTimeout(this.timeout),this.subscription.unsubscribe())},e.prototype.stop=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){return this.unsubscribe(),[2]}))}))},e.prototype.socketDisconnected=function(){var e=this;this.observer&&"function"==typeof this.observer.next&&(this.observer.next({online:!1}),this.timeout=setTimeout((function(){var t=Ct({},e.connectionStatus);e.observer.next(t)}),5e3))},e}());const QB=XB;var eq=function(){function e(e,t){this.outbox=e,this.ownSymbol=t}return e.prototype.merge=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,o,i,a,s;return kt(this,(function(u){switch(u.label){case 0:return[4,this.outbox.getForModel(e,t,n)];case 1:return o=u.sent(),i=t._deleted,0!==o.length?[3,5]:i?(r=eF.DELETE,[4,e.delete(t,void 0,this.ownSymbol)]):[3,3];case 2:return u.sent(),[3,5];case 3:return[4,e.save(t,void 0,this.ownSymbol)];case 4:a=Nt.apply(void 0,[u.sent(),1]),s=Nt(a[0],2),r=s[1],u.label=5;case 5:return[2,r]}}))}))},e.prototype.mergePage=function(e,t,n,r){return Ot(this,void 0,void 0,(function(){var o,i,a,s,u,c,l,f;return kt(this,(function(d){switch(d.label){case 0:o=new Map;try{for(i=Rt(n),a=i.next();!a.done;a=i.next())s=a.value,u=vB(r,s),o.set(u,s)}catch(e){l={error:e}}finally{try{a&&!a.done&&(f=i.return)&&f.call(i)}finally{if(l)throw l.error}}return c=Lt(o.values()),[4,e.batchSave(t,c,this.ownSymbol)];case 1:return[2,d.sent()]}}))}))},e}(),tq=function(){function e(e,t,n,r){this.schema=e,this.MutationEvent=t,this.modelInstanceCreator=n,this.ownSymbol=r}return e.prototype.enqueue=function(e,t){return Ot(this,void 0,void 0,(function(){var n=this;return kt(this,(function(r){switch(r.label){case 0:return[4,e.runExclusive((function(e){return Ot(n,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f=this;return kt(this,(function(d){switch(d.label){case 0:return n=this.schema.namespaces[RU].models.MutationEvent,r=Zz.createFromExisting(n,(function(e){return e.modelId("eq",t.modelId).id("ne",f.inProgressMutationEventId)})),[4,e.query(this.MutationEvent,r)];case 1:return o=Nt.apply(void 0,[d.sent(),1]),void 0!==(i=o[0])?[3,3]:[4,e.save(t,void 0,this.ownSymbol)];case 2:return d.sent(),[2];case 3:return a=t.operation,i.operation!==eB.CREATE?[3,8]:a!==eB.DELETE?[3,5]:[4,e.delete(this.MutationEvent,r)];case 4:return d.sent(),[3,7];case 5:return s=this.mergeUserFields(i,t),[4,e.save(this.MutationEvent.copyOf(i,(function(e){e.data=s.data})),void 0,this.ownSymbol)];case 6:d.sent(),d.label=7;case 7:return[3,12];case 8:return u=t.condition,c=JSON.parse(u),l=void 0,0!==Object.keys(c).length?[3,10]:(l=this.mergeUserFields(i,t),[4,e.delete(this.MutationEvent,r)]);case 9:d.sent(),d.label=10;case 10:return l=l||t,[4,e.save(l,void 0,this.ownSymbol)];case 11:d.sent(),d.label=12;case 12:return[2]}}))}))}))];case 1:return r.sent(),[2]}}))}))},e.prototype.dequeue=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r;return kt(this,(function(o){switch(o.label){case 0:return[4,this.peek(e)];case 1:return r=o.sent(),t?[4,this.syncOutboxVersionsOnDequeue(e,t,r,n)]:[3,3];case 2:o.sent(),o.label=3;case 3:return[4,e.delete(r)];case 4:return o.sent(),this.inProgressMutationEventId=void 0,[2,r]}}))}))},e.prototype.peek=function(e){return Ot(this,void 0,void 0,(function(){var t;return kt(this,(function(n){switch(n.label){case 0:return[4,e.queryOne(this.MutationEvent,tF.FIRST)];case 1:return t=n.sent(),this.inProgressMutationEventId=t?t.id:void 0,[2,t]}}))}))},e.prototype.getForModel=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,o;return kt(this,(function(i){switch(i.label){case 0:return r=this.schema.namespaces[RU].models.MutationEvent,o=vB(n,t),[4,e.query(this.MutationEvent,Zz.createFromExisting(r,(function(e){return e.modelId("eq",o)})))];case 1:return[2,i.sent()]}}))}))},e.prototype.getModelIds=function(e){return Ot(this,void 0,void 0,(function(){var t,n;return kt(this,(function(r){switch(r.label){case 0:return[4,e.query(this.MutationEvent)];case 1:return t=r.sent(),n=new Set,t.forEach((function(e){var t=e.modelId;return n.add(t)})),[2,n]}}))}))},e.prototype.syncOutboxVersionsOnDequeue=function(e,t,n,r){return Ot(this,void 0,void 0,(function(){var o,i,a,s,u,c,l,f,d,p,h,v,y,m=this;return kt(this,(function(g){switch(g.label){case 0:return n.operation!==r?[2]:(o=t._version,i=t._lastChangedAt,t._deleted,a=Pt(t,["_version","_lastChangedAt","_deleted"]),s=this.removeTimestampFields(n.model,a),(u=JSON.parse(n.data))?(u._version,u._lastChangedAt,u._deleted,c=Pt(u,["_version","_lastChangedAt","_deleted"]),l=this.removeTimestampFields(n.model,c),$U(s,l,!0)?(f=this.schema.namespaces[RU].models.MutationEvent,d=this.schema.namespaces.user.models[n.model],p=vB(d,t),h=Zz.createFromExisting(f,(function(e){return e.modelId("eq",p).id("ne",m.inProgressMutationEventId)})),[4,e.query(this.MutationEvent,h)]):[2]):[2]);case 1:return(v=g.sent()).length?(y=v.map((function(e){var t=JSON.parse(e.data),n=Ct(Ct({},t),{_version:o,_lastChangedAt:i});return m.MutationEvent.copyOf(e,(function(e){e.data=JSON.stringify(n)}))})),[4,e.delete(this.MutationEvent,h)]):[2];case 2:return g.sent(),[4,Promise.all(y.map((function(t){return Ot(m,void 0,void 0,(function(){return kt(this,(function(n){switch(n.label){case 0:return[4,e.save(t,void 0,this.ownSymbol)];case 1:return[2,n.sent()]}}))}))})))];case 3:return g.sent(),[2]}}))}))},e.prototype.mergeUserFields=function(e,t){var n=JSON.parse(e.data),r=n._version,o=n._lastChangedAt,i=n._deleted,a=Pt(n,["_version","_lastChangedAt","_deleted"]),s=JSON.parse(t.data),u=(s._version,s._lastChangedAt,s._deleted,Pt(s,["_version","_lastChangedAt","_deleted"])),c=JSON.stringify(Ct(Ct({_version:r,_lastChangedAt:o,_deleted:i},a),u));return this.modelInstanceCreator(this.MutationEvent,Ct(Ct({},t),{data:c}))},e.prototype.removeTimestampFields=function(e,t){var n,r,o="createdAt",i="updatedAt",a=o,s=i,u=null===(n=this.schema.namespaces[kU].models[e].attributes)||void 0===n?void 0:n.find((function(e){return"model"===e.type})),c=null===(r=null==u?void 0:u.properties)||void 0===r?void 0:r.timestamps;return c&&(a=c[o],s=c[i]),delete t[a],delete t[s],t},e}(),nq=function(e){return/^Connection failed: Connection Timeout/.test(e.message)},rq=function(e){return/^Error: Request failed with status code 5\d\d/.test(e.message)},oq={BadModel:function(){return!1},BadRecord:function(e){var t=e.message;return/^Cannot return \w+ for [\w-_]+ type/.test(t)||/^Variable '.+' has coerced Null value for NonNull type/.test(t)},ConfigError:function(){return!1},Transient:function(e){return nq(e)||rq(e)},Unauthorized:function(e){return/^Request failed with status code 401/.test(e.message)}},iq={BadModel:function(){return!1},BadRecord:function(){return!1},ConfigError:function(){return!1},Transient:function(e){var t=sq(e);return nq(t)||rq(t)},Unauthorized:function(e){var t=sq(e);return/Connection failed.+Unauthorized/.test(t.message)}},aq={BadModel:function(){return!1},BadRecord:function(e){return/^Cannot return \w+ for [\w-_]+ type/.test(e.message)},ConfigError:function(){return!1},Transient:function(e){return nq(e)||rq(e)},Unauthorized:function(){return!1}};function sq(e){var t=e.error;return Nt((void 0===t?{errors:[]}:t).errors,1)[0]}function uq(e){return cq(oq,e)}function cq(e,t){var n,r,o=Lt(Object.keys(e));try{for(var i=Rt(o),a=i.next();!a.done;a=i.next()){var s=a.value,u=e[s];if(null==u?void 0:u(t))return s}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return"Unknown"}var lq,fq,dq=new c("DataStore"),pq=function(){function e(e,t,n,r,o,i,a,s,u,c,l){void 0===a&&(a={}),this.schema=e,this.storage=t,this.userClasses=n,this.outbox=r,this.modelInstanceCreator=o,this.MutationEvent=i,this.amplifyConfig=a,this.authModeStrategy=s,this.errorHandler=u,this.conflictHandler=c,this.amplifyContext=l,this.typeQuery=new WeakMap,this.processing=!1,this.runningProcesses=new qF,this.amplifyContext.API=this.amplifyContext.API||pU,this.generateQueries()}return e.prototype.generateQueries=function(){var e=this;Object.values(this.schema.namespaces).forEach((function(t){Object.values(t.models).filter((function(e){return e.syncable})).forEach((function(n){var r=Nt(sB(t,n,"CREATE"),1)[0],o=Nt(sB(t,n,"UPDATE"),1)[0],i=Nt(sB(t,n,"DELETE"),1)[0];e.typeQuery.set(n,[r,o,i])}))}))},e.prototype.isReady=function(){return void 0!==this.observer},e.prototype.start=function(){var e=this;return this.runningProcesses=new qF,new Tj((function(t){e.observer=t;try{e.resume()}catch(e){throw dq.error("mutations processor start error",e),e}return e.runningProcesses.addCleaner((function(){return Ot(e,void 0,void 0,(function(){return kt(this,(function(e){return this.pause(),[2]}))}))}))}))},e.prototype.stop=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return[4,this.runningProcesses.close()];case 1:return e.sent(),[4,this.runningProcesses.open()];case 2:return e.sent(),[2]}}))}))},e.prototype.resume=function(){return Ot(this,void 0,void 0,(function(){var e=this;return kt(this,(function(t){switch(t.label){case 0:return[4,this.runningProcesses.isOpen&&this.runningProcesses.add((function(t){return Ot(e,void 0,void 0,(function(){var e,n,r,o,i,a=this;return kt(this,(function(s){switch(s.label){case 0:if(this.processing||!this.isReady()||!this.runningProcesses.isOpen)return[2];this.processing=!0,n=kU,r=function(){var r,i,s,u,c,l,f,d,p,h,v,y,m,g,b,w;return kt(this,(function(S){switch(S.label){case 0:r=e.model,i=e.operation,s=e.data,u=e.condition,c=o.userClasses[r],l=void 0,f=void 0,d=void 0,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,fB({authModeStrategy:o.authModeStrategy,defaultAuthMode:o.amplifyConfig.aws_appsync_authenticationType,modelName:r,schema:o.schema})];case 2:return p=S.sent(),h=p[i.toUpperCase()],v=0,y=function(){return Ot(a,void 0,void 0,(function(){var o,a;return kt(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,4]),dq.debug("Attempting mutation with authMode: "+h[v]),[4,this.jitteredRetry(n,r,i,s,u,c,this.MutationEvent,e,h[v],t)];case 1:return o=l.sent(),dq.debug("Mutation sent successfully with authMode: "+h[v]),[2,o];case 2:if(a=l.sent(),++v>=h.length)throw dq.debug("Mutation failed with authMode: "+h[v-1]),a;return dq.debug("Mutation failed with authMode: "+h[v-1]+". Retrying with authMode: "+h[v]),[4,y()];case 3:return[2,l.sent()];case 4:return[2]}}))}))},[4,y()];case 3:return w=Nt.apply(void 0,[S.sent(),3]),l=w[0],f=w[1],d=w[2],[3,5];case 4:return"Offline"===(m=S.sent()).message||"RetryMutation"===m.message?[2,"continue"]:[3,5];case 5:return void 0!==l?[3,7]:(dq.debug("done retrying"),[4,o.storage.runExclusive((function(e){return Ot(a,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return[4,this.outbox.dequeue(e)];case 1:return t.sent(),[2]}}))}))}))]);case 6:return S.sent(),[2,"continue"];case 7:return g=l.data[f],b=!1,[4,o.storage.runExclusive((function(e){return Ot(a,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return[4,this.outbox.dequeue(e,g,i)];case 1:return t.sent(),[4,this.outbox.peek(e)];case 2:return b=void 0!==t.sent(),[2]}}))}))}))];case 8:return S.sent(),o.observer.next({operation:i,modelDefinition:d,model:g,hasMore:b}),[2]}}))},o=this,s.label=1;case 1:return(i=this.processing&&this.runningProcesses.isOpen)?[4,this.outbox.peek(this.storage)]:[3,3];case 2:i=void 0!==(e=s.sent()),s.label=3;case 3:return i?[5,r()]:[3,5];case 4:return s.sent(),[3,1];case 5:return this.pause(),[2]}}))}))}),"mutation resume loop")];case 1:return t.sent(),[2]}}))}))},e.prototype.jitteredRetry=function(e,t,n,r,o,i,a,s,u,c){return Ot(this,void 0,void 0,(function(){var l=this;return kt(this,(function(f){switch(f.label){case 0:return[4,ue((function(t,n,r,o,i,a,s){return Ot(l,void 0,void 0,(function(){var c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T,I,A,C,P,O,k,R,N,L;return kt(this,(function(D){switch(D.label){case 0:return c=Nt(this.createQueryVariables(e,t,n,r,o),5),l=c[0],f=c[1],d=c[2],p=c[3],h=c[4],[4,hB(u,this.amplifyConfig)];case 1:v=D.sent(),y={query:l,variables:f,authMode:u,authToken:v,userAgentSuffix:LU},m=0,g=this.opTypeFromTransformerOperation(n),D.label=2;case 2:return D.trys.push([2,4,,17]),[4,this.amplifyContext.API.graphql(y)];case 3:return[2,[D.sent(),p,h]];case 4:if(!((b=D.sent()).errors&&b.errors.length>0))return[3,15];if(w=Nt(b.errors,1),S=w[0],E=S.originalError,_=(void 0===E?{}:E).code,x=void 0===_?null:_,"Unauthorized"===S.errorType)throw new ae("Unauthorized");if("Network Error"===S.message||"ECONNABORTED"===x){if(!this.processing)throw new ae("Offline");throw new Error("Network Error")}return"ConflictUnhandled"!==S.errorType?[3,13]:(m++,T=void 0,m>10?(T=FF,[3,8]):[3,5]);case 5:return D.trys.push([5,7,,8]),[4,this.conflictHandler({modelConstructor:i,localModel:this.modelInstanceCreator(i,f.input),remoteModel:this.modelInstanceCreator(i,S.data),operation:g,attempts:m})];case 6:return T=D.sent(),[3,8];case 7:return I=D.sent(),dq.warn("conflict trycatch",I),[3,17];case 8:return T!==FF?[3,11]:(A=Nt(sB(this.schema.namespaces[e],h,"GET"),1),C=Nt(A[0],3),P=C[1],O=C[2],[4,hB(u,this.amplifyConfig)]);case 9:return k=D.sent(),[4,this.amplifyContext.API.graphql({query:O,variables:{id:f.input.id},authMode:u,authToken:k,userAgentSuffix:LU})];case 10:return[2,[D.sent(),P,h]];case 11:return R=this.schema.namespaces[e],N=uB(R.relationships,h,g,i,T,d,a,this.modelInstanceCreator,s.id),[4,this.storage.save(N)];case 12:throw D.sent(),new ae("RetryMutation");case 13:try{this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:f.input,message:S.message,operation:n,errorType:uq(S),errorInfo:S.errorInfo,process:iF.mutate,cause:S,remoteModel:S.data?this.modelInstanceCreator(i,S.data):null})}catch(e){dq.warn("Mutation error handler failed with:",e)}finally{return[2,S.data?[{data:(L={},L[p]=S.data,L)},p,h]:[]]}D.label=14;case 14:return[3,16];case 15:throw new ae(b);case 16:return[3,17];case 17:if(y)return[3,2];D.label=18;case 18:return[2]}}))}))}),[t,n,r,o,i,a,s],yq,c)];case 1:return[2,f.sent()]}}))}))},e.prototype.createQueryVariables=function(e,t,n,r,o){var i,a,s,u,c,l,f,d,p=this.schema.namespaces[e].models[t],h=this.schema.namespaces[e].keys[t].primaryKey,v=Nt(this.typeQuery.get(p).find((function(e){return Nt(e,1)[0]===n})),3),y=v[1],m=v[2],g=JSON.parse(r),b=g._version,w=Pt(g,["_version"]),S={};if(null==h?void 0:h.length)try{for(var E=Rt(h),_=E.next();!_.done;_=E.next()){var x=_.value;S[x]=w[x]}}catch(e){i={error:e}}finally{try{_&&!_.done&&(a=E.return)&&a.call(E)}finally{if(i)throw i.error}}else S[AU]=w.id;if(n===eB.DELETE)f=S;else{f={};var T=Object.values(p.fields);try{for(var I=Rt(T),A=I.next();!A.done;A=I.next()){var C=A.value,P=C.name,O=C.type,k=C.association;if((d=O)&&d.model){if(CF(k)&&"BELONGS_TO"===k.connectionType){var R=_F(k);if(R)try{for(var N=(c=void 0,Rt(R)),L=N.next();!L.done;L=N.next()){var D=L.value;f[D]=w[D]}}catch(e){c={error:e}}finally{try{L&&!L.done&&(l=N.return)&&l.call(N)}finally{if(c)throw c.error}}}}else(n!==eB.UPDATE||w.hasOwnProperty(P))&&(f[P]=w[P])}}catch(e){s={error:e}}finally{try{A&&!A.done&&(u=I.return)&&u.call(I)}finally{if(s)throw s.error}}}var M=Ct(Ct({},f),{_version:b}),j=JSON.parse(o);return[m,Ct({input:M},n===eB.CREATE?{}:{condition:Object.keys(j).length>0?j:null}),j,y,p]},e.prototype.opTypeFromTransformerOperation=function(e){switch(e){case eB.CREATE:return eF.INSERT;case eB.DELETE:return eF.DELETE;case eB.UPDATE:return eF.UPDATE;case eB.GET:break;default:throw new Error("Invalid operation "+e)}},e.prototype.pause=function(){this.processing=!1},e}(),hq=3e5,vq=le(hq),yq=function(e,t,n){var r=vq(e);return!1===r&&"Network Error"===(null==n?void 0:n.message)?hq:r},mq=new c("DataStore");!function(e){e.CONNECTED="CONNECTED"}(lq||(lq={})),function(e){e[e.none=0]="none",e[e.unauth=1]="unauth",e[e.auth=2]="auth"}(fq||(fq={}));var gq,bq=function(){function e(e,t,n,r,o,i){void 0===n&&(n={}),void 0===i&&(i={Auth:Kx,API:pU,Cache:sl}),this.schema=e,this.syncPredicates=t,this.amplifyConfig=n,this.authModeStrategy=r,this.errorHandler=o,this.amplifyContext=i,this.typeQuery=new WeakMap,this.buffer=[],this.runningProcesses=new qF}return e.prototype.buildSubscription=function(e,t,n,r,o,i,a){var s=this.amplifyConfig.aws_appsync_authenticationType,u=this.getAuthorizationInfo(t,r,s,o,i,a)||{},c=u.isOwner,l=u.ownerField,f=u.ownerValue,d=Nt(function(e,t,n,r,o){var i=iB(e,t),a=t.name,s=(t.pluralName,"on"+n+a),u="",c="";return r&&(u="($"+o+": String!)",c="("+o+": $"+o+")"),[n,s,"subscription operation"+u+"{\n\t\t\t"+s+c+"{\n\t\t\t\t"+i+"\n\t\t\t}\n\t\t}"]}(e,t,n,c,l),3);return{authMode:a,opType:d[0],opName:d[1],query:d[2],isOwner:c,ownerField:l,ownerValue:f}},e.prototype.getAuthorizationInfo=function(e,t,n,r,o,i){void 0===r&&(r={}),void 0===o&&(o={});var a=function(e){var t=([].concat(e.attributes||[]).find((function(e){return e&&"auth"===e.type}))||{}).properties,n=(void 0===t?{}:t).rules,r=[];return(void 0===n?[]:n).forEach((function(t){var n=t.identityClaim,o=void 0===n?"cognito:username":n,i=t.ownerField,a=void 0===i?"owner":i,s=t.operations,u=void 0===s?["create","update","delete","read"]:s,c=t.provider,l=void 0===c?"userPools":c,f=t.groupClaim,d=void 0===f?"cognito:groups":f,p=t.allow,h=void 0===p?"iam":p,v=t.groups,y=void 0===v?[]:v,m="owner"===h;if(u.includes("read")||m){var g={identityClaim:o,ownerField:a,provider:l,groupClaim:d,authStrategy:h,groups:y,areSubscriptionsPublic:!1};if(m){var b=([].concat(e.attributes||[]).find((function(e){return e&&"model"===e.type}))||{}).properties,w=(void 0===b?{}:b).subscriptions,S=(void 0===w?{}:w).level,E=void 0===S?"on":S;g.areSubscriptionsPublic=!u.includes("read")||"public"===E}m?r.push(g):r.unshift(g)}})),r}(e);if(i===d_.AWS_IAM&&a.find((function(e){return"private"===e.authStrategy&&"iam"===e.provider}))&&t===fq.unauth)return null;var s,u=a.filter((function(e){return"groups"===e.authStrategy&&["userPools","oidc"].includes(e.provider)}));return i!==d_.AMAZON_COGNITO_USER_POOLS&&i!==d_.OPENID_CONNECT||!u.find((function(e){return Lt(lB(r,e),lB(o,e)).find((function(t){return e.groups.find((function(e){return e===t}))}))}))?((i===d_.AMAZON_COGNITO_USER_POOLS?a.filter((function(e){return"owner"===e.authStrategy&&"userPools"===e.provider})):[]).forEach((function(e){var t=r[e.identityClaim];t&&(s={authMode:d_.AMAZON_COGNITO_USER_POOLS,isOwner:!e.areSubscriptionsPublic,ownerField:e.ownerField,ownerValue:t})})),s||((i===d_.OPENID_CONNECT?a.filter((function(e){return"owner"===e.authStrategy&&"oidc"===e.provider})):[]).forEach((function(e){var t=o[e.identityClaim];t&&(s={authMode:d_.OPENID_CONNECT,isOwner:!e.areSubscriptionsPublic,ownerField:e.ownerField,ownerValue:t})})),s||{authMode:i||n,isOwner:!1})):{authMode:i,isOwner:!1}},e.prototype.hubQueryCompletionListener=function(e,t){t.payload.event===Nj.SUBSCRIPTION_ACK&&e()},e.prototype.start=function(){var e=this;this.runningProcesses=this.runningProcesses||new qF;var t=new Tj((function(t){var n,r,o=[],i={},a=fq.none;return e.runningProcesses.add((function(){return Ot(e,void 0,void 0,(function(){var e,s,u,c,l,f,d,p,h,v,y=this;return kt(this,(function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,this.amplifyContext.Auth.currentCredentials()];case 1:return e=m.sent(),a=e.authenticated?fq.auth:fq.unauth,[3,3];case 2:return m.sent(),[3,3];case 3:return m.trys.push([3,5,,6]),[4,this.amplifyContext.Auth.currentSession()];case 4:return s=m.sent(),n=s.getIdToken().decodePayload(),[3,6];case 5:return m.sent(),[3,6];case 6:if(m.trys.push([6,11,,12]),u=this.amplifyConfig,c=u.aws_cognito_region,l=u.Auth,!c||l&&!l.region)throw"Auth is not configured";return f=void 0,[4,this.amplifyContext.Cache.getItem("federatedInfo")];case 7:return(d=m.sent())?(f=d.token,[3,10]):[3,8];case 8:return[4,this.amplifyContext.Auth.currentAuthenticatedUser()];case 9:(p=m.sent())&&(f=p.token),m.label=10;case 10:return f&&(h=f.split(".")[1],r=JSON.parse(Buffer.from(h,"base64").toString("utf8"))),[3,12];case 11:return v=m.sent(),mq.debug("error getting OIDC JWT",v),[3,12];case 12:return Object.values(this.schema.namespaces).forEach((function(e){Object.values(e.models).filter((function(e){return e.syncable})).forEach((function(s){return y.runningProcesses.isOpen&&y.runningProcesses.add((function(){return Ot(y,void 0,void 0,(function(){var u,c,l,f,d,p,h,v,y=this;return kt(this,(function(m){switch(m.label){case 0:return[4,fB({authModeStrategy:this.authModeStrategy,defaultAuthMode:this.amplifyConfig.aws_appsync_authenticationType,modelName:s.name,schema:this.schema})];case 1:return u=m.sent(),c=u.READ,i=Ct(Ct({},i),((p={})[s.name]=((h={})[eB.CREATE]=[],h[eB.UPDATE]=[],h[eB.DELETE]=[],h),p)),l=[eB.CREATE,eB.UPDATE,eB.DELETE],(v={})[eB.CREATE]=0,v[eB.UPDATE]=0,v[eB.DELETE]=0,f=v,d=function(u){return Ot(y,void 0,void 0,(function(){var l,p,h,v,y,m,g,b,w,S,E,x,T,I=this;return kt(this,(function(A){switch(A.label){case 0:return l=this.buildSubscription(e,s,u,a,n,r,c[f[u]]),p=l.opType,h=l.opName,v=l.query,y=l.isOwner,m=l.ownerField,g=l.ownerValue,[4,hB(b=l.authMode,this.amplifyConfig)];case 1:if(w=A.sent(),S={},y){if(!g)return t.error("Owner field required, sign in is needed in order to perform this operation"),[2];S[m]=g}return mq.debug("Attempting "+u+" subscription with authMode: "+c[f[u]]),E=LU,x=this.amplifyContext.API.graphql(Ct(Ct({query:v,variables:S},{authMode:b}),{authToken:w,userAgentSuffix:E})),i[s.name][p].push(x.map((function(e){return e.value})).subscribe({next:function(e){var t=e.data,n=e.errors;if(Array.isArray(n)&&n.length>0){var r=n.map((function(e){return e.message}));return mq.warn("Skipping incoming subscription. Messages: "+r.join("\n")),void I.drainBuffer()}var o=Zz.getPredicates(I.syncPredicates.get(s),!1),i=t[h];I.passesPredicateValidation(i,o)&&I.pushToBuffer(p,s,i),I.drainBuffer()},error:function(e){return Ot(I,void 0,void 0,(function(){var n,r,o,a,l,h;return kt(this,(function(v){switch(v.label){case 0:if(n=e.error,r=Nt((void 0===n?{errors:[]}:n).errors,1),o=r[0],a=(void 0===o?{}:o).message,(l=void 0===a?"":a).includes(Nj.REALTIME_SUBSCRIPTION_INIT_ERROR)||l.includes(Nj.CONNECTION_FAILED)){if(i[s.name][p].forEach((function(e){return e.unsubscribe()})),i[s.name][p]=[],f[u]++,!(f[u]>=c.length))return mq.debug(u+" subscription failed with authMode: "+c[f[u]-1]+". Retrying with authMode: "+c[f[u]]),d(u),[2];mq.debug(u+" subscription failed with authMode: "+c[f[u]-1])}mq.warn("subscriptionError",l),v.label=1;case 1:return v.trys.push([1,3,,4]),[4,this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:null,message:l,model:s.name,operation:u,errorType:(y=e,cq(iq,y)),process:iF.subscribe,remoteModel:null,cause:e})];case 2:return v.sent(),[3,4];case 3:return h=v.sent(),mq.error("Subscription error handler failed with:",h),[3,4];case 4:return"function"==typeof T&&T(),l.includes('"errorType":"Unauthorized"')||l.includes('"errorType":"OperationDisabled"')||t.error(l),[2]}var y}))}))}})),o.push(Ot(I,void 0,void 0,(function(){var e,t=this;return kt(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){T=n,e=t.hubQueryCompletionListener.bind(t,n),_.listen("api",e)}))];case 1:return n.sent(),_.remove("api",e),[2]}}))}))),[2]}}))}))},l.forEach((function(e){return d(e)})),[2]}}))}))}))}))})),this.runningProcesses.isOpen&&this.runningProcesses.add((function(){return Promise.all(o).then((function(){t.next(lq.CONNECTED)}))})),[2]}}))}))}),"subscription processor new subscriber"),e.runningProcesses.addCleaner((function(){return Ot(e,void 0,void 0,(function(){return kt(this,(function(e){return Object.keys(i).forEach((function(e){i[e][eB.CREATE].forEach((function(e){return e.unsubscribe()})),i[e][eB.UPDATE].forEach((function(e){return e.unsubscribe()})),i[e][eB.DELETE].forEach((function(e){return e.unsubscribe()}))})),[2]}))}))}))}));return[t,new Tj((function(t){return e.dataObserver=t,e.drainBuffer(),e.runningProcesses.addCleaner((function(){return Ot(e,void 0,void 0,(function(){return kt(this,(function(e){return this.dataObserver=null,[2]}))}))}))}))]},e.prototype.stop=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return[4,this.runningProcesses.close()];case 1:return e.sent(),[4,this.runningProcesses.open()];case 2:return e.sent(),[2]}}))}))},e.prototype.passesPredicateValidation=function(e,t){if(!t)return!0;var n=t.predicates,r=t.type;return MU(e,r,n)},e.prototype.pushToBuffer=function(e,t,n){this.buffer.push([e,t,n])},e.prototype.drainBuffer=function(){var e=this;this.dataObserver&&(this.buffer.forEach((function(t){return e.dataObserver.next(t)})),this.buffer=[])},e}(),wq={items:[],nextToken:null,startedAt:null},Sq=new c("DataStore"),Eq=function(){function e(e,t,n,r,o,i){void 0===n&&(n={}),this.schema=e,this.syncPredicates=t,this.amplifyConfig=n,this.authModeStrategy=r,this.errorHandler=o,this.amplifyContext=i,this.typeQuery=new WeakMap,this.runningProcesses=new qF,i.API=i.API||pU,this.generateQueries()}return e.prototype.generateQueries=function(){var e=this;Object.values(this.schema.namespaces).forEach((function(t){Object.values(t.models).filter((function(e){return e.syncable})).forEach((function(n){var r=Nt(sB(t,n,"LIST"),1),o=Nt(r[0]).slice(1);e.typeQuery.set(n,o)}))}))},e.prototype.graphqlFilterFromPredicate=function(e){if(!this.syncPredicates)return null;var t=Zz.getPredicates(this.syncPredicates.get(e),!1);return t?cB(t):null},e.prototype.retrievePage=function(e,t,n,r,o,i){return void 0===r&&(r=null),Ot(this,void 0,void 0,(function(){var a,s,u,c,l,f,d,p,h,v,y,m,g,b=this;return kt(this,(function(w){switch(w.label){case 0:return a=Nt(this.typeQuery.get(e),2),s=a[0],u=a[1],c={limit:r,nextToken:n,lastSync:t,filter:o},[4,fB({authModeStrategy:this.authModeStrategy,defaultAuthMode:this.amplifyConfig.aws_appsync_authenticationType,modelName:e.name,schema:this.schema})];case 1:return l=w.sent(),f=l.READ,d=0,p=function(){return Ot(b,void 0,void 0,(function(){var t,n,r,o;return kt(this,(function(a){switch(a.label){case 0:if(!this.runningProcesses.isOpen)throw new Error("sync.retreievePage termination was requested. Exiting.");a.label=1;case 1:return a.trys.push([1,3,,5]),Sq.debug("Attempting sync with authMode: "+f[d]),[4,this.jitteredRetry({query:u,variables:c,opName:s,modelDefinition:e,authMode:f[d],onTerminate:i})];case 2:return t=a.sent(),Sq.debug("Sync successful with authMode: "+f[d]),[2,t];case 3:if(n=a.sent(),++d>=f.length){if(r=f[d-1],Sq.debug("Sync failed with authMode: "+r,n),pB(n)||dB(n))return Sq.warn("User is unauthorized to query "+s+" with auth mode "+r+". No data could be returned."),[2,{data:(o={},o[s]=wq,o)}];throw n}return Sq.debug("Sync failed with authMode: "+f[d-1]+". Retrying with authMode: "+f[d]),[4,p()];case 4:return[2,a.sent()];case 5:return[2]}}))}))},[4,p()];case 2:return h=w.sent().data,v=h[s],y=v.items,m=v.nextToken,g=v.startedAt,[2,{nextToken:m,startedAt:g,items:y}]}}))}))},e.prototype.jitteredRetry=function(e){var t=e.query,n=e.variables,r=e.opName,o=e.modelDefinition,i=e.authMode,a=e.onTerminate;return Ot(this,void 0,void 0,(function(){var e=this;return kt(this,(function(s){switch(s.label){case 0:return[4,fe((function(t,n){return Ot(e,void 0,void 0,(function(){var e,a,s,u,c,l,f,d,p,h,v,y=this;return kt(this,(function(m){switch(m.label){case 0:return m.trys.push([0,3,,6]),[4,hB(i,this.amplifyConfig)];case 1:return e=m.sent(),[4,this.amplifyContext.API.graphql({query:t,variables:n,authMode:i,authToken:e,userAgentSuffix:LU})];case 2:return[2,m.sent()];case 3:if(a=m.sent(),s=pB(a)||dB(a))throw new ae(s);return u=Boolean(null===(p=null===(d=null==a?void 0:a.data)||void 0===d?void 0:d[r])||void 0===p?void 0:p.items),c=(null==a?void 0:a.errors)&&a.errors.some((function(e){return"Unauthorized"===e.errorType})),l=(null==a?void 0:a.errors)&&a.errors.filter((function(e){return"Unauthorized"!==e.errorType})),f=a,u&&(f.data[r].items=f.data[r].items.filter((function(e){return null!==e}))),u&&(null==l?void 0:l.length)?[4,Promise.all(l.map((function(e){return Ot(y,void 0,void 0,(function(){var t;return kt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:null,message:e.message,model:o.name,operation:r,errorType:(i=e,cq(aq,i)),process:iF.sync,remoteModel:null,cause:e})];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),Sq.error("Sync error handler failed with:",t),[3,3];case 3:return[2]}var i}))}))})))]:[3,5];case 4:m.sent(),_.dispatch("datastore",{event:"nonApplicableDataReceived",data:{errors:l,modelName:o.name}}),m.label=5;case 5:if(c)return Sq.warn("queryError","User is unauthorized to query "+r+", some items could not be returned."),f.data=f.data||{},f.data[r]=Ct(Ct({},wq),f.data[r]),[2,f];if(null===(v=null===(h=f.data)||void 0===h?void 0:h[r].items)||void 0===v?void 0:v.length)return[2,f];throw a;case 6:return[2]}}))}))}),[t,n],void 0,a)];case 1:return[2,s.sent()]}}))}))},e.prototype.start=function(e){var t=this,n=this.amplifyConfig,r=n.maxRecordsToSync,o=n.syncPageSize,i=new Map,a=new Tj((function(n){var a=Object.values(t.schema.namespaces).reduce((function(t,n){var r,o;try{for(var i=Rt(Array.from(n.modelTopologicalOrdering.keys())),a=i.next();!a.done;a=i.next()){var s=a.value,u=e.get(n.models[s]);t.set(n.models[s],u)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return t}),new Map),s=Array.from(a.entries()).filter((function(e){return Nt(e,1)[0].syncable})).map((function(e){var a=Nt(e,2),s=a[0],u=Nt(a[1],2),c=u[0],l=u[1];return t.runningProcesses.isOpen&&t.runningProcesses.add((function(e){return Ot(t,void 0,void 0,(function(){var t,a,u,f,d,p,h,v,y,m=this;return kt(this,(function(g){switch(g.label){case 0:return t=!1,a=null,u=null,f=null,d=0,p=this.graphqlFilterFromPredicate(s),h=this.schema.namespaces[c].modelTopologicalOrdering.get(s.name),v=h.map((function(e){return i.get(c+"_"+e)})),y=new Promise((function(i){return Ot(m,void 0,void 0,(function(){var h,y;return kt(this,(function(m){switch(m.label){case 0:return[4,Promise.all(v)];case 1:m.sent(),m.label=2;case 2:return this.runningProcesses.isOpen?(h=Math.min(r-d,o),[4,this.retrievePage(s,l,a,h,p,e)]):[2];case 3:y=m.sent(),f=y.items,a=y.nextToken,u=y.startedAt,d+=f.length,t=null===a||d>=r,n.next({namespace:c,modelDefinition:s,items:f,done:t,startedAt:u,isFullSync:!l}),m.label=4;case 4:if(!t)return[3,2];m.label=5;case 5:return i(),[2]}}))}))})),i.set(c+"_"+s.name,y),[4,y];case 1:return g.sent(),[2]}}))}))}),"adding model "+s.name)}));Promise.all(s).then((function(){n.complete()}))}));return a},e.prototype.stop=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return Sq.debug("stopping sync processor"),[4,this.runningProcesses.close()];case 1:return e.sent(),[4,this.runningProcesses.open()];case 2:return e.sent(),Sq.debug("sync processor stopped"),[2]}}))}))},e}(),_q=Y().isNode,xq=new c("DataStore"),Tq=Symbol("sync");!function(e){e.SYNC_ENGINE_STORAGE_SUBSCRIBED="storageSubscribed",e.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED="subscriptionsEstablished",e.SYNC_ENGINE_SYNC_QUERIES_STARTED="syncQueriesStarted",e.SYNC_ENGINE_SYNC_QUERIES_READY="syncQueriesReady",e.SYNC_ENGINE_MODEL_SYNCED="modelSynced",e.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED="outboxMutationEnqueued",e.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED="outboxMutationProcessed",e.SYNC_ENGINE_OUTBOX_STATUS="outboxStatus",e.SYNC_ENGINE_NETWORK_STATUS="networkStatus",e.SYNC_ENGINE_READY="ready"}(gq||(gq={}));var Iq=function(){function e(e,t,n,r,o,i,a,s,u,c,l,f,d){void 0===c&&(c={}),this.schema=e,this.namespaceResolver=t,this.modelClasses=n,this.userModelClasses=r,this.storage=o,this.modelInstanceCreator=i,this.syncPredicates=u,this.amplifyConfig=c,this.authModeStrategy=l,this.amplifyContext=f,this.connectivityMonitor=d,this.online=!1,this.modelSyncedStatus=new WeakMap,this.runningProcesses=new qF;var p=this.modelClasses.MutationEvent;this.outbox=new tq(this.schema,p,i,Tq),this.modelMerger=new eq(this.outbox,Tq),this.syncQueriesProcessor=new Eq(this.schema,this.syncPredicates,this.amplifyConfig,this.authModeStrategy,s,this.amplifyContext),this.subscriptionsProcessor=new bq(this.schema,this.syncPredicates,this.amplifyConfig,this.authModeStrategy,s,this.amplifyContext),this.mutationsProcessor=new pq(this.schema,this.storage,this.userModelClasses,this.outbox,this.modelInstanceCreator,p,this.amplifyConfig,this.authModeStrategy,s,a,this.amplifyContext),this.datastoreConnectivity=this.connectivityMonitor||new QB}return e.prototype.getModelSyncedStatus=function(e){return this.modelSyncedStatus.get(e)},e.prototype.start=function(e){var t=this;return new Tj((function(n){xq.log("starting sync engine...");var r=[];t.runningProcesses.add((function(){return Ot(t,void 0,void 0,(function(){var t,o,i,a=this;return kt(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.setupModels(e)];case 1:return s.sent(),[3,3];case 2:return t=s.sent(),n.error(t),[2];case 3:return o=new Promise((function(e,t){a.datastoreConnectivity.status().subscribe((function(o){var i=o.online;return Ot(a,void 0,void 0,(function(){var o=this;return kt(this,(function(a){return[2,this.runningProcesses.isOpen&&this.runningProcesses.add((function(a){return Ot(o,void 0,void 0,(function(){var o,s,u,c,l,f=this;return kt(this,(function(d){switch(d.label){case 0:return!i||this.online?[3,10]:(this.online=i,n.next({type:gq.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),s=void 0,_q?(xq.warn("Realtime disabled when in a server-side environment"),[3,6]):[3,1]);case 1:l=Nt(this.subscriptionsProcessor.start(),2),o=l[0],s=l[1],d.label=2;case 2:return d.trys.push([2,4,,5]),[4,new Promise((function(e,t){a.then(t);var n=o.subscribe({next:function(t){t===lq.CONNECTED&&e()},error:function(e){t(e),f.disconnectionHandler()(e)}});r.push(n)}))];case 3:return d.sent(),[3,5];case 4:return u=d.sent(),n.error(u),t(),[2];case 5:xq.log("Realtime ready"),n.next({type:gq.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED}),d.label=6;case 6:return d.trys.push([6,8,,9]),[4,new Promise((function(e,t){var o=f.syncQueriesObservable().subscribe({next:function(t){t.type===gq.SYNC_ENGINE_SYNC_QUERIES_READY&&e(),n.next(t)},complete:function(){e()},error:function(e){t(e)}});o&&r.push(o)}))];case 7:return d.sent(),[3,9];case 8:return c=d.sent(),n.error(c),t(),[2];case 9:return r.push(this.mutationsProcessor.start().subscribe((function(e){var t=e.modelDefinition,r=e.model,o=e.hasMore;return f.runningProcesses.add((function(){return Ot(f,void 0,void 0,(function(){var e,i,a=this;return kt(this,(function(s){switch(s.label){case 0:return e=this.userModelClasses[t.name],i=this.modelInstanceCreator(e,r),[4,this.storage.runExclusive((function(e){return a.modelMerger.merge(e,i,t)}))];case 1:return s.sent(),n.next({type:gq.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED,data:{model:e,element:i}}),n.next({type:gq.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!o}}),[2]}}))}))}),"mutation processor event")}))),_q||r.push(s.subscribe((function(e){var t=Nt(e,3),n=(t[0],t[1]),r=t[2];return f.runningProcesses.add((function(){return Ot(f,void 0,void 0,(function(){var e,t,o=this;return kt(this,(function(i){switch(i.label){case 0:return e=this.userModelClasses[n.name],t=this.modelInstanceCreator(e,r),[4,this.storage.runExclusive((function(e){return o.modelMerger.merge(e,t,n)}))];case 1:return i.sent(),[2]}}))}))}),"subscription dataSubsObservable event")}))),[3,11];case 10:i||(this.online=i,n.next({type:gq.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),r.forEach((function(e){return e.unsubscribe()})),r=[]),d.label=11;case 11:return e(),[2]}}))}))}),"datastore connectivity event")]}))}))}))})),this.storage.observe(null,null,Tq).filter((function(e){var t=e.model;return!0===a.getModelDefinition(t).syncable})).subscribe({next:function(e){var t=e.opType,r=e.model,i=e.element,s=e.condition;return Ot(a,void 0,void 0,(function(){var e=this;return kt(this,(function(a){return[2,this.runningProcesses.add((function(){return Ot(e,void 0,void 0,(function(){var e,a,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return e=this.schema.namespaces[this.namespaceResolver(r)],a=this.modelClasses.MutationEvent,u=this.getModelDefinition(r),c=function(e,t){return e&&Array.isArray(e.predicates)?cB(e,bF(t)):{}}(s,u),l=uB(e.relationships,this.getModelDefinition(r),t,r,i,c,a,this.modelInstanceCreator),[4,this.outbox.enqueue(this.storage,l)];case 1:return f.sent(),n.next({type:gq.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED,data:{model:r,element:i}}),n.next({type:gq.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!1}}),[4,o];case 2:return f.sent(),this.online&&this.mutationsProcessor.resume(),[2]}}))}))}),"storage event")]}))}))}}),n.next({type:gq.SYNC_ENGINE_STORAGE_SUBSCRIBED}),[4,this.outbox.peek(this.storage)];case 4:return i=void 0===s.sent(),n.next({type:gq.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:i}}),[4,o];case 5:return s.sent(),n.next({type:gq.SYNC_ENGINE_READY}),[2]}}))}))}),"sync start")}))},e.prototype.getModelsMetadataWithNextFullSync=function(e){return Ot(this,void 0,void 0,(function(){var t,n=this;return kt(this,(function(r){switch(r.label){case 0:return t=Map.bind,[4,this.runningProcesses.add((function(){return n.getModelsMetadata()}),"sync/index getModelsMetadataWithNextFullSync")];case 1:return[2,new(t.apply(Map,[void 0,r.sent().map((function(t){var r=t.namespace,o=t.model,i=t.lastSync,a=t.lastFullSync,s=t.fullSyncInterval,u=(t.lastSyncPredicate,!a||a+s<e?0:i);return[n.schema.namespaces[r].models[o],[r,u]]}))]))]}}))}))},e.prototype.syncQueriesObservable=function(){var e=this;return this.online?new Tj((function(t){var n;e.runningProcesses.isOpen&&e.runningProcesses.add((function(r){return Ot(e,void 0,void 0,(function(){var e,o,i,a=this;return kt(this,(function(s){switch(s.label){case 0:e=!1,o=function(){var o,s,u,c,l,f,d,p,h;return kt(this,(function(v){switch(v.label){case 0:return o=new WeakMap,[4,i.getModelsMetadataWithNextFullSync(Date.now())];case 1:return s=v.sent(),u=new Set(s.keys()),[4,new Promise((function(e,i){a.runningProcesses.isOpen||e(),r.then((function(){return e()})),n=a.syncQueriesProcessor.start(s).subscribe({next:function(r){var i=r.namespace,s=r.modelDefinition,h=r.items,v=r.done,y=r.startedAt,m=r.isFullSync;return Ot(a,void 0,void 0,(function(){var r,a,g,b,w,S,E=this;return kt(this,(function(_){switch(_.label){case 0:return r=this.userModelClasses[s.name],o.has(r)||(o.set(r,{new:0,updated:0,deleted:0}),f=HU(),p=void 0===p?y:Math.max(p,y)),[4,this.storage.runExclusive((function(e){return Ot(E,void 0,void 0,(function(){var t,n,i,a,u,c,l,f,d,p,v,y,m,g,b;return kt(this,(function(w){switch(w.label){case 0:return[4,this.outbox.getModelIds(e)];case 1:t=w.sent(),n=[],i=h.filter((function(e){var r=vB(s,e);return!t.has(r)||(n.push(e),!1)})),a=[],w.label=2;case 2:w.trys.push([2,7,8,9]),u=Rt(n),c=u.next(),w.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,this.modelMerger.merge(e,l,s)]);case 4:void 0!==(f=w.sent())&&a.push([l,f]),w.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return d=w.sent(),g={error:d},[3,9];case 8:try{c&&!c.done&&(b=u.return)&&b.call(u)}finally{if(g)throw g.error}return[7];case 9:return v=(p=a.push).apply,y=[a],[4,this.modelMerger.mergePage(e,r,i,s)];case 10:return v.apply(p,y.concat([Lt.apply(void 0,[w.sent()])])),m=o.get(r),a.forEach((function(e){var t=Nt(e,2)[1];switch(t){case eF.INSERT:m.new++;break;case eF.UPDATE:m.updated++;break;case eF.DELETE:m.deleted++;break;default:throw new Error("Invalid opType "+t)}})),[2]}}))}))}))];case 1:return _.sent(),v?(a=s.name,[4,this.getModelMetadata(i,a)]):[3,4];case 2:return g=_.sent(),b=g.lastFullSync,w=g.fullSyncInterval,l=w,c=void 0===c?b:Math.max(c,m?y:b),g=this.modelClasses.ModelMetadata.copyOf(g,(function(e){e.lastSync=y,e.lastFullSync=m?y:g.lastFullSync})),[4,this.storage.save(g,void 0,Tq)];case 3:_.sent(),S=o.get(r),this.modelSyncedStatus.set(r,!0),t.next({type:gq.SYNC_ENGINE_MODEL_SYNCED,data:{model:r,isFullSync:m,isDeltaSync:!m,counts:S}}),u.delete(s),0===u.size&&(d=HU()-f,e(),t.next({type:gq.SYNC_ENGINE_SYNC_QUERIES_READY}),n.unsubscribe()),_.label=4;case 4:return[2]}}))}))},error:function(e){t.error(e)}}),t.next({type:gq.SYNC_ENGINE_SYNC_QUERIES_STARTED,data:{models:Array.from(u).map((function(e){return e.name}))}})}))];case 2:return v.sent(),h=c+l-(p+d),xq.debug("Next fullSync in "+h/1e3+" seconds. ("+new Date(Date.now()+h)+")"),[4,i.runningProcesses.add((function(t){return Ot(a,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return r=new Promise((function(e){n=e,setTimeout(n,h)})),t.then((function(){e=!0,n()})),[2,r]}))}))}),"syncQueriesObservable sleep")];case 3:return v.sent(),[2]}}))},i=this,s.label=1;case 1:return t.closed||e?[3,3]:[5,o()];case 2:return s.sent(),[3,1];case 3:return[2]}}))}))}),"syncQueriesObservable main")})):Tj.of()},e.prototype.disconnectionHandler=function(){var e=this;return function(t){Nj.CONNECTION_CLOSED!==t&&Nj.TIMEOUT_DISCONNECT!==t||e.datastoreConnectivity.socketDisconnected()}},e.prototype.unsubscribeConnectivity=function(){this.datastoreConnectivity.unsubscribe()},e.prototype.stop=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return xq.debug("stopping sync engine"),this.unsubscribeConnectivity(),[4,this.mutationsProcessor.stop()];case 1:return e.sent(),[4,this.subscriptionsProcessor.stop()];case 2:return e.sent(),[4,this.datastoreConnectivity.stop()];case 3:return e.sent(),[4,this.syncQueriesProcessor.stop()];case 4:return e.sent(),[4,this.runningProcesses.close()];case 5:return e.sent(),[4,this.runningProcesses.open()];case 6:return e.sent(),xq.debug("sync engine stopped and ready to restart"),[2]}}))}))},e.prototype.setupModels=function(e){return Ot(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,l,f,d,p,h=this;return kt(this,(function(v){switch(v.label){case 0:t=e.fullSyncInterval,n=this.modelClasses.ModelMetadata,r=[],Object.values(this.schema.namespaces).forEach((function(e){Object.values(e.models).filter((function(e){return e.syncable})).forEach((function(t){if(r.push([e.name,t]),e.name===kU){var n=h.userModelClasses[t.name];h.modelSyncedStatus.set(n,!1)}}))})),i=r.map((function(e){var r=Nt(e,2),i=r[0],a=r[1];return Ot(h,void 0,void 0,(function(){var e,r,s,u,c,l,f,d,p;return kt(this,(function(h){switch(h.label){case 0:return[4,this.getModelMetadata(i,a.name)];case 1:return e=h.sent(),r=Zz.getPredicates(this.syncPredicates.get(a),!1),s=r?JSON.stringify(r):null,void 0!==e?[3,3]:[4,this.storage.save(this.modelInstanceCreator(n,{model:a.name,namespace:i,lastSync:null,fullSyncInterval:t,lastFullSync:null,lastSyncPredicate:s}),void 0,Tq)];case 2:return l=Nt.apply(void 0,[h.sent(),1]),f=Nt(l[0],1),o=f[0],[3,5];case 3:return u=e.lastSyncPredicate?e.lastSyncPredicate:null,c=u!==s,[4,this.storage.save(n.copyOf(e,(function(e){e.fullSyncInterval=t,c&&(e.lastSync=null,e.lastFullSync=null,e.lastSyncPredicate=s)})))];case 4:d=Nt.apply(void 0,[h.sent(),1]),p=Nt(d[0],1),o=p[0],h.label=5;case 5:return[2,o]}}))}))})),a={},v.label=1;case 1:return v.trys.push([1,6,7,8]),[4,Promise.all(i)];case 2:s=Rt.apply(void 0,[v.sent()]),u=s.next(),v.label=3;case 3:if(u.done)return[3,5];c=u.value,l=c.model,a[l]=c,v.label=4;case 4:return u=s.next(),[3,3];case 5:return[3,8];case 6:return f=v.sent(),d={error:f},[3,8];case 7:try{u&&!u.done&&(p=s.return)&&p.call(s)}finally{if(d)throw d.error}return[7];case 8:return[2,a]}}))}))},e.prototype.getModelsMetadata=function(){return Ot(this,void 0,void 0,(function(){var e;return kt(this,(function(t){switch(t.label){case 0:return e=this.modelClasses.ModelMetadata,[4,this.storage.query(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getModelMetadata=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r;return kt(this,(function(o){switch(o.label){case 0:return n=this.modelClasses.ModelMetadata,r=Zz.createFromExisting(this.schema.namespaces[RU].models[n.name],(function(n){return n.namespace("eq",e).model("eq",t)})),[4,this.storage.query(n,r,{page:0,limit:1})];case 1:return[2,Nt.apply(void 0,[o.sent(),1])[0]]}}))}))},e.prototype.getModelDefinition=function(e){var t=this.namespaceResolver(e);return this.schema.namespaces[t].models[e.name]},e.getNamespace=function(){return{name:RU,relationships:{},enums:{OperationType:{name:"OperationType",values:["CREATE","UPDATE","DELETE"]}},nonModels:{},models:{MutationEvent:{name:"MutationEvent",pluralName:"MutationEvents",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},data:{name:"data",type:"String",isRequired:!0,isArray:!1},modelId:{name:"modelId",type:"String",isRequired:!0,isArray:!1},operation:{name:"operation",type:{enum:"Operationtype"},isArray:!1,isRequired:!0},condition:{name:"condition",type:"String",isArray:!1,isRequired:!0}}},ModelMetadata:{name:"ModelMetadata",pluralName:"ModelsMetadata",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},namespace:{name:"namespace",type:"String",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},lastSync:{name:"lastSync",type:"Int",isRequired:!1,isArray:!1},lastFullSync:{name:"lastFullSync",type:"Int",isRequired:!1,isArray:!1},fullSyncInterval:{name:"fullSyncInterval",type:"Int",isRequired:!0,isArray:!1},lastSyncPredicate:{name:"lastSyncPredicate",type:"String",isRequired:!1,isArray:!1}}}}}},e}(),Aq=Lt($z),Cq=new Map,Pq=function(e,t){var n=t||new BF;return Cq.set(n,e),n},Oq=function(e){if(!Cq.has(e))throw new Error("Invalid predicate. Terminate your predicate with a valid condition (e.g., `p => p.field.eq('value')`) or pass `Predicates.ALL`.");return Cq.get(e)},kq={and:"or",or:"and",not:"and",eq:"ne",ne:"eq",gt:"le",ge:"lt",lt:"ge",le:"gt",contains:"notContains",notContains:"contains"};function Rq(e,t,n){var r,o,i,a,s=e,u=[];try{for(var c=Rt(t),l=c.next();!l.done;l=c.next()){var f=l.value;n?"between"===f.operator?u.push(new Lq(f.field,"lt",[f.operands[0]]),new Lq(f.field,"gt",[f.operands[1]])):u.push(new Lq(f.field,kq[f.operator],f.operands)):u.push(f)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}try{for(var d=Rt(u),p=d.next();!p.done;p=d.next())s=s[(f=p.value).field](f.operator,"between"===f.operator?f.operands:f.operands[0])}catch(e){i={error:e}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return s}var Nq,Lq=function(){function e(e,t,n){this.field=e,this.operator=t,this.operands=n,this.validate()}return e.prototype.copy=function(t){return[new e(this.field,this.operator,Lt(this.operands)),void 0]},e.prototype.toAST=function(){var e,t;return(e={})[this.field]=((t={})[this.operator]="between"===this.operator?[this.operands[0],this.operands[1]]:this.operands[0],t),e},e.prototype.fetch=function(e){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){return[2,Promise.reject("No implementation needed [yet].")]}))}))},e.prototype.matches=function(e){return Ot(this,void 0,void 0,(function(){var t,n,r=this;return kt(this,(function(o){if(t=e[this.field],n={eq:function(){return t===r.operands[0]},ne:function(){return t!==r.operands[0]},gt:function(){return t>r.operands[0]},ge:function(){return t>=r.operands[0]},lt:function(){return t<r.operands[0]},le:function(){return t<=r.operands[0]},contains:function(){return t.indexOf(r.operands[0])>-1},notContains:function(){return-1===t.indexOf(r.operands[0])},beginsWith:function(){return t.startsWith(r.operands[0])},between:function(){return t>=r.operands[0]&&t<=r.operands[1]}}[this.operator])return[2,n()];throw new Error("Invalid operator given: "+this.operator)}))}))},e.prototype.validate=function(){var e=this,t=function(t){var n=1===t?"argument is":"arguments are";return function(){if(e.operands.length!==t)return"Exactly "+t+" "+n+" required."}},n={eq:t(1),ne:t(1),gt:t(1),ge:t(1),lt:t(1),le:t(1),contains:t(1),notContains:t(1),beginsWith:t(1),between:function(){return t(2)()||(e.operands[0]>e.operands[1]?"The first argument must be less than or equal to the second argument.":null)}}[this.operator];if(!n)throw new Error("Non-existent operator: `"+this.operator+"()`");var r=n();if("string"==typeof r)throw new Error("Incorrect usage of `"+this.operator+"()`: "+r)},e}(),Dq=(Nq=1,function(){return"group_"+Nq++}),Mq=function(){function e(e,t,n,r,o){this.model=e,this.field=t,this.relationshipType=n,this.operator=r,this.operands=o,this.groupId=Dq()}return e.prototype.copy=function(t){var n=new e(this.model,this.field,this.relationshipType,this.operator,[]),r=t===this?n:void 0;return this.operands.forEach((function(e){var o=Nt(e.copy(t),2),i=o[0],a=o[1];n.operands.push(i),r=r||a})),[n,r]},e.prototype.fetch=function(t,n,r){return void 0===n&&(n=[]),void 0===r&&(r=!1),Ot(this,void 0,void 0,(function(){var o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T,I,A,C,P,O,k,R,N,L,D,M,j,U,F,z,B,q,K,G,H,V,$,W,Y,Z,J,X,Q=this;return kt(this,(function(ee){switch(ee.label){case 0:o=[],i=r?kq[this.operator]:this.operator,a=r!==("not"===this.operator),s=this.operands.filter((function(t){return t instanceof e})),u=this.operands.filter((function(e){return e instanceof Lq})),ee.label=1;case 1:ee.trys.push([1,10,11,12]),c=Rt(s),l=c.next(),ee.label=2;case 2:return l.done?[3,9]:[4,(f=l.value).fetch(t,Lt(n,[this.groupId]),a)];case 3:if(0===(d=ee.sent()).length)return"and"===i?[2,[]]:(o.push([]),[3,8]);if(!f.field)return[3,7];if(!(p=ZB.from(this.model,f.field)))return[3,5];h=[],v=function(e){for(var t=[],n=0;n<p.localJoinFields.length;n++)t.push(new Lq(p.localJoinFields[n],"eq",[e[p.remoteJoinFields[n]]]));h.push((function(e){return Rq(e,t,!1)}))};try{for(K=void 0,y=Rt(d),m=y.next();!m.done;m=y.next())g=m.value,v(g)}catch(e){K={error:e}}finally{try{m&&!m.done&&(G=y.return)&&G.call(y)}finally{if(K)throw K.error}}return E=Zz.createGroupFromExisting(this.model.schema,"or",h),w=(b=o).push,[4,t.query(this.model.builder,E)];case 4:return w.apply(b,[ee.sent()]),[3,6];case 5:throw new Error("Missing field metadata.");case 6:return[3,8];case 7:o.push(d),ee.label=8;case 8:return l=c.next(),[3,2];case 9:return[3,12];case 10:return S=ee.sent(),B={error:S},[3,12];case 11:try{l&&!l.done&&(q=c.return)&&q.call(c)}finally{if(B)throw B.error}return[7];case 12:return u.length>0?(E=Zz.createFromExisting(this.model.schema,(function(e){return e[i]((function(e){return Rq(e,u,a)}))})),x=(_=o).push,[4,t.query(this.model.builder,E)]):[3,14];case 13:return x.apply(_,[ee.sent()]),[3,16];case 14:return 0!==u.length||0!==o.length?[3,16]:(I=(T=o).push,[4,t.query(this.model.builder)]);case 15:I.apply(T,[ee.sent()]),ee.label=16;case 16:if(A=function(e){return JSON.stringify(Q.model.pkField.map((function(t){return e[t]})))},"and"===i){if(0===o.length)return[2,[]];try{for(P=Rt(o),O=P.next();!O.done;O=P.next())if(j=O.value,void 0===C)C=new Map(j.map((function(e){return[A(e),e]})));else{k=new Map(j.map((function(e){return[A(e),e]})));try{for($=void 0,R=Rt(C.keys()),N=R.next();!N.done;N=R.next())L=N.value,k.has(L)||C.delete(L)}catch(e){$={error:e}}finally{try{N&&!N.done&&(W=R.return)&&W.call(R)}finally{if($)throw $.error}}}}catch(e){H={error:e}}finally{try{O&&!O.done&&(V=P.return)&&V.call(P)}finally{if(H)throw H.error}}}else if("or"===i||"not"===i){C=new Map;try{for(D=Rt(o),M=D.next();!M.done;M=D.next()){j=M.value;try{for(J=void 0,U=Rt(j),F=U.next();!F.done;F=U.next())z=F.value,C.set(A(z),z)}catch(e){J={error:e}}finally{try{F&&!F.done&&(X=U.return)&&X.call(U)}finally{if(J)throw J.error}}}}catch(e){Y={error:e}}finally{try{M&&!M.done&&(Z=D.return)&&Z.call(D)}finally{if(Y)throw Y.error}}}return[2,Array.from((null==C?void 0:C.values())||[])]}}))}))},e.prototype.matches=function(e,t){var n,r;return void 0===t&&(t=!1),Ot(this,void 0,void 0,(function(){var o,i,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:return!this.field||t?[3,2]:[4,e[this.field]];case 1:return i=l.sent(),[3,3];case 2:i=e,l.label=3;case 3:if(!(o=i))return[2,!1];if("HAS_MANY"!==this.relationshipType||"function"!=typeof o[Symbol.asyncIterator])return[3,17];l.label=4;case 4:l.trys.push([4,10,11,16]),a=Mt(o),l.label=5;case 5:return[4,a.next()];case 6:return(s=l.sent()).done?[3,9]:(u=s.value,[4,this.matches(u,!0)]);case 7:if(l.sent())return[2,!0];l.label=8;case 8:return[3,5];case 9:return[3,16];case 10:return c=l.sent(),n={error:c},[3,16];case 11:return l.trys.push([11,,14,15]),s&&!s.done&&(r=a.return)?[4,r.call(a)]:[3,13];case 12:l.sent(),l.label=13;case 13:return[3,15];case 14:if(n)throw n.error;return[7];case 15:return[7];case 16:return[2,!1];case 17:return"or"!==this.operator?[3,18]:[2,YU(this.operands,(function(e){return e.matches(o)}))];case 18:return"and"!==this.operator?[3,19]:[2,ZU(this.operands,(function(e){return e.matches(o)}))];case 19:if("not"!==this.operator)return[3,21];if(1!==this.operands.length)throw new Error("Invalid arguments! `not()` accepts exactly one predicate expression.");return[4,this.operands[0].matches(o)];case 20:return[2,!l.sent()];case 21:throw new Error("Invalid group operator!")}}))}))},e.prototype.toAST=function(){var e;if(this.field)throw new Error("Nested type conditions are not supported!");return(e={})[this.operator]=this.operands.map((function(e){return e.toAST()})),e},e.prototype.toStoragePredicate=function(e){return Zz.createFromAST(this.model.schema,this.toAST())},e}();function jq(e,t,n,r,o){void 0===t&&(t=!0);var i=new Mq(e,n,void 0,"and",[]),a=r&&o?r:i,s=r&&o?o:i,u={};Pq(a,u);var c=function(){var n=Nt(a.copy(s),2),r=n[0],o=n[1];return{query:r,newTail:o,newLink:jq(e,t,void 0,r,o)}};["and","or"].forEach((function(r){u[r]=function(o){var i=c(),a=i.query,s=i.newTail,u=o(jq(e,t));if(!Array.isArray(u))throw new Error("Invalid predicate. `"+r+"` groups must return an array of child conditions.");return null==s||s.operands.push(new Mq(e,n,void 0,r,u.map((function(e){return Oq(e)})))),Pq(a)}})),u.not=function(r){var o=c(),i=o.query,a=o.newTail;return null==a||a.operands.push(new Mq(e,n,void 0,"not",[Oq(r(jq(e,t)))])),Pq(i)};var l=function(n){Object.defineProperty(u,n,{enumerable:!0,get:function(){var r=e.schema.fields[n];if(r.association){if(t){if("BELONGS_TO"===r.association.connectionType||"HAS_ONE"===r.association.connectionType||"HAS_MANY"===r.association.connectionType){var o=r.type.modelConstructor;if(!o)throw new Error("Related model metadata is missing. This is a bug! Please report it.");var i=Nt(a.copy(s),2),u=i[0],l=i[1],f=new Mq(o,n,r.association.connectionType,"and",[]);return l.operands.push(f),jq(o,t,void 0,u,f)}throw new Error("Related model definition doesn't have a typedef. This is a bug! Please report it.")}throw new Error("Predication on releated models is not supported in this context.")}return Aq.reduce((function(e,t){var r;return Ct(Ct({},e),((r={})[t]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=c(),i=o.query,a=o.newTail;return null==a||a.operands.push(new Lq(n,t,e)),Pq(i)},r))}),{})}})};for(var f in e.schema.fields)l(f);return u}function Uq(e){return jq(e,!1)}zz(!0),function(){function e(t){if(!VF(t))return t;if(Array.isArray(t))return t.map(e);if(XF(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(QF(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return YF(t,Oz)&&(n[Oz]=t[Oz]),n}function t(t){return HF(t)?e(t):t}var n="add";!function(e,t){Dz[e]||(Dz[e]=t)}("Patches",{$:function(t,r){return r.forEach((function(r){for(var o=r.path,i=r.op,a=t,s=0;s<o.length-1;s++){var u=WF(a),c=""+o[s];0!==u&&1!==u||"__proto__"!==c&&"constructor"!==c||GF(24),"function"==typeof a&&"prototype"===c&&GF(24),"object"!=typeof(a=ZF(a,c))&&GF(15,o.join("/"))}var l=WF(a),f=e(r.value),d=o[o.length-1];switch(i){case"replace":switch(l){case 2:return a.set(d,f);case 3:GF(16);default:return a[d]=f}case n:switch(l){case 1:return a.splice(d,0,f);case 2:return a.set(d,f);case 3:return a.add(f);default:return a[d]=f}case"remove":switch(l){case 1:return a.splice(d,1);case 2:return a.delete(d);case 3:return a.delete(r.value);default:return delete a[d]}default:GF(17,i)}})),t},R:function(e,r,o,i){switch(e.i){case 0:case 4:case 2:return function(e,r,o,i){var a=e.t,s=e.o;$F(e.D,(function(e,u){var c=ZF(a,e),l=ZF(s,e),f=u?YF(a,e)?"replace":n:"remove";if(c!==l||"replace"!==f){var d=r.concat(e);o.push("remove"===f?{op:f,path:d}:{op:f,path:d,value:l}),i.push(f===n?{op:"remove",path:d}:"remove"===f?{op:n,path:d,value:t(c)}:{op:"replace",path:d,value:t(c)})}}))}(e,r,o,i);case 5:case 1:return function(e,r,o,i){var a=e.t,s=e.D,u=e.o;if(u.length<a.length){var c=[u,a];a=c[0],u=c[1];var l=[i,o];o=l[0],i=l[1]}for(var f=0;f<a.length;f++)if(s[f]&&u[f]!==a[f]){var d=r.concat([f]);o.push({op:"replace",path:d,value:t(u[f])}),i.push({op:"replace",path:d,value:t(a[f])})}for(var p=a.length;p<u.length;p++){var h=r.concat([p]);o.push({op:n,path:h,value:t(u[p])})}a.length<u.length&&i.push({op:"replace",path:r.concat(["length"]),value:a.length})}(e,r,o,i);case 3:return function(e,t,r,o){var i=e.t,a=e.o,s=0;i.forEach((function(e){if(!a.has(e)){var i=t.concat([s]);r.push({op:"remove",path:i,value:e}),o.unshift({op:n,path:i,value:e})}s++})),s=0,a.forEach((function(e){if(!i.has(e)){var a=t.concat([s]);r.push({op:n,path:a,value:e}),o.unshift({op:"remove",path:a,value:e})}s++}))}(e,r,o,i)}},M:function(e,t,n,r){n.push({op:"replace",path:[],value:t===Pz?void 0:t}),r.push({op:"replace",path:[],value:e.t})}})}();var Fq,zq,Bq,qq,Kq,Gq=new c("DataStore"),Hq=(GU(Date.now()),Y().isNode),Vq="schemaVersion",$q=new WeakMap,Wq=new WeakMap,Yq=function(e){var t,n,r,o,i=$q.get(e),a=i?Fq.namespaces[i].models[e.name]:void 0;if(a){var s=Fq.namespaces[i].relationships[e.name].indexes,u=new Set;try{for(var c=Rt(s),l=c.next();!l.done;l=c.next()){var f=l.value;try{for(var d=(r=void 0,Rt(f[1])),p=d.next();!p.done;p=d.next()){var h=p.value;u.add(h)}}catch(e){r={error:e}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}a.fields=Ct(Ct({},Object.fromEntries(Lt(u.values()).map((function(e){return[e,{name:e,type:"ID",isArray:!1}]}),[]))),a.fields)}return a},Zq=function(e){var t,n,r,o=$q.get(e);return o&&(null===(r=null===(n=null===(t=Fq.namespaces)||void 0===t?void 0:t[o])||void 0===n?void 0:n.keys)||void 0===r?void 0:r[e.name].primaryKey)||["id"]},Jq=function(e){return!(!UU(e)||!$q.has(e))},Xq=function(e){var t=$q.get(e);if(!t)throw new Error("Namespace Resolver for '"+e.name+"' not found! This is probably a bug in '@amplify-js/datastore'.");return t},Qq=function(e){if(!e)throw new Error("Missing modelConstructor");var t=Yq(e);if(!t)throw new Error("Missing modelSchema");var n=Zq(e);if(!n)throw new Error("Could not determine PK");return jq({builder:e,schema:t,pkField:n})};new WeakMap,function(e){e.Detached="Detached",e.DataStore="DataStore",e.API="API"}(Kq||(Kq={}));var eK=new WeakMap;function tK(e,t){return Array.isArray(e)?e.map((function(e){return tK(e,t)})):e&&eK.set(e,t),e}var nK,rK,oK,iK=function(){var e="Schema is not initialized. DataStore will not function as expected. This could happen if you have multiple versions of DataStore installed. Please see https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js/#check-for-duplicate-versions";throw Gq.error(e),new Error(e)},aK=new WeakSet;function sK(e,t){return aK.add(t),new e(t)}function uK(e){return"string"==typeof e}function cK(e){var t=e.localModel,n=e.modelConstructor,r=e.remoteModel._version;return sK(n,Ct(Ct({},t),{_version:r}))}function lK(e){Gq.warn(e)}function fK(e,t){var n;switch(e){case OU:n=qq[t];break;case kU:n=Bq[t];break;case RU:n=zq[t];break;case NU:n=undefined[t];break;default:throw new Error("Invalid namespace: "+e)}if(Jq(n))return n;var r="Model name is not valid for namespace. modelName: "+t+", namespace: "+e;throw Gq.error(r),new Error(r)}function dK(e,t){return Ot(this,void 0,void 0,(function(){var n,r,o=this;return kt(this,(function(i){switch(i.label){case 0:return n=qq.Setting,r=Fq.namespaces[OU].models.Setting,[4,e.runExclusive((function(e){return Ot(o,void 0,void 0,(function(){var o,i;return kt(this,(function(a){switch(a.label){case 0:return[4,e.query(n,Zz.createFromExisting(r,(function(e){return e.key("eq",Vq)})),{page:0,limit:1})];case 1:return o=Nt.apply(void 0,[a.sent(),1]),void 0===(i=o[0])||void 0===i.value?[3,4]:JSON.parse(i.value)===t?[3,3]:[4,e.clear(!1)];case 2:a.sent(),a.label=3;case 3:return[3,6];case 4:return[4,e.save(sK(n,{key:Vq,value:JSON.stringify(t)}))];case 5:a.sent(),a.label=6;case 6:return[2]}}))}))}))];case 1:return i.sent(),[2]}}))}))}xe((function(){return null!==oK&&oK.apply(this,arguments)||this}),oK=Promise),function(){function e(e){this.values=e}e.prototype[Symbol.asyncIterator]=function(){var e,t=this,n=0;return{next:function(){return Ot(t,void 0,void 0,(function(){var t;return kt(this,(function(r){switch(r.label){case 0:return e?[3,2]:[4,this.values];case 1:e=r.sent(),r.label=2;case 2:return n<e.length?(t={value:e[n],done:!1},n++,[2,t]):[2,{value:null,done:!0}]}}))}))}}},e.prototype.toArray=function(e){var t,n,r=(void 0===e?{}:e).max,o=void 0===r?Number.MAX_SAFE_INTEGER:r;return Ot(this,void 0,void 0,(function(){var e,r,i,a,s,u;return kt(this,(function(c){switch(c.label){case 0:e=[],r=0,c.label=1;case 1:c.trys.push([1,6,7,12]),i=Mt(this),c.label=2;case 2:return[4,i.next()];case 3:if((a=c.sent()).done)return[3,5];if(s=a.value,!(r<o))return[3,5];e.push(s),r++,c.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return u=c.sent(),t={error:u},[3,12];case 7:return c.trys.push([7,,10,11]),a&&!a.done&&(n=i.return)?[4,n.call(i)]:[3,9];case 8:c.sent(),c.label=9;case 9:return[3,11];case 10:if(t)throw t.error;return[7];case 11:return[7];case 12:return[2,e]}}))}))}}(),function(e){e.NotRunning="Not Running",e.Starting="Starting",e.Running="Running",e.Stopping="Stopping",e.Clearing="Clearing"}(rK||(rK={}));var pK=function(){function e(){var e=this;this.Auth=Kx,this.API=pU,this.Cache=sl,this.amplifyConfig={},this.syncPredicates=new WeakMap,this.amplifyContext={Auth:this.Auth,API:this.API,Cache:this.Cache},this.runningProcesses=new qF,this.state=rK.NotRunning,this.start=function(){return Ot(e,void 0,void 0,(function(){var e=this;return kt(this,(function(t){return[2,this.runningProcesses.add((function(){return Ot(e,void 0,void 0,(function(){var e,t,n,r=this;return kt(this,(function(o){switch(o.label){case 0:return this.state=rK.Starting,void 0!==this.initialized?[3,1]:(Gq.debug("Starting DataStore"),this.initialized=new Promise((function(e,t){r.initResolve=e,r.initReject=t})),[3,3]);case 1:return[4,this.initialized];case 2:return o.sent(),[2];case 3:return this.storage=new YB(Fq,Xq,fK,sK,this.storageAdapter,this.sessionId),[4,this.storage.init()];case 4:return o.sent(),iK(),[4,dK(this.storage,Fq.version)];case 5:return o.sent(),(e=this.amplifyConfig.aws_appsync_graphqlEndpoint)?(Gq.debug("GraphQL endpoint available",e),t=this,[4,this.processSyncExpressions()]):[3,7];case 6:return t.syncPredicates=o.sent(),this.sync=new Iq(Fq,Xq,zq,Bq,this.storage,sK,this.conflictHandler,this.errorHandler,this.syncPredicates,this.amplifyConfig,this.authModeStrategy,this.amplifyContext,this.connectivityMonitor),n=1e3*this.fullSyncInterval*60,nK=this.sync.start({fullSyncInterval:n}).subscribe({next:function(e){var t=e.type,n=e.data;t===(Hq?gq.SYNC_ENGINE_SYNC_QUERIES_READY:gq.SYNC_ENGINE_STORAGE_SUBSCRIBED)&&r.initResolve(),_.dispatch("datastore",{event:t,data:n})},error:function(e){Gq.warn("Sync error",e),r.initReject()}}),[3,8];case 7:Gq.warn("Data won't be synchronized. No GraphQL endpoint configured. Did you forget `Amplify.configure(awsconfig)`?",{config:this.amplifyConfig}),this.initResolve(),o.label=8;case 8:return[4,this.initialized];case 9:return o.sent(),this.state=rK.Running,[2]}}))}))}),"datastore start").catch(this.handleAddProcError("DataStore.start()"))]}))}))},this.query=function(t,n,r){return Ot(e,void 0,void 0,(function(){var e=this;return kt(this,(function(o){return[2,this.runningProcesses.add((function(){return Ot(e,void 0,void 0,(function(){var e,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,this.start()];case 1:if(f.sent(),!this.storage)throw new Error("No storage to query");if(!Jq(t))throw s="Constructor is not for a valid model",Gq.error(s,{modelConstructor:t}),new Error(s);if("string"==typeof n&&void 0!==r&&Gq.warn("Pagination is ignored when querying by id"),!(o=Yq(t)))throw new Error("Invalid model definition provided!");if(i=this.processPagination(o,r),a=bF(o),!uK(n))return[3,3];if(a.length>1)throw s="Models with composite primary keys cannot be queried by a single key value. Use object literal syntax for composite keys instead: https://docs.amplify.aws/lib/datastore/advanced-workflows/q/platform/js/#querying-records-with-custom-primary-keys",Gq.error(s,{keyFields:a}),new Error(s);return c=Zz.createForSingleField(o,a[0],n),[4,this.storage.query(t,c,i)];case 2:return e=f.sent(),[3,9];case 3:return LF(n,o)?(c=Zz.createForPk(o,n),[4,this.storage.query(t,c,i)]):[3,5];case 4:return e=f.sent(),[3,9];case 5:return n&&!Hz(n)?[3,7]:[4,null===(l=this.storage)||void 0===l?void 0:l.query(t,void 0,i)];case 6:return e=f.sent(),[3,9];case 7:return u=jq({builder:t,schema:o,pkField:Zq(t)}),[4,(c=Oq(n(u))).fetch(this.storage)];case 8:e=WU(e=f.sent(),i),f.label=9;case 9:return[2,tK(uK(n)||LF(n,o)?e[0]:e,Kq.DataStore)]}}))}))}),"datastore query").catch(this.handleAddProcError("DataStore.query()"))]}))}))},this.save=function(t,n){return Ot(e,void 0,void 0,(function(){var e=this;return kt(this,(function(r){return[2,this.runningProcesses.add((function(){return Ot(e,void 0,void 0,(function(){var e,r,o,i,a,s,u=this;return kt(this,(function(c){switch(c.label){case 0:return[4,this.start()];case 1:if(c.sent(),!this.storage)throw new Error("No storage to save to");if(e=Wq.get(t),r=t?t.constructor:void 0,!Jq(r))throw o="Object is not an instance of a valid model",Gq.error(o,{model:t}),new Error(o);if(!(i=Yq(r)))throw new Error("Model Definition could not be found for model");return a={builder:r,schema:i,pkField:bF(i)},[4,this.storage.runExclusive((function(e){return Ot(u,void 0,void 0,(function(){var n,r,o,s,u,c,l,f,d;return kt(this,(function(p){switch(p.label){case 0:n=ZB.allFrom(a).filter((function(e){return"BELONGS_TO"===e.type})),p.label=1;case 1:p.trys.push([1,6,7,8]),r=Rt(n),o=r.next(),p.label=2;case 2:return o.done?[3,5]:(s=o.value,null===(u=s.createRemoteQueryObject(t))?[3,4]:[4,e.query(s.remoteModelConstructor,Zz.createFromFlatEqualities(s.remoteDefinition,u))]);case 3:if(0===p.sent().length)throw new Error(["Data integrity error. You tried to save a "+i.name+" ("+JSON.stringify(t)+")",'but the instance assigned to the "'+s.field+'" property',"does not exist in the local database. If you're trying to create the related",'"'+(null===(d=s.remoteDefinition)||void 0===d?void 0:d.name)+'", you must save it independently first.'].join(" "));p.label=4;case 4:return o=r.next(),[3,2];case 5:return[3,8];case 6:return c=p.sent(),l={error:c},[3,8];case 7:try{o&&!o.done&&(f=r.return)&&f.call(r)}finally{if(l)throw l.error}return[7];case 8:return[2]}}))}))}))];case 2:return c.sent(),s=n?Oq(n(Uq(a))).toStoragePredicate():void 0,[4,this.storage.runExclusive((function(n){return Ot(u,void 0,void 0,(function(){return kt(this,(function(o){switch(o.label){case 0:return[4,n.save(t,s,void 0,e)];case 1:return o.sent(),[2,n.query(r,Zz.createForPk(i,t))]}}))}))}))];case 3:return[2,tK(Nt.apply(void 0,[c.sent(),1])[0],Kq.DataStore)]}}))}))}),"datastore save").catch(this.handleAddProcError("DataStore.save()"))]}))}))},this.setConflictHandler=function(t){var n=t.DataStore;return n&&n.conflictHandler?n.conflictHandler:e.conflictHandler===cK&&t.conflictHandler?t.conflictHandler:e.conflictHandler||cK},this.setErrorHandler=function(t){var n=t.DataStore;return n&&n.errorHandler?n.errorHandler:e.errorHandler===lK&&t.errorHandler?t.errorHandler:e.errorHandler||lK},this.delete=function(t,n){return Ot(e,void 0,void 0,(function(){var e=this;return kt(this,(function(r){return[2,this.runningProcesses.add((function(){return Ot(e,void 0,void 0,(function(){var e,r,o,i,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:return[4,this.start()];case 1:if(l.sent(),!this.storage)throw new Error("No storage to delete from");if(!t)throw u="Model or Model Constructor required",Gq.error(u,{modelOrConstructor:t}),new Error(u);if(!Jq(t))return[3,3];if(i=t,!n)throw u="Id to delete or criteria required. Do you want to delete all? Pass Predicates.ALL",Gq.error(u,{identifierOrCriteria:n}),new Error(u);if(!(a=Yq(i)))throw new Error("Could not find model definition for modelConstructor.");if("string"==typeof n){if((r=bF(a)).length>1)throw u="Models with composite primary keys cannot be deleted by a single key value, unless using a predicate. Use object literal syntax for composite keys instead: https://docs.amplify.aws/lib/datastore/advanced-workflows/q/platform/js/#querying-records-with-custom-primary-keys",Gq.error(u,{keyFields:r}),new Error(u);e=Zz.createForSingleField(a,r[0],n)}else if(!(e=LF(n,a)?Zz.createForPk(a,n):Oq(n(Uq({builder:i,schema:a,pkField:bF(a)}))).toStoragePredicate())||!Zz.isValidPredicate(e))throw u="Criteria required. Do you want to delete all? Pass Predicates.ALL",Gq.error(u,{condition:e}),new Error(u);return[4,this.storage.delete(i,e)];case 2:return[2,tK(Nt.apply(void 0,[l.sent(),1])[0],Kq.DataStore)];case 3:if(o=t,i=Object.getPrototypeOf(o||{}).constructor,!Jq(i))throw u="Object is not an instance of a valid model",Gq.error(u,{model:o}),new Error(u);if(!(a=Yq(i)))throw new Error("Could not find model definition for modelConstructor.");if(s=Zz.createForPk(a,o),n){if("function"!=typeof n)throw u="Invalid criteria",Gq.error(u,{identifierOrCriteria:n}),new Error(u);e=Oq(n(Uq({builder:i,schema:a,pkField:bF(a)}))).toStoragePredicate(s)}else e=s;return[4,this.storage.delete(o,e)];case 4:return c=Nt.apply(void 0,[l.sent(),1]),[2,tK(Nt(c[0],1)[0],Kq.DataStore)]}}))}))}),"datastore delete").catch(this.handleAddProcError("DataStore.delete()"))]}))}))},this.observe=function(t,n){var r,o=t&&Jq(t)?t:void 0;if(t&&void 0===o){var i=t,a=i&&Object.getPrototypeOf(i).constructor;if(Jq(a))return n&&Gq.warn("idOrCriteria is ignored when using a model instance",{model:i,identifierOrCriteria:n}),e.observe(a,i.id);var s="The model is not an instance of a PersistentModelConstructor";throw Gq.error(s,{model:i}),new Error(s)}if(n&&o&&LF(n,Yq(o)))throw s="Object literal syntax cannot be used with observe. Use a predicate instead: https://docs.amplify.aws/lib/datastore/data-access/q/platform/js/#predicates",Gq.error(s,{objectLiteral:n}),new Error(s);if(void 0!==n&&void 0===o)throw s="Cannot provide criteria without a modelConstructor",Gq.error(s,n),new Error(s);if(o&&!Jq(o))throw s="Constructor is not for a valid model",Gq.error(s,{modelConstructor:o}),new Error(s);return o&&"string"==typeof n?r=Oq(function(e){return e.id.eq(n)}(Qq(o))):o&&"function"==typeof n&&(r=Oq(n(Qq(o)))),new Tj((function(t){var n;return e.runningProcesses.add((function(){return Ot(e,void 0,void 0,(function(){var e=this;return kt(this,(function(i){switch(i.label){case 0:return[4,this.start()];case 1:return i.sent(),n=this.storage.observe(o).filter((function(e){var t=e.model;return Xq(t)===kU})).subscribe({next:function(n){return e.runningProcesses.isOpen&&e.runningProcesses.add((function(){return Ot(e,void 0,void 0,(function(){var e,o,i,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return e=n,"DELETE"===n.opType?[3,2]:(o=Yq(n.model),i=bF(o),a=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n}(n.element,i),[4,this.query(n.model,a)]);case 1:s=c.sent(),e=Ct(Ct({},e),{element:s}),c.label=2;case 2:return(u=!r)?[3,4]:[4,r.matches(e.element)];case 3:u=c.sent(),c.label=4;case 4:return u&&t.next(e),[2]}}))}))}),"datastore observe message handler")},error:function(e){return t.error(e)},complete:function(){return t.complete()}}),[2]}}))}))}),"datastore observe observable initialization").catch(e.handleAddProcError("DataStore.observe()")).catch((function(e){t.error(e)})),e.runningProcesses.addCleaner((function(){return Ot(e,void 0,void 0,(function(){return kt(this,(function(e){return n&&n.unsubscribe(),[2]}))}))}),"DataStore.observe() cleanup")}))},this.observeQuery=function(t,n,r){return new Tj((function(o){var i,a,s=new Map,u=new Map,c=[],l=function(){var e=h();v(e)},f=new mF({callback:l,errorHandler:o.error,maxInterval:2e3}),d=(r||{}).sort,p=d?{sort:d}:void 0;if(!Yq(t))throw new Error("Could not find model definition.");t&&"function"==typeof n?a=Oq(n(Qq(t))):Hz(n)&&(a=void 0),e.runningProcesses.add((function(){return Ot(e,void 0,void 0,(function(){var e,r=this;return kt(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,this.query(t,n,p)];case 1:return d.sent().forEach((function(e){var n=vB(Yq(t),e);s.set(n,e)})),i=this.observe(t).subscribe((function(e){var t=e.element,n=e.model,o=e.opType;return r.runningProcesses.isOpen&&r.runningProcesses.add((function(){return Ot(r,void 0,void 0,(function(){var e,r,i,l,d,p;return kt(this,(function(h){switch(h.label){case 0:return e=Yq(n),r=vB(e,t),(i=a)?[4,a.matches(t)]:[3,2];case 1:i=!h.sent(),h.label=2;case 2:if(i){if("UPDATE"!==o||!s.has(r)&&!u.has(r))return[2];c.push(r)}return"DELETE"===o?c.push(r):u.set(r,t),l=null!==(p=null===(d=this.sync)||void 0===d?void 0:d.getModelSyncedStatus(n))&&void 0!==p&&p,(u.size-c.length>=this.syncPageSize||l)&&f.resolve(),f.start(),[2]}}))}))}),"handle observeQuery observed event")})),l(),[3,3];case 2:return e=d.sent(),o.error(e),[3,3];case 3:return[2]}}))}))}),"datastore observequery startup").catch(e.handleAddProcError("DataStore.observeQuery()")).catch((function(e){o.error(e)}));var h=function(){var n,o,i=null!==(o=null===(n=e.sync)||void 0===n?void 0:n.getModelSyncedStatus(t))&&void 0!==o&&o,a=Lt(Array.from(s.values()),Array.from(u.values()));return(null==r?void 0:r.sort)&&y(a),s.clear(),a.forEach((function(e){var n=vB(Yq(t),e);s.set(n,e)})),c.forEach((function(e){return s.delete(e)})),{items:Array.from(s.values()),isSynced:i}},v=function(e){o.next(e),u.clear(),c=[]},y=function(n){var o=Yq(t),i=e.processPagination(o,r),a=IU.getPredicates(i.sort);if(a.length){var s=VU(a);n.sort(s)}},m=function(e){var n,r=e.payload,o=r.event,i=r.data;o===gq.SYNC_ENGINE_MODEL_SYNCED&&(null===(n=null==i?void 0:i.model)||void 0===n?void 0:n.name)===t.name&&(l(),_.remove("datastore",m))};return _.listen("datastore",m),e.runningProcesses.addCleaner((function(){return Ot(e,void 0,void 0,(function(){return kt(this,(function(e){return i&&i.unsubscribe(),[2]}))}))}),"datastore observequery cleaner")}))},this.configure=function(t){void 0===t&&(t={}),e.amplifyContext.Auth=e.Auth,e.amplifyContext.API=e.API,e.amplifyContext.Cache=e.Cache;var n,r=t.DataStore,o=t.authModeStrategyType,i=(t.conflictHandler,t.errorHandler,t.maxRecordsToSync),a=t.syncPageSize,s=t.fullSyncInterval,u=t.syncExpressions,c=t.authProviders,l=t.storageAdapter,f=Pt(t,["DataStore","authModeStrategyType","conflictHandler","errorHandler","maxRecordsToSync","syncPageSize","fullSyncInterval","syncExpressions","authProviders","storageAdapter"]);switch(e.amplifyConfig=Ct(Ct({},f),e.amplifyConfig),e.conflictHandler=e.setConflictHandler(t),e.errorHandler=e.setErrorHandler(t),r&&r.authModeStrategyType||o||rF.DEFAULT){case rF.MULTI_AUTH:e.authModeStrategy=(n=e.amplifyContext,function(e){var t=e.schema,r=e.modelName;return Ot(void 0,void 0,void 0,(function(){var e,o,i,a,s;return kt(this,(function(u){switch(u.label){case 0:n.Auth=n.Auth||Kx,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.Auth.currentAuthenticatedUser()];case 2:return e=u.sent(),[3,4];case 3:return u.sent(),[3,4];case 4:return(o=t.namespaces.user.models[r].attributes)&&(i=o.find((function(e){return"auth"===e.type})),null===(s=null==i?void 0:i.properties)||void 0===s?void 0:s.rules)?(c=i.properties.rules,l=[JU.CUSTOM,JU.OWNER,JU.GROUPS,JU.PRIVATE,JU.PUBLIC],f=[XU.FUNCTION,XU.USER_POOLS,XU.OIDC,XU.IAM,XU.API_KEY],a=Lt(c).sort((function(e,t){return e.allow===t.allow?f.indexOf(Bz(e))-f.indexOf(Bz(t)):l.indexOf(e.allow)-l.indexOf(t.allow)})),[2,qz({currentUser:e,rules:a})]):[2,[]]}var c,l,f}))}))});break;case rF.DEFAULT:default:e.authModeStrategy=Kz}e.amplifyConfig.authProviders=r&&r.authProviders||c,e.syncExpressions=r&&r.syncExpressions||u||e.syncExpressions,e.maxRecordsToSync=r&&r.maxRecordsToSync||i||e.maxRecordsToSync||1e4,e.amplifyConfig.maxRecordsToSync=e.maxRecordsToSync,e.syncPageSize=r&&r.syncPageSize||a||e.syncPageSize||1e3,e.amplifyConfig.syncPageSize=e.syncPageSize,e.fullSyncInterval=r&&r.fullSyncInterval||s||e.fullSyncInterval||1440,e.storageAdapter=r&&r.storageAdapter||l||e.storageAdapter||void 0,e.sessionId=e.retrieveSessionId()}}return e.prototype.getModuleName=function(){return"DataStore"},e.prototype.handleAddProcError=function(e){var t=this;return function(n){throw n.message.startsWith("BackgroundManagerNotOpenError")?new Error(["DataStoreStateError: Tried to execute `"+e+'` while DataStore was "'+t.state+'".','This can only be done while DataStore is "Started" or "Stopped". To remedy:',"Ensure all calls to `stop()` and `clear()` have completed first.","If this is not possible, retry the operation until it succeeds."].join("\n")):n}},e.prototype.clear=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return iK(),this.state=rK.Clearing,[4,this.runningProcesses.close()];case 1:return e.sent(),void 0!==this.storage?[3,3]:(this.storage=new YB(Fq,Xq,fK,sK,this.storageAdapter,this.sessionId),[4,this.storage.init()]);case 2:e.sent(),e.label=3;case 3:return nK&&!nK.closed&&nK.unsubscribe(),this.sync?[4,this.sync.stop()]:[3,5];case 4:e.sent(),e.label=5;case 5:return[4,this.storage.clear()];case 6:return e.sent(),this.initialized=void 0,this.storage=void 0,this.sync=void 0,this.syncPredicates=new WeakMap,[4,this.runningProcesses.open()];case 7:return e.sent(),this.state=rK.NotRunning,[2]}}))}))},e.prototype.stop=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return this.state=rK.Stopping,[4,this.runningProcesses.close()];case 1:return e.sent(),nK&&!nK.closed&&nK.unsubscribe(),this.sync?[4,this.sync.stop()]:[3,3];case 2:e.sent(),e.label=3;case 3:return this.initialized=void 0,this.sync=void 0,[4,this.runningProcesses.open()];case 4:return e.sent(),this.state=rK.NotRunning,[2]}}))}))},e.prototype.processPagination=function(e,t){var n,r=t||{},o=r.limit,i=r.page,a=r.sort;if(void 0!==o||void 0!==i||void 0!==a){if(void 0!==i&&void 0===o)throw new Error("Limit is required when requesting a page");if(void 0!==i){if("number"!=typeof i)throw new Error("Page should be a number");if(i<0)throw new Error("Page can't be negative")}if(void 0!==o){if("number"!=typeof o)throw new Error("Limit should be a number");if(o<0)throw new Error("Limit can't be negative")}return a&&(n=IU.createFromExisting(e,a)),{limit:o,page:i,sort:n}}},e.prototype.processSyncExpressions=function(){return Ot(this,void 0,void 0,(function(){var e,t=this;return kt(this,(function(n){switch(n.label){case 0:return this.syncExpressions&&this.syncExpressions.length?[4,Promise.all(this.syncExpressions.map((function(e){return Ot(t,void 0,void 0,(function(){var t,n,r,o,i,a;return kt(this,(function(s){switch(s.label){case 0:return[4,e];case 1:return t=s.sent(),n=t.modelConstructor,r=t.conditionProducer,o=Yq(n),[4,this.unwrapPromise(r)];case 2:return Hz(i=s.sent())?[2,[o,null]]:(a=Oq(i(Uq({builder:n,schema:o,pkField:bF(o)}))).toStoragePredicate(),[2,[o,a]])}}))}))})))]:[2,new WeakMap];case 1:return e=n.sent(),[2,this.weakMapFromEntries(e)]}}))}))},e.prototype.createFromCondition=function(e,t){try{return Zz.createFromExisting(e,t)}catch(e){throw Gq.error("Error creating Sync Predicate"),e}},e.prototype.unwrapPromise=function(e){return Ot(this,void 0,void 0,(function(){var t;return kt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:return[2,n.sent()||e];case 2:if((t=n.sent())instanceof TypeError)return[2,e];throw t;case 3:return[2]}}))}))},e.prototype.weakMapFromEntries=function(e){return e.reduce((function(e,t){var n=Nt(t,2),r=n[0],o=n[1];if(e.has(r)){var i=r.name;return Gq.warn("You can only utilize one Sync Expression per model.\n          Subsequent sync expressions for the "+i+" model will be ignored."),e}return o&&e.set(r,o),e}),new WeakMap)},e.prototype.retrieveSessionId=function(){try{var e=sessionStorage.getItem("datastoreSessionId");if(e)return e+"-"+Nt(this.amplifyConfig.aws_appsync_graphqlEndpoint.split("/")[2].split("."),1)[0]}catch(e){}},e}(),hK=new pK;d.register(hK);var vK=function(e,t){return vK=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},vK(e,t)},yK=function(){return yK=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},yK.apply(this,arguments)};function mK(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function gK(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var bK,wK=new c("AbstractInteractionsProvider"),SK=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=yK(yK({},this._config),e),wK.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"Interactions"},Object.defineProperty(e.prototype,"options",{get:function(){return yK({},this._config)},enumerable:!0,configurable:!0}),e}();!function(e){e.ENV="env",e.CONFIG="shared config entry"}(bK||(bK={}));var EK,_K=function(e){if("function"==typeof e)return e;var t=Promise.resolve(e);return function(){return t}},xK=function(e){return"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips"))},TK=function(e){return xK(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e},IK=function(e,t){var n;void 0===e&&(e=[]);var r=t.useFipsEndpoint,o=t.useDualstackEndpoint;return null===(n=e.find((function(e){var t=e.tags;return r===t.includes("fips")&&o===t.includes("dualstack")})))||void 0===n?void 0:n.hostname},AK=function(e,t){var n,r,o,i,a,s,u=t.useFipsEndpoint,c=void 0!==u&&u,l=t.useDualstackEndpoint,f=void 0!==l&&l,d=t.signingService,p=t.regionHash,h=t.partitionHash,v=function(e,t){var n,r=t.partitionHash;return null!==(n=Object.keys(r||{}).find((function(t){return r[t].regions.includes(e)})))&&void 0!==n?n:"aws"}(e,{partitionHash:h}),y=e in p?e:null!==(r=null===(n=h[v])||void 0===n?void 0:n.endpoint)&&void 0!==r?r:e,m={useFipsEndpoint:c,useDualstackEndpoint:f},g=function(e,t){var n=t.partitionHostname;return t.regionHostname||(n?n.replace("{region}",e):void 0)}(y,{regionHostname:IK(null===(o=p[y])||void 0===o?void 0:o.variants,m),partitionHostname:IK(null===(i=h[v])||void 0===i?void 0:i.variants,m)});if(void 0===g)throw new Error("Endpoint resolution failed for: ".concat({resolvedRegion:y,useFipsEndpoint:c,useDualstackEndpoint:f}));var b=function(e,t){var n=t.signingRegion;if(n)return n;if(t.useFipsEndpoint){var r=t.regionRegex.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(r);if(o)return o[0].slice(1,-1)}}(g,{signingRegion:null===(a=p[y])||void 0===a?void 0:a.signingRegion,regionRegex:h[v].regionRegex,useFipsEndpoint:c});return Ct(Ct({partition:v,signingService:d,hostname:g},b&&{signingRegion:b}),(null===(s=p[y])||void 0===s?void 0:s.signingService)&&{signingService:p[y].signingService})},CK=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(Ct(Ct({},this),{headers:Ct({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return Ct(Ct({},e),((r={})[n]=Array.isArray(o)?Dt([],Nt(o),!1):o,r))}),{}))),n},e}(),PK=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),OK="content-length",kK={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},RK={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},NK={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},LK="X-Amzn-Trace-Id",DK={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(EK||(EK={}));var MK=EK.STANDARD,jK=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],UK=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],FK=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],zK=[500,502,503,504],BK=["ECONNRESET","EPIPE","ETIMEDOUT"],qK=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||UK.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},KK=function(){function e(e){var t,n,r,o,i;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=null!==(t=null==e?void 0:e.beta)&&void 0!==t?t:.7,this.minCapacity=null!==(n=null==e?void 0:e.minCapacity)&&void 0!==n?n:1,this.minFillRate=null!==(r=null==e?void 0:e.minFillRate)&&void 0!==r?r:.5,this.scaleConstant=null!==(o=null==e?void 0:e.scaleConstant)&&void 0!==o?o:.4,this.smooth=null!==(i=null==e?void 0:e.smooth)&&void 0!==i?i:.8;var a=this.getCurrentTimeInSeconds();this.lastThrottleTime=a,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return e.prototype.getCurrentTimeInSeconds=function(){return Date.now()/1e3},e.prototype.getSendToken=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){return[2,this.acquireTokenBucket(1)]}))}))},e.prototype.acquireTokenBucket=function(e){return Ot(this,void 0,void 0,(function(){var t;return kt(this,(function(n){switch(n.label){case 0:return this.enabled?(this.refillTokenBucket(),e>this.currentCapacity?(t=(e-this.currentCapacity)/this.fillRate*1e3,[4,new Promise((function(e){return setTimeout(e,t)}))]):[3,2]):[2];case 1:n.sent(),n.label=2;case 2:return this.currentCapacity=this.currentCapacity-e,[2]}}))}))},e.prototype.refillTokenBucket=function(){var e=this.getCurrentTimeInSeconds();if(this.lastTimestamp){var t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}else this.lastTimestamp=e},e.prototype.updateClientSendingRate=function(e){var t;if(this.updateMeasuredRate(),qK(e)){var n=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=n,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(n),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());var r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)},e.prototype.calculateTimeWindow=function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))},e.prototype.cubicThrottle=function(e){return this.getPrecise(e*this.beta)},e.prototype.cubicSuccess=function(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)},e.prototype.enableTokenBucket=function(){this.enabled=!0},e.prototype.updateTokenBucketRate=function(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)},e.prototype.updateMeasuredRate=function(){var e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){var n=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}},e.prototype.getPrecise=function(e){return parseFloat(e.toFixed(8))},e}(),GK=n(4586),HK=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},VK=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return jK.includes(e.name)}(e)||qK(e)||function(e){var t;return FK.includes(e.name)||BK.includes((null==e?void 0:e.code)||"")||zK.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},$K=function(){function e(e,t){var n,r,o,i,a,s,u,c,l;this.maxAttemptsProvider=e,this.mode=EK.STANDARD,this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:VK,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:HK,this.retryQuota=null!==(o=null==t?void 0:t.retryQuota)&&void 0!==o?o:(i=1,a=5,s=10,u=500,c=function(e){return"TimeoutError"===e.name?s:a},l=function(e){return c(e)<=u},Object.freeze({hasRetryTokens:l,retrieveRetryTokens:function(e){if(!l(e))throw new Error("No retry token available");var t=c(e);return u-=t,t},releaseRetryTokens:function(e){u+=null!=e?e:i,u=Math.min(u,500)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return Ot(this,void 0,void 0,(function(){var e;return kt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return o=0,i=0,[4,this.getMaxAttempts()];case 1:a=f.sent(),s=t.request,CK.isInstance(s)&&(s.headers["amz-sdk-invocation-id"]=(0,GK.Z)()),u=function(){var u,l,f,d,p,h,v,y;return kt(this,(function(m){switch(m.label){case 0:return m.trys.push([0,4,,7]),CK.isInstance(s)&&(s.headers["amz-sdk-request"]="attempt=".concat(o+1,"; max=").concat(a)),(null==n?void 0:n.beforeRequest)?[4,n.beforeRequest()]:[3,2];case 1:m.sent(),m.label=2;case 2:return[4,e(t)];case 3:return u=m.sent(),l=u.response,f=u.output,(null==n?void 0:n.afterRequest)&&n.afterRequest(l),c.retryQuota.releaseRetryTokens(r),f.$metadata.attempts=o+1,f.$metadata.totalRetryDelay=i,[2,{value:{response:l,output:f}}];case 4:return d=m.sent(),p=YK(d),o++,c.shouldRetry(p,o,a)?(r=c.retryQuota.retrieveRetryTokens(p),h=c.delayDecider(qK(p)?500:100,o),v=WK(p.$response),y=Math.max(v||0,h),i+=y,[4,new Promise((function(e){return setTimeout(e,y)}))]):[3,6];case 5:return m.sent(),[2,"continue"];case 6:throw p.$metadata||(p.$metadata={}),p.$metadata.attempts=o,p.$metadata.totalRetryDelay=i,p;case 7:return[2]}}))},c=this,f.label=2;case 2:return[5,u()];case 3:return"object"==typeof(l=f.sent())?[2,l.value]:[3,2];case 4:return[2]}}))}))},e}(),WK=function(e){if(PK.isInstance(e)){var t=Object.keys(e.headers).find((function(e){return"retry-after"===e.toLowerCase()}));if(t){var n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n).getTime()-Date.now():1e3*r}}},YK=function(e){return e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"==typeof e?new Error(e):new Error("AWS SDK error wrapper for ".concat(e))},ZK=function(e){function t(t,n){var r=this,o=null!=n?n:{},i=o.rateLimiter,a=Pt(o,["rateLimiter"]);return(r=e.call(this,t,a)||this).rateLimiter=null!=i?i:new KK,r.mode=EK.ADAPTIVE,r}return xe(t,e),t.prototype.retry=function(t,n){return Ot(this,void 0,void 0,(function(){var r=this;return kt(this,(function(o){return[2,e.prototype.retry.call(this,t,n,{beforeRequest:function(){return Ot(r,void 0,void 0,(function(){return kt(this,(function(e){return[2,this.rateLimiter.getSendToken()]}))}))},afterRequest:function(e){r.rateLimiter.updateClientSendingRate(e)}})]}))}))},t}($K),JK={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},XK=function(e){function t(n,r){void 0===r&&(r=!0);var o=e.call(this,n)||this;return o.tryNextLink=r,o.name="ProviderError",Object.setPrototypeOf(o,t.prototype),o}return xe(t,e),t.from=function(e,t){return void 0===t&&(t=!0),Object.assign(new this(e.message,t),e)},t}(Error);(function(e){xe((function t(n,r){void 0===r&&(r=!0);var o=e.call(this,n,r)||this;return o.tryNextLink=r,o.name="CredentialsProviderError",Object.setPrototypeOf(o,t.prototype),o}),e)})(XK),function(e){xe((function t(n,r){void 0===r&&(r=!0);var o=e.call(this,n,r)||this;return o.tryNextLink=r,o.name="TokenProviderError",Object.setPrototypeOf(o,t.prototype),o}),e)}(XK);for(var QK=function(e,t,n){var r,o,i,a=!1,s=function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:o||(o=e()),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,o];case 2:return r=t.sent(),i=!0,a=!1,[3,4];case 3:return o=void 0,[7];case 4:return[2,r]}}))}))};return void 0===t?function(e){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return i&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,s()];case 1:r=t.sent(),t.label=2;case 2:return[2,r]}}))}))}:function(e){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(o){switch(o.label){case 0:return i&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,s()];case 1:r=o.sent(),o.label=2;case 2:return a?[2,r]:n&&!n(r)?(a=!0,[2,r]):t(r)?[4,s()]:[3,4];case 3:return o.sent(),[2,r];case 4:return[2,r]}}))}))}},eG={},tG={},nG=0;nG<256;nG++){var rG=nG.toString(16).toLowerCase();1===rG.length&&(rG="0".concat(rG)),eG[nG]=rG,tG[rG]=nG}function oG(e){for(var t="",n=0;n<e.byteLength;n++)t+=eG[e[n]];return t}var iG="X-Amz-Date",aG="X-Amz-Signature",sG="X-Amz-Security-Token",uG="authorization",cG=iG.toLowerCase(),lG=[uG,cG,"date"],fG=aG.toLowerCase(),dG="x-amz-content-sha256",pG=sG.toLowerCase(),hG={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},vG=/^proxy-/,yG=/^sec-/,mG="AWS4-HMAC-SHA256",gG="AWS4-HMAC-SHA256-PAYLOAD",bG="aws4_request",wG={},SG=[],EG=function(e,t,n){return"".concat(e,"/").concat(t,"/").concat(n,"/").concat(bG)},_G=function(e,t,n){var r=new e(t);return r.update(n),r.digest()},xG=function(e,t,n){var r,o,i=e.headers,a={};try{for(var s=Rt(Object.keys(i).sort()),u=s.next();!u.done;u=s.next()){var c=u.value;if(null!=i[c]){var l=c.toLowerCase();(l in hG||(null==t?void 0:t.has(l))||vG.test(l)||yG.test(l))&&(!n||n&&!n.has(l))||(a[l]=i[c].trim().replace(/\s+/g," "))}}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a},TG=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,IG)},IG=function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())},AG=function(e,t){var n=e.headers,r=e.body;return Ot(void 0,void 0,void 0,(function(){var e,o,i,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:try{for(e=Rt(Object.keys(n)),o=e.next();!o.done;o=e.next())if((i=o.value).toLowerCase()===dG)return[2,n[i]]}catch(e){u={error:e}}finally{try{o&&!o.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=oG,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))},CG=function(e){var t=e.headers,n=e.query,r=Pt(e,["headers","query"]);return Ct(Ct({},r),{headers:Ct({},t),query:n?PG(n):void 0})},PG=function(e){return Object.keys(e).reduce((function(t,n){var r,o=e[n];return Ct(Ct({},t),((r={})[n]=Array.isArray(o)?Dt([],Nt(o),!1):o,r))}),{})},OG=function(e){var t,n;e="function"==typeof e.clone?e.clone():CG(e);try{for(var r=Rt(Object.keys(e.headers)),o=r.next();!o.done;o=r.next()){var i=o.value;lG.indexOf(i.toLowerCase())>-1&&delete e.headers[i]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e},kG=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,o=e.service,i=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=_K(r),this.credentialProvider=_K(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Ot(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T;return kt(this,(function(I){switch(I.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,o=t.expiresIn,i=void 0===o?3600:o,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=I.sent(),this.validateResolvedCredentials(f),null==c?[3,2]:(p=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:p=I.sent(),I.label=4;case 4:return d=p,h=RG(r),v=h.longDate,y=h.shortDate,i>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(m=EG(y,d,null!=l?l:this.service),g=function(e,t){var n,r,o;void 0===t&&(t={});var i="function"==typeof e.clone?e.clone():CG(e),a=i.headers,s=i.query,u=void 0===s?{}:s;try{for(var c=Rt(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.slice(0,6)||(null===(o=t.unhoistableHeaders)||void 0===o?void 0:o.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return Ct(Ct({},e),{headers:a,query:u})}(OG(e),{unhoistableHeaders:s}),f.sessionToken&&(g.query[sG]=f.sessionToken),g.query["X-Amz-Algorithm"]=mG,g.query["X-Amz-Credential"]="".concat(f.accessKeyId,"/").concat(m),g.query[iG]=v,g.query["X-Amz-Expires"]=i.toString(10),b=xG(g,a,u),g.query["X-Amz-SignedHeaders"]=NG(b),w=g.query,S=aG,E=this.getSignature,_=[v,m,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,T=[g,b],[4,AG(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,T.concat([I.sent()]))]))];case 6:return w[S]=I.sent(),[2,g]}}))}))},e.prototype.sign=function(e,t){return Ot(this,void 0,void 0,(function(){return kt(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,o=t.signingDate,i=void 0===o?new Date:o,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return Ot(this,void 0,void 0,(function(){var e,t,o,c,l,f,d,p,h,v,y;return kt(this,(function(m){switch(m.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=m.sent(),m.label=3;case 3:return e=t,o=RG(i),c=o.shortDate,l=o.longDate,f=EG(c,e,null!=u?u:this.service),[4,AG({headers:{},body:r},this.sha256)];case 4:return d=m.sent(),(p=new this.sha256).update(n),v=oG,[4,p.digest()];case 5:return h=v.apply(void 0,[m.sent()]),y=[gG,l,f,a,h,d].join("\n"),[2,this.signString(y,{signingDate:i,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signingRegion,a=n.signingService;return Ot(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return kt(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),this.validateResolvedCredentials(t),null==i?[3,2]:(r=i,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=RG(o).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=oG,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return Ot(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,p,h,v,y;return kt(this,(function(m){switch(m.label){case 0:return[4,this.credentialProvider()];case 1:return t=m.sent(),this.validateResolvedCredentials(t),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=m.sent(),m.label=4;case 4:return n=r,c=OG(e),l=RG(o),f=l.longDate,d=l.shortDate,p=EG(d,n,null!=u?u:this.service),c.headers[cG]=f,t.sessionToken&&(c.headers[pG]=t.sessionToken),[4,AG(c,this.sha256)];case 5:return h=m.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var o=Rt(Object.keys(t)),i=o.next();!i.done;i=o.next())if(e===i.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}(dG,c.headers)&&this.applyChecksum&&(c.headers[dG]=h),v=xG(c,a,i),[4,this.getSignature(f,p,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,h))];case 6:return y=m.sent(),c.headers[uG]="".concat(mG," ")+"Credential=".concat(t.accessKeyId,"/").concat(p,", ")+"SignedHeaders=".concat(NG(v),", ")+"Signature=".concat(y),[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return"".concat(e.method,"\n").concat(this.getCanonicalPath(e),"\n").concat(function(e){var t,n,r=e.query,o=void 0===r?{}:r,i=[],a={},s=function(e){if(e.toLowerCase()===fG)return"continue";i.push(e);var t=o[e];"string"==typeof t?a[e]="".concat(TG(e),"=").concat(TG(t)):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat(["".concat(TG(e),"=").concat(TG(n))])}),[]).join("&"))};try{for(var u=Rt(Object.keys(o).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return i.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e),"\n").concat(r.map((function(e){return"".concat(e,":").concat(t[e])})).join("\n"),"\n\n").concat(r.join(";"),"\n").concat(n)},e.prototype.createStringToSign=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,o;return kt(this,(function(i){switch(i.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return o=i.sent(),[2,"".concat(mG,"\n").concat(e,"\n").concat(t,"\n").concat(oG(o))]}}))}))},e.prototype.getCanonicalPath=function(e){var t,n,r=e.path;if(this.uriEscapePath){var o=[];try{for(var i=Rt(r.split("/")),a=i.next();!a.done;a=i.next()){var s=a.value;0!==(null==s?void 0:s.length)&&"."!==s&&(".."===s?o.pop():o.push(s))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}var u="".concat((null==r?void 0:r.startsWith("/"))?"/":"").concat(o.join("/")).concat(o.length>0&&(null==r?void 0:r.endsWith("/"))?"/":"");return encodeURIComponent(u).replace(/%2F/g,"/")}return r},e.prototype.getSignature=function(e,t,n,r){return Ot(this,void 0,void 0,(function(){var o,i,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return o=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(i=new(s.apply(a,[void 0,c.sent()]))).update(o),u=oG,[4,i.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,o){return Ot(void 0,void 0,void 0,(function(){var i,a,s,u,c,l,f,d,p;return kt(this,(function(h){switch(h.label){case 0:return[4,_G(e,t.secretAccessKey,t.accessKeyId)];case 1:if(i=h.sent(),(a="".concat(n,":").concat(r,":").concat(o,":").concat(oG(i),":").concat(t.sessionToken))in wG)return[2,wG[a]];for(SG.push(a);SG.length>50;)delete wG[SG.shift()];s="AWS4".concat(t.secretAccessKey),h.label=2;case 2:h.trys.push([2,7,8,9]),u=Rt([n,r,o,bG]),c=u.next(),h.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,_G(e,s,l)]);case 4:s=h.sent(),h.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=h.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(p=u.return)&&p.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,wG[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e.prototype.validateResolvedCredentials=function(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")},e}(),RG=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}},NG=function(e){return Object.keys(e).sort().join(";")},LG=function(e){return new Date(Date.now()+e)},DG=function(e,t){var n=Date.parse(e);return function(e,t){return Math.abs(LG(t).getTime()-e)>=3e5}(n,t)?n-Date.now():t},MG=function(e){var t,n,r;return PK.isInstance(e)?null!==(n=null===(t=e.headers)||void 0===t?void 0:t.date)&&void 0!==n?n:null===(r=e.headers)||void 0===r?void 0:r.Date:void 0},jG={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},UG="user-agent",FG="x-amz-user-agent",zG=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,BG=function(e){var t=Nt(e,2),n=t[0],r=t[1],o=n.indexOf("/"),i=n.substring(0,o),a=n.substring(o+1);return"api"===i&&(a=a.toLowerCase()),[i,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(zG,"_")})).join("/")},qG={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},KG=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,Ct({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,Ct({},e))})),n},o=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Dt([],Nt(o(e)),!1))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Dt([],Nt(o(e)),!1))})),t},i=function(n){void 0===n&&(n=!1);var r=[],i=[],a={};e.forEach((function(e){var t=Ct(Ct({},e),{before:[],after:[]});t.name&&(a[t.name]=t),r.push(t)})),t.forEach((function(e){var t=Ct(Ct({},e),{before:[],after:[]});t.name&&(a[t.name]=t),i.push(t)})),i.forEach((function(e){if(e.toMiddleware){var t=a[e.toMiddleware];if(void 0===t){if(n)return;throw new Error("".concat(e.toMiddleware," is not found when adding ").concat(e.name||"anonymous"," middleware ").concat(e.relation," ").concat(e.toMiddleware))}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var s,u=(s=r,s.sort((function(e,t){return GG[t.step]-GG[e.step]||HG[t.priority||"normal"]-HG[e.priority||"normal"]}))).map(o).reduce((function(e,t){return e.push.apply(e,Dt([],Nt(t),!1)),e}),[]);return u},a={add:function(t,r){void 0===r&&(r={});var o=r.name,i=r.override,a=Ct({step:"initialize",priority:"normal",middleware:t},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '".concat(o,"'"));var s=e.findIndex((function(e){return e.name===o})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'.concat(o,'" middleware with ').concat(u.priority," priority in ").concat(u.step," step cannot be ")+"overridden by same-name middleware with ".concat(a.priority," priority in ").concat(a.step," step."));e.splice(s,1)}n.add(o)}e.push(a)},addRelativeTo:function(e,r){var o=r.name,i=r.override,a=Ct({middleware:e},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '".concat(o,"'"));var s=t.findIndex((function(e){return e.name===o})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'.concat(o,'" middleware ').concat(u.relation,' "').concat(u.toMiddleware,'" middleware cannot be overridden ')+"by same-name middleware ".concat(a.relation,' "').concat(a.toMiddleware,'" middleware.'));t.splice(s,1)}n.add(o)}t.push(a)},clone:function(){return r(KG())},use:function(e){e.applyToStack(a)},remove:function(r){return"string"==typeof r?function(r){var o=!1,i=function(e){return!e.name||e.name!==r||(o=!0,n.delete(r),!1)};return e=e.filter(i),t=t.filter(i),o}(r):function(r){var o=!1,i=function(e){return e.middleware!==r||(o=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(i),t=t.filter(i),o}(r)},removeByTag:function(r){var o=!1,i=function(e){var t=e.tags,i=e.name;return!t||!t.includes(r)||(i&&n.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:function(e){var t=r(KG());return t.use(e),t},applyToStack:r,identify:function(){return i(!0).map((function(e){return e.name+": "+(e.tags||[]).join(",")}))},resolve:function(e,t){var n,r;try{for(var o=Rt(i().map((function(e){return e.middleware})).reverse()),a=o.next();!a.done;a=o.next())e=(0,a.value)(e,t)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return e}};return a},GG={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},HG={high:3,normal:2,low:1},VG=function(){function e(e){this.middlewareStack=KG(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return i(e).then((function(e){return e.output}));i(e).then((function(e){return o(null,e.output)}),(function(e){return o(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),$G=function(){this.middlewareStack=KG()},WG="***SensitiveInformation***",YG=(Math.ceil(Math.pow(2,127)*(2-Math.pow(2,-23))),function(e){if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError("Expected integer, got ".concat(typeof e,": ").concat(e))}}),ZG=function(e){return JG(e,32)},JG=function(e,t){var n=YG(e);if(void 0!==n&&XG(n,t)!==n)throw new TypeError("Expected ".concat(t,"-bit integer, got ").concat(e));return n},XG=function(e,t){switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},QG=function(e,t){if(null==e){if(t)throw new TypeError("Expected a non-null value for ".concat(t));throw new TypeError("Expected a non-null value")}return e},eH=function(e){if(null!=e){if("object"==typeof e&&!Array.isArray(e))return e;var t=Array.isArray(e)?"array":typeof e;throw new TypeError("Expected object, got ".concat(t,": ").concat(e))}},tH=function(e){if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return iH.warn(oH("Expected string, got ".concat(typeof e,": ").concat(e))),String(e);throw new TypeError("Expected string, got ".concat(typeof e,": ").concat(e))}},nH=function(e){return"string"==typeof e?rH(e):function(e){if(null!=e){if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&iH.warn(oH("Expected number but observed string: ".concat(e))),t}if("number"==typeof e)return e;throw new TypeError("Expected number, got ".concat(typeof e,": ").concat(e))}}(e)},rH=function(e){switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unable to parse float value: ".concat(e))}},oH=function(e){return String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((function(e){return!e.includes("stackTraceWarning")})).join("\n")},iH={warn:console.warn},aH=function(e){function t(n){var r=e.call(this,n.message)||this;return Object.setPrototypeOf(r,t.prototype),r.name=n.name,r.$fault=n.$fault,r.$metadata=n.$metadata,r}return xe(t,e),t}(Error),sH=function(e,t){void 0===t&&(t={}),Object.entries(t).filter((function(e){return void 0!==Nt(e,2)[1]})).forEach((function(t){var n=Nt(t,2),r=n[0],o=n[1];null!=e[r]&&""!==e[r]||(e[r]=o)}));var n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},uH=function(e){var t=e.output,n=e.parsedBody,r=e.exceptionCtor,o=e.errorCode,i=cH(t),a=i.httpStatusCode?i.httpStatusCode+"":void 0,s=new r({name:n.code||n.Code||o||a||"UnknowError",$fault:"client",$metadata:i});throw sH(s,n)},cH=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},lH=function(e){switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},fH=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Dt([null],Nt(arguments),!1)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};fH.prototype=Object.create(String.prototype,{constructor:{value:fH,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(fH,String);var dH=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xe(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))},t}(fH);function pH(e,t,n){var r,o,i,a;if(void 0===t&&void 0===n)i={},a=e;else{if(i=e,"function"==typeof t)return hH(i,t,a=n);a=t}try{for(var s=Rt(Object.keys(a)),u=s.next();!u.done;u=s.next()){var c=u.value;if(Array.isArray(a[c])){var l=Nt(a[c],2),f=l[0],d=l[1];if("function"==typeof d){var p=void 0,h=void 0===f&&null!=(p=d()),v="function"==typeof f&&!!f(void 0)||"function"!=typeof f&&!!f;h?i[c]=p:v&&(i[c]=d())}else h=void 0===f&&null!=d,v="function"==typeof f&&!!f(d)||"function"!=typeof f&&!!f,(h||v)&&(i[c]=d)}else i[c]=a[c]}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return i}var hH=function(e,t,n){return pH(e,Object.entries(n).reduce((function(e,n){var r=Nt(n,2),o=r[0],i=r[1];return Array.isArray(i)?e[o]=i:e[o]="function"==typeof i?[t,i()]:[t,i],e}),{}))};function vH(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}var yH=function(e,t,n,r,o,i){if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");var a=r();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");return e.replace(o,i?a.split("/").map((function(e){return vH(e)})).join("/"):vH(a))};for(var mH=n(7643),gH=function(){function e(e){"function"==typeof e?this.configProvider=e().then((function(e){return e||{}})):(this.config=null!=e?e:{},this.configProvider=Promise.resolve(this.config))}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal;return Ot(this,void 0,void 0,(function(){var t,r,o,i,a,s,u,c,l,f,d,p;return kt(this,(function(h){switch(h.label){case 0:return this.config?[3,2]:(t=this,[4,this.configProvider]);case 1:t.config=h.sent(),h.label=2;case 2:return r=this.config.requestTimeout,(null==n?void 0:n.aborted)?((o=new Error("Request aborted")).name="AbortError",[2,Promise.reject(o)]):(i=e.path,e.query&&(a=function(e){var t,n,r=[];try{for(var o=Rt(Object.keys(e).sort()),i=o.next();!i.done;i=o.next()){var a=i.value,s=e[a];if(a=TG(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push("".concat(a,"=").concat(TG(s[u])));else{var l=a;(s||"string"==typeof s)&&(l+="=".concat(TG(s))),r.push(l)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.join("&")}(e.query),a&&(i+="?".concat(a))),s=e.port,u=e.method,c="".concat(e.protocol,"//").concat(e.hostname).concat(s?":".concat(s):"").concat(i),l="GET"===u||"HEAD"===u?void 0:e.body,f={body:l,headers:new Headers(e.headers),method:u},"undefined"!=typeof AbortController&&(f.signal=n),d=new Request(c,f),p=[fetch(d).then((function(e){var t,n,r=e.headers,o={};try{for(var i=Rt(r.entries()),a=i.next();!a.done;a=i.next()){var s=a.value;o[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new PK({headers:o,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new PK({headers:o,statusCode:e.status,body:t})}}))})),(v=r,void 0===v&&(v=0),new Promise((function(e,t){v&&setTimeout((function(){var e=new Error("Request did not complete within ".concat(v," ms"));e.name="TimeoutError",t(e)}),v)})))],n&&p.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),[2,Promise.race(p)])}var v}))}))},e}(),bH={},wH=new Array(64),SH=0,EH="A".charCodeAt(0),_H="Z".charCodeAt(0);SH+EH<=_H;SH++){var xH=String.fromCharCode(SH+EH);bH[xH]=SH,wH[SH]=xH}for(SH=0,EH="a".charCodeAt(0),_H="z".charCodeAt(0);SH+EH<=_H;SH++){xH=String.fromCharCode(SH+EH);var TH=SH+26;bH[xH]=TH,wH[TH]=xH}for(SH=0;SH<10;SH++)bH[SH.toString(10)]=SH+52,xH=SH.toString(10),TH=SH+52,bH[xH]=TH,wH[TH]=xH;function IH(e){var t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),o=0;o<e.length;o+=4){for(var i=0,a=0,s=o,u=o+3;s<=u;s++)if("="!==e[s]){if(!(e[s]in bH))throw new TypeError("Invalid character ".concat(e[s]," in base64 string."));i|=bH[e[s]]<<6*(u-s),a+=6}else i>>=6;var c=o/4*3;i>>=a%8;for(var l=Math.floor(a/8),f=0;f<l;f++){var d=8*(l-f-1);r.setUint8(c+f,(i&255<<d)>>d)}}return new Uint8Array(n)}function AH(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,o=0,i=n,a=Math.min(n+3,e.length);i<a;i++)r|=e[i]<<8*(a-i-1),o+=8;var s=Math.ceil(o/6);r<<=6*s-o;for(var u=1;u<=s;u++){var c=6*(s-u);t+=wH[(r&63<<c)>>c]}t+="==".slice(0,4-s)}return t}bH["+"]=62,wH[62]="+",bH["/"]=63,wH[63]="/";var CH=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return Ot(this,void 0,void 0,(function(){var t,n;return kt(this,(function(r){switch(r.label){case 0:return[4,PH(e)];case 1:return t=r.sent(),n=IH(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return Ot(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return kt(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return o=u.sent(),i=o.done,(a=o.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=i,[3,1];case 3:return[2,t]}}))}))}(e)};function PH(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var o=null!==(e=r.result)&&void 0!==e?e:"",i=o.indexOf(","),a=i>-1?i+1:o.length;t(o.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var OH=function(e){return function(){return Promise.reject(e)}},kH=function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error("Body Length computation failed for ".concat(e))},RH=function(e){var t=e.serviceId,n=e.clientVersion;return function(){return Ot(void 0,void 0,void 0,(function(){var e,r,o,i,a,s,u,c,l;return kt(this,(function(f){return e="undefined"!=typeof window&&(null===(o=null===window||void 0===window?void 0:window.navigator)||void 0===o?void 0:o.userAgent)?gr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/".concat((null===(i=null==e?void 0:e.os)||void 0===i?void 0:i.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser","".concat(null!==(u=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown","_").concat(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/".concat(t),n]),[2,r]}))}))}},NH=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},LH=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)},DH=function(e){if("string"==typeof e)return DH(new URL(e));var t,n=e,r=n.hostname,o=n.pathname,i=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var o=Rt(e.split("&")),i=o.next();!i.done;i=o.next()){var a=Nt(i.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:i?parseInt(i):void 0,protocol:a,path:o,query:t}},MH={"us-east-1":{variants:[{hostname:"runtime-fips.lex.us-east-1.amazonaws.com",tags:["fips"]}]},"us-gov-west-1":{variants:[{hostname:"runtime-fips.lex.us-gov-west-1.amazonaws.com",tags:["fips"]}]},"us-west-2":{variants:[{hostname:"runtime-fips.lex.us-west-2.amazonaws.com",tags:["fips"]}]}},jH={aws:{regions:["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ap-southeast-3","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-central-1","me-south-1","sa-east-1","us-east-1","us-east-1-fips","us-east-2","us-west-1","us-west-2","us-west-2-fips"],regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",variants:[{hostname:"runtime.lex.{region}.amazonaws.com",tags:[]},{hostname:"runtime-fips.lex.{region}.amazonaws.com",tags:["fips"]},{hostname:"runtime.lex-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"runtime.lex.{region}.api.aws",tags:["dualstack"]}]},"aws-cn":{regions:["cn-north-1","cn-northwest-1"],regionRegex:"^cn\\-\\w+\\-\\d+$",variants:[{hostname:"runtime.lex.{region}.amazonaws.com.cn",tags:[]},{hostname:"runtime.lex-fips.{region}.amazonaws.com.cn",tags:["fips"]},{hostname:"runtime.lex-fips.{region}.api.amazonwebservices.com.cn",tags:["dualstack","fips"]},{hostname:"runtime.lex.{region}.api.amazonwebservices.com.cn",tags:["dualstack"]}]},"aws-iso":{regions:["us-iso-east-1","us-iso-west-1"],regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",variants:[{hostname:"runtime.lex.{region}.c2s.ic.gov",tags:[]},{hostname:"runtime.lex-fips.{region}.c2s.ic.gov",tags:["fips"]}]},"aws-iso-b":{regions:["us-isob-east-1"],regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",variants:[{hostname:"runtime.lex.{region}.sc2s.sgov.gov",tags:[]},{hostname:"runtime.lex-fips.{region}.sc2s.sgov.gov",tags:["fips"]}]},"aws-us-gov":{regions:["us-gov-east-1","us-gov-west-1","us-gov-west-1-fips"],regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",variants:[{hostname:"runtime.lex.{region}.amazonaws.com",tags:[]},{hostname:"runtime-fips.lex.{region}.amazonaws.com",tags:["fips"]},{hostname:"runtime.lex-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"runtime.lex.{region}.api.aws",tags:["dualstack"]}]}},UH=function(e,t){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(n){return[2,AK(e,Ct(Ct({},t),{signingService:"lex",regionHash:MH,partitionHash:jH}))]}))}))},FH=["in-region","cross-region","mobile","standard","legacy"],zH=function(){var e,t,n="undefined"!=typeof window&&(null===(e=null===window||void 0===window?void 0:window.navigator)||void 0===e?void 0:e.userAgent)?gr().parse(window.navigator.userAgent):void 0,r=null===(t=null==n?void 0:n.platform)||void 0===t?void 0:t.type;return"tablet"===r||"mobile"===r},BH=function(e){function t(t){var n,r,o,i=this,a=function(e){var t=e.region,n=e.useFipsEndpoint;if(!t)throw new Error("Region is missing");return Ct(Ct({},e),{region:function(){return Ot(void 0,void 0,void 0,(function(){var e;return kt(this,(function(n){switch(n.label){case 0:return"string"==typeof t?[2,TK(t)]:[4,t()];case 1:return e=n.sent(),[2,TK(e)]}}))}))},useFipsEndpoint:function(){return Ot(void 0,void 0,void 0,(function(){var e;return kt(this,(function(r){switch(r.label){case 0:return"string"!=typeof t?[3,1]:(e=t,[3,3]);case 1:return[4,t()];case 2:e=r.sent(),r.label=3;case 3:return xK(e)?[2,!0]:[2,"boolean"==typeof n?Promise.resolve(n):n()]}}))}))}})}(function(e){var t,n,r,o,i,a,s,u,c,l,f,d,p,h,v,y=function(e){var t=(void 0===e?{}:e).defaultsMode;return QK((function(){return Ot(void 0,void 0,void 0,(function(){var e,n;return kt(this,(function(r){switch(r.label){case 0:return"function"!=typeof t?[3,2]:[4,t()];case 1:return n=r.sent(),[3,3];case 2:n=t,r.label=3;case 3:switch(null==(e=n)?void 0:e.toLowerCase()){case"auto":return[2,Promise.resolve(zH()?"mobile":"standard")];case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return[2,Promise.resolve(null==e?void 0:e.toLocaleLowerCase())];case void 0:return[2,Promise.resolve("legacy")];default:throw new Error('Invalid parameter for "defaultsMode", expect '.concat(FH.join(", "),", got ").concat(e))}return[2]}}))}))}))}(e),m=function(){return y().then(lH)},g=function(e){var t,n,r,o,i;return{apiVersion:"2016-11-28",disableHostPrefix:null!==(t=null==e?void 0:e.disableHostPrefix)&&void 0!==t&&t,logger:null!==(n=null==e?void 0:e.logger)&&void 0!==n?n:{},regionInfoProvider:null!==(r=null==e?void 0:e.regionInfoProvider)&&void 0!==r?r:UH,serviceId:null!==(o=null==e?void 0:e.serviceId)&&void 0!==o?o:"Lex Runtime Service",urlParser:null!==(i=null==e?void 0:e.urlParser)&&void 0!==i?i:DH}}(e);return Ct(Ct(Ct({},g),e),{runtime:"browser",defaultsMode:y,base64Decoder:null!==(t=null==e?void 0:e.base64Decoder)&&void 0!==t?t:IH,base64Encoder:null!==(n=null==e?void 0:e.base64Encoder)&&void 0!==n?n:AH,bodyLengthChecker:null!==(r=null==e?void 0:e.bodyLengthChecker)&&void 0!==r?r:kH,credentialDefaultProvider:null!==(o=null==e?void 0:e.credentialDefaultProvider)&&void 0!==o?o:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(i=null==e?void 0:e.defaultUserAgentProvider)&&void 0!==i?i:RH({serviceId:g.serviceId,clientVersion:"3.186.0"}),maxAttempts:null!==(a=null==e?void 0:e.maxAttempts)&&void 0!==a?a:3,region:null!==(s=null==e?void 0:e.region)&&void 0!==s?s:OH("Region is missing"),requestHandler:null!==(u=null==e?void 0:e.requestHandler)&&void 0!==u?u:new gH(m),retryMode:null!==(c=null==e?void 0:e.retryMode)&&void 0!==c?c:function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return[4,m()];case 1:return[2,e.sent().retryMode||MK]}}))}))},sha256:null!==(l=null==e?void 0:e.sha256)&&void 0!==l?l:mH.Sha256,streamCollector:null!==(f=null==e?void 0:e.streamCollector)&&void 0!==f?f:CH,useDualstackEndpoint:null!==(d=null==e?void 0:e.useDualstackEndpoint)&&void 0!==d?d:function(){return Promise.resolve(!1)},useFipsEndpoint:null!==(p=null==e?void 0:e.useFipsEndpoint)&&void 0!==p?p:function(){return Promise.resolve(!1)},utf8Decoder:null!==(h=null==e?void 0:e.utf8Decoder)&&void 0!==h?h:NH,utf8Encoder:null!==(v=null==e?void 0:e.utf8Encoder)&&void 0!==v?v:LH})}(t)),s=function(e){var t,n=_K(null!==(t=e.maxAttempts)&&void 0!==t?t:3);return Ct(Ct({},e),{maxAttempts:n,retryStrategy:function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return e.retryStrategy?[2,e.retryStrategy]:[4,_K(e.retryMode)()];case 1:return t.sent()===EK.ADAPTIVE?[2,new ZK(n)]:[2,new $K(n)]}}))}))}})}(function(e){var t,n=_K(e.useDualstackEndpoint),r=e.endpoint,o=e.useFipsEndpoint,i=e.urlParser;return Ct(Ct({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:r?_K("string"==typeof r?i(r):r):function(){return function(e){return Ot(void 0,void 0,void 0,(function(){var t,n,r,o,i,a,s;return kt(this,(function(u){switch(u.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=u.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.useDualstackEndpoint()];case 2:return o=u.sent(),[4,e.useFipsEndpoint()];case 3:return i=u.sent(),[4,e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:i})];case 4:if(!(a=(null!==(s=u.sent())&&void 0!==s?s:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser("".concat(n?"https:":"http:","//").concat(a))]}}))}))}(Ct(Ct({},e),{useDualstackEndpoint:n,useFipsEndpoint:o}))},isCustomEndpoint:!!r,useDualstackEndpoint:n})}(a)),u=function(e){var t,n,r=e.credentials?"function"==typeof(n=e.credentials)?QK(n,(function(e){return void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5}),(function(e){return void 0!==e.expiration})):_K(n):e.credentialDefaultProvider(e),o=e.signingEscapePath,i=void 0===o||o,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?_K(e.signer):e.regionInfoProvider?function(){return _K(e.region)().then((function(t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i;return kt(this,(function(a){switch(a.label){case 0:return r=(n=e).regionInfoProvider,o=[t],i={},[4,e.useFipsEndpoint()];case 1:return i.useFipsEndpoint=a.sent(),[4,e.useDualstackEndpoint()];case 2:return[4,r.apply(n,o.concat([(i.useDualstackEndpoint=a.sent(),i)]))];case 3:return[2,[a.sent()||{},t]]}}))}))})).then((function(t){var n=Nt(t,2),o=n[0],a=n[1],s=o.signingRegion,c=o.signingService;e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId;var l=Ct(Ct({},e),{credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:i});return new(e.signerConstructor||kG)(l)}))}:function(t){return Ot(void 0,void 0,void 0,(function(){var n,o,a;return kt(this,(function(s){if(!t)throw new Error("Unexpected empty auth scheme config");return n=t.signingScope,o=t.signingName,e.signingRegion=e.signingRegion||n,e.signingName=e.signingName||o||e.serviceId,a=Ct(Ct({},e),{credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:i}),[2,new(e.signerConstructor||kG)(a)]}))}))},Ct(Ct({},e),{systemClockOffset:s,signingEscapePath:i,credentials:r,signer:t})}(s),c=Ct(Ct({},n=u),{customUserAgent:"string"==typeof n.customUserAgent?[[n.customUserAgent]]:n.customUserAgent});return(i=e.call(this,c)||this).config=c,i.middlewareStack.use((o=i.config,{applyToStack:function(e){e.add(function(e){return function(t,n){return function(r){return Ot(void 0,void 0,void 0,(function(){var o;return kt(this,(function(i){switch(i.label){case 0:return[4,e.retryStrategy()];case 1:return(null==(o=i.sent())?void 0:o.mode)&&(n.userAgent=Dt(Dt([],Nt(n.userAgent||[]),!1),[["cfg/retry-mode",o.mode]],!1)),[2,o.retry(t,r)]}}))}))}}}(o),JK)}})),i.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return Ot(t,void 0,void 0,(function(){var t,o,i,a,s;return kt(this,(function(u){if(t=r.request,CK.isInstance(t)&&(o=t.body,i=t.headers,o&&-1===Object.keys(i).map((function(e){return e.toLowerCase()})).indexOf(OK)))try{a=e(o),t.headers=Ct(Ct({},t.headers),((s={})[OK]=String(a),s))}catch(e){}return[2,n(Ct(Ct({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),kK)}}}(i.config)),i.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Ot(void 0,void 0,void 0,(function(){var r,o;return kt(this,(function(i){return CK.isInstance(n.request)?(r=n.request,(void 0===(o=(e.requestHandler.metadata||{}).handlerProtocol)?"":o).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),RK)}}}(i.config)),i.middlewareStack.use((i.config,{applyToStack:function(e){e.add((function(e,t){return function(n){return Ot(void 0,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f;return kt(this,(function(d){switch(d.label){case 0:return r=t.clientName,o=t.commandName,i=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,f=Pt(c,["$metadata"]),a.info({clientName:r,commandName:o,input:i(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}),NK)}})),i.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Ot(void 0,void 0,void 0,(function(){var r,o,i,a;return kt(this,(function(s){return r=n.request,!CK.isInstance(r)||"node"!==e.runtime||r.headers.hasOwnProperty(LK)?[2,t(n)]:(o=process.env.AWS_LAMBDA_FUNCTION_NAME,i=process.env._X_AMZN_TRACE_ID,(a=function(e){return"string"==typeof e&&e.length>0})(o)&&a(i)&&(r.headers[LK]=i),[2,t(Ct(Ct({},n),{request:r}))])}))}))}}}(e),DK)}}}(i.config)),i.middlewareStack.use(function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t,n){return function(r){var o,i,a;return Ot(this,void 0,void 0,(function(){var s,u,c,l,f,d,p;return kt(this,(function(h){switch(h.label){case 0:return CK.isInstance(r.request)?(s=null===(a=null===(i=null===(o=n.endpointV2)||void 0===o?void 0:o.properties)||void 0===i?void 0:i.authSchemes)||void 0===a?void 0:a[0],[4,e.signer(s)]):[2,t(r)];case 1:return u=h.sent(),l=t,f=[Ct({},r)],p={},[4,u.sign(r.request,{signingDate:LG(e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 2:return[4,l.apply(void 0,[Ct.apply(void 0,f.concat([(p.request=h.sent(),p)]))]).catch((function(t){var n,r=null!==(n=t.ServerTime)&&void 0!==n?n:MG(t.$response);throw r&&(e.systemClockOffset=DG(r,e.systemClockOffset)),t}))];case 3:return c=h.sent(),(d=MG(c.response))&&(e.systemClockOffset=DG(d,e.systemClockOffset)),[2,c]}}))}))}}}(e),jG)}}}(i.config)),i.middlewareStack.use((r=i.config,{applyToStack:function(e){var t;e.add((t=r,function(e,n){return function(r){return Ot(void 0,void 0,void 0,(function(){var o,i,a,s,u,c,l,f,d;return kt(this,(function(p){switch(p.label){case 0:return o=r.request,CK.isInstance(o)?(i=o.headers,a=(null===(f=null==n?void 0:n.userAgent)||void 0===f?void 0:f.map(BG))||[],[4,t.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=p.sent().map(BG),u=(null===(d=null==t?void 0:t.customUserAgent)||void 0===d?void 0:d.map(BG))||[],c=Dt(Dt(Dt([],Nt(s),!1),Nt(a),!1),Nt(u),!1).join(" "),l=Dt(Dt([],Nt(s.filter((function(e){return e.startsWith("aws-sdk-")}))),!1),Nt(u),!1).join(" "),"browser"!==t.runtime?(l&&(i[FG]=i[FG]?"".concat(i[UG]," ").concat(l):l),i[UG]=c):i[FG]=c,[2,e(Ct(Ct({},r),{request:o}))]}}))}))}}),qG)}})),i}return xe(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(VG),qH={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},KH={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function GH(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return Ot(void 0,void 0,void 0,(function(){var o,i,a;return kt(this,(function(s){switch(s.label){case 0:return[4,n(r)];case 1:o=s.sent().response,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,t(o,e)];case 3:return i=s.sent(),[2,{response:o,output:i}];case 4:throw a=s.sent(),Object.defineProperty(a,"$response",{value:o}),a;case 5:return[2]}}))}))}}}(e,n),qH),r.add(function(e,t){return function(n,r){return function(o){return Ot(void 0,void 0,void 0,(function(){var i,a,s;return kt(this,(function(u){switch(u.label){case 0:if(!(i=(null===(s=r.endpointV2)||void 0===s?void 0:s.url)&&e.urlParser?function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){return[2,e.urlParser(r.endpointV2.url)]}))}))}:e.endpoint))throw new Error("No valid endpoint provider available.");return[4,t(o.input,Ct(Ct({},e),{endpoint:i}))];case 1:return a=u.sent(),[2,n(Ct(Ct({},o),{request:a}))]}}))}))}}}(e,t),KH)}}}var HH,VH,$H,WH,YH=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return xe(t,e),t}(aH),ZH=function(e){function t(n){var r=e.call(this,Ct({name:"BadRequestException",$fault:"client"},n))||this;return r.name="BadRequestException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return xe(t,e),t}(YH),JH=function(e){function t(n){var r=e.call(this,Ct({name:"ConflictException",$fault:"client"},n))||this;return r.name="ConflictException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return xe(t,e),t}(YH),XH=function(e){function t(n){var r=e.call(this,Ct({name:"InternalFailureException",$fault:"server"},n))||this;return r.name="InternalFailureException",r.$fault="server",Object.setPrototypeOf(r,t.prototype),r}return xe(t,e),t}(YH),QH=function(e){function t(n){var r=e.call(this,Ct({name:"LimitExceededException",$fault:"client"},n))||this;return r.name="LimitExceededException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.retryAfterSeconds=n.retryAfterSeconds,r}return xe(t,e),t}(YH),eV=function(e){function t(n){var r=e.call(this,Ct({name:"NotFoundException",$fault:"client"},n))||this;return r.name="NotFoundException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return xe(t,e),t}(YH);!function(e){e.FAILED="Failed",e.FULFILLED="Fulfilled",e.READY_FOR_FULFILLMENT="ReadyForFulfillment"}(HH||(HH={})),function(e){e.COMPOSITE="Composite",e.CUSTOM_PAYLOAD="CustomPayload",e.PLAIN_TEXT="PlainText",e.SSML="SSML"}(VH||(VH={})),function(e){e.CLOSE="Close",e.CONFIRM_INTENT="ConfirmIntent",e.DELEGATE="Delegate",e.ELICIT_INTENT="ElicitIntent",e.ELICIT_SLOT="ElicitSlot"}($H||($H={})),function(e){e.CONFIRMED="Confirmed",e.DENIED="Denied",e.NONE="None"}(WH||(WH={}));var tV,nV=function(e){function t(n){var r=e.call(this,Ct({name:"BadGatewayException",$fault:"server"},n))||this;return r.name="BadGatewayException",r.$fault="server",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return xe(t,e),t}(YH),rV=function(e){function t(n){var r=e.call(this,Ct({name:"DependencyFailedException",$fault:"client"},n))||this;return r.name="DependencyFailedException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return xe(t,e),t}(YH),oV=function(e){function t(n){var r=e.call(this,Ct({name:"LoopDetectedException",$fault:"server"},n))||this;return r.name="LoopDetectedException",r.$fault="server",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return xe(t,e),t}(YH),iV=function(e){function t(n){var r=e.call(this,Ct({name:"NotAcceptableException",$fault:"client"},n))||this;return r.name="NotAcceptableException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return xe(t,e),t}(YH);!function(e){e.CONFIRM_INTENT="ConfirmIntent",e.ELICIT_INTENT="ElicitIntent",e.ELICIT_SLOT="ElicitSlot",e.FAILED="Failed",e.FULFILLED="Fulfilled",e.READY_FOR_FULFILLMENT="ReadyForFulfillment"}(tV||(tV={}));var aV,sV=function(e){function t(n){var r=e.call(this,Ct({name:"RequestTimeoutException",$fault:"client"},n))||this;return r.name="RequestTimeoutException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return xe(t,e),t}(YH),uV=function(e){function t(n){var r=e.call(this,Ct({name:"UnsupportedMediaTypeException",$fault:"client"},n))||this;return r.name="UnsupportedMediaTypeException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return xe(t,e),t}(YH);!function(e){e.GENERIC="application/vnd.amazonaws.card.generic"}(aV||(aV={}));var cV=function(e){return Ct(Ct(Ct(Ct({},e),e.sessionAttributes&&{sessionAttributes:WG}),e.requestAttributes&&{requestAttributes:WG}),e.activeContexts&&{activeContexts:WG})},lV=function(e){return Ct(Ct(Ct(Ct(Ct({},e),e.message&&{message:WG}),e.encodedMessage&&{encodedMessage:WG}),e.encodedInputTranscript&&{encodedInputTranscript:WG}),e.activeContexts&&{activeContexts:WG})},fV=function(e){return Ct(Ct(Ct(Ct(Ct({},e),e.sessionAttributes&&{sessionAttributes:WG}),e.requestAttributes&&{requestAttributes:WG}),e.inputText&&{inputText:WG}),e.activeContexts&&{activeContexts:WG})},dV=function(e){return Ct(Ct(Ct(Ct(Ct(Ct({},e),e.alternativeIntents&&{alternativeIntents:e.alternativeIntents.map((function(e){return function(e){return Ct(Ct({},e),e.slots&&{slots:WG})}(e)}))}),e.slots&&{slots:WG}),e.sessionAttributes&&{sessionAttributes:WG}),e.message&&{message:WG}),e.activeContexts&&{activeContexts:WG})},pV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a;return kt(this,(function(s){switch(s.label){case 0:return r=[Ct({},e)],a={},[4,BV(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=qV(e,n.body)){case"BadGatewayException":case"com.amazonaws.lexruntimeservice#BadGatewayException":return[3,2];case"BadRequestException":case"com.amazonaws.lexruntimeservice#BadRequestException":return[3,4];case"ConflictException":case"com.amazonaws.lexruntimeservice#ConflictException":return[3,6];case"DependencyFailedException":case"com.amazonaws.lexruntimeservice#DependencyFailedException":return[3,8];case"InternalFailureException":case"com.amazonaws.lexruntimeservice#InternalFailureException":return[3,10];case"LimitExceededException":case"com.amazonaws.lexruntimeservice#LimitExceededException":return[3,12];case"LoopDetectedException":case"com.amazonaws.lexruntimeservice#LoopDetectedException":return[3,14];case"NotAcceptableException":case"com.amazonaws.lexruntimeservice#NotAcceptableException":return[3,16];case"NotFoundException":case"com.amazonaws.lexruntimeservice#NotFoundException":return[3,18];case"RequestTimeoutException":case"com.amazonaws.lexruntimeservice#RequestTimeoutException":return[3,20];case"UnsupportedMediaTypeException":case"com.amazonaws.lexruntimeservice#UnsupportedMediaTypeException":return[3,22]}return[3,24];case 2:return[4,yV(n,t)];case 3:throw s.sent();case 4:return[4,mV(n,t)];case 5:throw s.sent();case 6:return[4,gV(n,t)];case 7:throw s.sent();case 8:return[4,bV(n,t)];case 9:throw s.sent();case 10:return[4,wV(n,t)];case 11:throw s.sent();case 12:return[4,SV(n,t)];case 13:throw s.sent();case 14:return[4,EV(n,t)];case 15:throw s.sent();case 16:return[4,_V(n,t)];case 17:throw s.sent();case 18:return[4,xV(n,t)];case 19:throw s.sent();case 20:return[4,TV(n,t)];case 21:throw s.sent();case 22:return[4,IV(n,t)];case 23:throw s.sent();case 24:i=n.body,uH({output:e,parsedBody:i,exceptionCtor:YH,errorCode:o}),s.label=25;case 25:return[2]}}))}))},hV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a;return kt(this,(function(s){switch(s.label){case 0:return r=[Ct({},e)],a={},[4,BV(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=qV(e,n.body)){case"BadGatewayException":case"com.amazonaws.lexruntimeservice#BadGatewayException":return[3,2];case"BadRequestException":case"com.amazonaws.lexruntimeservice#BadRequestException":return[3,4];case"ConflictException":case"com.amazonaws.lexruntimeservice#ConflictException":return[3,6];case"DependencyFailedException":case"com.amazonaws.lexruntimeservice#DependencyFailedException":return[3,8];case"InternalFailureException":case"com.amazonaws.lexruntimeservice#InternalFailureException":return[3,10];case"LimitExceededException":case"com.amazonaws.lexruntimeservice#LimitExceededException":return[3,12];case"LoopDetectedException":case"com.amazonaws.lexruntimeservice#LoopDetectedException":return[3,14];case"NotFoundException":case"com.amazonaws.lexruntimeservice#NotFoundException":return[3,16]}return[3,18];case 2:return[4,yV(n,t)];case 3:throw s.sent();case 4:return[4,mV(n,t)];case 5:throw s.sent();case 6:return[4,gV(n,t)];case 7:throw s.sent();case 8:return[4,bV(n,t)];case 9:throw s.sent();case 10:return[4,wV(n,t)];case 11:throw s.sent();case 12:return[4,SV(n,t)];case 13:throw s.sent();case 14:return[4,EV(n,t)];case 15:throw s.sent();case 16:return[4,xV(n,t)];case 17:throw s.sent();case 18:i=n.body,uH({output:e,parsedBody:i,exceptionCtor:YH,errorCode:o}),s.label=19;case 19:return[2]}}))}))},vV=pH,yV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=vV({}),null!=(n=e.body).Message&&(t.Message=tH(n.Message)),r=new nV(Ct({$metadata:UV(e)},t)),[2,sH(r,e.body)]}))}))},mV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=vV({}),null!=(n=e.body).message&&(t.message=tH(n.message)),r=new ZH(Ct({$metadata:UV(e)},t)),[2,sH(r,e.body)]}))}))},gV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=vV({}),null!=(n=e.body).message&&(t.message=tH(n.message)),r=new JH(Ct({$metadata:UV(e)},t)),[2,sH(r,e.body)]}))}))},bV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=vV({}),null!=(n=e.body).Message&&(t.Message=tH(n.Message)),r=new rV(Ct({$metadata:UV(e)},t)),[2,sH(r,e.body)]}))}))},wV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=vV({}),null!=(n=e.body).message&&(t.message=tH(n.message)),r=new XH(Ct({$metadata:UV(e)},t)),[2,sH(r,e.body)]}))}))},SV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=vV({retryAfterSeconds:[,e.headers["retry-after"]]}),null!=(n=e.body).message&&(t.message=tH(n.message)),r=new QH(Ct({$metadata:UV(e)},t)),[2,sH(r,e.body)]}))}))},EV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=vV({}),null!=(n=e.body).Message&&(t.Message=tH(n.Message)),r=new oV(Ct({$metadata:UV(e)},t)),[2,sH(r,e.body)]}))}))},_V=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=vV({}),null!=(n=e.body).message&&(t.message=tH(n.message)),r=new iV(Ct({$metadata:UV(e)},t)),[2,sH(r,e.body)]}))}))},xV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=vV({}),null!=(n=e.body).message&&(t.message=tH(n.message)),r=new eV(Ct({$metadata:UV(e)},t)),[2,sH(r,e.body)]}))}))},TV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=vV({}),null!=(n=e.body).message&&(t.message=tH(n.message)),r=new sV(Ct({$metadata:UV(e)},t)),[2,sH(r,e.body)]}))}))},IV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=vV({}),null!=(n=e.body).message&&(t.message=tH(n.message)),r=new uV(Ct({$metadata:UV(e)},t)),[2,sH(r,e.body)]}))}))},AV=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Nt(t,2),o=r[0],i=r[1];return null===i?e:Ct(Ct({},e),((n={})[o]=i,n))}),{})},CV=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return function(e,t){return Ct(Ct(Ct({},null!=e.name&&{name:e.name}),null!=e.parameters&&{parameters:AV(e.parameters)}),null!=e.timeToLive&&{timeToLive:PV(e.timeToLive,t)})}(e,t)}))},PV=function(e,t){return Ct(Ct({},null!=e.timeToLiveInSeconds&&{timeToLiveInSeconds:e.timeToLiveInSeconds}),null!=e.turnsToLive&&{turnsToLive:e.turnsToLive})},OV=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Nt(t,2),o=r[0],i=r[1];return null===i?e:Ct(Ct({},e),((n={})[o]=i,n))}),{})},kV=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Nt(t,2),o=r[0],i=r[1];return null===i?e:Ct(Ct({},e),((n={})[o]=tH(i),n))}),{})},RV=function(e,t){return{timeToLiveInSeconds:ZG(e.timeToLiveInSeconds),turnsToLive:ZG(e.turnsToLive)}},NV=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{attachmentLinkUrl:tH(e.attachmentLinkUrl),buttons:null!=e.buttons?DV(e.buttons,t):void 0,imageUrl:tH(e.imageUrl),subTitle:tH(e.subTitle),title:tH(e.title)}}(e,t)}));return n},LV=function(e,t){return{score:nH(e.score)}},DV=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{text:tH(e.text),value:tH(e.value)}}(e)}))},MV=function(e,t){return{intentName:tH(e.intentName),nluIntentConfidence:null!=e.nluIntentConfidence?LV(e.nluIntentConfidence):void 0,slots:null!=e.slots?jV(e.slots,t):void 0}},jV=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Nt(t,2),o=r[0],i=r[1];return null===i?e:Ct(Ct({},e),((n={})[o]=tH(i),n))}),{})},UV=function(e){var t,n;return{httpStatusCode:e.statusCode,requestId:null!==(n=null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"])&&void 0!==n?n:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},FV=function(e){return!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size)},zV=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},BV=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){switch(o.label){case 0:return[4,zV(e,t)];case 1:return(n=o.sent()).message=null!==(r=n.message)&&void 0!==r?r:n.Message,[2,n]}}))}))},qV=function(e,t){var n,r=function(e){var t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==o?r(e.headers[o]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):void 0},KV=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(GH(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"LexRuntimeServiceClient",commandName:"PostTextCommand",inputFilterSensitiveLog:fV,outputFilterSensitiveLog:dV},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return n=f.sent(),r=n.hostname,o=n.protocol,i=void 0===o?"https":o,a=n.port,s=n.path,u={"content-type":"application/json"},c="".concat((null==s?void 0:s.endsWith("/"))?s.slice(0,-1):s||"")+"/bot/{botName}/alias/{botAlias}/user/{userId}/text",c=yH(c,e,"botName",(function(){return e.botName}),"{botName}",!1),c=yH(c,e,"botAlias",(function(){return e.botAlias}),"{botAlias}",!1),c=yH(c,e,"userId",(function(){return e.userId}),"{userId}",!1),l=JSON.stringify(Ct(Ct(Ct(Ct({},null!=e.activeContexts&&{activeContexts:CV(e.activeContexts,t)}),null!=e.inputText&&{inputText:e.inputText}),null!=e.requestAttributes&&{requestAttributes:OV(e.requestAttributes)}),null!=e.sessionAttributes&&{sessionAttributes:OV(e.sessionAttributes)})),[2,new CK({protocol:i,hostname:r,port:a,method:"POST",headers:u,path:c,body:l})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i;return kt(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,hV(e,t)]:(n=vV({$metadata:UV(e)}),o=QG,i=eH,[4,zV(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[i.apply(void 0,[a.sent()]),"body"])).activeContexts&&(n.activeContexts=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{name:tH(e.name),parameters:null!=e.parameters?kV(e.parameters):void 0,timeToLive:null!=e.timeToLive?RV(e.timeToLive,t):void 0}}(e,t)}));return n}(r.activeContexts,t)),null!=r.alternativeIntents&&(n.alternativeIntents=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:MV(e,t)}))}(r.alternativeIntents,t)),null!=r.botVersion&&(n.botVersion=tH(r.botVersion)),null!=r.dialogState&&(n.dialogState=tH(r.dialogState)),null!=r.intentName&&(n.intentName=tH(r.intentName)),null!=r.message&&(n.message=tH(r.message)),null!=r.messageFormat&&(n.messageFormat=tH(r.messageFormat)),null!=r.nluIntentConfidence&&(n.nluIntentConfidence=LV(r.nluIntentConfidence)),null!=r.responseCard&&(n.responseCard=function(e,t){return{contentType:tH(e.contentType),genericAttachments:null!=e.genericAttachments?NV(e.genericAttachments,t):void 0,version:tH(e.version)}}(r.responseCard,t)),null!=r.sentimentResponse&&(n.sentimentResponse=function(e,t){return{sentimentLabel:tH(e.sentimentLabel),sentimentScore:tH(e.sentimentScore)}}(r.sentimentResponse)),null!=r.sessionAttributes&&(n.sessionAttributes=jV(r.sessionAttributes,t)),null!=r.sessionId&&(n.sessionId=tH(r.sessionId)),null!=r.slotToElicit&&(n.slotToElicit=tH(r.slotToElicit)),null!=r.slots&&(n.slots=jV(r.slots,t)),[2,n]}}))}))}(e,t)},t}($G),GV=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(GH(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"LexRuntimeServiceClient",commandName:"PostContentCommand",inputFilterSensitiveLog:cV,outputFilterSensitiveLog:lV},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return n=f.sent(),r=n.hostname,o=n.protocol,i=void 0===o?"https":o,a=n.port,s=n.path,u=vV({},FV,{"x-amz-content-sha256":"UNSIGNED-PAYLOAD","content-type":e.contentType||"application/octet-stream","x-amz-lex-session-attributes":[function(){return FV(e.sessionAttributes)},function(){return t.base64Encoder(Buffer.from(dH.fromObject(e.sessionAttributes)))}],"x-amz-lex-request-attributes":[function(){return FV(e.requestAttributes)},function(){return t.base64Encoder(Buffer.from(dH.fromObject(e.requestAttributes)))}],accept:e.accept,"x-amz-lex-active-contexts":[function(){return FV(e.activeContexts)},function(){return t.base64Encoder(Buffer.from(dH.fromObject(e.activeContexts)))}]}),c="".concat((null==s?void 0:s.endsWith("/"))?s.slice(0,-1):s||"")+"/bot/{botName}/alias/{botAlias}/user/{userId}/content",c=yH(c,e,"botName",(function(){return e.botName}),"{botName}",!1),c=yH(c,e,"botAlias",(function(){return e.botAlias}),"{botAlias}",!1),c=yH(c,e,"userId",(function(){return e.userId}),"{userId}",!1),void 0!==e.inputStream&&(l=e.inputStream),[2,new CK({protocol:i,hostname:r,port:a,method:"POST",headers:u,path:c,body:l})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return 200!==e.statusCode&&e.statusCode>=300?[2,pV(e,t)]:(n=vV({$metadata:UV(e),contentType:[,e.headers["content-type"]],intentName:[,e.headers["x-amz-lex-intent-name"]],nluIntentConfidence:[function(){return void 0!==e.headers["x-amz-lex-nlu-intent-confidence"]},function(){return new dH(Buffer.from(t.base64Decoder(e.headers["x-amz-lex-nlu-intent-confidence"])).toString("utf8"))}],alternativeIntents:[function(){return void 0!==e.headers["x-amz-lex-alternative-intents"]},function(){return new dH(Buffer.from(t.base64Decoder(e.headers["x-amz-lex-alternative-intents"])).toString("utf8"))}],slots:[function(){return void 0!==e.headers["x-amz-lex-slots"]},function(){return new dH(Buffer.from(t.base64Decoder(e.headers["x-amz-lex-slots"])).toString("utf8"))}],sessionAttributes:[function(){return void 0!==e.headers["x-amz-lex-session-attributes"]},function(){return new dH(Buffer.from(t.base64Decoder(e.headers["x-amz-lex-session-attributes"])).toString("utf8"))}],sentimentResponse:[,e.headers["x-amz-lex-sentiment"]],message:[,e.headers["x-amz-lex-message"]],encodedMessage:[,e.headers["x-amz-lex-encoded-message"]],messageFormat:[,e.headers["x-amz-lex-message-format"]],dialogState:[,e.headers["x-amz-lex-dialog-state"]],slotToElicit:[,e.headers["x-amz-lex-slot-to-elicit"]],inputTranscript:[,e.headers["x-amz-lex-input-transcript"]],encodedInputTranscript:[,e.headers["x-amz-lex-encoded-input-transcript"]],botVersion:[,e.headers["x-amz-lex-bot-version"]],sessionId:[,e.headers["x-amz-lex-session-id"]],activeContexts:[function(){return void 0!==e.headers["x-amz-lex-active-contexts"]},function(){return new dH(Buffer.from(t.base64Decoder(e.headers["x-amz-lex-active-contexts"])).toString("utf8"))}]}),r=e.body,n.audioStream=r,[2,n])}))}))}(e,t)},t}($G),HV=function(e){return mK(void 0,void 0,void 0,(function(){return gK(this,(function(t){return e instanceof Blob||e instanceof ReadableStream?[2,new Response(e).arrayBuffer().then((function(e){return new Uint8Array(e)}))]:[2,Promise.reject("Invalid content type")]}))}))},VV=new c("AWSLexProvider"),$V=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n._botsCompleteCallback={},n}return function(e,t){function n(){this.constructor=e}vK(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.getProviderName=function(){return"AWSLexProvider"},t.prototype.configure=function(t){void 0===t&&(t={});var n=["name","alias","region"];return Object.keys(t).forEach((function(e){var r=t[e];if(!n.every((function(e){return e in r})))throw new Error("invalid bot configuration")})),e.prototype.configure.call(this,t)},t.prototype.reportBotStatus=function(e,t){var n=this;VV.debug("postContent state",e.dialogState),"ReadyForFulfillment"!==e.dialogState&&"Fulfilled"!==e.dialogState||("function"==typeof this._botsCompleteCallback[t]&&setTimeout((function(){return n._botsCompleteCallback[t](null,e)}),0),this._config&&"function"==typeof this._config[t].onComplete&&setTimeout((function(){return n._config[t].onComplete(null,e)}),0)),"Failed"===e.dialogState&&("function"==typeof this._botsCompleteCallback[t]&&setTimeout((function(){return n._botsCompleteCallback[t]("Bot conversation failed")}),0),this._config&&"function"==typeof this._config[t].onComplete&&setTimeout((function(){return n._config[t].onComplete("Bot conversation failed")}),0))},t.prototype.sendMessage=function(e,t){return mK(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h;return gK(this,(function(v){switch(v.label){case 0:if(!this._config[e])return[2,Promise.reject("Bot "+e+" does not exist")];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,fs.get()];case 2:return n=v.sent(),[3,4];case 3:return v.sent(),[2,Promise.reject("No credentials")];case 4:if(this.lexRuntimeServiceClient=new BH({region:this._config[e].region,credentials:n,customUserAgent:te()}),"string"!=typeof t)return[3,9];r={botAlias:this._config[e].alias,botName:e,inputText:t,userId:n.identityId},VV.debug("postText to lex",t),v.label=5;case 5:return v.trys.push([5,7,,8]),o=new KV(r),[4,this.lexRuntimeServiceClient.send(o)];case 6:return l=v.sent(),this.reportBotStatus(l,e),[2,l];case 7:return i=v.sent(),[2,Promise.reject(i)];case 8:return[3,21];case 9:return a=t.content,"voice"!==t.options.messageType?[3,13]:"object"!=typeof a?[2,Promise.reject("invalid content type")]:a instanceof Uint8Array?(u=a,[3,12]):[3,10];case 10:return[4,HV(a)];case 11:u=v.sent(),v.label=12;case 12:return s=u,r={botAlias:this._config[e].alias,botName:e,contentType:"audio/x-l16; sample-rate=16000; channel-count=1",userId:n.identityId,accept:"audio/mpeg",inputStream:s},[3,14];case 13:if("string"!=typeof a)return[2,Promise.reject("invalid content type")];r={botAlias:this._config[e].alias,botName:e,contentType:"text/plain; charset=utf-8",inputStream:a,userId:n.identityId,accept:"audio/mpeg"},v.label=14;case 14:VV.debug("postContent to lex",t),v.label=15;case 15:return v.trys.push([15,20,,21]),c=new GV(r),[4,this.lexRuntimeServiceClient.send(c)];case 16:return(l=v.sent()).audioStream?[4,HV(l.audioStream)]:[3,18];case 17:return d=v.sent(),[3,19];case 18:d=void 0,v.label=19;case 19:return f=d,p=yK(yK({},l),{audioStream:f}),this.reportBotStatus(p,e),[2,p];case 20:return h=v.sent(),[2,Promise.reject(h)];case 21:return[2]}}))}))},t.prototype.onComplete=function(e,t){if(!this._config[e])throw new Error("Bot "+e+" does not exist");this._botsCompleteCallback[e]=t},t}(SK),WV=new c("Interactions"),YV=function(){function e(e){void 0===e&&(e={}),this._options=e,WV.debug("Interactions Options",this._options),this._pluggables={}}return e.prototype.getModuleName=function(){return"Interactions"},e.prototype.configure=function(e){var t=this,n=e?e.Interactions||e:{};WV.debug("configure Interactions",{opt:n}),this._options=yK(yK({bots:{}},n),n.Interactions);var r=this._options.aws_bots_config,o=this._options.bots;return!Object.keys(o).length&&r&&Array.isArray(r)&&r.forEach((function(e){t._options.bots[e.name]=e})),Object.keys(o).forEach((function(e){var n,r=o[e],i=r.providerName||"AWSLexProvider";t._pluggables.AWSLexProvider||"AWSLexProvider"!==i||(t._pluggables.AWSLexProvider=new $V),t._pluggables[i]?t._pluggables[i].configure(((n={})[r.name]=r,n)):WV.debug("bot "+r.name+" was not configured as "+i+" provider was not found")})),this._options},e.prototype.addPluggable=function(e){var t=this;if(e&&"Interactions"===e.getCategory()){if(this._pluggables[e.getProviderName()])throw new Error("Pluggable "+e.getProviderName()+" already plugged");return Object.keys(this._options.bots).filter((function(n){return t._options.bots[n].providerName===e.getProviderName()})).forEach((function(n){var r,o=t._options.bots[n];e.configure(((r={})[o.name]=o,r))})),void(this._pluggables[e.getProviderName()]=e)}},e.prototype.send=function(e,t){return mK(this,void 0,void 0,(function(){var n;return gK(this,(function(r){switch(r.label){case 0:return this._options.bots&&this._options.bots[e]?(n=this._options.bots[e].providerName||"AWSLexProvider",this._pluggables[n]?[4,this._pluggables[n].sendMessage(e,t)]:[2,Promise.reject("Bot "+n+" does not have valid pluggin did you try addPluggable first?")]):[2,Promise.reject("Bot "+e+" does not exist")];case 1:return[2,r.sent()]}}))}))},e.prototype.onComplete=function(e,t){if(!this._options.bots||!this._options.bots[e])throw new Error("Bot "+e+" does not exist");var n=this._options.bots[e].providerName||"AWSLexProvider";if(!this._pluggables[n])throw new Error("Bot "+n+" does not have valid pluggin did you try addPluggable first?");this._pluggables[n].onComplete(e,t)},e}(),ZV=new YV;d.register(ZV);var JV=n(5564),XV=n.n(JV),QV={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},e$={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function t$(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return Ot(void 0,void 0,void 0,(function(){var o,i,a;return kt(this,(function(s){switch(s.label){case 0:return[4,n(r)];case 1:o=s.sent().response,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,t(o,e)];case 3:return i=s.sent(),[2,{response:o,output:i}];case 4:throw a=s.sent(),Object.defineProperty(a,"$response",{value:o}),a;case 5:return[2]}}))}))}}}(e,n),QV),r.add(function(e,t){return function(n,r){return function(o){return Ot(void 0,void 0,void 0,(function(){var i,a,s;return kt(this,(function(u){switch(u.label){case 0:if(!(i=(null===(s=r.endpointV2)||void 0===s?void 0:s.url)&&e.urlParser?function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){return[2,e.urlParser(r.endpointV2.url)]}))}))}:e.endpoint))throw new Error("No valid endpoint provider available.");return[4,t(o.input,Ct(Ct({},e),{endpoint:i}))];case 1:return a=u.sent(),[2,n(Ct(Ct({},o),{request:a}))]}}))}))}}}(e,t),e$)}}}var n$=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,Ct({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,Ct({},e))})),n},o=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Dt([],Nt(o(e)),!1))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Dt([],Nt(o(e)),!1))})),t},i=function(n){void 0===n&&(n=!1);var r=[],i=[],a={};e.forEach((function(e){var t=Ct(Ct({},e),{before:[],after:[]});t.name&&(a[t.name]=t),r.push(t)})),t.forEach((function(e){var t=Ct(Ct({},e),{before:[],after:[]});t.name&&(a[t.name]=t),i.push(t)})),i.forEach((function(e){if(e.toMiddleware){var t=a[e.toMiddleware];if(void 0===t){if(n)return;throw new Error("".concat(e.toMiddleware," is not found when adding ").concat(e.name||"anonymous"," middleware ").concat(e.relation," ").concat(e.toMiddleware))}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var s,u=(s=r,s.sort((function(e,t){return r$[t.step]-r$[e.step]||o$[t.priority||"normal"]-o$[e.priority||"normal"]}))).map(o).reduce((function(e,t){return e.push.apply(e,Dt([],Nt(t),!1)),e}),[]);return u},a={add:function(t,r){void 0===r&&(r={});var o=r.name,i=r.override,a=Ct({step:"initialize",priority:"normal",middleware:t},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '".concat(o,"'"));var s=e.findIndex((function(e){return e.name===o})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'.concat(o,'" middleware with ').concat(u.priority," priority in ").concat(u.step," step cannot be ")+"overridden by same-name middleware with ".concat(a.priority," priority in ").concat(a.step," step."));e.splice(s,1)}n.add(o)}e.push(a)},addRelativeTo:function(e,r){var o=r.name,i=r.override,a=Ct({middleware:e},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '".concat(o,"'"));var s=t.findIndex((function(e){return e.name===o})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'.concat(o,'" middleware ').concat(u.relation,' "').concat(u.toMiddleware,'" middleware cannot be overridden ')+"by same-name middleware ".concat(a.relation,' "').concat(a.toMiddleware,'" middleware.'));t.splice(s,1)}n.add(o)}t.push(a)},clone:function(){return r(n$())},use:function(e){e.applyToStack(a)},remove:function(r){return"string"==typeof r?function(r){var o=!1,i=function(e){return!e.name||e.name!==r||(o=!0,n.delete(r),!1)};return e=e.filter(i),t=t.filter(i),o}(r):function(r){var o=!1,i=function(e){return e.middleware!==r||(o=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(i),t=t.filter(i),o}(r)},removeByTag:function(r){var o=!1,i=function(e){var t=e.tags,i=e.name;return!t||!t.includes(r)||(i&&n.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:function(e){var t=r(n$());return t.use(e),t},applyToStack:r,identify:function(){return i(!0).map((function(e){return e.name+": "+(e.tags||[]).join(",")}))},resolve:function(e,t){var n,r;try{for(var o=Rt(i().map((function(e){return e.middleware})).reverse()),a=o.next();!a.done;a=o.next())e=(0,a.value)(e,t)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return e}};return a},r$={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},o$={high:3,normal:2,low:1},i$=function(){function e(e){this.middlewareStack=n$(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return i(e).then((function(e){return e.output}));i(e).then((function(e){return o(null,e.output)}),(function(e){return o(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),a$=function(){this.middlewareStack=n$()},s$=(Math.ceil(Math.pow(2,127)*(2-Math.pow(2,-23))),function(e){if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError("Expected integer, got ".concat(typeof e,": ").concat(e))}}),u$=function(e){return c$(e,32)},c$=function(e,t){var n=s$(e);if(void 0!==n&&l$(n,t)!==n)throw new TypeError("Expected ".concat(t,"-bit integer, got ").concat(e));return n},l$=function(e,t){switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},f$=function(e){if(null!=e){if("object"==typeof e&&!Array.isArray(e))return e;var t=Array.isArray(e)?"array":typeof e;throw new TypeError("Expected object, got ".concat(t,": ").concat(e))}},d$=function(e){if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return y$.warn(v$("Expected string, got ".concat(typeof e,": ").concat(e))),String(e);throw new TypeError("Expected string, got ".concat(typeof e,": ").concat(e))}},p$=function(e){return"string"==typeof e?h$(e):function(e){if(null!=e){if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&y$.warn(v$("Expected number but observed string: ".concat(e))),t}if("number"==typeof e)return e;throw new TypeError("Expected number, got ".concat(typeof e,": ").concat(e))}}(e)},h$=function(e){switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unable to parse float value: ".concat(e))}},v$=function(e){return String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((function(e){return!e.includes("stackTraceWarning")})).join("\n")},y$={warn:console.warn},m$=function(e){function t(n){var r=e.call(this,n.message)||this;return Object.setPrototypeOf(r,t.prototype),r.name=n.name,r.$fault=n.$fault,r.$metadata=n.$metadata,r}return xe(t,e),t}(Error),g$=function(e,t){void 0===t&&(t={}),Object.entries(t).filter((function(e){return void 0!==Nt(e,2)[1]})).forEach((function(t){var n=Nt(t,2),r=n[0],o=n[1];null!=e[r]&&""!==e[r]||(e[r]=o)}));var n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},b$=function(e){var t=e.output,n=e.parsedBody,r=e.exceptionCtor,o=e.errorCode,i=w$(t),a=i.httpStatusCode?i.httpStatusCode+"":void 0,s=new r({name:n.code||n.Code||o||a||"UnknowError",$fault:"client",$metadata:i});throw g$(s,n)},w$=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},S$=function(e){switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},E$=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Dt([null],Nt(arguments),!1)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};function _$(e,t,n){var r,o,i,a;if(void 0===t&&void 0===n)i={},a=e;else{if(i=e,"function"==typeof t)return x$(i,t,a=n);a=t}try{for(var s=Rt(Object.keys(a)),u=s.next();!u.done;u=s.next()){var c=u.value;if(Array.isArray(a[c])){var l=Nt(a[c],2),f=l[0],d=l[1];if("function"==typeof d){var p=void 0,h=void 0===f&&null!=(p=d()),v="function"==typeof f&&!!f(void 0)||"function"!=typeof f&&!!f;h?i[c]=p:v&&(i[c]=d())}else h=void 0===f&&null!=d,v="function"==typeof f&&!!f(d)||"function"!=typeof f&&!!f,(h||v)&&(i[c]=d)}else i[c]=a[c]}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return i}E$.prototype=Object.create(String.prototype,{constructor:{value:E$,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(E$,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}xe(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(E$);var x$=function(e,t,n){return _$(e,Object.entries(n).reduce((function(e,n){var r=Nt(n,2),o=r[0],i=r[1];return Array.isArray(i)?e[o]=i:e[o]="function"==typeof i?[t,i()]:[t,i],e}),{}))};function T$(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}var I$,A$,C$,P$,O$,k$,R$,N$,L$,D$,M$,j$=function(e,t,n,r,o,i){if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");var a=r();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");return e.replace(o,i?a.split("/").map((function(e){return T$(e)})).join("/"):T$(a))},U$=function(e){if(e!=e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},F$=function(e){return Ct({},e)},z$=function(e){return Ct({},e)},B$=function(e){return Ct({},e)},q$=function(e){return Ct({},e)},K$=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(Ct(Ct({},this),{headers:Ct({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return Ct(Ct({},e),((r={})[n]=Array.isArray(o)?Dt([],Nt(o),!1):o,r))}),{}))),n},e}(),G$=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),H$=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return xe(t,e),t}(m$);!function(e){e.ADM="ADM",e.APNS="APNS",e.APNS_SANDBOX="APNS_SANDBOX",e.APNS_VOIP="APNS_VOIP",e.APNS_VOIP_SANDBOX="APNS_VOIP_SANDBOX",e.BAIDU="BAIDU",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.GCM="GCM",e.IN_APP="IN_APP",e.PUSH="PUSH",e.SMS="SMS",e.VOICE="VOICE"}(I$||(I$={})),function(e){e.DEEP_LINK="DEEP_LINK",e.OPEN_APP="OPEN_APP",e.URL="URL"}(A$||(A$={})),function(e){e.AFTER="AFTER",e.BEFORE="BEFORE",e.BETWEEN="BETWEEN",e.CONTAINS="CONTAINS",e.EXCLUSIVE="EXCLUSIVE",e.INCLUSIVE="INCLUSIVE",e.ON="ON"}(C$||(C$={})),function(e){e.EXCLUSIVE="EXCLUSIVE",e.INCLUSIVE="INCLUSIVE"}(P$||(P$={})),function(e){e.DAY_14="DAY_14",e.DAY_30="DAY_30",e.DAY_7="DAY_7",e.HR_24="HR_24"}(O$||(O$={})),function(e){e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE"}(k$||(k$={})),function(e){e.ALL="ALL",e.ANY="ANY"}(R$||(R$={})),function(e){e.PROMOTIONAL="PROMOTIONAL",e.TRANSACTIONAL="TRANSACTIONAL"}(N$||(N$={})),function(e){e.ADM="ADM",e.APNS="APNS",e.APNS_SANDBOX="APNS_SANDBOX",e.APNS_VOIP="APNS_VOIP",e.APNS_VOIP_SANDBOX="APNS_VOIP_SANDBOX",e.BAIDU="BAIDU",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.GCM="GCM",e.IN_APP="IN_APP",e.PUSH="PUSH",e.SMS="SMS",e.VOICE="VOICE"}(L$||(L$={})),function(e){e.CENTER="CENTER",e.LEFT="LEFT",e.RIGHT="RIGHT"}(D$||(D$={})),function(e){e.DELIVERY="DELIVERY",e.FILTER="FILTER"}(M$||(M$={}));var V$,$$,W$,Y$,Z$,J$=function(e){function t(n){var r=e.call(this,Ct({name:"BadRequestException",$fault:"client"},n))||this;return r.name="BadRequestException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r.RequestID=n.RequestID,r}return xe(t,e),t}(H$);!function(e){e.CLOSE="CLOSE",e.DEEP_LINK="DEEP_LINK",e.LINK="LINK"}(V$||(V$={})),function(e){e.ENDPOINT="ENDPOINT",e.SYSTEM="SYSTEM"}($$||($$={})),function(e){e.BOTTOM_BANNER="BOTTOM_BANNER",e.CAROUSEL="CAROUSEL",e.MIDDLE_BANNER="MIDDLE_BANNER",e.MOBILE_FEED="MOBILE_FEED",e.OVERLAYS="OVERLAYS",e.TOP_BANNER="TOP_BANNER"}(W$||(W$={})),function(e){e.DAILY="DAILY",e.EVENT="EVENT",e.HOURLY="HOURLY",e.IN_APP_EVENT="IN_APP_EVENT",e.MONTHLY="MONTHLY",e.ONCE="ONCE",e.WEEKLY="WEEKLY"}(Y$||(Y$={})),function(e){e.COMPLETED="COMPLETED",e.DELETED="DELETED",e.EXECUTING="EXECUTING",e.INVALID="INVALID",e.PAUSED="PAUSED",e.PENDING_NEXT_RUN="PENDING_NEXT_RUN",e.SCHEDULED="SCHEDULED"}(Z$||(Z$={})),function(e){xe((function t(n){var r=e.call(this,Ct({name:"ConflictException",$fault:"client"},n))||this;return r.name="ConflictException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r.RequestID=n.RequestID,r}),e)}(H$);var X$,Q$,eW,tW,nW,rW,oW,iW,aW,sW,uW=function(e){function t(n){var r=e.call(this,Ct({name:"ForbiddenException",$fault:"client"},n))||this;return r.name="ForbiddenException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r.RequestID=n.RequestID,r}return xe(t,e),t}(H$),cW=function(e){function t(n){var r=e.call(this,Ct({name:"InternalServerErrorException",$fault:"server"},n))||this;return r.name="InternalServerErrorException",r.$fault="server",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r.RequestID=n.RequestID,r}return xe(t,e),t}(H$),lW=function(e){function t(n){var r=e.call(this,Ct({name:"MethodNotAllowedException",$fault:"client"},n))||this;return r.name="MethodNotAllowedException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r.RequestID=n.RequestID,r}return xe(t,e),t}(H$),fW=function(e){function t(n){var r=e.call(this,Ct({name:"NotFoundException",$fault:"client"},n))||this;return r.name="NotFoundException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r.RequestID=n.RequestID,r}return xe(t,e),t}(H$),dW=function(e){function t(n){var r=e.call(this,Ct({name:"PayloadTooLargeException",$fault:"client"},n))||this;return r.name="PayloadTooLargeException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r.RequestID=n.RequestID,r}return xe(t,e),t}(H$),pW=function(e){function t(n){var r=e.call(this,Ct({name:"TooManyRequestsException",$fault:"client"},n))||this;return r.name="TooManyRequestsException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r.RequestID=n.RequestID,r}return xe(t,e),t}(H$);!function(e){e.COMPLETED="COMPLETED",e.COMPLETING="COMPLETING",e.CREATED="CREATED",e.FAILED="FAILED",e.FAILING="FAILING",e.INITIALIZING="INITIALIZING",e.PENDING_JOB="PENDING_JOB",e.PREPARING_FOR_INITIALIZATION="PREPARING_FOR_INITIALIZATION",e.PROCESSING="PROCESSING"}(X$||(X$={})),function(e){e.CSV="CSV",e.JSON="JSON"}(Q$||(Q$={})),function(e){e.FRIDAY="FRIDAY",e.MONDAY="MONDAY",e.SATURDAY="SATURDAY",e.SUNDAY="SUNDAY",e.THURSDAY="THURSDAY",e.TUESDAY="TUESDAY",e.WEDNESDAY="WEDNESDAY"}(eW||(eW={})),function(e){e.ACTIVE="ACTIVE",e.CANCELLED="CANCELLED",e.CLOSED="CLOSED",e.COMPLETED="COMPLETED",e.DRAFT="DRAFT",e.PAUSED="PAUSED"}(tW||(tW={})),function(e){e.ALL="ALL",e.ANY="ANY",e.NONE="NONE"}(nW||(nW={})),function(e){e.ALL="ALL",e.ANY="ANY",e.NONE="NONE"}(rW||(rW={})),function(e){e.ALL="ALL",e.ANY="ANY",e.NONE="NONE"}(oW||(oW={})),function(e){e.DIMENSIONAL="DIMENSIONAL",e.IMPORT="IMPORT"}(iW||(iW={})),function(e){e.DUPLICATE="DUPLICATE",e.OPT_OUT="OPT_OUT",e.PERMANENT_FAILURE="PERMANENT_FAILURE",e.SUCCESSFUL="SUCCESSFUL",e.TEMPORARY_FAILURE="TEMPORARY_FAILURE",e.THROTTLED="THROTTLED",e.UNKNOWN_FAILURE="UNKNOWN_FAILURE"}(aW||(aW={})),function(e){e.EMAIL="EMAIL",e.INAPP="INAPP",e.PUSH="PUSH",e.SMS="SMS",e.VOICE="VOICE"}(sW||(sW={}));var hW,vW=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a;return kt(this,(function(s){switch(s.label){case 0:return r=[Ct({},e)],a={},[4,ZW(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=JW(e,n.body)){case"BadRequestException":case"com.amazonaws.pinpoint#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.pinpoint#ForbiddenException":return[3,4];case"InternalServerErrorException":case"com.amazonaws.pinpoint#InternalServerErrorException":return[3,6];case"MethodNotAllowedException":case"com.amazonaws.pinpoint#MethodNotAllowedException":return[3,8];case"NotFoundException":case"com.amazonaws.pinpoint#NotFoundException":return[3,10];case"PayloadTooLargeException":case"com.amazonaws.pinpoint#PayloadTooLargeException":return[3,12];case"TooManyRequestsException":case"com.amazonaws.pinpoint#TooManyRequestsException":return[3,14]}return[3,16];case 2:return[4,gW(n,t)];case 3:throw s.sent();case 4:return[4,bW(n,t)];case 5:throw s.sent();case 6:return[4,wW(n,t)];case 7:throw s.sent();case 8:return[4,SW(n,t)];case 9:throw s.sent();case 10:return[4,EW(n,t)];case 11:throw s.sent();case 12:return[4,_W(n,t)];case 13:throw s.sent();case 14:return[4,xW(n,t)];case 15:throw s.sent();case 16:i=n.body,b$({output:e,parsedBody:i,exceptionCtor:H$,errorCode:o}),s.label=17;case 17:return[2]}}))}))},yW=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a;return kt(this,(function(s){switch(s.label){case 0:return r=[Ct({},e)],a={},[4,ZW(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=JW(e,n.body)){case"BadRequestException":case"com.amazonaws.pinpoint#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.pinpoint#ForbiddenException":return[3,4];case"InternalServerErrorException":case"com.amazonaws.pinpoint#InternalServerErrorException":return[3,6];case"MethodNotAllowedException":case"com.amazonaws.pinpoint#MethodNotAllowedException":return[3,8];case"NotFoundException":case"com.amazonaws.pinpoint#NotFoundException":return[3,10];case"PayloadTooLargeException":case"com.amazonaws.pinpoint#PayloadTooLargeException":return[3,12];case"TooManyRequestsException":case"com.amazonaws.pinpoint#TooManyRequestsException":return[3,14]}return[3,16];case 2:return[4,gW(n,t)];case 3:throw s.sent();case 4:return[4,bW(n,t)];case 5:throw s.sent();case 6:return[4,wW(n,t)];case 7:throw s.sent();case 8:return[4,SW(n,t)];case 9:throw s.sent();case 10:return[4,EW(n,t)];case 11:throw s.sent();case 12:return[4,_W(n,t)];case 13:throw s.sent();case 14:return[4,xW(n,t)];case 15:throw s.sent();case 16:i=n.body,b$({output:e,parsedBody:i,exceptionCtor:H$,errorCode:o}),s.label=17;case 17:return[2]}}))}))},mW=_$,gW=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=mW({}),null!=(n=e.body).Message&&(t.Message=d$(n.Message)),null!=n.RequestID&&(t.RequestID=d$(n.RequestID)),r=new J$(Ct({$metadata:WW(e)},t)),[2,g$(r,e.body)]}))}))},bW=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=mW({}),null!=(n=e.body).Message&&(t.Message=d$(n.Message)),null!=n.RequestID&&(t.RequestID=d$(n.RequestID)),r=new uW(Ct({$metadata:WW(e)},t)),[2,g$(r,e.body)]}))}))},wW=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=mW({}),null!=(n=e.body).Message&&(t.Message=d$(n.Message)),null!=n.RequestID&&(t.RequestID=d$(n.RequestID)),r=new cW(Ct({$metadata:WW(e)},t)),[2,g$(r,e.body)]}))}))},SW=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=mW({}),null!=(n=e.body).Message&&(t.Message=d$(n.Message)),null!=n.RequestID&&(t.RequestID=d$(n.RequestID)),r=new lW(Ct({$metadata:WW(e)},t)),[2,g$(r,e.body)]}))}))},EW=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=mW({}),null!=(n=e.body).Message&&(t.Message=d$(n.Message)),null!=n.RequestID&&(t.RequestID=d$(n.RequestID)),r=new fW(Ct({$metadata:WW(e)},t)),[2,g$(r,e.body)]}))}))},_W=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=mW({}),null!=(n=e.body).Message&&(t.Message=d$(n.Message)),null!=n.RequestID&&(t.RequestID=d$(n.RequestID)),r=new dW(Ct({$metadata:WW(e)},t)),[2,g$(r,e.body)]}))}))},xW=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=mW({}),null!=(n=e.body).Message&&(t.Message=d$(n.Message)),null!=n.RequestID&&(t.RequestID=d$(n.RequestID)),r=new pW(Ct({$metadata:WW(e)},t)),[2,g$(r,e.body)]}))}))},TW=function(e,t){return Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct({},null!=e.AppVersion&&{AppVersion:e.AppVersion}),null!=e.Locale&&{Locale:e.Locale}),null!=e.Make&&{Make:e.Make}),null!=e.Model&&{Model:e.Model}),null!=e.ModelVersion&&{ModelVersion:e.ModelVersion}),null!=e.Platform&&{Platform:e.Platform}),null!=e.PlatformVersion&&{PlatformVersion:e.PlatformVersion}),null!=e.Timezone&&{Timezone:e.Timezone})},IW=function(e,t){return Ct(Ct(Ct(Ct(Ct(Ct({},null!=e.City&&{City:e.City}),null!=e.Country&&{Country:e.Country}),null!=e.Latitude&&{Latitude:U$(e.Latitude)}),null!=e.Longitude&&{Longitude:U$(e.Longitude)}),null!=e.PostalCode&&{PostalCode:e.PostalCode}),null!=e.Region&&{Region:e.Region})},AW=function(e,t){return Ct(Ct({},null!=e.UserAttributes&&{UserAttributes:PW(e.UserAttributes,t)}),null!=e.UserId&&{UserId:e.UserId})},CW=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Nt(t,2),o=r[0],i=r[1];return null===i?e:Ct(Ct({},e),((n={})[o]=U$(i),n))}),{})},PW=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Nt(t,2),o=r[0],i=r[1];return null===i?e:Ct(Ct({},e),((n={})[o]=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))}(i),n))}),{})},OW=function(e,t){return{Dimensions:null!=e.Dimensions?RW(e.Dimensions,t):void 0,FilterType:d$(e.FilterType)}},kW=function(e,t){return{BackgroundColor:d$(e.BackgroundColor),BorderRadius:u$(e.BorderRadius),ButtonAction:d$(e.ButtonAction),Link:d$(e.Link),Text:d$(e.Text),TextColor:d$(e.TextColor)}},RW=function(e,t){return{Attributes:null!=e.Attributes?qW(e.Attributes,t):void 0,EventType:null!=e.EventType?$W(e.EventType,t):void 0,Metrics:null!=e.Metrics?KW(e.Metrics,t):void 0}},NW=function(e,t){return{EndDate:d$(e.EndDate),EventFilter:null!=e.EventFilter?OW(e.EventFilter,t):void 0,QuietTime:null!=e.QuietTime?VW(e.QuietTime,t):void 0}},LW=function(e,t){return{Content:null!=e.Content?zW(e.Content,t):void 0,CustomConfig:null!=e.CustomConfig?BW(e.CustomConfig,t):void 0,Layout:d$(e.Layout)}},DW=function(e,t){return{Alignment:d$(e.Alignment),Body:d$(e.Body),TextColor:d$(e.TextColor)}},MW=function(e,t){return{Android:null!=e.Android?HW(e.Android,t):void 0,DefaultConfig:null!=e.DefaultConfig?kW(e.DefaultConfig):void 0,IOS:null!=e.IOS?HW(e.IOS,t):void 0,Web:null!=e.Web?HW(e.Web,t):void 0}},jW=function(e,t){return{Alignment:d$(e.Alignment),Header:d$(e.Header),TextColor:d$(e.TextColor)}},UW=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:d$(e)}))},FW=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{CampaignId:d$(e.CampaignId),DailyCap:u$(e.DailyCap),InAppMessage:null!=e.InAppMessage?LW(e.InAppMessage,t):void 0,Priority:u$(e.Priority),Schedule:null!=e.Schedule?NW(e.Schedule,t):void 0,SessionCap:u$(e.SessionCap),TotalCap:u$(e.TotalCap),TreatmentId:d$(e.TreatmentId)}}(e,t)}));return n},zW=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{BackgroundColor:d$(e.BackgroundColor),BodyConfig:null!=e.BodyConfig?DW(e.BodyConfig):void 0,HeaderConfig:null!=e.HeaderConfig?jW(e.HeaderConfig):void 0,ImageUrl:d$(e.ImageUrl),PrimaryBtn:null!=e.PrimaryBtn?MW(e.PrimaryBtn,t):void 0,SecondaryBtn:null!=e.SecondaryBtn?MW(e.SecondaryBtn,t):void 0}}(e,t)}));return n},BW=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Nt(t,2),o=r[0],i=r[1];return null===i?e:Ct(Ct({},e),((n={})[o]=d$(i),n))}),{})},qW=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Nt(t,2),o=r[0],i=r[1];return null===i?e:Ct(Ct({},e),((n={})[o]=function(e,t){return{AttributeType:d$(e.AttributeType),Values:null!=e.Values?UW(e.Values):void 0}}(i),n))}),{})},KW=function(e,t){return Object.entries(e).reduce((function(e,n){var r,o=Nt(n,2),i=o[0],a=o[1];return null===a?e:Ct(Ct({},e),((r={})[i]=GW(a,t),r))}),{})},GW=function(e,t){return{ComparisonOperator:d$(e.ComparisonOperator),Value:p$(e.Value)}},HW=function(e,t){return{ButtonAction:d$(e.ButtonAction),Link:d$(e.Link)}},VW=function(e,t){return{End:d$(e.End),Start:d$(e.Start)}},$W=function(e,t){return{DimensionType:d$(e.DimensionType),Values:null!=e.Values?UW(e.Values):void 0}},WW=function(e){var t,n;return{httpStatusCode:e.statusCode,requestId:null!==(n=null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"])&&void 0!==n?n:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},YW=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},ZW=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){switch(o.label){case 0:return[4,YW(e,t)];case 1:return(n=o.sent()).message=null!==(r=n.message)&&void 0!==r?r:n.Message,[2,n]}}))}))},JW=function(e,t){var n,r=function(e){var t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==o?r(e.headers[o]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):void 0},XW=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(t$(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"PinpointClient",commandName:"GetInAppMessagesCommand",inputFilterSensitiveLog:F$,outputFilterSensitiveLog:z$},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:return[4,t.endpoint()];case 1:return n=l.sent(),r=n.hostname,o=n.protocol,i=void 0===o?"https":o,a=n.port,s=n.path,u={},c="".concat((null==s?void 0:s.endsWith("/"))?s.slice(0,-1):s||"")+"/v1/apps/{ApplicationId}/endpoints/{EndpointId}/inappmessages",c=j$(c,e,"ApplicationId",(function(){return e.ApplicationId}),"{ApplicationId}",!1),c=j$(c,e,"EndpointId",(function(){return e.EndpointId}),"{EndpointId}",!1),[2,new K$({protocol:i,hostname:r,port:a,method:"GET",headers:u,path:c,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o;return kt(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,vW(e,t)]:(n=mW({$metadata:WW(e)}),o=f$,[4,YW(e.body,t)]);case 1:return r=o.apply(void 0,[i.sent()]),n.InAppMessagesResponse=function(e,t){return{InAppMessageCampaigns:null!=e.InAppMessageCampaigns?FW(e.InAppMessageCampaigns,t):void 0}}(r,t),[2,n]}}))}))}(e,t)},t}(a$);!function(e){e.ENV="env",e.CONFIG="shared config entry"}(hW||(hW={}));var QW,eY=function(e){if("function"==typeof e)return e;var t=Promise.resolve(e);return function(){return t}},tY=function(e){return"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips"))},nY=function(e){return tY(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e},rY=function(e,t){var n;void 0===e&&(e=[]);var r=t.useFipsEndpoint,o=t.useDualstackEndpoint;return null===(n=e.find((function(e){var t=e.tags;return r===t.includes("fips")&&o===t.includes("dualstack")})))||void 0===n?void 0:n.hostname},oY=function(e,t){var n,r,o,i,a,s,u=t.useFipsEndpoint,c=void 0!==u&&u,l=t.useDualstackEndpoint,f=void 0!==l&&l,d=t.signingService,p=t.regionHash,h=t.partitionHash,v=function(e,t){var n,r=t.partitionHash;return null!==(n=Object.keys(r||{}).find((function(t){return r[t].regions.includes(e)})))&&void 0!==n?n:"aws"}(e,{partitionHash:h}),y=e in p?e:null!==(r=null===(n=h[v])||void 0===n?void 0:n.endpoint)&&void 0!==r?r:e,m={useFipsEndpoint:c,useDualstackEndpoint:f},g=function(e,t){var n=t.partitionHostname;return t.regionHostname||(n?n.replace("{region}",e):void 0)}(y,{regionHostname:rY(null===(o=p[y])||void 0===o?void 0:o.variants,m),partitionHostname:rY(null===(i=h[v])||void 0===i?void 0:i.variants,m)});if(void 0===g)throw new Error("Endpoint resolution failed for: ".concat({resolvedRegion:y,useFipsEndpoint:c,useDualstackEndpoint:f}));var b=function(e,t){var n=t.signingRegion;if(n)return n;if(t.useFipsEndpoint){var r=t.regionRegex.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(r);if(o)return o[0].slice(1,-1)}}(g,{signingRegion:null===(a=p[y])||void 0===a?void 0:a.signingRegion,regionRegex:h[v].regionRegex,useFipsEndpoint:c});return Ct(Ct({partition:v,signingService:d,hostname:g},b&&{signingRegion:b}),(null===(s=p[y])||void 0===s?void 0:s.signingService)&&{signingService:p[y].signingService})},iY="content-length",aY={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},sY={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},uY={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},cY="X-Amzn-Trace-Id",lY={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(QW||(QW={}));var fY,dY=QW.STANDARD,pY=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],hY=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],vY=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],yY=[500,502,503,504],mY=["ECONNRESET","EPIPE","ETIMEDOUT"],gY=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||hY.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},bY=function(){function e(e){var t,n,r,o,i;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=null!==(t=null==e?void 0:e.beta)&&void 0!==t?t:.7,this.minCapacity=null!==(n=null==e?void 0:e.minCapacity)&&void 0!==n?n:1,this.minFillRate=null!==(r=null==e?void 0:e.minFillRate)&&void 0!==r?r:.5,this.scaleConstant=null!==(o=null==e?void 0:e.scaleConstant)&&void 0!==o?o:.4,this.smooth=null!==(i=null==e?void 0:e.smooth)&&void 0!==i?i:.8;var a=this.getCurrentTimeInSeconds();this.lastThrottleTime=a,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return e.prototype.getCurrentTimeInSeconds=function(){return Date.now()/1e3},e.prototype.getSendToken=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){return[2,this.acquireTokenBucket(1)]}))}))},e.prototype.acquireTokenBucket=function(e){return Ot(this,void 0,void 0,(function(){var t;return kt(this,(function(n){switch(n.label){case 0:return this.enabled?(this.refillTokenBucket(),e>this.currentCapacity?(t=(e-this.currentCapacity)/this.fillRate*1e3,[4,new Promise((function(e){return setTimeout(e,t)}))]):[3,2]):[2];case 1:n.sent(),n.label=2;case 2:return this.currentCapacity=this.currentCapacity-e,[2]}}))}))},e.prototype.refillTokenBucket=function(){var e=this.getCurrentTimeInSeconds();if(this.lastTimestamp){var t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}else this.lastTimestamp=e},e.prototype.updateClientSendingRate=function(e){var t;if(this.updateMeasuredRate(),gY(e)){var n=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=n,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(n),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());var r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)},e.prototype.calculateTimeWindow=function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))},e.prototype.cubicThrottle=function(e){return this.getPrecise(e*this.beta)},e.prototype.cubicSuccess=function(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)},e.prototype.enableTokenBucket=function(){this.enabled=!0},e.prototype.updateTokenBucketRate=function(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)},e.prototype.updateMeasuredRate=function(){var e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){var n=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}},e.prototype.getPrecise=function(e){return parseFloat(e.toFixed(8))},e}(),wY=new Uint8Array(16);function SY(){if(!fY&&!(fY="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fY(wY)}const EY=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,_Y=function(e){return"string"==typeof e&&EY.test(e)};for(var xY=[],TY=0;TY<256;++TY)xY.push((TY+256).toString(16).substr(1));const IY=function(e,t,n){var r=(e=e||{}).random||(e.rng||SY)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(xY[e[t+0]]+xY[e[t+1]]+xY[e[t+2]]+xY[e[t+3]]+"-"+xY[e[t+4]]+xY[e[t+5]]+"-"+xY[e[t+6]]+xY[e[t+7]]+"-"+xY[e[t+8]]+xY[e[t+9]]+"-"+xY[e[t+10]]+xY[e[t+11]]+xY[e[t+12]]+xY[e[t+13]]+xY[e[t+14]]+xY[e[t+15]]).toLowerCase();if(!_Y(n))throw TypeError("Stringified UUID is invalid");return n}(r)};var AY=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},CY=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return pY.includes(e.name)}(e)||gY(e)||function(e){var t;return vY.includes(e.name)||mY.includes((null==e?void 0:e.code)||"")||yY.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},PY=function(){function e(e,t){var n,r,o,i,a,s,u,c,l;this.maxAttemptsProvider=e,this.mode=QW.STANDARD,this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:CY,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:AY,this.retryQuota=null!==(o=null==t?void 0:t.retryQuota)&&void 0!==o?o:(i=1,a=5,s=10,u=500,c=function(e){return"TimeoutError"===e.name?s:a},l=function(e){return c(e)<=u},Object.freeze({hasRetryTokens:l,retrieveRetryTokens:function(e){if(!l(e))throw new Error("No retry token available");var t=c(e);return u-=t,t},releaseRetryTokens:function(e){u+=null!=e?e:i,u=Math.min(u,500)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return Ot(this,void 0,void 0,(function(){var e;return kt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return o=0,i=0,[4,this.getMaxAttempts()];case 1:a=f.sent(),s=t.request,K$.isInstance(s)&&(s.headers["amz-sdk-invocation-id"]=IY()),u=function(){var u,l,f,d,p,h,v,y;return kt(this,(function(m){switch(m.label){case 0:return m.trys.push([0,4,,7]),K$.isInstance(s)&&(s.headers["amz-sdk-request"]="attempt=".concat(o+1,"; max=").concat(a)),(null==n?void 0:n.beforeRequest)?[4,n.beforeRequest()]:[3,2];case 1:m.sent(),m.label=2;case 2:return[4,e(t)];case 3:return u=m.sent(),l=u.response,f=u.output,(null==n?void 0:n.afterRequest)&&n.afterRequest(l),c.retryQuota.releaseRetryTokens(r),f.$metadata.attempts=o+1,f.$metadata.totalRetryDelay=i,[2,{value:{response:l,output:f}}];case 4:return d=m.sent(),p=kY(d),o++,c.shouldRetry(p,o,a)?(r=c.retryQuota.retrieveRetryTokens(p),h=c.delayDecider(gY(p)?500:100,o),v=OY(p.$response),y=Math.max(v||0,h),i+=y,[4,new Promise((function(e){return setTimeout(e,y)}))]):[3,6];case 5:return m.sent(),[2,"continue"];case 6:throw p.$metadata||(p.$metadata={}),p.$metadata.attempts=o,p.$metadata.totalRetryDelay=i,p;case 7:return[2]}}))},c=this,f.label=2;case 2:return[5,u()];case 3:return"object"==typeof(l=f.sent())?[2,l.value]:[3,2];case 4:return[2]}}))}))},e}(),OY=function(e){if(G$.isInstance(e)){var t=Object.keys(e.headers).find((function(e){return"retry-after"===e.toLowerCase()}));if(t){var n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n).getTime()-Date.now():1e3*r}}},kY=function(e){return e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"==typeof e?new Error(e):new Error("AWS SDK error wrapper for ".concat(e))},RY=function(e){function t(t,n){var r=this,o=null!=n?n:{},i=o.rateLimiter,a=Pt(o,["rateLimiter"]);return(r=e.call(this,t,a)||this).rateLimiter=null!=i?i:new bY,r.mode=QW.ADAPTIVE,r}return xe(t,e),t.prototype.retry=function(t,n){return Ot(this,void 0,void 0,(function(){var r=this;return kt(this,(function(o){return[2,e.prototype.retry.call(this,t,n,{beforeRequest:function(){return Ot(r,void 0,void 0,(function(){return kt(this,(function(e){return[2,this.rateLimiter.getSendToken()]}))}))},afterRequest:function(e){r.rateLimiter.updateClientSendingRate(e)}})]}))}))},t}(PY),NY={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},LY=function(e){function t(n,r){void 0===r&&(r=!0);var o=e.call(this,n)||this;return o.tryNextLink=r,o.name="ProviderError",Object.setPrototypeOf(o,t.prototype),o}return xe(t,e),t.from=function(e,t){return void 0===t&&(t=!0),Object.assign(new this(e.message,t),e)},t}(Error);(function(e){xe((function t(n,r){void 0===r&&(r=!0);var o=e.call(this,n,r)||this;return o.tryNextLink=r,o.name="CredentialsProviderError",Object.setPrototypeOf(o,t.prototype),o}),e)})(LY),function(e){xe((function t(n,r){void 0===r&&(r=!0);var o=e.call(this,n,r)||this;return o.tryNextLink=r,o.name="TokenProviderError",Object.setPrototypeOf(o,t.prototype),o}),e)}(LY);for(var DY=function(e,t,n){var r,o,i,a=!1,s=function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:o||(o=e()),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,o];case 2:return r=t.sent(),i=!0,a=!1,[3,4];case 3:return o=void 0,[7];case 4:return[2,r]}}))}))};return void 0===t?function(e){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return i&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,s()];case 1:r=t.sent(),t.label=2;case 2:return[2,r]}}))}))}:function(e){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(o){switch(o.label){case 0:return i&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,s()];case 1:r=o.sent(),o.label=2;case 2:return a?[2,r]:n&&!n(r)?(a=!0,[2,r]):t(r)?[4,s()]:[3,4];case 3:return o.sent(),[2,r];case 4:return[2,r]}}))}))}},MY={},jY={},UY=0;UY<256;UY++){var FY=UY.toString(16).toLowerCase();1===FY.length&&(FY="0".concat(FY)),MY[UY]=FY,jY[FY]=UY}function zY(e){for(var t="",n=0;n<e.byteLength;n++)t+=MY[e[n]];return t}var BY="X-Amz-Date",qY="X-Amz-Signature",KY="X-Amz-Security-Token",GY="authorization",HY=BY.toLowerCase(),VY=[GY,HY,"date"],$Y=qY.toLowerCase(),WY="x-amz-content-sha256",YY=KY.toLowerCase(),ZY={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},JY=/^proxy-/,XY=/^sec-/,QY="AWS4-HMAC-SHA256",eZ="AWS4-HMAC-SHA256-PAYLOAD",tZ="aws4_request",nZ={},rZ=[],oZ=function(e,t,n){return"".concat(e,"/").concat(t,"/").concat(n,"/").concat(tZ)},iZ=function(e,t,n){var r=new e(t);return r.update(n),r.digest()},aZ=function(e,t,n){var r,o,i=e.headers,a={};try{for(var s=Rt(Object.keys(i).sort()),u=s.next();!u.done;u=s.next()){var c=u.value;if(null!=i[c]){var l=c.toLowerCase();(l in ZY||(null==t?void 0:t.has(l))||JY.test(l)||XY.test(l))&&(!n||n&&!n.has(l))||(a[l]=i[c].trim().replace(/\s+/g," "))}}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a},sZ=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,uZ)},uZ=function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())},cZ=function(e,t){var n=e.headers,r=e.body;return Ot(void 0,void 0,void 0,(function(){var e,o,i,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:try{for(e=Rt(Object.keys(n)),o=e.next();!o.done;o=e.next())if((i=o.value).toLowerCase()===WY)return[2,n[i]]}catch(e){u={error:e}}finally{try{o&&!o.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=zY,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))},lZ=function(e){var t=e.headers,n=e.query,r=Pt(e,["headers","query"]);return Ct(Ct({},r),{headers:Ct({},t),query:n?fZ(n):void 0})},fZ=function(e){return Object.keys(e).reduce((function(t,n){var r,o=e[n];return Ct(Ct({},t),((r={})[n]=Array.isArray(o)?Dt([],Nt(o),!1):o,r))}),{})},dZ=function(e){var t,n;e="function"==typeof e.clone?e.clone():lZ(e);try{for(var r=Rt(Object.keys(e.headers)),o=r.next();!o.done;o=r.next()){var i=o.value;VY.indexOf(i.toLowerCase())>-1&&delete e.headers[i]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e},pZ=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,o=e.service,i=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=eY(r),this.credentialProvider=eY(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Ot(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T;return kt(this,(function(I){switch(I.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,o=t.expiresIn,i=void 0===o?3600:o,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=I.sent(),this.validateResolvedCredentials(f),null==c?[3,2]:(p=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:p=I.sent(),I.label=4;case 4:return d=p,h=hZ(r),v=h.longDate,y=h.shortDate,i>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(m=oZ(y,d,null!=l?l:this.service),g=function(e,t){var n,r,o;void 0===t&&(t={});var i="function"==typeof e.clone?e.clone():lZ(e),a=i.headers,s=i.query,u=void 0===s?{}:s;try{for(var c=Rt(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.slice(0,6)||(null===(o=t.unhoistableHeaders)||void 0===o?void 0:o.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return Ct(Ct({},e),{headers:a,query:u})}(dZ(e),{unhoistableHeaders:s}),f.sessionToken&&(g.query[KY]=f.sessionToken),g.query["X-Amz-Algorithm"]=QY,g.query["X-Amz-Credential"]="".concat(f.accessKeyId,"/").concat(m),g.query[BY]=v,g.query["X-Amz-Expires"]=i.toString(10),b=aZ(g,a,u),g.query["X-Amz-SignedHeaders"]=vZ(b),w=g.query,S=qY,E=this.getSignature,_=[v,m,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,T=[g,b],[4,cZ(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,T.concat([I.sent()]))]))];case 6:return w[S]=I.sent(),[2,g]}}))}))},e.prototype.sign=function(e,t){return Ot(this,void 0,void 0,(function(){return kt(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,o=t.signingDate,i=void 0===o?new Date:o,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return Ot(this,void 0,void 0,(function(){var e,t,o,c,l,f,d,p,h,v,y;return kt(this,(function(m){switch(m.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=m.sent(),m.label=3;case 3:return e=t,o=hZ(i),c=o.shortDate,l=o.longDate,f=oZ(c,e,null!=u?u:this.service),[4,cZ({headers:{},body:r},this.sha256)];case 4:return d=m.sent(),(p=new this.sha256).update(n),v=zY,[4,p.digest()];case 5:return h=v.apply(void 0,[m.sent()]),y=[eZ,l,f,a,h,d].join("\n"),[2,this.signString(y,{signingDate:i,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signingRegion,a=n.signingService;return Ot(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return kt(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),this.validateResolvedCredentials(t),null==i?[3,2]:(r=i,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=hZ(o).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=zY,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return Ot(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,p,h,v,y;return kt(this,(function(m){switch(m.label){case 0:return[4,this.credentialProvider()];case 1:return t=m.sent(),this.validateResolvedCredentials(t),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=m.sent(),m.label=4;case 4:return n=r,c=dZ(e),l=hZ(o),f=l.longDate,d=l.shortDate,p=oZ(d,n,null!=u?u:this.service),c.headers[HY]=f,t.sessionToken&&(c.headers[YY]=t.sessionToken),[4,cZ(c,this.sha256)];case 5:return h=m.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var o=Rt(Object.keys(t)),i=o.next();!i.done;i=o.next())if(e===i.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}(WY,c.headers)&&this.applyChecksum&&(c.headers[WY]=h),v=aZ(c,a,i),[4,this.getSignature(f,p,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,h))];case 6:return y=m.sent(),c.headers[GY]="".concat(QY," ")+"Credential=".concat(t.accessKeyId,"/").concat(p,", ")+"SignedHeaders=".concat(vZ(v),", ")+"Signature=".concat(y),[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return"".concat(e.method,"\n").concat(this.getCanonicalPath(e),"\n").concat(function(e){var t,n,r=e.query,o=void 0===r?{}:r,i=[],a={},s=function(e){if(e.toLowerCase()===$Y)return"continue";i.push(e);var t=o[e];"string"==typeof t?a[e]="".concat(sZ(e),"=").concat(sZ(t)):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat(["".concat(sZ(e),"=").concat(sZ(n))])}),[]).join("&"))};try{for(var u=Rt(Object.keys(o).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return i.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e),"\n").concat(r.map((function(e){return"".concat(e,":").concat(t[e])})).join("\n"),"\n\n").concat(r.join(";"),"\n").concat(n)},e.prototype.createStringToSign=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,o;return kt(this,(function(i){switch(i.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return o=i.sent(),[2,"".concat(QY,"\n").concat(e,"\n").concat(t,"\n").concat(zY(o))]}}))}))},e.prototype.getCanonicalPath=function(e){var t,n,r=e.path;if(this.uriEscapePath){var o=[];try{for(var i=Rt(r.split("/")),a=i.next();!a.done;a=i.next()){var s=a.value;0!==(null==s?void 0:s.length)&&"."!==s&&(".."===s?o.pop():o.push(s))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}var u="".concat((null==r?void 0:r.startsWith("/"))?"/":"").concat(o.join("/")).concat(o.length>0&&(null==r?void 0:r.endsWith("/"))?"/":"");return encodeURIComponent(u).replace(/%2F/g,"/")}return r},e.prototype.getSignature=function(e,t,n,r){return Ot(this,void 0,void 0,(function(){var o,i,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return o=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(i=new(s.apply(a,[void 0,c.sent()]))).update(o),u=zY,[4,i.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,o){return Ot(void 0,void 0,void 0,(function(){var i,a,s,u,c,l,f,d,p;return kt(this,(function(h){switch(h.label){case 0:return[4,iZ(e,t.secretAccessKey,t.accessKeyId)];case 1:if(i=h.sent(),(a="".concat(n,":").concat(r,":").concat(o,":").concat(zY(i),":").concat(t.sessionToken))in nZ)return[2,nZ[a]];for(rZ.push(a);rZ.length>50;)delete nZ[rZ.shift()];s="AWS4".concat(t.secretAccessKey),h.label=2;case 2:h.trys.push([2,7,8,9]),u=Rt([n,r,o,tZ]),c=u.next(),h.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,iZ(e,s,l)]);case 4:s=h.sent(),h.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=h.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(p=u.return)&&p.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,nZ[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e.prototype.validateResolvedCredentials=function(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")},e}(),hZ=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}},vZ=function(e){return Object.keys(e).sort().join(";")},yZ=function(e){return new Date(Date.now()+e)},mZ=function(e,t){var n=Date.parse(e);return function(e,t){return Math.abs(yZ(t).getTime()-e)>=3e5}(n,t)?n-Date.now():t},gZ=function(e){var t,n,r;return G$.isInstance(e)?null!==(n=null===(t=e.headers)||void 0===t?void 0:t.date)&&void 0!==n?n:null===(r=e.headers)||void 0===r?void 0:r.Date:void 0},bZ={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},wZ="user-agent",SZ="x-amz-user-agent",EZ=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,_Z=function(e){var t=Nt(e,2),n=t[0],r=t[1],o=n.indexOf("/"),i=n.substring(0,o),a=n.substring(o+1);return"api"===i&&(a=a.toLowerCase()),[i,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(EZ,"_")})).join("/")},xZ={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};for(var TZ=function(){function e(e){"function"==typeof e?this.configProvider=e().then((function(e){return e||{}})):(this.config=null!=e?e:{},this.configProvider=Promise.resolve(this.config))}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal;return Ot(this,void 0,void 0,(function(){var t,r,o,i,a,s,u,c,l,f,d,p;return kt(this,(function(h){switch(h.label){case 0:return this.config?[3,2]:(t=this,[4,this.configProvider]);case 1:t.config=h.sent(),h.label=2;case 2:return r=this.config.requestTimeout,(null==n?void 0:n.aborted)?((o=new Error("Request aborted")).name="AbortError",[2,Promise.reject(o)]):(i=e.path,e.query&&(a=function(e){var t,n,r=[];try{for(var o=Rt(Object.keys(e).sort()),i=o.next();!i.done;i=o.next()){var a=i.value,s=e[a];if(a=sZ(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push("".concat(a,"=").concat(sZ(s[u])));else{var l=a;(s||"string"==typeof s)&&(l+="=".concat(sZ(s))),r.push(l)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.join("&")}(e.query),a&&(i+="?".concat(a))),s=e.port,u=e.method,c="".concat(e.protocol,"//").concat(e.hostname).concat(s?":".concat(s):"").concat(i),l="GET"===u||"HEAD"===u?void 0:e.body,f={body:l,headers:new Headers(e.headers),method:u},"undefined"!=typeof AbortController&&(f.signal=n),d=new Request(c,f),p=[fetch(d).then((function(e){var t,n,r=e.headers,o={};try{for(var i=Rt(r.entries()),a=i.next();!a.done;a=i.next()){var s=a.value;o[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new G$({headers:o,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new G$({headers:o,statusCode:e.status,body:t})}}))})),(v=r,void 0===v&&(v=0),new Promise((function(e,t){v&&setTimeout((function(){var e=new Error("Request did not complete within ".concat(v," ms"));e.name="TimeoutError",t(e)}),v)})))],n&&p.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),[2,Promise.race(p)])}var v}))}))},e}(),IZ={},AZ=new Array(64),CZ=0,PZ="A".charCodeAt(0),OZ="Z".charCodeAt(0);CZ+PZ<=OZ;CZ++){var kZ=String.fromCharCode(CZ+PZ);IZ[kZ]=CZ,AZ[CZ]=kZ}for(CZ=0,PZ="a".charCodeAt(0),OZ="z".charCodeAt(0);CZ+PZ<=OZ;CZ++){kZ=String.fromCharCode(CZ+PZ);var RZ=CZ+26;IZ[kZ]=RZ,AZ[RZ]=kZ}for(CZ=0;CZ<10;CZ++)IZ[CZ.toString(10)]=CZ+52,kZ=CZ.toString(10),RZ=CZ+52,IZ[kZ]=RZ,AZ[RZ]=kZ;function NZ(e){var t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),o=0;o<e.length;o+=4){for(var i=0,a=0,s=o,u=o+3;s<=u;s++)if("="!==e[s]){if(!(e[s]in IZ))throw new TypeError("Invalid character ".concat(e[s]," in base64 string."));i|=IZ[e[s]]<<6*(u-s),a+=6}else i>>=6;var c=o/4*3;i>>=a%8;for(var l=Math.floor(a/8),f=0;f<l;f++){var d=8*(l-f-1);r.setUint8(c+f,(i&255<<d)>>d)}}return new Uint8Array(n)}function LZ(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,o=0,i=n,a=Math.min(n+3,e.length);i<a;i++)r|=e[i]<<8*(a-i-1),o+=8;var s=Math.ceil(o/6);r<<=6*s-o;for(var u=1;u<=s;u++){var c=6*(s-u);t+=AZ[(r&63<<c)>>c]}t+="==".slice(0,4-s)}return t}IZ["+"]=62,AZ[62]="+",IZ["/"]=63,AZ[63]="/";var DZ=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return Ot(this,void 0,void 0,(function(){var t,n;return kt(this,(function(r){switch(r.label){case 0:return[4,MZ(e)];case 1:return t=r.sent(),n=NZ(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return Ot(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return kt(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return o=u.sent(),i=o.done,(a=o.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=i,[3,1];case 3:return[2,t]}}))}))}(e)};function MZ(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var o=null!==(e=r.result)&&void 0!==e?e:"",i=o.indexOf(","),a=i>-1?i+1:o.length;t(o.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var jZ,UZ,FZ=function(e){return function(){return Promise.reject(e)}},zZ=function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error("Body Length computation failed for ".concat(e))},BZ=function(e){var t=e.serviceId,n=e.clientVersion;return function(){return Ot(void 0,void 0,void 0,(function(){var e,r,o,i,a,s,u,c,l;return kt(this,(function(f){return e="undefined"!=typeof window&&(null===(o=null===window||void 0===window?void 0:window.navigator)||void 0===o?void 0:o.userAgent)?gr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/".concat((null===(i=null==e?void 0:e.os)||void 0===i?void 0:i.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser","".concat(null!==(u=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown","_").concat(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/".concat(t),n]),[2,r]}))}))}},qZ=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},KZ=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)},GZ=function(e){if("string"==typeof e)return GZ(new URL(e));var t,n=e,r=n.hostname,o=n.pathname,i=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var o=Rt(e.split("&")),i=o.next();!i.done;i=o.next()){var a=Nt(i.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:i?parseInt(i):void 0,protocol:a,path:o,query:t}},HZ={"us-east-1":{variants:[{hostname:"pinpoint.us-east-1.amazonaws.com",tags:[]},{hostname:"pinpoint-fips.us-east-1.amazonaws.com",tags:["fips"]}],signingRegion:"us-east-1"},"us-east-2":{variants:[{hostname:"pinpoint.us-east-2.amazonaws.com",tags:[]},{hostname:"pinpoint-fips.us-east-2.amazonaws.com",tags:["fips"]}],signingRegion:"us-east-2"},"us-gov-west-1":{variants:[{hostname:"pinpoint.us-gov-west-1.amazonaws.com",tags:[]},{hostname:"pinpoint-fips.us-gov-west-1.amazonaws.com",tags:["fips"]}],signingRegion:"us-gov-west-1"},"us-west-2":{variants:[{hostname:"pinpoint.us-west-2.amazonaws.com",tags:[]},{hostname:"pinpoint-fips.us-west-2.amazonaws.com",tags:["fips"]}],signingRegion:"us-west-2"}},VZ={aws:{regions:["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ap-southeast-3","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","fips-us-east-1","fips-us-east-2","fips-us-west-2","me-central-1","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"],regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",variants:[{hostname:"pinpoint.{region}.amazonaws.com",tags:[]},{hostname:"pinpoint-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"pinpoint-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"pinpoint.{region}.api.aws",tags:["dualstack"]}]},"aws-cn":{regions:["cn-north-1","cn-northwest-1"],regionRegex:"^cn\\-\\w+\\-\\d+$",variants:[{hostname:"pinpoint.{region}.amazonaws.com.cn",tags:[]},{hostname:"pinpoint-fips.{region}.amazonaws.com.cn",tags:["fips"]},{hostname:"pinpoint-fips.{region}.api.amazonwebservices.com.cn",tags:["dualstack","fips"]},{hostname:"pinpoint.{region}.api.amazonwebservices.com.cn",tags:["dualstack"]}]},"aws-iso":{regions:["us-iso-east-1","us-iso-west-1"],regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",variants:[{hostname:"pinpoint.{region}.c2s.ic.gov",tags:[]},{hostname:"pinpoint-fips.{region}.c2s.ic.gov",tags:["fips"]}]},"aws-iso-b":{regions:["us-isob-east-1"],regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",variants:[{hostname:"pinpoint.{region}.sc2s.sgov.gov",tags:[]},{hostname:"pinpoint-fips.{region}.sc2s.sgov.gov",tags:["fips"]}]},"aws-us-gov":{regions:["fips-us-gov-west-1","us-gov-east-1","us-gov-west-1"],regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",variants:[{hostname:"pinpoint.{region}.amazonaws.com",tags:[]},{hostname:"pinpoint-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"pinpoint-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"pinpoint.{region}.api.aws",tags:["dualstack"]}]}},$Z=function(e,t){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(n){return[2,oY(e,Ct(Ct({},t),{signingService:"mobiletargeting",regionHash:HZ,partitionHash:VZ}))]}))}))},WZ=["in-region","cross-region","mobile","standard","legacy"],YZ=function(){var e,t,n="undefined"!=typeof window&&(null===(e=null===window||void 0===window?void 0:window.navigator)||void 0===e?void 0:e.userAgent)?gr().parse(window.navigator.userAgent):void 0,r=null===(t=null==n?void 0:n.platform)||void 0===t?void 0:t.type;return"tablet"===r||"mobile"===r},ZZ=function(e){function t(t){var n,r,o,i=this,a=function(e){var t=e.region,n=e.useFipsEndpoint;if(!t)throw new Error("Region is missing");return Ct(Ct({},e),{region:function(){return Ot(void 0,void 0,void 0,(function(){var e;return kt(this,(function(n){switch(n.label){case 0:return"string"==typeof t?[2,nY(t)]:[4,t()];case 1:return e=n.sent(),[2,nY(e)]}}))}))},useFipsEndpoint:function(){return Ot(void 0,void 0,void 0,(function(){var e;return kt(this,(function(r){switch(r.label){case 0:return"string"!=typeof t?[3,1]:(e=t,[3,3]);case 1:return[4,t()];case 2:e=r.sent(),r.label=3;case 3:return tY(e)?[2,!0]:[2,"boolean"==typeof n?Promise.resolve(n):n()]}}))}))}})}(function(e){var t,n,r,o,i,a,s,u,c,l,f,d,p,h,v,y=function(e){var t=(void 0===e?{}:e).defaultsMode;return DY((function(){return Ot(void 0,void 0,void 0,(function(){var e,n;return kt(this,(function(r){switch(r.label){case 0:return"function"!=typeof t?[3,2]:[4,t()];case 1:return n=r.sent(),[3,3];case 2:n=t,r.label=3;case 3:switch(null==(e=n)?void 0:e.toLowerCase()){case"auto":return[2,Promise.resolve(YZ()?"mobile":"standard")];case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return[2,Promise.resolve(null==e?void 0:e.toLocaleLowerCase())];case void 0:return[2,Promise.resolve("legacy")];default:throw new Error('Invalid parameter for "defaultsMode", expect '.concat(WZ.join(", "),", got ").concat(e))}return[2]}}))}))}))}(e),m=function(){return y().then(S$)},g=function(e){var t,n,r,o,i;return{apiVersion:"2016-12-01",disableHostPrefix:null!==(t=null==e?void 0:e.disableHostPrefix)&&void 0!==t&&t,logger:null!==(n=null==e?void 0:e.logger)&&void 0!==n?n:{},regionInfoProvider:null!==(r=null==e?void 0:e.regionInfoProvider)&&void 0!==r?r:$Z,serviceId:null!==(o=null==e?void 0:e.serviceId)&&void 0!==o?o:"Pinpoint",urlParser:null!==(i=null==e?void 0:e.urlParser)&&void 0!==i?i:GZ}}(e);return Ct(Ct(Ct({},g),e),{runtime:"browser",defaultsMode:y,base64Decoder:null!==(t=null==e?void 0:e.base64Decoder)&&void 0!==t?t:NZ,base64Encoder:null!==(n=null==e?void 0:e.base64Encoder)&&void 0!==n?n:LZ,bodyLengthChecker:null!==(r=null==e?void 0:e.bodyLengthChecker)&&void 0!==r?r:zZ,credentialDefaultProvider:null!==(o=null==e?void 0:e.credentialDefaultProvider)&&void 0!==o?o:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(i=null==e?void 0:e.defaultUserAgentProvider)&&void 0!==i?i:BZ({serviceId:g.serviceId,clientVersion:"3.186.0"}),maxAttempts:null!==(a=null==e?void 0:e.maxAttempts)&&void 0!==a?a:3,region:null!==(s=null==e?void 0:e.region)&&void 0!==s?s:FZ("Region is missing"),requestHandler:null!==(u=null==e?void 0:e.requestHandler)&&void 0!==u?u:new TZ(m),retryMode:null!==(c=null==e?void 0:e.retryMode)&&void 0!==c?c:function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return[4,m()];case 1:return[2,e.sent().retryMode||dY]}}))}))},sha256:null!==(l=null==e?void 0:e.sha256)&&void 0!==l?l:mH.Sha256,streamCollector:null!==(f=null==e?void 0:e.streamCollector)&&void 0!==f?f:DZ,useDualstackEndpoint:null!==(d=null==e?void 0:e.useDualstackEndpoint)&&void 0!==d?d:function(){return Promise.resolve(!1)},useFipsEndpoint:null!==(p=null==e?void 0:e.useFipsEndpoint)&&void 0!==p?p:function(){return Promise.resolve(!1)},utf8Decoder:null!==(h=null==e?void 0:e.utf8Decoder)&&void 0!==h?h:qZ,utf8Encoder:null!==(v=null==e?void 0:e.utf8Encoder)&&void 0!==v?v:KZ})}(t)),s=function(e){var t,n=eY(null!==(t=e.maxAttempts)&&void 0!==t?t:3);return Ct(Ct({},e),{maxAttempts:n,retryStrategy:function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return e.retryStrategy?[2,e.retryStrategy]:[4,eY(e.retryMode)()];case 1:return t.sent()===QW.ADAPTIVE?[2,new RY(n)]:[2,new PY(n)]}}))}))}})}(function(e){var t,n=eY(e.useDualstackEndpoint),r=e.endpoint,o=e.useFipsEndpoint,i=e.urlParser;return Ct(Ct({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:r?eY("string"==typeof r?i(r):r):function(){return function(e){return Ot(void 0,void 0,void 0,(function(){var t,n,r,o,i,a,s;return kt(this,(function(u){switch(u.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=u.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.useDualstackEndpoint()];case 2:return o=u.sent(),[4,e.useFipsEndpoint()];case 3:return i=u.sent(),[4,e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:i})];case 4:if(!(a=(null!==(s=u.sent())&&void 0!==s?s:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser("".concat(n?"https:":"http:","//").concat(a))]}}))}))}(Ct(Ct({},e),{useDualstackEndpoint:n,useFipsEndpoint:o}))},isCustomEndpoint:!!r,useDualstackEndpoint:n})}(a)),u=function(e){var t,n,r=e.credentials?"function"==typeof(n=e.credentials)?DY(n,(function(e){return void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5}),(function(e){return void 0!==e.expiration})):eY(n):e.credentialDefaultProvider(e),o=e.signingEscapePath,i=void 0===o||o,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?eY(e.signer):e.regionInfoProvider?function(){return eY(e.region)().then((function(t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i;return kt(this,(function(a){switch(a.label){case 0:return r=(n=e).regionInfoProvider,o=[t],i={},[4,e.useFipsEndpoint()];case 1:return i.useFipsEndpoint=a.sent(),[4,e.useDualstackEndpoint()];case 2:return[4,r.apply(n,o.concat([(i.useDualstackEndpoint=a.sent(),i)]))];case 3:return[2,[a.sent()||{},t]]}}))}))})).then((function(t){var n=Nt(t,2),o=n[0],a=n[1],s=o.signingRegion,c=o.signingService;e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId;var l=Ct(Ct({},e),{credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:i});return new(e.signerConstructor||pZ)(l)}))}:function(t){return Ot(void 0,void 0,void 0,(function(){var n,o,a;return kt(this,(function(s){if(!t)throw new Error("Unexpected empty auth scheme config");return n=t.signingScope,o=t.signingName,e.signingRegion=e.signingRegion||n,e.signingName=e.signingName||o||e.serviceId,a=Ct(Ct({},e),{credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:i}),[2,new(e.signerConstructor||pZ)(a)]}))}))},Ct(Ct({},e),{systemClockOffset:s,signingEscapePath:i,credentials:r,signer:t})}(s),c=Ct(Ct({},n=u),{customUserAgent:"string"==typeof n.customUserAgent?[[n.customUserAgent]]:n.customUserAgent});return(i=e.call(this,c)||this).config=c,i.middlewareStack.use((o=i.config,{applyToStack:function(e){e.add(function(e){return function(t,n){return function(r){return Ot(void 0,void 0,void 0,(function(){var o;return kt(this,(function(i){switch(i.label){case 0:return[4,e.retryStrategy()];case 1:return(null==(o=i.sent())?void 0:o.mode)&&(n.userAgent=Dt(Dt([],Nt(n.userAgent||[]),!1),[["cfg/retry-mode",o.mode]],!1)),[2,o.retry(t,r)]}}))}))}}}(o),NY)}})),i.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return Ot(t,void 0,void 0,(function(){var t,o,i,a,s;return kt(this,(function(u){if(t=r.request,K$.isInstance(t)&&(o=t.body,i=t.headers,o&&-1===Object.keys(i).map((function(e){return e.toLowerCase()})).indexOf(iY)))try{a=e(o),t.headers=Ct(Ct({},t.headers),((s={})[iY]=String(a),s))}catch(e){}return[2,n(Ct(Ct({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),aY)}}}(i.config)),i.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Ot(void 0,void 0,void 0,(function(){var r,o;return kt(this,(function(i){return K$.isInstance(n.request)?(r=n.request,(void 0===(o=(e.requestHandler.metadata||{}).handlerProtocol)?"":o).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),sY)}}}(i.config)),i.middlewareStack.use((i.config,{applyToStack:function(e){e.add((function(e,t){return function(n){return Ot(void 0,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f;return kt(this,(function(d){switch(d.label){case 0:return r=t.clientName,o=t.commandName,i=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,f=Pt(c,["$metadata"]),a.info({clientName:r,commandName:o,input:i(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}),uY)}})),i.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Ot(void 0,void 0,void 0,(function(){var r,o,i,a;return kt(this,(function(s){return r=n.request,!K$.isInstance(r)||"node"!==e.runtime||r.headers.hasOwnProperty(cY)?[2,t(n)]:(o=process.env.AWS_LAMBDA_FUNCTION_NAME,i=process.env._X_AMZN_TRACE_ID,(a=function(e){return"string"==typeof e&&e.length>0})(o)&&a(i)&&(r.headers[cY]=i),[2,t(Ct(Ct({},n),{request:r}))])}))}))}}}(e),lY)}}}(i.config)),i.middlewareStack.use(function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t,n){return function(r){var o,i,a;return Ot(this,void 0,void 0,(function(){var s,u,c,l,f,d,p;return kt(this,(function(h){switch(h.label){case 0:return K$.isInstance(r.request)?(s=null===(a=null===(i=null===(o=n.endpointV2)||void 0===o?void 0:o.properties)||void 0===i?void 0:i.authSchemes)||void 0===a?void 0:a[0],[4,e.signer(s)]):[2,t(r)];case 1:return u=h.sent(),l=t,f=[Ct({},r)],p={},[4,u.sign(r.request,{signingDate:yZ(e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 2:return[4,l.apply(void 0,[Ct.apply(void 0,f.concat([(p.request=h.sent(),p)]))]).catch((function(t){var n,r=null!==(n=t.ServerTime)&&void 0!==n?n:gZ(t.$response);throw r&&(e.systemClockOffset=mZ(r,e.systemClockOffset)),t}))];case 3:return c=h.sent(),(d=gZ(c.response))&&(e.systemClockOffset=mZ(d,e.systemClockOffset)),[2,c]}}))}))}}}(e),bZ)}}}(i.config)),i.middlewareStack.use((r=i.config,{applyToStack:function(e){var t;e.add((t=r,function(e,n){return function(r){return Ot(void 0,void 0,void 0,(function(){var o,i,a,s,u,c,l,f,d;return kt(this,(function(p){switch(p.label){case 0:return o=r.request,K$.isInstance(o)?(i=o.headers,a=(null===(f=null==n?void 0:n.userAgent)||void 0===f?void 0:f.map(_Z))||[],[4,t.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=p.sent().map(_Z),u=(null===(d=null==t?void 0:t.customUserAgent)||void 0===d?void 0:d.map(_Z))||[],c=Dt(Dt(Dt([],Nt(s),!1),Nt(a),!1),Nt(u),!1).join(" "),l=Dt(Dt([],Nt(s.filter((function(e){return e.startsWith("aws-sdk-")}))),!1),Nt(u),!1).join(" "),"browser"!==t.runtime?(l&&(i[SZ]=i[SZ]?"".concat(i[wZ]," ").concat(l):l),i[wZ]=c):i[SZ]=c,[2,e(Ct(Ct({},r),{request:o}))]}}))}))}}),xZ)}})),i}return xe(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(i$),JZ=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(t$(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"PinpointClient",commandName:"UpdateEndpointCommand",inputFilterSensitiveLog:B$,outputFilterSensitiveLog:q$},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return n=f.sent(),r=n.hostname,o=n.protocol,i=void 0===o?"https":o,a=n.port,s=n.path,u={"content-type":"application/json"},c="".concat((null==s?void 0:s.endsWith("/"))?s.slice(0,-1):s||"")+"/v1/apps/{ApplicationId}/endpoints/{EndpointId}",c=j$(c,e,"ApplicationId",(function(){return e.ApplicationId}),"{ApplicationId}",!1),c=j$(c,e,"EndpointId",(function(){return e.EndpointId}),"{EndpointId}",!1),void 0!==e.EndpointRequest&&(l=function(e,t){return Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct({},null!=e.Address&&{Address:e.Address}),null!=e.Attributes&&{Attributes:PW(e.Attributes,t)}),null!=e.ChannelType&&{ChannelType:e.ChannelType}),null!=e.Demographic&&{Demographic:TW(e.Demographic)}),null!=e.EffectiveDate&&{EffectiveDate:e.EffectiveDate}),null!=e.EndpointStatus&&{EndpointStatus:e.EndpointStatus}),null!=e.Location&&{Location:IW(e.Location)}),null!=e.Metrics&&{Metrics:CW(e.Metrics,t)}),null!=e.OptOut&&{OptOut:e.OptOut}),null!=e.RequestId&&{RequestId:e.RequestId}),null!=e.User&&{User:AW(e.User,t)})}(e.EndpointRequest,t)),void 0===l&&(l={}),l=JSON.stringify(l),[2,new K$({protocol:i,hostname:r,port:a,method:"PUT",headers:u,path:c,body:l})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o;return kt(this,(function(i){switch(i.label){case 0:return 202!==e.statusCode&&e.statusCode>=300?[2,yW(e,t)]:(n=mW({$metadata:WW(e)}),o=f$,[4,YW(e.body,t)]);case 1:return r=o.apply(void 0,[i.sent()]),n.MessageBody=function(e,t){return{Message:d$(e.Message),RequestID:d$(e.RequestID)}}(r),[2,n]}}))}))}(e,t)},t}(a$),XZ=n(3942);!function(e){e.MESSAGE_RECEIVED="MESSAGE_RECEIVED_EVENT",e.MESSAGE_DISPLAYED="MESSAGE_DISPLAYED_EVENT",e.MESSAGE_DISMISSED="MESSAGE_DISMISSED_EVENT",e.MESSAGE_ACTION_TAKEN="MESSAGE_ACTION_TAKEN_EVENT"}(jZ||(jZ={}));var QZ,eJ,tJ=((UZ={})[jZ.MESSAGE_RECEIVED]=new Set,UZ[jZ.MESSAGE_DISPLAYED]=new Set,UZ[jZ.MESSAGE_DISMISSED]=new Set,UZ[jZ.MESSAGE_ACTION_TAKEN]=new Set,UZ),nJ=function(e,t){tJ[t].forEach((function(t){t.handleEvent(e)}))},rJ=function(e,t){var n={handleEvent:e,remove:function(){tJ[t].delete(n)}};return tJ[t].add(n),n},oJ=n(308),iJ=n.n(oJ),aJ=Y().isBrowser;aJ&&document&&(void 0!==document.hidden?(QZ="hidden",eJ="visibilitychange"):void 0!==document.msHidden?(QZ="msHidden",eJ="msvisibilitychange"):void 0!==document.webkitHidden&&(QZ="webkitHidden",eJ="webkitvisibilitychange"));var sJ=new c("InAppMessagingSessionTracker");const uJ=function(e){var t=this;void 0===e&&(e=iJ()),this.start=function(){return aJ&&(null===document||void 0===document||document.addEventListener(eJ,t.visibilityChangeHandler)),t.getSessionState()},this.end=function(){return aJ&&(null===document||void 0===document||document.removeEventListener(eJ,t.visibilityChangeHandler)),t.getSessionState()},this.getSessionState=function(){return aJ&&document&&!document[QZ]?"started":"ended"},this.visibilityChangeHandler=function(){aJ&&document&&(document[QZ]?(sJ.debug("App is now hidden"),t.sessionStateChangeHandler("ended")):(sJ.debug("App is now visible"),t.sessionStateChangeHandler("started")))},this.sessionStateChangeHandler=e};var cJ;!function(e){e.MESSAGE_DISPLAYED="_inapp.message_displayed",e.MESSAGE_DISMISSED="_inapp.message_dismissed",e.MESSAGE_ACTION_TAKEN="_inapp.message_clicked"}(cJ||(cJ={}));var lJ="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",fJ={},dJ={},pJ={},hJ=new c("AWSPinpointProvider"),vJ=function(e,t,n){_.dispatch("inAppMessaging",{event:e,data:t,message:n},"InAppMessaging",lJ)},yJ=function(){var e=new Date;return e.setHours(0,0,0,0),e.toISOString()},mJ=function(e){var t,n,r=e.InAppMessage;return null!==(n=null===(t=null==r?void 0:r.Content)||void 0===t?void 0:t.map((function(e){var t=e.BackgroundColor,n=e.BodyConfig,r=e.HeaderConfig,o=e.ImageUrl,i=e.PrimaryBtn,a=e.SecondaryBtn,s=null==i?void 0:i.DefaultConfig,u=null==a?void 0:a.DefaultConfig,c={};return t&&(c.container={style:{backgroundColor:t}}),r&&(c.header={content:r.Header,style:{color:r.TextColor,textAlign:r.Alignment.toLowerCase()}}),n&&(c.body={content:n.Body,style:{color:n.TextColor,textAlign:n.Alignment.toLowerCase()}}),o&&(c.image={src:o}),s&&(c.primaryButton={title:s.Text,action:s.ButtonAction,url:s.Link,style:{backgroundColor:s.BackgroundColor,borderRadius:s.BorderRadius,color:s.TextColor}}),u&&(c.secondaryButton={title:u.Text,action:u.ButtonAction,url:u.Link,style:{backgroundColor:u.BackgroundColor,borderRadius:u.BorderRadius,color:u.TextColor}}),c})))&&void 0!==n?n:[]},gJ=function(e){var t=e.InAppMessage,n=e.Priority,r=e.Schedule,o=e.TreatmentId;return{customData:null==t?void 0:t.CustomConfig,endDate:null==r?void 0:r.EndDate,priority:n,treatmentId:o}},bJ="pinpointProvider_inAppMessages_dailyCount",wJ="pinpointProvider_inAppMessages_totalCount",SJ=function(){function e(){var e,t=this;this.config={},this.configured=!1,this.endpointInitialized=!1,this.initialized=!1,this.configure=function(e){return void 0===e&&(e={}),t.config=Ct(Ct({},t.config),e),hJ.debug("configure AWSPinpointProvider",t.config),t.configured||(t.sessionTracker=new uJ(t.sessionStateChangeHandler),t.sessionTracker.start(),rJ((function(e){t.recordMessageEvent(e,cJ.MESSAGE_DISPLAYED)}),jZ.MESSAGE_DISPLAYED),rJ((function(e){t.recordMessageEvent(e,cJ.MESSAGE_DISMISSED)}),jZ.MESSAGE_DISMISSED),rJ((function(e){t.recordMessageEvent(e,cJ.MESSAGE_ACTION_TAKEN)}),jZ.MESSAGE_ACTION_TAKEN)),t.configured=!0,vJ("pinpointProvider_configured",null),t.config},this.getInAppMessages=function(){return Ot(t,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return this.initialized?[3,2]:[4,this.init()];case 1:c.sent(),c.label=2;case 2:fJ={},dJ={},pJ={},c.label=3;case 3:return c.trys.push([3,6,,7]),[4,this.updateEndpoint()];case 4:return c.sent(),e=this.config,t=e.appId,n=e.endpointId,r=e.pinpointClient,i=new XW(o={ApplicationId:t,EndpointId:n}),hJ.debug("getting in-app messages",o),[4,r.send(i)];case 5:return a=c.sent(),s=a.InAppMessagesResponse.InAppMessageCampaigns,vJ("getInAppMessages",s),[2,s];case 6:throw u=c.sent(),hJ.error("Error getting in-app messages",u),u;case 7:return[2]}}))}))},this.processInAppMessages=function(e,n){return Ot(t,void 0,void 0,(function(){var t,r=this;return kt(this,(function(o){switch(o.label){case 0:return this.initialized?[3,2]:[4,this.init()];case 1:o.sent(),o.label=2;case 2:return[2,this.normalizeMessages(e.reduce((function(e,o){var i=function(e,t){var n,r=e.CampaignId,o=e.Schedule,i=t.name,a=(null===(n=null==o?void 0:o.EventFilter)||void 0===n?void 0:n.Dimensions).EventType,s=r+":"+i;return fJ.hasOwnProperty(s)||(fJ[s]=!!(null==a?void 0:a.Values.includes(i))),fJ[s]}(o,n)&&function(e,t){var n,r=e.CampaignId,o=e.Schedule,i=t.attributes,a=(null===(n=null==o?void 0:o.EventFilter)||void 0===n?void 0:n.Dimensions).Attributes;if(JE()(a))return!0;if(JE()(i))return!1;var s=r+":"+JSON.stringify(i);return dJ.hasOwnProperty(s)||(dJ[s]=Object.entries(a).every((function(e){var t=Nt(e,2),n=t[0];return t[1].Values.includes(i[n])}))),dJ[s]}(o,n)&&function(e,t){var n,r=e.CampaignId,o=e.Schedule,i=t.metrics,a=(null===(n=null==o?void 0:o.EventFilter)||void 0===n?void 0:n.Dimensions).Metrics;if(JE()(a))return!0;if(JE()(i))return!1;var s=r+":"+JSON.stringify(i);return pJ.hasOwnProperty(s)||(pJ[s]=Object.entries(a).every((function(e){var t=Nt(e,2),n=t[0],r=t[1],o=r.ComparisonOperator,a=r.Value,s=function(e){switch(e){case"EQUAL":return function(e,t){return e===t};case"GREATER_THAN":return function(e,t){return e<t};case"GREATER_THAN_OR_EQUAL":return function(e,t){return e<=t};case"LESS_THAN":return function(e,t){return e>t};case"LESS_THAN_OR_EQUAL":return function(e,t){return e>=t};default:return null}}(o);return!!s&&s(a,i[n])}))),pJ[s]}(o,n)&&function(e){var t=e.Schedule;return!(null==t?void 0:t.EndDate)||new Date<new Date(t.EndDate)}(o)&&r.isBelowCap(o);if(i)if(t){if(o.Priority){if(o.Priority<t)return t=o.Priority,[o];o.Priority===t&&e.push(o)}}else{if(o.Priority)return t=o.Priority,[o];e.push(o)}return e}),[]))]}}))}))},this.identifyUser=function(e,n){return Ot(t,void 0,void 0,(function(){var t;return kt(this,(function(r){switch(r.label){case 0:return this.initialized?[3,2]:[4,this.init()];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this.updateEndpoint(e,n)];case 3:return r.sent(),[3,5];case 4:throw t=r.sent(),hJ.error("Error identifying user",t),t;case 5:return[2]}}))}))},this.init=function(){return Ot(t,void 0,void 0,(function(){var e,t,n,r,o,i;return kt(this,(function(a){switch(a.label){case 0:e=this.config,t=e.endpointId,n=e.storage,r=this.getProviderName(),a.label=1;case 1:return a.trys.push([1,6,,7]),"function"!=typeof n.sync?[3,3]:[4,n.sync()];case 2:a.sent(),a.label=3;case 3:return t?[3,5]:(o=this.config,[4,this.getEndpointId()]);case 4:o.endpointId=a.sent(),a.label=5;case 5:return this.initialized=!0,[3,7];case 6:return i=a.sent(),hJ.error("Failed to initialize "+r,i),[3,7];case 7:return[2]}}))}))},this.initPinpointClient=function(){return Ot(t,void 0,void 0,(function(){var e,t,n,r,o;return kt(this,(function(i){if(e=this.config,t=e.appId,n=e.credentials,r=e.pinpointClient,o=e.region,!t||!n||!o)throw new Error("One or more of credentials, appId or region is not configured");return r&&r.destroy(),this.config.pinpointClient=new ZZ({region:o,credentials:n,customUserAgent:te()}),[2]}))}))},this.getEndpointId=function(){return Ot(t,void 0,void 0,(function(){var e,t,n,r,o;return kt(this,(function(i){switch(i.label){case 0:return e=this.config.appId,t=this.getSubCategory()+":"+this.getProviderName()+":"+e,[4,sl.getItem(t)];case 1:return(n=i.sent())?[2,n]:(r=(0,XZ.v4)(),o=(new Date).getTime()+31536e8,sl.setItem(t,r,{expires:o,priority:1}),[2,r])}}))}))},this.updateEndpoint=function(e,n){return void 0===e&&(e=null),void 0===n&&(n=null),Ot(t,void 0,void 0,(function(){var t,r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T,I;return kt(this,(function(A){switch(A.label){case 0:return t=this.config,r=t.appId,o=t.credentials,i=t.endpointId,a=t.endpointInfo,s=void 0===a?{}:a,u=t.pinpointClient,[4,this.getCredentials()];case 1:if(c=A.sent(),l=!o||Object.keys(c).some((function(e){return c[e]!==o[e]})),this.endpointInitialized&&!l&&!e&&!n)return[2];this.config.credentials=c,A.label=2;case 2:return A.trys.push([2,6,,7]),u&&!l?[3,4]:[4,this.initPinpointClient()];case 3:A.sent(),A.label=4;case 4:return d=(f=null!=n?n:{}).address,p=f.attributes,h=f.demographic,v=f.location,y=f.metrics,m=f.optOut,g=this.clientInfo,b=g.appVersion,w=g.make,S=g.model,E=g.platform,_=g.version,x={ApplicationId:r,EndpointId:i,EndpointRequest:{RequestId:(0,XZ.v4)(),EffectiveDate:(new Date).toISOString(),ChannelType:L$.IN_APP,Address:null!=d?d:s.address,Attributes:Ct(Ct({},s.attributes),p),Demographic:Ct({AppVersion:b,Make:w,Model:S,ModelVersion:_,Platform:E},J(Ct(Ct({},s.demographic),h))),Location:J(Ct(Ct({},s.location),v)),Metrics:Ct(Ct({},s.metrics),y),OptOut:null!=m?m:s.optOut,User:{UserId:null!==(I=null!=e?e:s.userId)&&void 0!==I?I:c.identityId,UserAttributes:null!=p?p:s.userAttributes}}},T=new JZ(x),hJ.debug("updating endpoint",x),[4,this.config.pinpointClient.send(T)];case 5:return A.sent(),this.endpointInitialized=!0,[3,7];case 6:throw A.sent();case 7:return[2]}}))}))},this.getCredentials=function(){return Ot(t,void 0,void 0,(function(){var e,t;return kt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,fs.get()];case 1:return(e=n.sent())?[2,fs.shear(e)]:(hJ.debug("no credentials found"),[2,null]);case 2:return t=n.sent(),hJ.error("Error getting credentials:",t),[2,null];case 3:return[2]}}))}))},this.sessionStateChangeHandler=function(e){"started"===e&&(t.sessionMessageCountMap={})},this.isBelowCap=function(e){var n=e.CampaignId,r=e.SessionCap,o=e.DailyCap,i=e.TotalCap,a=t.getMessageCounts(n),s=a.sessionCount,u=a.dailyCount,c=a.totalCount;return(!r||s<r)&&(!o||u<o)&&(!i||c<i)},this.getSessionCount=function(e){return t.sessionMessageCountMap[e]||0},this.getDailyCount=function(){var e=t.config.storage,n=yJ(),r=e.getItem(bJ),o=r?JSON.parse(r):{count:0,lastCountTimestamp:n};return o.lastCountTimestamp===n?o.count:0},this.getTotalCountMap=function(){var e=t.config.storage.getItem(wJ);return e?JSON.parse(e):{}},this.getTotalCount=function(e){return t.getTotalCountMap()[e]||0},this.getMessageCounts=function(e){try{return{sessionCount:t.getSessionCount(e),dailyCount:t.getDailyCount(),totalCount:t.getTotalCount(e)}}catch(e){hJ.error("Failed to get message counts from storage",e)}},this.setSessionCount=function(e,n){t.sessionMessageCountMap[e]=n},this.setDailyCount=function(e){var n=t.config.storage,r={count:e,lastCountTimestamp:yJ()};try{n.setItem(bJ,JSON.stringify(r))}catch(e){hJ.error("Failed to save daily message count to storage",e)}},this.setTotalCountMap=function(e){var n=t.config.storage;try{n.setItem(wJ,JSON.stringify(e))}catch(e){hJ.error("Failed to save total count to storage",e)}},this.setTotalCount=function(e,n){var r,o=Ct(Ct({},t.getTotalCountMap()),((r={})[e]=n,r));t.setTotalCountMap(o)},this.incrementCounts=function(e){return Ot(t,void 0,void 0,(function(){var t,n,r,o;return kt(this,(function(i){return t=this.getMessageCounts(e),n=t.sessionCount,r=t.dailyCount,o=t.totalCount,this.setSessionCount(e,n+1),this.setDailyCount(r+1),this.setTotalCount(e,o+1),[2]}))}))},this.normalizeMessages=function(e){return e.map((function(e){var t,n=e.CampaignId,r=e.InAppMessage;return{id:n,content:mJ(e),layout:(t=r.Layout,t===W$.MOBILE_FEED?"MODAL":t===W$.OVERLAYS?"FULL_SCREEN":t),metadata:gJ(e)}}))},this.recordMessageEvent=function(e,n){return Ot(t,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return this.initialized?[3,2]:[4,this.init()];case 1:t.sent(),t.label=2;case 2:return function(e,t){if(t)if(d.Analytics&&"function"==typeof d.Analytics.record){var n=t.id,r=t.metadata;d.Analytics.record({name:e,attributes:{campaign_id:n,delivery_type:"IN_APP_MESSAGE",treatment_id:null==r?void 0:r.treatmentId}})}else hJ.debug("Analytics module is not registered into Amplify");else hJ.debug("Unable to record analytics event - no InAppMessage was received")}(n,e),n!==cJ.MESSAGE_DISPLAYED?[3,4]:[4,this.incrementCounts(e.id)];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))},this.sessionMessageCountMap={},this.config={storage:(new oe).getStorage()},this.clientInfo=null!==(e=A.clientInfo())&&void 0!==e?e:{}}return e.prototype.getCategory=function(){return e.category},e.prototype.getSubCategory=function(){return e.subCategory},e.prototype.getProviderName=function(){return e.providerName},e.category="Notifications",e.subCategory="InAppMessaging",e.providerName="AWSPinpoint",e}();const EJ=SJ;var _J="_inAppMessages",xJ=new c("Notifications.InAppMessaging"),TJ=function(){function e(){var e=this;this.config={},this.listeningForAnalyticEvents=!1,this.pluggables=[],this.storageSynced=!1,this.configure=function(t){void 0===t&&(t={});var n=t.listenForAnalyticsEvents,r=void 0===n||n,o=Pt(t,["listenForAnalyticsEvents"]);return e.config=Ct(Ct({},e.config),o),xJ.debug("configure InAppMessaging",e.config),e.pluggables.forEach((function(t){t.configure(e.config[t.getProviderName()])})),0===e.pluggables.length&&e.addPluggable(new EJ),r&&!e.listeningForAnalyticEvents&&(_.listen("analytics",e.analyticsListener),e.listeningForAnalyticEvents=!0),e.config},this.getPluggable=function(t){var n,r=null!==(n=e.pluggables.find((function(e){return e.getProviderName()===t})))&&void 0!==n?n:null;return r||xJ.debug("No plugin found with name "+t),r},this.addPluggable=function(t){if(t&&"Notifications"===t.getCategory()&&"InAppMessaging"===t.getSubCategory()){if(e.getPluggable(t.getProviderName()))throw new Error("Pluggable "+t.getProviderName()+" has already been added.");e.pluggables.push(t),t.configure(e.config[t.getProviderName()])}},this.removePluggable=function(t){var n=e.pluggables.findIndex((function(e){return e.getProviderName()===t}));-1===n?xJ.debug("No plugin found with name "+t):e.pluggables.splice(n,1)},this.syncMessages=function(){return Promise.all(e.pluggables.map((function(t){return Ot(e,void 0,void 0,(function(){var e,n,r;return kt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,t.getInAppMessages()];case 1:return e=o.sent(),n=""+t.getProviderName()+_J,[4,this.setMessages(n,e)];case 2:return o.sent(),[3,4];case 3:throw r=o.sent(),xJ.error("Failed to sync messages",r),r;case 4:return[2]}}))}))})))},this.clearMessages=function(){return Promise.all(e.pluggables.map((function(t){return Ot(e,void 0,void 0,(function(){var e;return kt(this,(function(n){switch(n.label){case 0:return e=""+t.getProviderName()+_J,[4,this.removeMessages(e)];case 1:return n.sent(),[2]}}))}))})))},this.dispatchEvent=function(t){return Ot(e,void 0,void 0,(function(){var e,n,r=this;return kt(this,(function(o){switch(o.label){case 0:return[4,Promise.all(this.pluggables.map((function(e){return Ot(r,void 0,void 0,(function(){var n,r;return kt(this,(function(o){switch(o.label){case 0:return n=""+e.getProviderName()+_J,[4,this.getMessages(n)];case 1:return r=o.sent(),[2,e.processInAppMessages(r,t)]}}))}))})))];case 1:return e=o.sent(),(n=XV()(e)).length&&nJ(this.conflictHandler(n),jZ.MESSAGE_RECEIVED),[2]}}))}))},this.identifyUser=function(t,n){return Promise.all(e.pluggables.map((function(r){return Ot(e,void 0,void 0,(function(){var e;return kt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,r.identifyUser(t,n)];case 1:return o.sent(),[3,3];case 2:throw e=o.sent(),xJ.error("Failed to identify user",e),e;case 3:return[2]}}))}))})))},this.onMessageReceived=function(e){return rJ(e,jZ.MESSAGE_RECEIVED)},this.onMessageDisplayed=function(e){return rJ(e,jZ.MESSAGE_DISPLAYED)},this.onMessageDismissed=function(e){return rJ(e,jZ.MESSAGE_DISMISSED)},this.onMessageActionTaken=function(e){return rJ(e,jZ.MESSAGE_ACTION_TAKEN)},this.notifyMessageInteraction=function(e,t){nJ(e,t)},this.setConflictHandler=function(t){e.conflictHandler=t},this.analyticsListener=function(t){var n=t.payload,r=n.event,o=n.data;"record"===r&&e.dispatchEvent(o)},this.syncStorage=function(){return Ot(e,void 0,void 0,(function(){var e,t;return kt(this,(function(n){switch(n.label){case 0:e=this.config.storage,n.label=1;case 1:return n.trys.push([1,4,,5]),"function"!=typeof e.sync?[3,3]:[4,e.sync()];case 2:n.sent(),n.label=3;case 3:return this.storageSynced=!0,[3,5];case 4:return t=n.sent(),xJ.error("Failed to sync storage",t),[3,5];case 5:return[2]}}))}))},this.getMessages=function(t){return Ot(e,void 0,void 0,(function(){var e,n,r;return kt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),this.storageSynced?[3,2]:[4,this.syncStorage()];case 1:o.sent(),o.label=2;case 2:return e=this.config.storage,[2,(n=e.getItem(t))?JSON.parse(n):[]];case 3:return r=o.sent(),xJ.error("Failed to retrieve in-app messages from storage",r),[3,4];case 4:return[2]}}))}))},this.setMessages=function(t,n){return Ot(e,void 0,void 0,(function(){var e;return kt(this,(function(r){switch(r.label){case 0:if(!n)return[2];r.label=1;case 1:return r.trys.push([1,4,,5]),this.storageSynced?[3,3]:[4,this.syncStorage()];case 2:r.sent(),r.label=3;case 3:return this.config.storage.setItem(t,JSON.stringify(n)),[3,5];case 4:return e=r.sent(),xJ.error("Failed to store in-app messages",e),[3,5];case 5:return[2]}}))}))},this.removeMessages=function(t){return Ot(e,void 0,void 0,(function(){var e;return kt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),this.storageSynced?[3,2]:[4,this.syncStorage()];case 1:n.sent(),n.label=2;case 2:return this.config.storage.removeItem(t),[3,4];case 3:return e=n.sent(),xJ.error("Failed to remove in-app messages from storage",e),[3,4];case 4:return[2]}}))}))},this.defaultConflictHandler=function(e){var t=e.sort((function(e,t){var n,r,o=null===(n=e.metadata)||void 0===n?void 0:n.endDate,i=null===(r=t.metadata)||void 0===r?void 0:r.endDate;return o===i?0:o&&!i?-1:!o&&i?1:new Date(o)<new Date(i)?-1:1}));return t[0]},this.config={storage:(new oe).getStorage()},this.setConflictHandler(this.defaultConflictHandler)}return e.prototype.getModuleName=function(){return"InAppMessaging"},e}();const IJ=TJ;var AJ=new c("Notifications"),CJ=function(){function e(){var e=this;this.config={},this.configure=function(t){var n=(void 0===t?{}:t).Notifications;return e.config=Ct(Ct({},e.config),n),AJ.debug("configure Notifications",n),e.inAppMessaging.configure(e.config.InAppMessaging),e.config},this.inAppMessaging=new IJ}return e.prototype.getModuleName=function(){return"Notifications"},Object.defineProperty(e.prototype,"InAppMessaging",{get:function(){return this.inAppMessaging},enumerable:!0,configurable:!0}),e}(),PJ=new CJ;const OJ=PJ;d.register(PJ);var kJ=function(e,t){return kJ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},kJ(e,t)};function RJ(e,t){function n(){this.constructor=e}kJ(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var NJ=function(){return NJ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},NJ.apply(this,arguments)};function LJ(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function DJ(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var MJ=new c("AbstractXRProvider"),jJ=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=NJ(NJ({},e),this._config),MJ.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"XR"},Object.defineProperty(e.prototype,"options",{get:function(){return NJ({},this._config)},enumerable:!0,configurable:!0}),e}(),UJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return RJ(t,e),t}(Error),FJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return RJ(t,e),t}(UJ),zJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return RJ(t,e),t}(UJ),BJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return RJ(t,e),t}(UJ),qJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return RJ(t,e),t}(UJ),KJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return RJ(t,e),t}(UJ),GJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return RJ(t,e),t}(UJ),HJ=new c("SumerianProvider"),VJ=function(e){function t(t){return void 0===t&&(t={}),e.call(this,t)||this}return RJ(t,e),t.prototype.getProviderName=function(){return"SumerianProvider"},t.prototype.loadScript=function(e){return LJ(this,void 0,void 0,(function(){return DJ(this,(function(t){return[2,new Promise((function(t,n){var r=document.createElement("script");r.src=e,r.addEventListener("load",(function(e){t()})),r.addEventListener("error",(function(t){n(new Error("Failed to load script: "+e))})),document.head.appendChild(r)}))]}))}))},t.prototype.loadScene=function(e,t,n){return LJ(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T,I,A,C,P;return DJ(this,(function(O){switch(O.label){case 0:if(!e)throw u="No scene name passed into loadScene",HJ.error(u),new KJ(u);if(!t)throw u="No dom element id passed into loadScene",HJ.error(u),new qJ(u);if(!(r=document.getElementById(t)))throw u="DOM element id, "+t+" not found",HJ.error(u),new qJ(u);if(!(o=this.getScene(e)).sceneConfig)throw u="No scene config configured for scene: "+e,HJ.error(u),new KJ(u);if(i=o.sceneConfig.url,a=o.sceneConfig.sceneId,o.sceneConfig.hasOwnProperty("region"))s=o.sceneConfig.region;else{if(!this.options.hasOwnProperty("region"))throw u="No region configured for scene: "+e,HJ.error(u),new KJ(u);s=this.options.region}c={region:s,customUserAgent:Dj.userAgent+"-SumerianScene"},l={headers:{"X-Amz-User-Agent":Dj.userAgent}},f=i,O.label=1;case 1:return O.trys.push([1,3,,4]),[4,fs.get()];case 2:return d=O.sent(),c.credentials=d,p={secret_key:d.secretAccessKey,access_key:d.accessKeyId,session_token:d.sessionToken},h={region:s,service:"sumerian"},v=$.sign({method:"GET",url:i},p,h),l.headers=NJ(NJ({},l.headers),v.headers),f=v.url,[3,4];case 3:return O.sent(),HJ.debug("No credentials available, the request will be unsigned"),[3,4];case 4:return[4,fetch(f,l)];case 5:return[4,(y=O.sent()).json()];case 6:if(m=O.sent(),403===y.status)throw m.message?(HJ.error("Failure to authenticate user: "+m.message),new KJ("Failure to authenticate user: "+m.message)):(HJ.error("Failure to authenticate user"),new KJ("Failure to authenticate user"));return g=m.bundleData[a],[4,fetch(g.url,{headers:g.headers})];case 7:return[4,O.sent().json()];case 8:b=O.sent(),O.label=9;case 9:return O.trys.push([9,11,,12]),[4,this.loadScript(b[a].bootstrapperUrl)];case 10:return O.sent(),[3,12];case 11:throw w=O.sent(),HJ.error(w),new KJ(w);case 12:return S=n.progressCallback?n.progressCallback:void 0,E=o.publishParamOverrides?o.publishParamOverrides:void 0,_={element:r,sceneId:a,sceneBundle:b,apiResponse:m,progressCallback:S,publishParamOverrides:E,awsSDKConfigOverride:c},[4,window.SumerianBootstrapper.loadScene(_)];case 13:x=O.sent(),o.sceneController=x,o.isLoaded=!0;try{for(T=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(x.sceneLoadWarnings),I=T.next();!I.done;I=T.next())A=I.value,HJ.warn("loadScene warning: "+A)}catch(e){C={error:e}}finally{try{I&&!I.done&&(P=T.return)&&P.call(T)}finally{if(C)throw C.error}}return[2]}}))}))},t.prototype.isSceneLoaded=function(e){return this.getScene(e).isLoaded||!1},t.prototype.getScene=function(e){if(!this.options.scenes){var t="No scenes were defined in the configuration";throw HJ.error(t),new FJ(t)}if(!e)throw t="No scene name was passed",HJ.error(t),new zJ(t);if(!this.options.scenes[e])throw t="Scene '"+e+"' is not configured",HJ.error(t),new zJ(t);return this.options.scenes[e]},t.prototype.getSceneController=function(e){if(!this.options.scenes){var t="No scenes were defined in the configuration";throw HJ.error(t),new FJ(t)}var n=this.options.scenes[e];if(!n)throw t="Scene '"+e+"' is not configured",HJ.error(t),new zJ(t);var r=n.sceneController;if(!r)throw t="Scene controller for '"+e+"' has not been loaded",HJ.error(t),new BJ(t);return r},t.prototype.isVRCapable=function(e){return this.getSceneController(e).vrCapable},t.prototype.isVRPresentationActive=function(e){return this.getSceneController(e).vrPresentationActive},t.prototype.start=function(e){this.getSceneController(e).start()},t.prototype.enterVR=function(e){this.getSceneController(e).enterVR()},t.prototype.exitVR=function(e){this.getSceneController(e).exitVR()},t.prototype.isMuted=function(e){return this.getSceneController(e).muted},t.prototype.setMuted=function(e,t){this.getSceneController(e).muted=t},t.prototype.onSceneEvent=function(e,t,n){this.getSceneController(e).on(t,n)},t.prototype.enableAudio=function(e){this.getSceneController(e).enableAudio()},t}(jJ),$J=new c("XR"),WJ=function(){function e(e){this._options=e,$J.debug("XR Options",this._options),this._defaultProvider="SumerianProvider",this._pluggables={},this.addPluggable(new VJ)}return e.prototype.configure=function(e){var t=this,n=e?e.XR||e:{};return $J.debug("configure XR",{opt:n}),this._options=Object.assign({},this._options,n),Object.entries(this._pluggables).map((function(e){var r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e,2),o=r[0],i=r[1];o!==t._defaultProvider||n[t._defaultProvider]?i.configure(t._options[o]):i.configure(t._options)})),this._options},e.prototype.addPluggable=function(e){return LJ(this,void 0,void 0,(function(){return DJ(this,(function(t){return e&&"XR"===e.getCategory()?(this._pluggables[e.getProviderName()]=e,[2,e.configure(this._options)]):[2]}))}))},e.prototype.loadScene=function(e,t,n,r){return void 0===n&&(n={}),void 0===r&&(r=this._defaultProvider),LJ(this,void 0,void 0,(function(){return DJ(this,(function(o){switch(o.label){case 0:if(!this._pluggables[r])throw new GJ("Provider '"+r+"' not configured");return[4,this._pluggables[r].loadScene(e,t,n)];case 1:return[2,o.sent()]}}))}))},e.prototype.isSceneLoaded=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new GJ("Provider '"+t+"' not configured");return this._pluggables[t].isSceneLoaded(e)},e.prototype.getSceneController=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new GJ("Provider '"+t+"' not configured");return this._pluggables[t].getSceneController(e)},e.prototype.isVRCapable=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new GJ("Provider '"+t+"' not configured");return this._pluggables[t].isVRCapable(e)},e.prototype.isVRPresentationActive=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new GJ("Provider '"+t+"' not configured");return this._pluggables[t].isVRPresentationActive(e)},e.prototype.start=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new GJ("Provider '"+t+"' not configured");return this._pluggables[t].start(e)},e.prototype.enterVR=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new GJ("Provider '"+t+"' not configured");return this._pluggables[t].enterVR(e)},e.prototype.exitVR=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new GJ("Provider '"+t+"' not configured");return this._pluggables[t].exitVR(e)},e.prototype.isMuted=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new GJ("Provider '"+t+"' not configured");return this._pluggables[t].isMuted(e)},e.prototype.setMuted=function(e,t,n){if(void 0===n&&(n=this._defaultProvider),!this._pluggables[n])throw new GJ("Provider '"+n+"' not configured");return this._pluggables[n].setMuted(e,t)},e.prototype.onSceneEvent=function(e,t,n,r){if(void 0===r&&(r=this._defaultProvider),!this._pluggables[r])throw new GJ("Provider '"+r+"' not configured");return this._pluggables[r].onSceneEvent(e,t,n)},e.prototype.enableAudio=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new GJ("Provider '"+t+"' not configured");return this._pluggables[t].enableAudio(e)},e}(),YJ=new WJ(null);d.register(YJ);var ZJ=function(){return ZJ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ZJ.apply(this,arguments)};function JJ(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function XJ(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(JJ(arguments[t]));return e}var QJ=new c("Predictions"),eX=new(function(){function e(e){this._options=e,this._convertPluggables=[],this._identifyPluggables=[],this._interpretPluggables=[]}return e.prototype.getModuleName=function(){return"Predictions"},e.prototype.addPluggable=function(e){if(this.getPluggable(e.getProviderName()))throw new Error("Pluggable with name "+e.getProviderName()+" has already been added.");var t=!1;this.implementsConvertPluggable(e)&&(this._convertPluggables.push(e),t=!0),this.implementsIdentifyPluggable(e)&&(this._identifyPluggables.push(e),t=!0),this.implementsInterpretPluggable(e)&&(this._interpretPluggables.push(e),t=!0),t&&this.configurePluggable(e)},e.prototype.getPluggable=function(e){var t=this.getAllProviders().find((function(t){return t.getProviderName()===e}));return void 0===t?(QJ.debug("No plugin found with providerName=>",e),null):t},e.prototype.removePluggable=function(e){this._convertPluggables=this._convertPluggables.filter((function(t){return t.getProviderName()!==e})),this._identifyPluggables=this._identifyPluggables.filter((function(t){return t.getProviderName()!==e})),this._interpretPluggables=this._interpretPluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.configure=function(e){var t=this,n=e?e.predictions||e:{};n=ZJ(ZJ({},n),e),this._options=Object.assign({},this._options,n),QJ.debug("configure Predictions",this._options),this.getAllProviders().forEach((function(e){return t.configurePluggable(e)}))},e.prototype.interpret=function(e,t){return this.getPluggableToExecute(this._interpretPluggables,t).interpret(e)},e.prototype.convert=function(e,t){return this.getPluggableToExecute(this._convertPluggables,t).convert(e)},e.prototype.identify=function(e,t){return this.getPluggableToExecute(this._identifyPluggables,t).identify(e)},e.prototype.getPluggableToExecute=function(e,t){if(t&&t.providerName)return XJ(e).find((function(e){return e.getProviderName()===t.providerName}));if(1===e.length)return e[0];throw new Error("More than one or no providers are configured, Either specify a provider name or configure exactly one provider")},e.prototype.getAllProviders=function(){return XJ(this._convertPluggables,this._identifyPluggables,this._interpretPluggables)},e.prototype.configurePluggable=function(e){var t=Object.assign({},this._options.predictions,this._options[e.getCategory().toLowerCase()]);e.configure(t)},e.prototype.implementsConvertPluggable=function(e){return e&&"function"==typeof e.convert},e.prototype.implementsIdentifyPluggable=function(e){return e&&"function"==typeof e.identify},e.prototype.implementsInterpretPluggable=function(e){return e&&"function"==typeof e.interpret},e}())({});d.register(eX);var tX,nX,rX,oX,iX,aX,sX,uX,cX,lX,fX,dX,pX,hX,vX,yX,mX,gX,bX,wX,SX,EX,_X,xX,TX,IX,AX,CX,PX,OX,kX,RX,NX,LX,DX,MX,jX,UX,FX,zX,BX,qX,KX,GX,HX,VX,$X,WX,YX,ZX,JX,XX,QX,eQ,tQ,nQ,rQ,oQ,iQ,aQ,sQ,uQ,cQ,lQ,fQ,dQ,pQ,hQ,vQ,yQ,mQ,gQ,bQ,wQ,SQ,EQ,_Q,xQ,TQ,IQ,AQ,CQ,PQ,OQ,kQ,RQ,NQ,LQ,DQ,MQ,jQ,UQ,FQ,zQ,BQ,qQ,KQ,GQ,HQ,VQ,$Q,WQ,YQ,ZQ,JQ=function(){function e(){this._logger=new c("ServiceWorker")}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return this._serviceWorker},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var n=this;return void 0===e&&(e="/service-worker.js"),void 0===t&&(t="/"),this._logger.debug("registering "+e),this._logger.debug("registering service worker with scope "+t),new Promise((function(r,o){if(!navigator||!("serviceWorker"in navigator))return o(new Error("Service Worker not available"));navigator.serviceWorker.register(e,{scope:t}).then((function(e){return e.installing?n._serviceWorker=e.installing:e.waiting?n._serviceWorker=e.waiting:e.active&&(n._serviceWorker=e.active),n._registration=e,n._setupListeners(),n._logger.debug("Service Worker Registration Success: "+e),r(e)})).catch((function(e){return n._logger.debug("Service Worker Registration Failed "+e),o(e)}))}))},e.prototype.enablePush=function(e){var t=this;if(!this._registration)throw new Error("Service Worker not registered");return this._publicKey=e,new Promise((function(n,r){if(!Y().isBrowser)return r(new Error("Service Worker not available"));t._registration.pushManager.getSubscription().then((function(r){if(!r)return t._logger.debug("User is NOT subscribed to push"),t._registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t._urlB64ToUint8Array(e)}).then((function(e){t._subscription=e,t._logger.debug("User subscribed: "+JSON.stringify(e)),n(e)})).catch((function(e){t._logger.error(e)}));t._subscription=r,t._logger.debug("User is subscribed to push: "+JSON.stringify(r)),n(r)}))}))},e.prototype._urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r},e.prototype.send=function(e){this._serviceWorker&&this._serviceWorker.postMessage("object"==typeof e?JSON.stringify(e):e)},e.prototype._setupListeners=function(){var e=this;this._serviceWorker.addEventListener("statechange",(function(t){var n=e._serviceWorker.state;e._logger.debug("ServiceWorker statechange: "+n),d.Analytics&&"function"==typeof d.Analytics.record&&d.Analytics.record({name:"ServiceWorker",attributes:{state:n}})})),this._serviceWorker.addEventListener("message",(function(t){e._logger.debug("ServiceWorker message event: "+t)}))},e}();!function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(tX||(tX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(nX||(nX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(rX||(rX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(oX||(oX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(iX||(iX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(aX||(aX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(sX||(sX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(uX||(uX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(cX||(cX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(lX||(lX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(fX||(fX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(dX||(dX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(pX||(pX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(hX||(hX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(vX||(vX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(yX||(yX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(mX||(mX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(gX||(gX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(bX||(bX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(wX||(wX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(SX||(SX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(EX||(EX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(_X||(_X={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(xX||(xX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(TX||(TX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(IX||(IX={})),function(e){e.CANCELLED="CANCELLED",e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.PENDING="PENDING",e.PENDING_CANCEL="PENDING_CANCEL",e.RUNNING="RUNNING"}(AX||(AX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(CX||(CX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(PX||(PX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(OX||(OX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(kX||(kX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(RX||(RX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(NX||(NX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(LX||(LX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(DX||(DX={})),function(e){e.LastEventTime="LastEventTime",e.LogStreamName="LogStreamName"}(MX||(MX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(jX||(jX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(UX||(UX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(FX||(FX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(zX||(zX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(BX||(BX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(qX||(qX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(KX||(KX={})),function(e){e.Cancelled="Cancelled",e.Complete="Complete",e.Failed="Failed",e.Running="Running",e.Scheduled="Scheduled"}(GX||(GX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(HX||(HX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(VX||(VX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}($X||($X={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(WX||(WX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(YX||(YX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ZX||(ZX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(JX||(JX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(XX||(XX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(QX||(QX={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(eQ||(eQ={})),function(e){e.ByLogStream="ByLogStream",e.Random="Random"}(tQ||(tQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(nQ||(nQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(rQ||(rQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(oQ||(oQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(iQ||(iQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(aQ||(aQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(sQ||(sQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(uQ||(uQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(cQ||(cQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(lQ||(lQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(fQ||(fQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(dQ||(dQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(pQ||(pQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(hQ||(hQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(vQ||(vQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(yQ||(yQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(mQ||(mQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(gQ||(gQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(bQ||(bQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(wQ||(wQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(SQ||(SQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(EQ||(EQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(_Q||(_Q={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(xQ||(xQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(TQ||(TQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(IQ||(IQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(AQ||(AQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(CQ||(CQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(PQ||(PQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(OQ||(OQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(kQ||(kQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(RQ||(RQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(NQ||(NQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(LQ||(LQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(DQ||(DQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(MQ||(MQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(jQ||(jQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(UQ||(UQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(FQ||(FQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(zQ||(zQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(BQ||(BQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(qQ||(qQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(KQ||(KQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(GQ||(GQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(HQ||(HQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(VQ||(VQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}($Q||($Q={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(WQ||(WQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(YQ||(YQ={})),function(e){e.filterSensitiveLog=function(e){return Ct({},e)}}(ZQ||(ZQ={}));var XQ=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),QQ=function(){return QQ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},QQ.apply(this,arguments)};function e0(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var t0=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(QQ(QQ({},this),{headers:QQ({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return QQ(QQ({},e),((r={})[n]=Array.isArray(o)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(e0(arguments[t]));return e}(o):o,r))}),{}))),n},e}(),n0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p;return kt(this,(function(h){switch(h.label){case 0:return r=[Ct({},e)],p={},[4,D0(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(p.body=h.sent(),p)])),i="UnknownError",i=M0(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,6];case"ResourceAlreadyExistsException":case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10]}return[3,12];case 2:return a=[{}],[4,c0(n,t)];case 3:return o=Ct.apply(void 0,[Ct.apply(void 0,a.concat([h.sent()])),{name:i,$metadata:R0(e)}]),[3,13];case 4:return s=[{}],[4,f0(n,t)];case 5:return o=Ct.apply(void 0,[Ct.apply(void 0,s.concat([h.sent()])),{name:i,$metadata:R0(e)}]),[3,13];case 6:return u=[{}],[4,d0(n,t)];case 7:return o=Ct.apply(void 0,[Ct.apply(void 0,u.concat([h.sent()])),{name:i,$metadata:R0(e)}]),[3,13];case 8:return c=[{}],[4,p0(n,t)];case 9:return o=Ct.apply(void 0,[Ct.apply(void 0,c.concat([h.sent()])),{name:i,$metadata:R0(e)}]),[3,13];case 10:return l=[{}],[4,v0(n,t)];case 11:return o=Ct.apply(void 0,[Ct.apply(void 0,l.concat([h.sent()])),{name:i,$metadata:R0(e)}]),[3,13];case 12:f=n.body,i=f.code||f.Code||i,o=Ct(Ct({},f),{name:""+i,message:f.message||f.Message||i,$fault:"client",$metadata:R0(e)}),h.label=13;case 13:return d=o.message||o.Message||i,o.message=d,delete o.Message,[2,Promise.reject(Object.assign(new Error(d),o))]}}))}))},r0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d;return kt(this,(function(p){switch(p.label){case 0:return r=[Ct({},e)],d={},[4,D0(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(d.body=p.sent(),d)])),i="UnknownError",i=M0(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceAlreadyExistsException":case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return a=[{}],[4,c0(n,t)];case 3:return o=Ct.apply(void 0,[Ct.apply(void 0,a.concat([p.sent()])),{name:i,$metadata:R0(e)}]),[3,11];case 4:return s=[{}],[4,p0(n,t)];case 5:return o=Ct.apply(void 0,[Ct.apply(void 0,s.concat([p.sent()])),{name:i,$metadata:R0(e)}]),[3,11];case 6:return u=[{}],[4,h0(n,t)];case 7:return o=Ct.apply(void 0,[Ct.apply(void 0,u.concat([p.sent()])),{name:i,$metadata:R0(e)}]),[3,11];case 8:return c=[{}],[4,v0(n,t)];case 9:return o=Ct.apply(void 0,[Ct.apply(void 0,c.concat([p.sent()])),{name:i,$metadata:R0(e)}]),[3,11];case 10:l=n.body,i=l.code||l.Code||i,o=Ct(Ct({},l),{name:""+i,message:l.message||l.Message||i,$fault:"client",$metadata:R0(e)}),p.label=11;case 11:return f=o.message||o.Message||i,o.message=f,delete o.Message,[2,Promise.reject(Object.assign(new Error(f),o))]}}))}))},o0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return r=[Ct({},e)],l={},[4,D0(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(l.body=f.sent(),l)])),i="UnknownError",i=M0(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return a=[{}],[4,c0(n,t)];case 3:return o=Ct.apply(void 0,[Ct.apply(void 0,a.concat([f.sent()])),{name:i,$metadata:R0(e)}]),[3,7];case 4:return s=[{}],[4,v0(n,t)];case 5:return o=Ct.apply(void 0,[Ct.apply(void 0,s.concat([f.sent()])),{name:i,$metadata:R0(e)}]),[3,7];case 6:u=n.body,i=u.code||u.Code||i,o=Ct(Ct({},u),{name:""+i,message:u.message||u.Message||i,$fault:"client",$metadata:R0(e)}),f.label=7;case 7:return c=o.message||o.Message||i,o.message=c,delete o.Message,[2,Promise.reject(Object.assign(new Error(c),o))]}}))}))},i0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f;return kt(this,(function(d){switch(d.label){case 0:return r=[Ct({},e)],f={},[4,D0(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(f.body=d.sent(),f)])),i="UnknownError",i=M0(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,c0(n,t)];case 3:return o=Ct.apply(void 0,[Ct.apply(void 0,a.concat([d.sent()])),{name:i,$metadata:R0(e)}]),[3,9];case 4:return s=[{}],[4,h0(n,t)];case 5:return o=Ct.apply(void 0,[Ct.apply(void 0,s.concat([d.sent()])),{name:i,$metadata:R0(e)}]),[3,9];case 6:return u=[{}],[4,v0(n,t)];case 7:return o=Ct.apply(void 0,[Ct.apply(void 0,u.concat([d.sent()])),{name:i,$metadata:R0(e)}]),[3,9];case 8:c=n.body,i=c.code||c.Code||i,o=Ct(Ct({},c),{name:""+i,message:c.message||c.Message||i,$fault:"client",$metadata:R0(e)}),d.label=9;case 9:return l=o.message||o.Message||i,o.message=l,delete o.Message,[2,Promise.reject(Object.assign(new Error(l),o))]}}))}))},a0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f;return kt(this,(function(d){switch(d.label){case 0:return r=[Ct({},e)],f={},[4,D0(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(f.body=d.sent(),f)])),i="UnknownError",i=M0(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,c0(n,t)];case 3:return o=Ct.apply(void 0,[Ct.apply(void 0,a.concat([d.sent()])),{name:i,$metadata:R0(e)}]),[3,9];case 4:return s=[{}],[4,h0(n,t)];case 5:return o=Ct.apply(void 0,[Ct.apply(void 0,s.concat([d.sent()])),{name:i,$metadata:R0(e)}]),[3,9];case 6:return u=[{}],[4,v0(n,t)];case 7:return o=Ct.apply(void 0,[Ct.apply(void 0,u.concat([d.sent()])),{name:i,$metadata:R0(e)}]),[3,9];case 8:c=n.body,i=c.code||c.Code||i,o=Ct(Ct({},c),{name:""+i,message:c.message||c.Message||i,$fault:"client",$metadata:R0(e)}),d.label=9;case 9:return l=o.message||o.Message||i,o.message=l,delete o.Message,[2,Promise.reject(Object.assign(new Error(l),o))]}}))}))},s0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h;return kt(this,(function(v){switch(v.label){case 0:return r=[Ct({},e)],h={},[4,D0(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(h.body=v.sent(),h)])),i="UnknownError",i=M0(e,n.body)){case"DataAlreadyAcceptedException":case"com.amazonaws.cloudwatchlogs#DataAlreadyAcceptedException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,4];case"InvalidSequenceTokenException":case"com.amazonaws.cloudwatchlogs#InvalidSequenceTokenException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10];case"UnrecognizedClientException":case"com.amazonaws.cloudwatchlogs#UnrecognizedClientException":return[3,12]}return[3,14];case 2:return a=[{}],[4,u0(n,t)];case 3:return o=Ct.apply(void 0,[Ct.apply(void 0,a.concat([v.sent()])),{name:i,$metadata:R0(e)}]),[3,15];case 4:return s=[{}],[4,c0(n,t)];case 5:return o=Ct.apply(void 0,[Ct.apply(void 0,s.concat([v.sent()])),{name:i,$metadata:R0(e)}]),[3,15];case 6:return u=[{}],[4,l0(n,t)];case 7:return o=Ct.apply(void 0,[Ct.apply(void 0,u.concat([v.sent()])),{name:i,$metadata:R0(e)}]),[3,15];case 8:return c=[{}],[4,h0(n,t)];case 9:return o=Ct.apply(void 0,[Ct.apply(void 0,c.concat([v.sent()])),{name:i,$metadata:R0(e)}]),[3,15];case 10:return l=[{}],[4,v0(n,t)];case 11:return o=Ct.apply(void 0,[Ct.apply(void 0,l.concat([v.sent()])),{name:i,$metadata:R0(e)}]),[3,15];case 12:return f=[{}],[4,y0(n,t)];case 13:return o=Ct.apply(void 0,[Ct.apply(void 0,f.concat([v.sent()])),{name:i,$metadata:R0(e)}]),[3,15];case 14:d=n.body,i=d.code||d.Code||i,o=Ct(Ct({},d),{name:""+i,message:d.message||d.Message||i,$fault:"client",$metadata:R0(e)}),v.label=15;case 15:return p=o.message||o.Message||i,o.message=p,delete o.Message,[2,Promise.reject(Object.assign(new Error(p),o))]}}))}))},u0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=b0(n,t),[2,Ct({name:"DataAlreadyAcceptedException",$fault:"client",$metadata:R0(e)},r)]}))}))},c0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=w0(n,t),[2,Ct({name:"InvalidParameterException",$fault:"client",$metadata:R0(e)},r)]}))}))},l0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=S0(n,t),[2,Ct({name:"InvalidSequenceTokenException",$fault:"client",$metadata:R0(e)},r)]}))}))},f0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=E0(n,t),[2,Ct({name:"LimitExceededException",$fault:"client",$metadata:R0(e)},r)]}))}))},d0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=T0(n,t),[2,Ct({name:"OperationAbortedException",$fault:"client",$metadata:R0(e)},r)]}))}))},p0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=C0(n,t),[2,Ct({name:"ResourceAlreadyExistsException",$fault:"client",$metadata:R0(e)},r)]}))}))},h0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=P0(n,t),[2,Ct({name:"ResourceNotFoundException",$fault:"client",$metadata:R0(e)},r)]}))}))},v0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=O0(n,t),[2,Ct({name:"ServiceUnavailableException",$fault:"server",$metadata:R0(e)},r)]}))}))},y0=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n=e.body,r=k0(n,t),[2,Ct({name:"UnrecognizedClientException",$fault:"client",$metadata:R0(e)},r)]}))}))},m0=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return Ct(Ct({},void 0!==e.message&&null!==e.message&&{message:e.message}),void 0!==e.timestamp&&null!==e.timestamp&&{timestamp:e.timestamp})}(e)}))},g0=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Nt(t,2),o=r[0],i=r[1];return null===i?e:Ct(Ct({},e),((n={})[o]=i,n))}),{})},b0=function(e,t){return{expectedSequenceToken:void 0!==e.expectedSequenceToken&&null!==e.expectedSequenceToken?e.expectedSequenceToken:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0}},w0=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},S0=function(e,t){return{expectedSequenceToken:void 0!==e.expectedSequenceToken&&null!==e.expectedSequenceToken?e.expectedSequenceToken:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0}},E0=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},_0=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{arn:void 0!==e.arn&&null!==e.arn?e.arn:void 0,creationTime:void 0!==e.creationTime&&null!==e.creationTime?e.creationTime:void 0,kmsKeyId:void 0!==e.kmsKeyId&&null!==e.kmsKeyId?e.kmsKeyId:void 0,logGroupName:void 0!==e.logGroupName&&null!==e.logGroupName?e.logGroupName:void 0,metricFilterCount:void 0!==e.metricFilterCount&&null!==e.metricFilterCount?e.metricFilterCount:void 0,retentionInDays:void 0!==e.retentionInDays&&null!==e.retentionInDays?e.retentionInDays:void 0,storedBytes:void 0!==e.storedBytes&&null!==e.storedBytes?e.storedBytes:void 0}}(e)}))},x0=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{arn:void 0!==e.arn&&null!==e.arn?e.arn:void 0,creationTime:void 0!==e.creationTime&&null!==e.creationTime?e.creationTime:void 0,firstEventTimestamp:void 0!==e.firstEventTimestamp&&null!==e.firstEventTimestamp?e.firstEventTimestamp:void 0,lastEventTimestamp:void 0!==e.lastEventTimestamp&&null!==e.lastEventTimestamp?e.lastEventTimestamp:void 0,lastIngestionTime:void 0!==e.lastIngestionTime&&null!==e.lastIngestionTime?e.lastIngestionTime:void 0,logStreamName:void 0!==e.logStreamName&&null!==e.logStreamName?e.logStreamName:void 0,storedBytes:void 0!==e.storedBytes&&null!==e.storedBytes?e.storedBytes:void 0,uploadSequenceToken:void 0!==e.uploadSequenceToken&&null!==e.uploadSequenceToken?e.uploadSequenceToken:void 0}}(e)}))},T0=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},I0=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ingestionTime:void 0!==e.ingestionTime&&null!==e.ingestionTime?e.ingestionTime:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0,timestamp:void 0!==e.timestamp&&null!==e.timestamp?e.timestamp:void 0}}(e)}))},A0=function(e,t){return{expiredLogEventEndIndex:void 0!==e.expiredLogEventEndIndex&&null!==e.expiredLogEventEndIndex?e.expiredLogEventEndIndex:void 0,tooNewLogEventStartIndex:void 0!==e.tooNewLogEventStartIndex&&null!==e.tooNewLogEventStartIndex?e.tooNewLogEventStartIndex:void 0,tooOldLogEventEndIndex:void 0!==e.tooOldLogEventEndIndex&&null!==e.tooOldLogEventEndIndex?e.tooOldLogEventEndIndex:void 0}},C0=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},P0=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},O0=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},k0=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},R0=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},N0=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},L0=function(e,t,n,r,o){return Ot(void 0,void 0,void 0,(function(){var i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return i=f.sent(),a=i.hostname,s=i.protocol,u=void 0===s?"https":s,c=i.port,l={protocol:u,hostname:a,port:c,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==o&&(l.body=o),[2,new t0(l)]}}))}))},D0=function(e,t){return function(e,t){return N0(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},M0=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==o?r(e.headers[o]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},j0=function(){return j0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},j0.apply(this,arguments)};function U0(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function F0(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var z0={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},B0={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function q0(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return U0(void 0,void 0,void 0,(function(){var o,i;return F0(this,(function(a){switch(a.label){case 0:return[4,n(r)];case 1:return o=a.sent().response,[4,t(o,e)];case 2:return i=a.sent(),[2,{response:o,output:i}]}}))}))}}}(e,n),z0),r.add(function(e,t){return function(n,r){return function(r){return U0(void 0,void 0,void 0,(function(){var o;return F0(this,(function(i){switch(i.label){case 0:return[4,t(r.input,e)];case 1:return o=i.sent(),[2,n(j0(j0({},r),{request:o}))]}}))}))}}}(e,t),B0)}}}var K0=function(){return K0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},K0.apply(this,arguments)};function G0(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function H0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(G0(arguments[t]));return e}var V0=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,K0({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,K0({},e))})),n},o=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,H0(o(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,H0(o(e)))})),t},i={add:function(t,r){void 0===r&&(r={});var o=r.name,i=r.override,a=K0({step:"initialize",priority:"normal",middleware:t},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '"+o+"'");var s=e.findIndex((function(e){return e.name===o})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'+o+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");e.splice(s,1)}n.add(o)}e.push(a)},addRelativeTo:function(e,r){var o=r.name,i=r.override,a=K0({middleware:e},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '"+o+"'");var s=t.findIndex((function(e){return e.name===o})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'+o+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');t.splice(s,1)}n.add(o)}t.push(a)},clone:function(){return r(V0())},use:function(e){e.applyToStack(i)},remove:function(r){return"string"==typeof r?function(r){var o=!1,i=function(e){return!e.name||e.name!==r||(o=!0,n.delete(r),!1)};return e=e.filter(i),t=t.filter(i),o}(r):function(r){var o=!1,i=function(e){return e.middleware!==r||(o=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(i),t=t.filter(i),o}(r)},removeByTag:function(r){var o=!1,i=function(e){var t=e.tags,i=e.name;return!t||!t.includes(r)||(i&&n.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:function(e){var t=r(V0());return t.use(e),t},applyToStack:r,resolve:function(n,r){var i,a;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(){var n=[],r=[],i={};e.forEach((function(e){var t=K0(K0({},e),{before:[],after:[]});t.name&&(i[t.name]=t),n.push(t)})),t.forEach((function(e){var t=K0(K0({},e),{before:[],after:[]});t.name&&(i[t.name]=t),r.push(t)})),r.forEach((function(e){if(e.toMiddleware){var t=i[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var a,s=(a=n,a.sort((function(e,t){return $0[t.step]-$0[e.step]||W0[t.priority||"normal"]-W0[e.priority||"normal"]}))).map(o).reduce((function(e,t){return e.push.apply(e,H0(t)),e}),[]);return s.map((function(e){return e.middleware}))}().reverse()),u=s.next();!u.done;u=s.next())n=(0,u.value)(n,r)}catch(e){i={error:e}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return n}};return i},$0={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},W0={high:3,normal:2,low:1},Y0=function(){function e(e){this.middlewareStack=V0(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return i(e).then((function(e){return e.output}));i(e).then((function(e){return o(null,e.output)}),(function(e){return o(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),Z0=function(){this.middlewareStack=V0()},J0=function(e,t){return J0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},J0(e,t)};function X0(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Q0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(X0(arguments[t]));return e}var e1=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Q0([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};e1.prototype=Object.create(String.prototype,{constructor:{value:e1,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(e1,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){function n(){this.constructor=e}J0(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(e1);var t1=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(q0(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CreateLogGroupCommand",inputFilterSensitiveLog:dX.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CreateLogGroup"},r=JSON.stringify(function(e,t){return Ct(Ct(Ct({},void 0!==e.kmsKeyId&&null!==e.kmsKeyId&&{kmsKeyId:e.kmsKeyId}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.tags&&null!==e.tags&&{tags:g0(e.tags,t)})}(e,t)),[2,L0(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n;return kt(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,n0(e,t)]:[4,N0(e.body,t)];case 1:return r.sent(),n={$metadata:R0(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(Z0),n1=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(q0(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeLogGroupsCommand",inputFilterSensitiveLog:NX.filterSensitiveLog,outputFilterSensitiveLog:DX.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeLogGroups"},r=JSON.stringify(function(e,t){return Ct(Ct(Ct({},void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupNamePrefix&&null!==e.logGroupNamePrefix&&{logGroupNamePrefix:e.logGroupNamePrefix}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken})}(e)),[2,L0(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o;return kt(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,o0(e,t)]:[4,D0(e.body,t)];case 1:return n=i.sent(),r=function(e,t){return{logGroups:void 0!==e.logGroups&&null!==e.logGroups?_0(e.logGroups,t):void 0,nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0}}(n,t),o=Ct({$metadata:R0(e)},r),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(Z0),r1=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(q0(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CreateLogStreamCommand",inputFilterSensitiveLog:pX.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CreateLogStream"},r=JSON.stringify(function(e,t){return Ct(Ct({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName})}(e)),[2,L0(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n;return kt(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,r0(e,t)]:[4,N0(e.body,t)];case 1:return r.sent(),n={$metadata:R0(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(Z0),o1=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(q0(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeLogStreamsCommand",inputFilterSensitiveLog:jX.filterSensitiveLog,outputFilterSensitiveLog:FX.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeLogStreams"},r=JSON.stringify(function(e,t){return Ct(Ct(Ct(Ct(Ct(Ct({},void 0!==e.descending&&null!==e.descending&&{descending:e.descending}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamNamePrefix&&null!==e.logStreamNamePrefix&&{logStreamNamePrefix:e.logStreamNamePrefix}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.orderBy&&null!==e.orderBy&&{orderBy:e.orderBy})}(e)),[2,L0(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o;return kt(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,i0(e,t)]:[4,D0(e.body,t)];case 1:return n=i.sent(),r=function(e,t){return{logStreams:void 0!==e.logStreams&&null!==e.logStreams?x0(e.logStreams,t):void 0,nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0}}(n,t),o=Ct({$metadata:R0(e)},r),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(Z0),i1=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(q0(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"GetLogEventsCommand",inputFilterSensitiveLog:cQ.filterSensitiveLog,outputFilterSensitiveLog:fQ.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.GetLogEvents"},r=JSON.stringify(function(e,t){return Ct(Ct(Ct(Ct(Ct(Ct(Ct({},void 0!==e.endTime&&null!==e.endTime&&{endTime:e.endTime}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.startFromHead&&null!==e.startFromHead&&{startFromHead:e.startFromHead}),void 0!==e.startTime&&null!==e.startTime&&{startTime:e.startTime})}(e)),[2,L0(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o;return kt(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,a0(e,t)]:[4,D0(e.body,t)];case 1:return n=i.sent(),r=function(e,t){return{events:void 0!==e.events&&null!==e.events?I0(e.events,t):void 0,nextBackwardToken:void 0!==e.nextBackwardToken&&null!==e.nextBackwardToken?e.nextBackwardToken:void 0,nextForwardToken:void 0!==e.nextForwardToken&&null!==e.nextForwardToken?e.nextForwardToken:void 0}}(n,t),o=Ct({$metadata:R0(e)},r),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(Z0),a1=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(q0(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutLogEventsCommand",inputFilterSensitiveLog:CQ.filterSensitiveLog,outputFilterSensitiveLog:OQ.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutLogEvents"},r=JSON.stringify(function(e,t){return Ct(Ct(Ct(Ct({},void 0!==e.logEvents&&null!==e.logEvents&&{logEvents:m0(e.logEvents)}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName}),void 0!==e.sequenceToken&&null!==e.sequenceToken&&{sequenceToken:e.sequenceToken})}(e)),[2,L0(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o;return kt(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,s0(e,t)]:[4,D0(e.body,t)];case 1:return n=i.sent(),r=function(e,t){return{nextSequenceToken:void 0!==e.nextSequenceToken&&null!==e.nextSequenceToken?e.nextSequenceToken:void 0,rejectedLogEventsInfo:void 0!==e.rejectedLogEventsInfo&&null!==e.rejectedLogEventsInfo?A0(e.rejectedLogEventsInfo,t):void 0}}(n,t),o=Ct({$metadata:R0(e)},r),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(Z0),s1=n(1597);function u1(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function c1(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var l1=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,f1)},f1=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()},d1=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var o=new Error("Request aborted");return o.name="AbortError",Promise.reject(o)}var i=e.path;if(e.query){var a=function(e){var t,n,r=[];try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e).sort()),i=o.next();!i.done;i=o.next()){var a=i.value,s=e[a];if(a=l1(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push(a+"="+l1(s[u]));else{var l=a;(s||"string"==typeof s)&&(l+="="+l1(s)),r.push(l)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.join("&")}(e.query);a&&(i+="?"+a)}var s=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(s?":"+s:"")+i,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var f,d=new Request(c,l),p=[fetch(d).then((function(e){var t,n,r=e.headers,o={};try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r.entries()),a=i.next();!a.done;a=i.next()){var s=a.value;o[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new XQ({headers:o,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new XQ({headers:o,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&p.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(p)},e}();function p1(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var o=null!==(e=r.result)&&void 0!==e?e:"",i=o.indexOf(","),a=i>-1?i+1:o.length;t(o.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var h1=function(){return h1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},h1.apply(this,arguments)};function v1(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function y1(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function m1(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var g1={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},b1=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],w1=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],S1=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],E1=[500,502,503,504],_1=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||w1.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},x1=n(7134),T1=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},I1=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return b1.includes(e.name)}(e)||_1(e)||function(e){var t;return S1.includes(e.name)||E1.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},A1=function(){function e(e,t){var n,r,o,i,a,s,u;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:I1,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:T1,this.retryQuota=null!==(o=null==t?void 0:t.retryQuota)&&void 0!==o?o:(i=500,a=500,s=function(e){return"TimeoutError"===e.name?10:5},u=function(e){return s(e)<=a},Object.freeze({hasRetryTokens:u,retrieveRetryTokens:function(e){if(!u(e))throw new Error("No retry token available");var t=s(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,i)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return v1(this,void 0,void 0,(function(){var e;return y1(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return v1(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return y1(this,(function(l){switch(l.label){case 0:return r=0,o=0,[4,this.getMaxAttempts()];case 1:i=l.sent(),a=t.request,t0.isInstance(a)&&(a.headers["amz-sdk-invocation-id"]=(0,x1.v4)()),s=function(){var s,c,l,f,d;return y1(this,(function(p){switch(p.label){case 0:return p.trys.push([0,2,,5]),t0.isInstance(a)&&(a.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+i),[4,e(t)];case 1:return s=p.sent(),c=s.response,l=s.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=o,[2,{value:{response:c,output:l}}];case 2:return f=p.sent(),r++,u.shouldRetry(f,r,i)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(_1(f)?500:100,r),o+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return p.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=o,f;case 5:return[2]}}))},u=this,l.label=2;case 2:return[5,s()];case 3:return"object"==typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}();var C1=n(979),P1="logs.{region}.amazonaws.com",O1=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),k1=new Set(["cn-north-1","cn-northwest-1"]),R1=new Set(["us-iso-east-1"]),N1=new Set(["us-isob-east-1"]),L1=new Set(["us-gov-east-1","us-gov-west-1"]);function D1(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var M1={apiVersion:"2014-03-28",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"logs.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"logs.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"logs.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"logs.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"logs.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"logs.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"logs.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"logs.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"logs.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"logs.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"logs.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"logs.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"logs.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"logs.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"logs.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"logs.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"logs-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"logs-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-west-1":n={hostname:"logs-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":n={hostname:"logs-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":n={hostname:"logs.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":n={hostname:"logs.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"logs.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"logs.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"logs.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"us-gov-west-1":n={hostname:"logs.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-iso-east-1":n={hostname:"logs.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"logs.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"logs.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"logs.us-west-2.amazonaws.com",partition:"aws"};break;default:O1.has(e)&&(n={hostname:P1.replace("{region}",e),partition:"aws"}),k1.has(e)&&(n={hostname:"logs.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),R1.has(e)&&(n={hostname:"logs.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),N1.has(e)&&(n={hostname:"logs.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),L1.has(e)&&(n={hostname:"logs.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:P1.replace("{region}",e),partition:"aws"})}return Promise.resolve(Ct({signingService:"logs"},n))},serviceId:"CloudWatch Logs",urlParser:function(e){var t,n=new URL(e),r=n.hostname,o=n.pathname,i=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.split("&")),i=o.next();!i.done;i=o.next()){var a=D1(i.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:i?parseInt(i):void 0,protocol:a,path:o,query:t}}},j1=Ct(Ct({},M1),{runtime:"browser",base64Decoder:er,base64Encoder:tr,bodyLengthChecker:function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0},credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:function(e){var t=e.serviceId,n=e.clientVersion;return function(){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e,r,o,i,a,s,u,c,l;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(f){return e=(null===(o=null===window||void 0===window?void 0:window.navigator)||void 0===o?void 0:o.userAgent)?gr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(i=null==e?void 0:e.os)||void 0===i?void 0:i.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser",(null!==(u=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown")+"_"+(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}}({serviceId:M1.serviceId,clientVersion:"3.6.1"}),maxAttempts:3,region:function(){return Promise.reject("Region is missing")},requestHandler:new d1,sha256:s1.Sha256,streamCollector:function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return u1(this,void 0,void 0,(function(){var t,n;return c1(this,(function(r){switch(r.label){case 0:return[4,p1(e)];case 1:return t=r.sent(),n=er(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return u1(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return c1(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return o=u.sent(),i=o.done,(a=o.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=i,[3,1];case 3:return[2,t]}}))}))}(e)},utf8Decoder:C1.fromUtf8,utf8Encoder:C1.toUtf8}),U1=function(){return U1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},U1.apply(this,arguments)};var F1=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var o=Promise.resolve(t);return function(){return o}}return t},z1=function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t,n,r,o,i;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(a){switch(a.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=a.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(o=(null!==(i=a.sent())&&void 0!==i?i:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+o)]}}))}))},B1=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},q1=function(){return q1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},q1.apply(this,arguments)};var K1="content-length",G1={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},H1=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t,o,i,a,s;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(u){return t=r.request,t0.isInstance(t)&&(o=t.body,i=t.headers,o&&-1===Object.keys(i).map((function(e){return e.toLowerCase()})).indexOf(K1)&&void 0!==(a=e(o))&&(t.headers=q1(q1({},t.headers),((s={})[K1]=String(a),s)))),[2,n(q1(q1({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),G1)}}};var V1={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},$1=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,o;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(i){return t0.isInstance(n.request)?(r=n.request,(void 0===(o=(e.requestHandler.metadata||{}).handlerProtocol)?"":o).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),V1)}}};var W1=function(){return function(e,t){return function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(d){switch(d.label){case 0:return r=t.clientName,o=t.commandName,i=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(c,["$metadata"]),a.info({clientName:r,commandName:o,input:i(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}},Y1={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Z1=function(){return Z1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Z1.apply(this,arguments)};function J1(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function X1(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var Q1=function(){return Q1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Q1.apply(this,arguments)};function e2(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function t2(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function n2(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function r2(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}for(var o2={},i2={},a2=0;a2<256;a2++){var s2=a2.toString(16).toLowerCase();1===s2.length&&(s2="0"+s2),o2[a2]=s2,i2[s2]=a2}function u2(e){for(var t="",n=0;n<e.byteLength;n++)t+=o2[e[n]];return t}var c2="X-Amz-Date",l2="X-Amz-Signature",f2="X-Amz-Security-Token",d2="authorization",p2=c2.toLowerCase(),h2=[d2,p2,"date"],v2=l2.toLowerCase(),y2="x-amz-content-sha256",m2=f2.toLowerCase(),g2={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},b2=/^proxy-/,w2=/^sec-/,S2="AWS4-HMAC-SHA256",E2="AWS4-HMAC-SHA256-PAYLOAD",_2="aws4_request",x2={},T2=[];function I2(e,t,n){return e+"/"+t+"/"+n+"/"+_2}function A2(e,t,n){var r=new e(t);return r.update(n),r.digest()}function C2(e,t,n){var r,o,i=e.headers,a={};try{for(var s=n2(Object.keys(i).sort()),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.toLowerCase();(l in g2||(null==t?void 0:t.has(l))||b2.test(l)||w2.test(l))&&(!n||n&&!n.has(l))||(a[l]=i[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a}function P2(e,t){var n=e.headers,r=e.body;return e2(this,void 0,void 0,(function(){var e,o,i,a,s,u,c;return t2(this,(function(l){switch(l.label){case 0:try{for(e=n2(Object.keys(n)),o=e.next();!o.done;o=e.next())if((i=o.value).toLowerCase()===y2)return[2,n[i]]}catch(e){u={error:e}}finally{try{o&&!o.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=u2,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function O2(e){var t=e.headers,n=e.query,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["headers","query"]);return Q1(Q1({},r),{headers:Q1({},t),query:n?k2(n):void 0})}function k2(e){return Object.keys(e).reduce((function(t,n){var r,o=e[n];return Q1(Q1({},t),((r={})[n]=Array.isArray(o)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r2(arguments[t]));return e}(o):o,r))}),{})}function R2(e){var t,n;e="function"==typeof e.clone?e.clone():O2(e);try{for(var r=n2(Object.keys(e.headers)),o=r.next();!o.done;o=r.next()){var i=o.value;h2.indexOf(i.toLowerCase())>-1&&delete e.headers[i]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}var N2=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,o=e.service,i=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=M2(r),this.credentialProvider=j2(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),e2(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T;return t2(this,(function(I){switch(I.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,o=t.expiresIn,i=void 0===o?3600:o,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=I.sent(),null==c?[3,2]:(p=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:p=I.sent(),I.label=4;case 4:return d=p,h=L2(r),v=h.longDate,y=h.shortDate,i>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(m=I2(y,d,null!=l?l:this.service),g=function(e,t){var n,r,o;void 0===t&&(t={});var i="function"==typeof e.clone?e.clone():O2(e),a=i.headers,s=i.query,u=void 0===s?{}:s;try{for(var c=n2(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(o=t.unhoistableHeaders)||void 0===o?void 0:o.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return Q1(Q1({},e),{headers:a,query:u})}(R2(e),{unhoistableHeaders:s}),f.sessionToken&&(g.query[f2]=f.sessionToken),g.query["X-Amz-Algorithm"]=S2,g.query["X-Amz-Credential"]=f.accessKeyId+"/"+m,g.query[c2]=v,g.query["X-Amz-Expires"]=i.toString(10),b=C2(g,a,u),g.query["X-Amz-SignedHeaders"]=D2(b),w=g.query,S=l2,E=this.getSignature,_=[v,m,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,T=[g,b],[4,P2(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,T.concat([I.sent()]))]))];case 6:return w[S]=I.sent(),[2,g]}}))}))},e.prototype.sign=function(e,t){return e2(this,void 0,void 0,(function(){return t2(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,o=t.signingDate,i=void 0===o?new Date:o,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return e2(this,void 0,void 0,(function(){var e,t,o,c,l,f,d,p,h,v,y;return t2(this,(function(m){switch(m.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=m.sent(),m.label=3;case 3:return e=t,o=L2(i),c=o.shortDate,l=o.longDate,f=I2(c,e,null!=u?u:this.service),[4,P2({headers:{},body:r},this.sha256)];case 4:return d=m.sent(),(p=new this.sha256).update(n),v=u2,[4,p.digest()];case 5:return h=v.apply(void 0,[m.sent()]),y=[E2,l,f,a,h,d].join("\n"),[2,this.signString(y,{signingDate:i,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signingRegion,a=n.signingService;return e2(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return t2(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==i?[3,2]:(r=i,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=L2(o).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=u2,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return e2(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,p,h,v,y;return t2(this,(function(m){switch(m.label){case 0:return[4,this.credentialProvider()];case 1:return t=m.sent(),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=m.sent(),m.label=4;case 4:return n=r,c=R2(e),l=L2(o),f=l.longDate,d=l.shortDate,p=I2(d,n,null!=u?u:this.service),c.headers[p2]=f,t.sessionToken&&(c.headers[m2]=t.sessionToken),[4,P2(c,this.sha256)];case 5:return h=m.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var o=n2(Object.keys(t)),i=o.next();!i.done;i=o.next())if(e===i.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}(y2,c.headers)&&this.applyChecksum&&(c.headers[y2]=h),v=C2(c,a,i),[4,this.getSignature(f,p,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,h))];case 6:return y=m.sent(),c.headers[d2]=S2+" Credential="+t.accessKeyId+"/"+p+", SignedHeaders="+D2(v)+", Signature="+y,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,o=void 0===r?{}:r,i=[],a={},s=function(e){if(e.toLowerCase()===v2)return"continue";i.push(e);var t=o[e];"string"==typeof t?a[e]=l1(e)+"="+l1(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([l1(e)+"="+l1(n)])}),[]).join("&"))};try{for(var u=n2(Object.keys(o).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return i.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return e2(this,void 0,void 0,(function(){var r,o;return t2(this,(function(i){switch(i.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return o=i.sent(),[2,S2+"\n"+e+"\n"+t+"\n"+u2(o)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return e2(this,void 0,void 0,(function(){var o,i,a,s,u;return t2(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return o=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(i=new(s.apply(a,[void 0,c.sent()]))).update(o),u=u2,[4,i.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,o){return e2(void 0,void 0,void 0,(function(){var i,a,s,u,c,l,f,d,p;return t2(this,(function(h){switch(h.label){case 0:return[4,A2(e,t.secretAccessKey,t.accessKeyId)];case 1:if(i=h.sent(),(a=n+":"+r+":"+o+":"+u2(i)+":"+t.sessionToken)in x2)return[2,x2[a]];for(T2.push(a);T2.length>50;)delete x2[T2.shift()];s="AWS4"+t.secretAccessKey,h.label=2;case 2:h.trys.push([2,7,8,9]),u=n2([n,r,o,_2]),c=u.next(),h.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,A2(e,s,l)]);case 4:s=h.sent(),h.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=h.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(p=u.return)&&p.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,x2[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),L2=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},D2=function(e){return Object.keys(e).sort().join(";")},M2=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},j2=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function U2(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}function F2(e){return function(t,n){return function(r){return J1(this,void 0,void 0,(function(){var o,i,a,s,u,c,l,f,d;return X1(this,(function(p){switch(p.label){case 0:return t0.isInstance(r.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(r)];case 1:return i=p.sent(),[3,3];case 2:i=e.signer,p.label=3;case 3:return o=i,s=t,u=[Z1({},r)],d={},[4,o.sign(r.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,s.apply(void 0,[Z1.apply(void 0,u.concat([(d.request=p.sent(),d)]))])];case 5:return a=p.sent(),c=a.response.headers,(l=c&&(c.date||c.Date))&&(h=f=Date.parse(l),v=e.systemClockOffset,Math.abs(function(e){return new Date(Date.now()+e)}(v).getTime()-h)>=3e5&&(e.systemClockOffset=f-Date.now())),[2,a]}var h,v}))}))}}}var z2={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},B2=function(){return B2=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},B2.apply(this,arguments)};function q2(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function K2(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(q2(arguments[t]));return e}var G2="user-agent",H2=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,V2=function(e){var t=q2(e,2),n=t[0],r=t[1],o=n.indexOf("/"),i=n.substring(0,o),a=n.substring(o+1);return"api"===i&&(a=a.toLowerCase()),[i,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(H2,"_")})).join("/")},$2={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},W2=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var o,i,a,s,u,c,l,f;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(d){switch(d.label){case 0:return o=r.request,t0.isInstance(o)?(i=o.headers,a=(null===(l=null==t?void 0:t.userAgent)||void 0===l?void 0:l.map(V2))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=d.sent().map(V2),u=(null===(f=null==n?void 0:n.customUserAgent)||void 0===f?void 0:f.map(V2))||[],i["x-amz-user-agent"]=K2(s,a,u).join(" "),c=K2(s.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&c&&(i[G2]=i[G2]?i[G2]+" "+c:c),[2,e(B2(B2({},r),{request:o}))]}}))}))}}),$2)}}},Y2=function(e){function t(t){var n,r,o,i=this,a=function(e){if(!e.region)throw new Error("Region is missing");return U1(U1({},e),{region:B1(e.region)})}(Ct(Ct({},j1),t)),s=function(e){var t;return U1(U1({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?F1(e):function(){return z1(e)},isCustomEndpoint:!!e.endpoint})}(a),u=function(e){var t,n=this,r=U2(e.credentials||e.credentialDefaultProvider(e)),o=e.signingEscapePath,i=void 0===o||o,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?U2(e.signer):function(){return U2(e.region)().then((function(t){return J1(n,void 0,void 0,(function(){return X1(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(t,2),o=n[0],a=n[1],s=o.signingRegion,c=o.signingService;return e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId,new N2({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:i})}))},Z1(Z1({},e),{systemClockOffset:s,signingEscapePath:i,credentials:r,signer:t})}(s),c=function(e){return B2(B2({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}((r=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}((n=u).maxAttempts),h1(h1({},n),{maxAttempts:r,retryStrategy:n.retryStrategy||new A1(r)})));return(i=e.call(this,c)||this).config=c,i.middlewareStack.use((o=i.config,{applyToStack:function(e){e.addRelativeTo(F2(o),z2)}})),i.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return v1(void 0,void 0,void 0,(function(){var o;return y1(this,(function(i){return(null===(o=null==e?void 0:e.retryStrategy)||void 0===o?void 0:o.mode)&&(n.userAgent=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m1(arguments[t]));return e}(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),g1)}}}(i.config)),i.middlewareStack.use(H1(i.config)),i.middlewareStack.use($1(i.config)),i.middlewareStack.use((i.config,{applyToStack:function(e){e.add(W1(),Y1)}})),i.middlewareStack.use(W2(i.config)),i}return xe(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Y0),Z2=new c("AWSCloudWatch"),J2=function(){function e(e){this.configure(e),this._dataTracker={eventUploadInProgress:!1,logEvents:[]},this._currentLogBatch=[],this._initiateLogPushInterval()}return e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.getCategoryName=function(){return e.CATEGORY},e.prototype.getLogQueue=function(){return this._dataTracker.logEvents},e.prototype.configure=function(e){if(!e)return this._config||{};var t=Object.assign({},this._config,T(e).Logging,e);return this._config=t,this._config},e.prototype.createLogGroup=function(e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:Z2.debug("creating new log group in CloudWatch - ",e.logGroupName),t=new t1(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(a);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),Z2.error("error creating log group - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogGroups=function(e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:Z2.debug("getting list of log groups"),t=new n1(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(a);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),Z2.error("error getting log group - "+n),n;case 5:return[2]}}))}))},e.prototype.createLogStream=function(e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:Z2.debug("creating new log stream in CloudWatch - ",e.logStreamName),t=new r1(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(a);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),Z2.error("error creating log stream - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogStreams=function(e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:Z2.debug("getting list of log streams"),t=new o1(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(a);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),Z2.error("error getting log stream - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogEvents=function(e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:Z2.debug("getting log events from stream - ",e.logStreamName),t=new i1(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(a);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),Z2.error("error getting log events - "+n),n;case 5:return[2]}}))}))},e.prototype.pushLogs=function(e){Z2.debug("pushing log events to Cloudwatch..."),this._dataTracker.logEvents=(0,o.__spread)(this._dataTracker.logEvents,e)},e.prototype._validateLogGroupExistsAndCreate=function(e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(this._dataTracker.verifiedLogGroup)return[2,this._dataTracker.verifiedLogGroup];o.label=1;case 1:return o.trys.push([1,5,,6]),[4,this._ensureCredentials()];case 2:if(!o.sent())throw new Error(a);return[4,this.getLogGroups({logGroupNamePrefix:e})];case 3:return"string"!=typeof(t=o.sent())&&t.logGroups&&(n=t.logGroups.filter((function(t){return t.logGroupName===e}))).length>0?(this._dataTracker.verifiedLogGroup=n[0],[2,n[0]]):[4,this.createLogGroup({logGroupName:e})];case 4:return o.sent(),[2,null];case 5:throw r=o.sent(),i="failure during log group search: "+r,Z2.error(i),r;case 6:return[2]}}))}))},e.prototype._validateLogStreamExists=function(e,t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,s;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),[4,this._ensureCredentials()];case 1:if(!o.sent())throw new Error(a);return[4,this.getLogStreams({logGroupName:e,logStreamNamePrefix:t})];case 2:return(n=o.sent()).logStreams&&(r=n.logStreams.filter((function(e){return e.logStreamName===t}))).length>0?(this._nextSequenceToken=r[0].uploadSequenceToken,[2,r[0]]):[4,this.createLogStream({logGroupName:e,logStreamName:t})];case 3:return o.sent(),[2,null];case 4:throw i=o.sent(),s="failure during log stream search: "+i,Z2.error(s),i;case 5:return[2]}}))}))},e.prototype._sendLogEvents=function(e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this._ensureCredentials()];case 1:if(!o.sent())throw new Error(a);return Z2.debug("sending log events to stream - ",e.logStreamName),t=new a1(e),[4,this._initCloudWatchLogs().send(t)];case 2:return[2,o.sent()];case 3:return n=o.sent(),r="failure during log push: "+n,Z2.error(r),[3,4];case 4:return[2]}}))}))},e.prototype._initCloudWatchLogs=function(){return new Y2({region:this._config.region,credentials:this._config.credentials,customUserAgent:te(),endpoint:this._config.endpoint})},e.prototype._ensureCredentials=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,fs.get().then((function(t){if(!t)return!1;var n=fs.shear(t);return Z2.debug("set credentials for logging",n),e._config.credentials=n,!0})).catch((function(e){return Z2.warn("ensure credentials error",e),!1}))];case 1:return[2,t.sent()]}}))}))},e.prototype._getNextSequenceToken=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:if(this._nextSequenceToken&&this._nextSequenceToken.length>0)return[2,this._nextSequenceToken];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,this._validateLogGroupExistsAndCreate(this._config.logGroupName)];case 2:return n.sent(),this._nextSequenceToken=void 0,[4,this._validateLogStreamExists(this._config.logGroupName,this._config.logStreamName)];case 3:return(e=n.sent())&&(this._nextSequenceToken=e.uploadSequenceToken),[2,this._nextSequenceToken];case 4:throw t=n.sent(),Z2.error("failure while getting next sequence token: "+t),t;case 5:return[2]}}))}))},e.prototype._safeUploadLogEvents=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this._getNextSequenceToken()];case 1:return e=o.sent(),t=0===this._currentLogBatch.length?this._getBufferedBatchOfLogs():this._currentLogBatch,n={logGroupName:this._config.logGroupName,logStreamName:this._config.logStreamName,logEvents:t,sequenceToken:e},this._dataTracker.eventUploadInProgress=!0,[4,this._sendLogEvents(n)];case 2:return r=o.sent(),this._nextSequenceToken=r.nextSequenceToken,this._dataTracker.eventUploadInProgress=!1,this._currentLogBatch=[],[2,r];case 3:if(i=o.sent(),Z2.error("error during _safeUploadLogEvents: "+i),!s.includes(i.name))throw this._dataTracker.eventUploadInProgress=!1,i;return this._getNewSequenceTokenAndSubmit({logEvents:this._currentLogBatch,logGroupName:this._config.logGroupName,logStreamName:this._config.logStreamName}),[3,4];case 4:return[2]}}))}))},e.prototype._getBufferedBatchOfLogs=function(){for(var e=0,t=0;e<this._dataTracker.logEvents.length;){var n=this._dataTracker.logEvents[e],r=n?(new TextEncoder).encode(n.message).length+26:0;if(r>256e3){var o="Log entry exceeds maximum size for CloudWatch logs. Log size: "+r+". Truncating log message.";Z2.warn(o),n.message=n.message.substring(0,r)}if(t+r>1048576)break;t+=r,e++}return this._currentLogBatch=this._dataTracker.logEvents.splice(0,e),this._currentLogBatch},e.prototype._getNewSequenceTokenAndSubmit=function(e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),this._nextSequenceToken=void 0,this._dataTracker.eventUploadInProgress=!0,[4,this._getNextSequenceToken()];case 1:return t=o.sent(),e.sequenceToken=t,[4,this._sendLogEvents(e)];case 2:return n=o.sent(),this._dataTracker.eventUploadInProgress=!1,this._currentLogBatch=[],[2,n];case 3:throw r=o.sent(),Z2.error("error when retrying log submission with new sequence token: "+r),this._dataTracker.eventUploadInProgress=!1,r;case 4:return[2]}}))}))},e.prototype._initiateLogPushInterval=function(){var e=this;this._timer&&clearInterval(this._timer),this._timer=setInterval((function(){return(0,o.__awaiter)(e,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),this._getDocUploadPermissibility()?[4,this._safeUploadLogEvents()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[3,4];case 3:return e=t.sent(),Z2.error("error when calling _safeUploadLogEvents in the timer interval - "+e),[3,4];case 4:return[2]}}))}))}),2e3)},e.prototype._getDocUploadPermissibility=function(){return(0!==this._dataTracker.logEvents.length||0!==this._currentLogBatch.length)&&!this._dataTracker.eventUploadInProgress},e.PROVIDER_NAME="AWSCloudWatch",e.CATEGORY=i,e}(),X2=[Kx,fs],Q2=[pU,Kx,hK];function e3(e){void 0===e&&(e={});var t=e.modules,n=void 0===t?Q2:t,r=e.req,o=d.configure(),i=new f,a=new I_({req:r});return X2.forEach((function(e){n.includes(e)||i.register(new e.constructor)})),n.forEach((function(e){i.register(new e.constructor)})),i.configure(Ct(Ct({},o),{storage:a})),i}var t3=function(){return t3=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t3.apply(this,arguments)};function n3(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function r3(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function o3(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var i3,a3=n(2828),s3=n.n(a3);!function(e){e.ENV="env",e.CONFIG="shared config entry"}(i3||(i3={}));var u3=function(e){if("function"==typeof e)return e;var t=Promise.resolve(e);return function(){return t}},c3=function(e){return"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips"))},l3=function(e){return c3(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e},f3=function(e,t){var n;void 0===e&&(e=[]);var r=t.useFipsEndpoint,o=t.useDualstackEndpoint;return null===(n=e.find((function(e){var t=e.tags;return r===t.includes("fips")&&o===t.includes("dualstack")})))||void 0===n?void 0:n.hostname},d3=function(e,t){var n,r,o,i,a,s,u=t.useFipsEndpoint,c=void 0!==u&&u,l=t.useDualstackEndpoint,f=void 0!==l&&l,d=t.signingService,p=t.regionHash,h=t.partitionHash,v=function(e,t){var n,r=t.partitionHash;return null!==(n=Object.keys(r||{}).find((function(t){return r[t].regions.includes(e)})))&&void 0!==n?n:"aws"}(e,{partitionHash:h}),y=e in p?e:null!==(r=null===(n=h[v])||void 0===n?void 0:n.endpoint)&&void 0!==r?r:e,m={useFipsEndpoint:c,useDualstackEndpoint:f},g=function(e,t){var n=t.partitionHostname;return t.regionHostname||(n?n.replace("{region}",e):void 0)}(y,{regionHostname:f3(null===(o=p[y])||void 0===o?void 0:o.variants,m),partitionHostname:f3(null===(i=h[v])||void 0===i?void 0:i.variants,m)});if(void 0===g)throw new Error("Endpoint resolution failed for: ".concat({resolvedRegion:y,useFipsEndpoint:c,useDualstackEndpoint:f}));var b=function(e,t){var n=t.signingRegion;if(n)return n;if(t.useFipsEndpoint){var r=t.regionRegex.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(r);if(o)return o[0].slice(1,-1)}}(g,{signingRegion:null===(a=p[y])||void 0===a?void 0:a.signingRegion,regionRegex:h[v].regionRegex,useFipsEndpoint:c});return Ct(Ct({partition:v,signingService:d,hostname:g},b&&{signingRegion:b}),(null===(s=p[y])||void 0===s?void 0:s.signingService)&&{signingService:p[y].signingService})},p3=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(Ct(Ct({},this),{headers:Ct({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return Ct(Ct({},e),((r={})[n]=Array.isArray(o)?Dt([],Nt(o),!1):o,r))}),{}))),n},e}(),h3=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}();function v3(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}var y3,m3="content-length",g3={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},b3={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},w3={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},S3="X-Amzn-Trace-Id",E3={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(y3||(y3={}));var _3=y3.STANDARD,x3=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],T3=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],I3=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],A3=[500,502,503,504],C3=["ECONNRESET","EPIPE","ETIMEDOUT"],P3=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||T3.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},O3=function(){function e(e){var t,n,r,o,i;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=null!==(t=null==e?void 0:e.beta)&&void 0!==t?t:.7,this.minCapacity=null!==(n=null==e?void 0:e.minCapacity)&&void 0!==n?n:1,this.minFillRate=null!==(r=null==e?void 0:e.minFillRate)&&void 0!==r?r:.5,this.scaleConstant=null!==(o=null==e?void 0:e.scaleConstant)&&void 0!==o?o:.4,this.smooth=null!==(i=null==e?void 0:e.smooth)&&void 0!==i?i:.8;var a=this.getCurrentTimeInSeconds();this.lastThrottleTime=a,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return e.prototype.getCurrentTimeInSeconds=function(){return Date.now()/1e3},e.prototype.getSendToken=function(){return Ot(this,void 0,void 0,(function(){return kt(this,(function(e){return[2,this.acquireTokenBucket(1)]}))}))},e.prototype.acquireTokenBucket=function(e){return Ot(this,void 0,void 0,(function(){var t;return kt(this,(function(n){switch(n.label){case 0:return this.enabled?(this.refillTokenBucket(),e>this.currentCapacity?(t=(e-this.currentCapacity)/this.fillRate*1e3,[4,new Promise((function(e){return setTimeout(e,t)}))]):[3,2]):[2];case 1:n.sent(),n.label=2;case 2:return this.currentCapacity=this.currentCapacity-e,[2]}}))}))},e.prototype.refillTokenBucket=function(){var e=this.getCurrentTimeInSeconds();if(this.lastTimestamp){var t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}else this.lastTimestamp=e},e.prototype.updateClientSendingRate=function(e){var t;if(this.updateMeasuredRate(),P3(e)){var n=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=n,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(n),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());var r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)},e.prototype.calculateTimeWindow=function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))},e.prototype.cubicThrottle=function(e){return this.getPrecise(e*this.beta)},e.prototype.cubicSuccess=function(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)},e.prototype.enableTokenBucket=function(){this.enabled=!0},e.prototype.updateTokenBucketRate=function(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)},e.prototype.updateMeasuredRate=function(){var e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){var n=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}},e.prototype.getPrecise=function(e){return parseFloat(e.toFixed(8))},e}(),k3=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},R3=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return x3.includes(e.name)}(e)||P3(e)||function(e){var t;return I3.includes(e.name)||C3.includes((null==e?void 0:e.code)||"")||A3.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},N3=function(){function e(e,t){var n,r,o,i,a,s,u,c,l;this.maxAttemptsProvider=e,this.mode=y3.STANDARD,this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:R3,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:k3,this.retryQuota=null!==(o=null==t?void 0:t.retryQuota)&&void 0!==o?o:(i=1,a=5,s=10,u=500,c=function(e){return"TimeoutError"===e.name?s:a},l=function(e){return c(e)<=u},Object.freeze({hasRetryTokens:l,retrieveRetryTokens:function(e){if(!l(e))throw new Error("No retry token available");var t=c(e);return u-=t,t},releaseRetryTokens:function(e){u+=null!=e?e:i,u=Math.min(u,500)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return Ot(this,void 0,void 0,(function(){var e;return kt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return o=0,i=0,[4,this.getMaxAttempts()];case 1:a=f.sent(),s=t.request,p3.isInstance(s)&&(s.headers["amz-sdk-invocation-id"]=(0,GK.Z)()),u=function(){var u,l,f,d,p,h,v,y;return kt(this,(function(m){switch(m.label){case 0:return m.trys.push([0,4,,7]),p3.isInstance(s)&&(s.headers["amz-sdk-request"]="attempt=".concat(o+1,"; max=").concat(a)),(null==n?void 0:n.beforeRequest)?[4,n.beforeRequest()]:[3,2];case 1:m.sent(),m.label=2;case 2:return[4,e(t)];case 3:return u=m.sent(),l=u.response,f=u.output,(null==n?void 0:n.afterRequest)&&n.afterRequest(l),c.retryQuota.releaseRetryTokens(r),f.$metadata.attempts=o+1,f.$metadata.totalRetryDelay=i,[2,{value:{response:l,output:f}}];case 4:return d=m.sent(),p=D3(d),o++,c.shouldRetry(p,o,a)?(r=c.retryQuota.retrieveRetryTokens(p),h=c.delayDecider(P3(p)?500:100,o),v=L3(p.$response),y=Math.max(v||0,h),i+=y,[4,new Promise((function(e){return setTimeout(e,y)}))]):[3,6];case 5:return m.sent(),[2,"continue"];case 6:throw p.$metadata||(p.$metadata={}),p.$metadata.attempts=o,p.$metadata.totalRetryDelay=i,p;case 7:return[2]}}))},c=this,f.label=2;case 2:return[5,u()];case 3:return"object"==typeof(l=f.sent())?[2,l.value]:[3,2];case 4:return[2]}}))}))},e}(),L3=function(e){if(h3.isInstance(e)){var t=Object.keys(e.headers).find((function(e){return"retry-after"===e.toLowerCase()}));if(t){var n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n).getTime()-Date.now():1e3*r}}},D3=function(e){return e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"==typeof e?new Error(e):new Error("AWS SDK error wrapper for ".concat(e))},M3=function(e){function t(t,n){var r=this,o=null!=n?n:{},i=o.rateLimiter,a=Pt(o,["rateLimiter"]);return(r=e.call(this,t,a)||this).rateLimiter=null!=i?i:new O3,r.mode=y3.ADAPTIVE,r}return xe(t,e),t.prototype.retry=function(t,n){return Ot(this,void 0,void 0,(function(){var r=this;return kt(this,(function(o){return[2,e.prototype.retry.call(this,t,n,{beforeRequest:function(){return Ot(r,void 0,void 0,(function(){return kt(this,(function(e){return[2,this.rateLimiter.getSendToken()]}))}))},afterRequest:function(e){r.rateLimiter.updateClientSendingRate(e)}})]}))}))},t}(N3),j3={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},U3=function(e){function t(n,r){void 0===r&&(r=!0);var o=e.call(this,n)||this;return o.tryNextLink=r,o.name="ProviderError",Object.setPrototypeOf(o,t.prototype),o}return xe(t,e),t.from=function(e,t){return void 0===t&&(t=!0),Object.assign(new this(e.message,t),e)},t}(Error);(function(e){xe((function t(n,r){void 0===r&&(r=!0);var o=e.call(this,n,r)||this;return o.tryNextLink=r,o.name="CredentialsProviderError",Object.setPrototypeOf(o,t.prototype),o}),e)})(U3),function(e){xe((function t(n,r){void 0===r&&(r=!0);var o=e.call(this,n,r)||this;return o.tryNextLink=r,o.name="TokenProviderError",Object.setPrototypeOf(o,t.prototype),o}),e)}(U3);for(var F3=function(e,t,n){var r,o,i,a=!1,s=function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:o||(o=e()),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,o];case 2:return r=t.sent(),i=!0,a=!1,[3,4];case 3:return o=void 0,[7];case 4:return[2,r]}}))}))};return void 0===t?function(e){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return i&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,s()];case 1:r=t.sent(),t.label=2;case 2:return[2,r]}}))}))}:function(e){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(o){switch(o.label){case 0:return i&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,s()];case 1:r=o.sent(),o.label=2;case 2:return a?[2,r]:n&&!n(r)?(a=!0,[2,r]):t(r)?[4,s()]:[3,4];case 3:return o.sent(),[2,r];case 4:return[2,r]}}))}))}},z3={},B3={},q3=0;q3<256;q3++){var K3=q3.toString(16).toLowerCase();1===K3.length&&(K3="0".concat(K3)),z3[q3]=K3,B3[K3]=q3}function G3(e){for(var t="",n=0;n<e.byteLength;n++)t+=z3[e[n]];return t}var H3="X-Amz-Date",V3="X-Amz-Signature",$3="X-Amz-Security-Token",W3="authorization",Y3=H3.toLowerCase(),Z3=[W3,Y3,"date"],J3=V3.toLowerCase(),X3="x-amz-content-sha256",Q3=$3.toLowerCase(),e4={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},t4=/^proxy-/,n4=/^sec-/,r4="AWS4-HMAC-SHA256",o4="AWS4-HMAC-SHA256-PAYLOAD",i4="aws4_request",a4={},s4=[],u4=function(e,t,n){return"".concat(e,"/").concat(t,"/").concat(n,"/").concat(i4)},c4=function(e,t,n){var r=new e(t);return r.update(n),r.digest()},l4=function(e,t,n){var r,o,i=e.headers,a={};try{for(var s=Rt(Object.keys(i).sort()),u=s.next();!u.done;u=s.next()){var c=u.value;if(null!=i[c]){var l=c.toLowerCase();(l in e4||(null==t?void 0:t.has(l))||t4.test(l)||n4.test(l))&&(!n||n&&!n.has(l))||(a[l]=i[c].trim().replace(/\s+/g," "))}}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a},f4=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,d4)},d4=function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())},p4=function(e,t){var n=e.headers,r=e.body;return Ot(void 0,void 0,void 0,(function(){var e,o,i,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:try{for(e=Rt(Object.keys(n)),o=e.next();!o.done;o=e.next())if((i=o.value).toLowerCase()===X3)return[2,n[i]]}catch(e){u={error:e}}finally{try{o&&!o.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=G3,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))},h4=function(e){var t=e.headers,n=e.query,r=Pt(e,["headers","query"]);return Ct(Ct({},r),{headers:Ct({},t),query:n?v4(n):void 0})},v4=function(e){return Object.keys(e).reduce((function(t,n){var r,o=e[n];return Ct(Ct({},t),((r={})[n]=Array.isArray(o)?Dt([],Nt(o),!1):o,r))}),{})},y4=function(e){var t,n;e="function"==typeof e.clone?e.clone():h4(e);try{for(var r=Rt(Object.keys(e.headers)),o=r.next();!o.done;o=r.next()){var i=o.value;Z3.indexOf(i.toLowerCase())>-1&&delete e.headers[i]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e},m4=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,o=e.service,i=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=u3(r),this.credentialProvider=u3(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Ot(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,p,h,v,y,m,g,b,w,S,E,_,x,T;return kt(this,(function(I){switch(I.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,o=t.expiresIn,i=void 0===o?3600:o,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=I.sent(),this.validateResolvedCredentials(f),null==c?[3,2]:(p=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:p=I.sent(),I.label=4;case 4:return d=p,h=g4(r),v=h.longDate,y=h.shortDate,i>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(m=u4(y,d,null!=l?l:this.service),g=function(e,t){var n,r,o;void 0===t&&(t={});var i="function"==typeof e.clone?e.clone():h4(e),a=i.headers,s=i.query,u=void 0===s?{}:s;try{for(var c=Rt(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.slice(0,6)||(null===(o=t.unhoistableHeaders)||void 0===o?void 0:o.has(d))||(u[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return Ct(Ct({},e),{headers:a,query:u})}(y4(e),{unhoistableHeaders:s}),f.sessionToken&&(g.query[$3]=f.sessionToken),g.query["X-Amz-Algorithm"]=r4,g.query["X-Amz-Credential"]="".concat(f.accessKeyId,"/").concat(m),g.query[H3]=v,g.query["X-Amz-Expires"]=i.toString(10),b=l4(g,a,u),g.query["X-Amz-SignedHeaders"]=b4(b),w=g.query,S=V3,E=this.getSignature,_=[v,m,this.getSigningKey(f,d,y,l)],x=this.createCanonicalRequest,T=[g,b],[4,p4(e,this.sha256)]);case 5:return[4,E.apply(this,_.concat([x.apply(this,T.concat([I.sent()]))]))];case 6:return w[S]=I.sent(),[2,g]}}))}))},e.prototype.sign=function(e,t){return Ot(this,void 0,void 0,(function(){return kt(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,o=t.signingDate,i=void 0===o?new Date:o,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return Ot(this,void 0,void 0,(function(){var e,t,o,c,l,f,d,p,h,v,y;return kt(this,(function(m){switch(m.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=m.sent(),m.label=3;case 3:return e=t,o=g4(i),c=o.shortDate,l=o.longDate,f=u4(c,e,null!=u?u:this.service),[4,p4({headers:{},body:r},this.sha256)];case 4:return d=m.sent(),(p=new this.sha256).update(n),v=G3,[4,p.digest()];case 5:return h=v.apply(void 0,[m.sent()]),y=[o4,l,f,a,h,d].join("\n"),[2,this.signString(y,{signingDate:i,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signingRegion,a=n.signingService;return Ot(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return kt(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),this.validateResolvedCredentials(t),null==i?[3,2]:(r=i,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=g4(o).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=G3,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return Ot(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,p,h,v,y;return kt(this,(function(m){switch(m.label){case 0:return[4,this.credentialProvider()];case 1:return t=m.sent(),this.validateResolvedCredentials(t),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=m.sent(),m.label=4;case 4:return n=r,c=y4(e),l=g4(o),f=l.longDate,d=l.shortDate,p=u4(d,n,null!=u?u:this.service),c.headers[Y3]=f,t.sessionToken&&(c.headers[Q3]=t.sessionToken),[4,p4(c,this.sha256)];case 5:return h=m.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var o=Rt(Object.keys(t)),i=o.next();!i.done;i=o.next())if(e===i.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}(X3,c.headers)&&this.applyChecksum&&(c.headers[X3]=h),v=l4(c,a,i),[4,this.getSignature(f,p,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,v,h))];case 6:return y=m.sent(),c.headers[W3]="".concat(r4," ")+"Credential=".concat(t.accessKeyId,"/").concat(p,", ")+"SignedHeaders=".concat(b4(v),", ")+"Signature=".concat(y),[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return"".concat(e.method,"\n").concat(this.getCanonicalPath(e),"\n").concat(function(e){var t,n,r=e.query,o=void 0===r?{}:r,i=[],a={},s=function(e){if(e.toLowerCase()===J3)return"continue";i.push(e);var t=o[e];"string"==typeof t?a[e]="".concat(f4(e),"=").concat(f4(t)):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat(["".concat(f4(e),"=").concat(f4(n))])}),[]).join("&"))};try{for(var u=Rt(Object.keys(o).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return i.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e),"\n").concat(r.map((function(e){return"".concat(e,":").concat(t[e])})).join("\n"),"\n\n").concat(r.join(";"),"\n").concat(n)},e.prototype.createStringToSign=function(e,t,n){return Ot(this,void 0,void 0,(function(){var r,o;return kt(this,(function(i){switch(i.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return o=i.sent(),[2,"".concat(r4,"\n").concat(e,"\n").concat(t,"\n").concat(G3(o))]}}))}))},e.prototype.getCanonicalPath=function(e){var t,n,r=e.path;if(this.uriEscapePath){var o=[];try{for(var i=Rt(r.split("/")),a=i.next();!a.done;a=i.next()){var s=a.value;0!==(null==s?void 0:s.length)&&"."!==s&&(".."===s?o.pop():o.push(s))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}var u="".concat((null==r?void 0:r.startsWith("/"))?"/":"").concat(o.join("/")).concat(o.length>0&&(null==r?void 0:r.endsWith("/"))?"/":"");return encodeURIComponent(u).replace(/%2F/g,"/")}return r},e.prototype.getSignature=function(e,t,n,r){return Ot(this,void 0,void 0,(function(){var o,i,a,s,u;return kt(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return o=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(i=new(s.apply(a,[void 0,c.sent()]))).update(o),u=G3,[4,i.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,o){return Ot(void 0,void 0,void 0,(function(){var i,a,s,u,c,l,f,d,p;return kt(this,(function(h){switch(h.label){case 0:return[4,c4(e,t.secretAccessKey,t.accessKeyId)];case 1:if(i=h.sent(),(a="".concat(n,":").concat(r,":").concat(o,":").concat(G3(i),":").concat(t.sessionToken))in a4)return[2,a4[a]];for(s4.push(a);s4.length>50;)delete a4[s4.shift()];s="AWS4".concat(t.secretAccessKey),h.label=2;case 2:h.trys.push([2,7,8,9]),u=Rt([n,r,o,i4]),c=u.next(),h.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,c4(e,s,l)]);case 4:s=h.sent(),h.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=h.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(p=u.return)&&p.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,a4[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e.prototype.validateResolvedCredentials=function(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")},e}(),g4=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}},b4=function(e){return Object.keys(e).sort().join(";")},w4=function(e){return new Date(Date.now()+e)},S4=function(e,t){var n=Date.parse(e);return function(e,t){return Math.abs(w4(t).getTime()-e)>=3e5}(n,t)?n-Date.now():t},E4=function(e){var t,n,r;return h3.isInstance(e)?null!==(n=null===(t=e.headers)||void 0===t?void 0:t.date)&&void 0!==n?n:null===(r=e.headers)||void 0===r?void 0:r.Date:void 0},_4={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},x4="user-agent",T4="x-amz-user-agent",I4=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,A4=function(e){var t=Nt(e,2),n=t[0],r=t[1],o=n.indexOf("/"),i=n.substring(0,o),a=n.substring(o+1);return"api"===i&&(a=a.toLowerCase()),[i,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(I4,"_")})).join("/")},C4={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},P4=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,Ct({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,Ct({},e))})),n},o=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Dt([],Nt(o(e)),!1))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Dt([],Nt(o(e)),!1))})),t},i=function(n){void 0===n&&(n=!1);var r=[],i=[],a={};e.forEach((function(e){var t=Ct(Ct({},e),{before:[],after:[]});t.name&&(a[t.name]=t),r.push(t)})),t.forEach((function(e){var t=Ct(Ct({},e),{before:[],after:[]});t.name&&(a[t.name]=t),i.push(t)})),i.forEach((function(e){if(e.toMiddleware){var t=a[e.toMiddleware];if(void 0===t){if(n)return;throw new Error("".concat(e.toMiddleware," is not found when adding ").concat(e.name||"anonymous"," middleware ").concat(e.relation," ").concat(e.toMiddleware))}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var s,u=(s=r,s.sort((function(e,t){return O4[t.step]-O4[e.step]||k4[t.priority||"normal"]-k4[e.priority||"normal"]}))).map(o).reduce((function(e,t){return e.push.apply(e,Dt([],Nt(t),!1)),e}),[]);return u},a={add:function(t,r){void 0===r&&(r={});var o=r.name,i=r.override,a=Ct({step:"initialize",priority:"normal",middleware:t},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '".concat(o,"'"));var s=e.findIndex((function(e){return e.name===o})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'.concat(o,'" middleware with ').concat(u.priority," priority in ").concat(u.step," step cannot be ")+"overridden by same-name middleware with ".concat(a.priority," priority in ").concat(a.step," step."));e.splice(s,1)}n.add(o)}e.push(a)},addRelativeTo:function(e,r){var o=r.name,i=r.override,a=Ct({middleware:e},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '".concat(o,"'"));var s=t.findIndex((function(e){return e.name===o})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'.concat(o,'" middleware ').concat(u.relation,' "').concat(u.toMiddleware,'" middleware cannot be overridden ')+"by same-name middleware ".concat(a.relation,' "').concat(a.toMiddleware,'" middleware.'));t.splice(s,1)}n.add(o)}t.push(a)},clone:function(){return r(P4())},use:function(e){e.applyToStack(a)},remove:function(r){return"string"==typeof r?function(r){var o=!1,i=function(e){return!e.name||e.name!==r||(o=!0,n.delete(r),!1)};return e=e.filter(i),t=t.filter(i),o}(r):function(r){var o=!1,i=function(e){return e.middleware!==r||(o=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(i),t=t.filter(i),o}(r)},removeByTag:function(r){var o=!1,i=function(e){var t=e.tags,i=e.name;return!t||!t.includes(r)||(i&&n.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:function(e){var t=r(P4());return t.use(e),t},applyToStack:r,identify:function(){return i(!0).map((function(e){return e.name+": "+(e.tags||[]).join(",")}))},resolve:function(e,t){var n,r;try{for(var o=Rt(i().map((function(e){return e.middleware})).reverse()),a=o.next();!a.done;a=o.next())e=(0,a.value)(e,t)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return e}};return a},O4={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},k4={high:3,normal:2,low:1},R4=function(){function e(e){this.middlewareStack=P4(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return i(e).then((function(e){return e.output}));i(e).then((function(e){return o(null,e.output)}),(function(e){return o(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),N4=function(){this.middlewareStack=P4()},L4="***SensitiveInformation***",D4=function(e){if(null!=e){if("number"==typeof e){if(0!==e&&1!==e||Y4.warn(W4("Expected boolean, got ".concat(typeof e,": ").concat(e))),0===e)return!1;if(1===e)return!0}if("string"==typeof e){var t=e.toLowerCase();if("false"!==t&&"true"!==t||Y4.warn(W4("Expected boolean, got ".concat(typeof e,": ").concat(e))),"false"===t)return!1;if("true"===t)return!0}if("boolean"==typeof e)return e;throw new TypeError("Expected boolean, got ".concat(typeof e,": ").concat(e))}},M4=function(e){if(null!=e){if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Y4.warn(W4("Expected number but observed string: ".concat(e))),t}if("number"==typeof e)return e;throw new TypeError("Expected number, got ".concat(typeof e,": ").concat(e))}},j4=Math.ceil(Math.pow(2,127)*(2-Math.pow(2,-23))),U4=function(e){return F4(e,32)},F4=function(e,t){var n=function(e){if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError("Expected integer, got ".concat(typeof e,": ").concat(e))}}(e);if(void 0!==n&&z4(n,t)!==n)throw new TypeError("Expected ".concat(t,"-bit integer, got ").concat(e));return n},z4=function(e,t){switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},B4=function(e,t){if(null==e){if(t)throw new TypeError("Expected a non-null value for ".concat(t));throw new TypeError("Expected a non-null value")}return e},q4=function(e){if(null!=e){if("object"==typeof e&&!Array.isArray(e))return e;var t=Array.isArray(e)?"array":typeof e;throw new TypeError("Expected object, got ".concat(t,": ").concat(e))}},K4=function(e){if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return Y4.warn(W4("Expected string, got ".concat(typeof e,": ").concat(e))),String(e);throw new TypeError("Expected string, got ".concat(typeof e,": ").concat(e))}},G4=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,H4=function(e){var t=e.match(G4);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},V4=function(e){return"string"==typeof e?$4(e):M4(e)},$4=function(e){switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unable to parse float value: ".concat(e))}},W4=function(e){return String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((function(e){return!e.includes("stackTraceWarning")})).join("\n")},Y4={warn:console.warn},Z4=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],J4=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),X4=function(e){if(null!=e){if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");var t=J4.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");var n=Nt(t,8),r=(n[0],n[1]),o=n[2],i=n[3],a=n[4],s=n[5],u=n[6],c=n[7],l=function(e){return function(e){return F4(e,16)}("string"==typeof e?H4(e):e)}(i5(r)),f=r5(o,"month",1,12),d=r5(i,"day",1,31);return Q4(l,f,d,{hours:a,minutes:s,seconds:u,fractionalMilliseconds:c})}},Q4=function(e,t,n,r){var o=t-1;return t5(e,o,n),new Date(Date.UTC(e,o,n,r5(r.hours,"hour",0,23),r5(r.minutes,"minute",0,59),r5(r.seconds,"seconds",0,60),o5(r.fractionalMilliseconds)))},e5=[31,28,31,30,31,30,31,31,30,31,30,31],t5=function(e,t,n){var r=e5[t];if(1===t&&n5(e)&&(r=29),n>r)throw new TypeError("Invalid day for ".concat(Z4[t]," in ").concat(e,": ").concat(n))},n5=function(e){return e%4==0&&(e%100!=0||e%400==0)},r5=function(e,t,n,r){var o=function(e){return function(e){return F4(e,8)}("string"==typeof e?H4(e):e)}(i5(e));if(o<n||o>r)throw new TypeError("".concat(t," must be between ").concat(n," and ").concat(r,", inclusive"));return o},o5=function(e){return null==e?0:1e3*function(e){return function(e){var t=M4(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>j4)throw new TypeError("Expected 32-bit float, got ".concat(e));return t}("string"==typeof e?H4(e):e)}("0."+e)},i5=function(e){for(var t=0;t<e.length-1&&"0"===e.charAt(t);)t++;return 0===t?e:e.slice(t)},a5=function(e){function t(n){var r=e.call(this,n.message)||this;return Object.setPrototypeOf(r,t.prototype),r.name=n.name,r.$fault=n.$fault,r.$metadata=n.$metadata,r}return xe(t,e),t}(Error),s5=function(e,t){void 0===t&&(t={}),Object.entries(t).filter((function(e){return void 0!==Nt(e,2)[1]})).forEach((function(t){var n=Nt(t,2),r=n[0],o=n[1];null!=e[r]&&""!==e[r]||(e[r]=o)}));var n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},u5=function(e){var t=e.output,n=e.parsedBody,r=e.exceptionCtor,o=e.errorCode,i=c5(t),a=i.httpStatusCode?i.httpStatusCode+"":void 0,s=new r({name:n.code||n.Code||o||a||"UnknowError",$fault:"client",$metadata:i});throw s5(s,n)},c5=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},l5=function(e){switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},f5=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Dt([null],Nt(arguments),!1)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};function d5(e,t,n){var r,o,i,a;if(void 0===t&&void 0===n)i={},a=e;else{if(i=e,"function"==typeof t)return p5(i,t,a=n);a=t}try{for(var s=Rt(Object.keys(a)),u=s.next();!u.done;u=s.next()){var c=u.value;if(Array.isArray(a[c])){var l=Nt(a[c],2),f=l[0],d=l[1];if("function"==typeof d){var p=void 0,h=void 0===f&&null!=(p=d()),v="function"==typeof f&&!!f(void 0)||"function"!=typeof f&&!!f;h?i[c]=p:v&&(i[c]=d())}else h=void 0===f&&null!=d,v="function"==typeof f&&!!f(d)||"function"!=typeof f&&!!f,(h||v)&&(i[c]=d)}else i[c]=a[c]}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return i}f5.prototype=Object.create(String.prototype,{constructor:{value:f5,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(f5,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}xe(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(f5);var p5=function(e,t,n){return d5(e,Object.entries(n).reduce((function(e,n){var r=Nt(n,2),o=r[0],i=r[1];return Array.isArray(i)?e[o]=i:e[o]="function"==typeof i?[t,i()]:[t,i],e}),{}))};function h5(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}var v5=function(e,t,n,r,o,i){if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");var a=r();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");return e.replace(o,i?a.split("/").map((function(e){return h5(e)})).join("/"):h5(a))},y5=function(e){if(e!=e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}};for(var m5=function(){function e(e){"function"==typeof e?this.configProvider=e().then((function(e){return e||{}})):(this.config=null!=e?e:{},this.configProvider=Promise.resolve(this.config))}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal;return Ot(this,void 0,void 0,(function(){var t,r,o,i,a,s,u,c,l,f,d,p;return kt(this,(function(h){switch(h.label){case 0:return this.config?[3,2]:(t=this,[4,this.configProvider]);case 1:t.config=h.sent(),h.label=2;case 2:return r=this.config.requestTimeout,(null==n?void 0:n.aborted)?((o=new Error("Request aborted")).name="AbortError",[2,Promise.reject(o)]):(i=e.path,e.query&&(a=function(e){var t,n,r=[];try{for(var o=Rt(Object.keys(e).sort()),i=o.next();!i.done;i=o.next()){var a=i.value,s=e[a];if(a=f4(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push("".concat(a,"=").concat(f4(s[u])));else{var l=a;(s||"string"==typeof s)&&(l+="=".concat(f4(s))),r.push(l)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.join("&")}(e.query),a&&(i+="?".concat(a))),s=e.port,u=e.method,c="".concat(e.protocol,"//").concat(e.hostname).concat(s?":".concat(s):"").concat(i),l="GET"===u||"HEAD"===u?void 0:e.body,f={body:l,headers:new Headers(e.headers),method:u},"undefined"!=typeof AbortController&&(f.signal=n),d=new Request(c,f),p=[fetch(d).then((function(e){var t,n,r=e.headers,o={};try{for(var i=Rt(r.entries()),a=i.next();!a.done;a=i.next()){var s=a.value;o[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new h3({headers:o,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new h3({headers:o,statusCode:e.status,body:t})}}))})),(v=r,void 0===v&&(v=0),new Promise((function(e,t){v&&setTimeout((function(){var e=new Error("Request did not complete within ".concat(v," ms"));e.name="TimeoutError",t(e)}),v)})))],n&&p.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),[2,Promise.race(p)])}var v}))}))},e}(),g5={},b5=new Array(64),w5=0,S5="A".charCodeAt(0),E5="Z".charCodeAt(0);w5+S5<=E5;w5++){var _5=String.fromCharCode(w5+S5);g5[_5]=w5,b5[w5]=_5}for(w5=0,S5="a".charCodeAt(0),E5="z".charCodeAt(0);w5+S5<=E5;w5++){_5=String.fromCharCode(w5+S5);var x5=w5+26;g5[_5]=x5,b5[x5]=_5}for(w5=0;w5<10;w5++)g5[w5.toString(10)]=w5+52,_5=w5.toString(10),x5=w5+52,g5[_5]=x5,b5[x5]=_5;function T5(e){var t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),o=0;o<e.length;o+=4){for(var i=0,a=0,s=o,u=o+3;s<=u;s++)if("="!==e[s]){if(!(e[s]in g5))throw new TypeError("Invalid character ".concat(e[s]," in base64 string."));i|=g5[e[s]]<<6*(u-s),a+=6}else i>>=6;var c=o/4*3;i>>=a%8;for(var l=Math.floor(a/8),f=0;f<l;f++){var d=8*(l-f-1);r.setUint8(c+f,(i&255<<d)>>d)}}return new Uint8Array(n)}function I5(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,o=0,i=n,a=Math.min(n+3,e.length);i<a;i++)r|=e[i]<<8*(a-i-1),o+=8;var s=Math.ceil(o/6);r<<=6*s-o;for(var u=1;u<=s;u++){var c=6*(s-u);t+=b5[(r&63<<c)>>c]}t+="==".slice(0,4-s)}return t}g5["+"]=62,b5[62]="+",g5["/"]=63,b5[63]="/";var A5=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return Ot(this,void 0,void 0,(function(){var t,n;return kt(this,(function(r){switch(r.label){case 0:return[4,C5(e)];case 1:return t=r.sent(),n=T5(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return Ot(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return kt(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return o=u.sent(),i=o.done,(a=o.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=i,[3,1];case 3:return[2,t]}}))}))}(e)};function C5(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var o=null!==(e=r.result)&&void 0!==e?e:"",i=o.indexOf(","),a=i>-1?i+1:o.length;t(o.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var P5=function(e){return function(){return Promise.reject(e)}},O5=function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error("Body Length computation failed for ".concat(e))},k5=function(e){var t=e.serviceId,n=e.clientVersion;return function(){return Ot(void 0,void 0,void 0,(function(){var e,r,o,i,a,s,u,c,l;return kt(this,(function(f){return e="undefined"!=typeof window&&(null===(o=null===window||void 0===window?void 0:window.navigator)||void 0===o?void 0:o.userAgent)?gr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/".concat((null===(i=null==e?void 0:e.os)||void 0===i?void 0:i.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser","".concat(null!==(u=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown","_").concat(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/".concat(t),n]),[2,r]}))}))}},R5=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},N5=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)},L5=function(e){if("string"==typeof e)return L5(new URL(e));var t,n=e,r=n.hostname,o=n.pathname,i=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var o=Rt(e.split("&")),i=o.next();!i.done;i=o.next()){var a=Nt(i.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:i?parseInt(i):void 0,protocol:a,path:o,query:t}},D5={},M5={aws:{regions:["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ap-southeast-3","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-central-1","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"],regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.amazonaws.com",tags:[]},{hostname:"geo-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"geo-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"geo.{region}.api.aws",tags:["dualstack"]}]},"aws-cn":{regions:["cn-north-1","cn-northwest-1"],regionRegex:"^cn\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.amazonaws.com.cn",tags:[]},{hostname:"geo-fips.{region}.amazonaws.com.cn",tags:["fips"]},{hostname:"geo-fips.{region}.api.amazonwebservices.com.cn",tags:["dualstack","fips"]},{hostname:"geo.{region}.api.amazonwebservices.com.cn",tags:["dualstack"]}]},"aws-iso":{regions:["us-iso-east-1","us-iso-west-1"],regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.c2s.ic.gov",tags:[]},{hostname:"geo-fips.{region}.c2s.ic.gov",tags:["fips"]}]},"aws-iso-b":{regions:["us-isob-east-1"],regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.sc2s.sgov.gov",tags:[]},{hostname:"geo-fips.{region}.sc2s.sgov.gov",tags:["fips"]}]},"aws-us-gov":{regions:["us-gov-east-1","us-gov-west-1"],regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.amazonaws.com",tags:[]},{hostname:"geo-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"geo-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"geo.{region}.api.aws",tags:["dualstack"]}]}},j5=function(e,t){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(n){return[2,d3(e,Ct(Ct({},t),{signingService:"geo",regionHash:D5,partitionHash:M5}))]}))}))},U5=["in-region","cross-region","mobile","standard","legacy"],F5=function(){var e,t,n="undefined"!=typeof window&&(null===(e=null===window||void 0===window?void 0:window.navigator)||void 0===e?void 0:e.userAgent)?gr().parse(window.navigator.userAgent):void 0,r=null===(t=null==n?void 0:n.platform)||void 0===t?void 0:t.type;return"tablet"===r||"mobile"===r},z5=function(e){function t(t){var n,r,o,i=this,a=function(e){var t=e.region,n=e.useFipsEndpoint;if(!t)throw new Error("Region is missing");return Ct(Ct({},e),{region:function(){return Ot(void 0,void 0,void 0,(function(){var e;return kt(this,(function(n){switch(n.label){case 0:return"string"==typeof t?[2,l3(t)]:[4,t()];case 1:return e=n.sent(),[2,l3(e)]}}))}))},useFipsEndpoint:function(){return Ot(void 0,void 0,void 0,(function(){var e;return kt(this,(function(r){switch(r.label){case 0:return"string"!=typeof t?[3,1]:(e=t,[3,3]);case 1:return[4,t()];case 2:e=r.sent(),r.label=3;case 3:return c3(e)?[2,!0]:[2,"boolean"==typeof n?Promise.resolve(n):n()]}}))}))}})}(function(e){var t,n,r,o,i,a,s,u,c,l,f,d,p,h,v,y=function(e){var t=(void 0===e?{}:e).defaultsMode;return F3((function(){return Ot(void 0,void 0,void 0,(function(){var e,n;return kt(this,(function(r){switch(r.label){case 0:return"function"!=typeof t?[3,2]:[4,t()];case 1:return n=r.sent(),[3,3];case 2:n=t,r.label=3;case 3:switch(null==(e=n)?void 0:e.toLowerCase()){case"auto":return[2,Promise.resolve(F5()?"mobile":"standard")];case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return[2,Promise.resolve(null==e?void 0:e.toLocaleLowerCase())];case void 0:return[2,Promise.resolve("legacy")];default:throw new Error('Invalid parameter for "defaultsMode", expect '.concat(U5.join(", "),", got ").concat(e))}return[2]}}))}))}))}(e),m=function(){return y().then(l5)},g=function(e){var t,n,r,o,i;return{apiVersion:"2020-11-19",disableHostPrefix:null!==(t=null==e?void 0:e.disableHostPrefix)&&void 0!==t&&t,logger:null!==(n=null==e?void 0:e.logger)&&void 0!==n?n:{},regionInfoProvider:null!==(r=null==e?void 0:e.regionInfoProvider)&&void 0!==r?r:j5,serviceId:null!==(o=null==e?void 0:e.serviceId)&&void 0!==o?o:"Location",urlParser:null!==(i=null==e?void 0:e.urlParser)&&void 0!==i?i:L5}}(e);return Ct(Ct(Ct({},g),e),{runtime:"browser",defaultsMode:y,base64Decoder:null!==(t=null==e?void 0:e.base64Decoder)&&void 0!==t?t:T5,base64Encoder:null!==(n=null==e?void 0:e.base64Encoder)&&void 0!==n?n:I5,bodyLengthChecker:null!==(r=null==e?void 0:e.bodyLengthChecker)&&void 0!==r?r:O5,credentialDefaultProvider:null!==(o=null==e?void 0:e.credentialDefaultProvider)&&void 0!==o?o:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(i=null==e?void 0:e.defaultUserAgentProvider)&&void 0!==i?i:k5({serviceId:g.serviceId,clientVersion:"3.186.0"}),maxAttempts:null!==(a=null==e?void 0:e.maxAttempts)&&void 0!==a?a:3,region:null!==(s=null==e?void 0:e.region)&&void 0!==s?s:P5("Region is missing"),requestHandler:null!==(u=null==e?void 0:e.requestHandler)&&void 0!==u?u:new m5(m),retryMode:null!==(c=null==e?void 0:e.retryMode)&&void 0!==c?c:function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return[4,m()];case 1:return[2,e.sent().retryMode||_3]}}))}))},sha256:null!==(l=null==e?void 0:e.sha256)&&void 0!==l?l:mH.Sha256,streamCollector:null!==(f=null==e?void 0:e.streamCollector)&&void 0!==f?f:A5,useDualstackEndpoint:null!==(d=null==e?void 0:e.useDualstackEndpoint)&&void 0!==d?d:function(){return Promise.resolve(!1)},useFipsEndpoint:null!==(p=null==e?void 0:e.useFipsEndpoint)&&void 0!==p?p:function(){return Promise.resolve(!1)},utf8Decoder:null!==(h=null==e?void 0:e.utf8Decoder)&&void 0!==h?h:R5,utf8Encoder:null!==(v=null==e?void 0:e.utf8Encoder)&&void 0!==v?v:N5})}(t)),s=function(e){var t,n=u3(null!==(t=e.maxAttempts)&&void 0!==t?t:3);return Ct(Ct({},e),{maxAttempts:n,retryStrategy:function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return e.retryStrategy?[2,e.retryStrategy]:[4,u3(e.retryMode)()];case 1:return t.sent()===y3.ADAPTIVE?[2,new M3(n)]:[2,new N3(n)]}}))}))}})}(function(e){var t,n=u3(e.useDualstackEndpoint),r=e.endpoint,o=e.useFipsEndpoint,i=e.urlParser;return Ct(Ct({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:r?u3("string"==typeof r?i(r):r):function(){return function(e){return Ot(void 0,void 0,void 0,(function(){var t,n,r,o,i,a,s;return kt(this,(function(u){switch(u.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=u.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.useDualstackEndpoint()];case 2:return o=u.sent(),[4,e.useFipsEndpoint()];case 3:return i=u.sent(),[4,e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:i})];case 4:if(!(a=(null!==(s=u.sent())&&void 0!==s?s:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser("".concat(n?"https:":"http:","//").concat(a))]}}))}))}(Ct(Ct({},e),{useDualstackEndpoint:n,useFipsEndpoint:o}))},isCustomEndpoint:!!r,useDualstackEndpoint:n})}(a)),u=function(e){var t,n,r=e.credentials?"function"==typeof(n=e.credentials)?F3(n,(function(e){return void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5}),(function(e){return void 0!==e.expiration})):u3(n):e.credentialDefaultProvider(e),o=e.signingEscapePath,i=void 0===o||o,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?u3(e.signer):e.regionInfoProvider?function(){return u3(e.region)().then((function(t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i;return kt(this,(function(a){switch(a.label){case 0:return r=(n=e).regionInfoProvider,o=[t],i={},[4,e.useFipsEndpoint()];case 1:return i.useFipsEndpoint=a.sent(),[4,e.useDualstackEndpoint()];case 2:return[4,r.apply(n,o.concat([(i.useDualstackEndpoint=a.sent(),i)]))];case 3:return[2,[a.sent()||{},t]]}}))}))})).then((function(t){var n=Nt(t,2),o=n[0],a=n[1],s=o.signingRegion,c=o.signingService;e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId;var l=Ct(Ct({},e),{credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:i});return new(e.signerConstructor||m4)(l)}))}:function(t){return Ot(void 0,void 0,void 0,(function(){var n,o,a;return kt(this,(function(s){if(!t)throw new Error("Unexpected empty auth scheme config");return n=t.signingScope,o=t.signingName,e.signingRegion=e.signingRegion||n,e.signingName=e.signingName||o||e.serviceId,a=Ct(Ct({},e),{credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:i}),[2,new(e.signerConstructor||m4)(a)]}))}))},Ct(Ct({},e),{systemClockOffset:s,signingEscapePath:i,credentials:r,signer:t})}(s),c=Ct(Ct({},n=u),{customUserAgent:"string"==typeof n.customUserAgent?[[n.customUserAgent]]:n.customUserAgent});return(i=e.call(this,c)||this).config=c,i.middlewareStack.use((o=i.config,{applyToStack:function(e){e.add(function(e){return function(t,n){return function(r){return Ot(void 0,void 0,void 0,(function(){var o;return kt(this,(function(i){switch(i.label){case 0:return[4,e.retryStrategy()];case 1:return(null==(o=i.sent())?void 0:o.mode)&&(n.userAgent=Dt(Dt([],Nt(n.userAgent||[]),!1),[["cfg/retry-mode",o.mode]],!1)),[2,o.retry(t,r)]}}))}))}}}(o),j3)}})),i.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return Ot(t,void 0,void 0,(function(){var t,o,i,a,s;return kt(this,(function(u){if(t=r.request,p3.isInstance(t)&&(o=t.body,i=t.headers,o&&-1===Object.keys(i).map((function(e){return e.toLowerCase()})).indexOf(m3)))try{a=e(o),t.headers=Ct(Ct({},t.headers),((s={})[m3]=String(a),s))}catch(e){}return[2,n(Ct(Ct({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),g3)}}}(i.config)),i.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Ot(void 0,void 0,void 0,(function(){var r,o;return kt(this,(function(i){return p3.isInstance(n.request)?(r=n.request,(void 0===(o=(e.requestHandler.metadata||{}).handlerProtocol)?"":o).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),b3)}}}(i.config)),i.middlewareStack.use((i.config,{applyToStack:function(e){e.add((function(e,t){return function(n){return Ot(void 0,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f;return kt(this,(function(d){switch(d.label){case 0:return r=t.clientName,o=t.commandName,i=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,f=Pt(c,["$metadata"]),a.info({clientName:r,commandName:o,input:i(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}),w3)}})),i.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Ot(void 0,void 0,void 0,(function(){var r,o,i,a;return kt(this,(function(s){return r=n.request,!p3.isInstance(r)||"node"!==e.runtime||r.headers.hasOwnProperty(S3)?[2,t(n)]:(o=process.env.AWS_LAMBDA_FUNCTION_NAME,i=process.env._X_AMZN_TRACE_ID,(a=function(e){return"string"==typeof e&&e.length>0})(o)&&a(i)&&(r.headers[S3]=i),[2,t(Ct(Ct({},n),{request:r}))])}))}))}}}(e),E3)}}}(i.config)),i.middlewareStack.use(function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t,n){return function(r){var o,i,a;return Ot(this,void 0,void 0,(function(){var s,u,c,l,f,d,p;return kt(this,(function(h){switch(h.label){case 0:return p3.isInstance(r.request)?(s=null===(a=null===(i=null===(o=n.endpointV2)||void 0===o?void 0:o.properties)||void 0===i?void 0:i.authSchemes)||void 0===a?void 0:a[0],[4,e.signer(s)]):[2,t(r)];case 1:return u=h.sent(),l=t,f=[Ct({},r)],p={},[4,u.sign(r.request,{signingDate:w4(e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 2:return[4,l.apply(void 0,[Ct.apply(void 0,f.concat([(p.request=h.sent(),p)]))]).catch((function(t){var n,r=null!==(n=t.ServerTime)&&void 0!==n?n:E4(t.$response);throw r&&(e.systemClockOffset=S4(r,e.systemClockOffset)),t}))];case 3:return c=h.sent(),(d=E4(c.response))&&(e.systemClockOffset=S4(d,e.systemClockOffset)),[2,c]}}))}))}}}(e),_4)}}}(i.config)),i.middlewareStack.use((r=i.config,{applyToStack:function(e){var t;e.add((t=r,function(e,n){return function(r){return Ot(void 0,void 0,void 0,(function(){var o,i,a,s,u,c,l,f,d;return kt(this,(function(p){switch(p.label){case 0:return o=r.request,p3.isInstance(o)?(i=o.headers,a=(null===(f=null==n?void 0:n.userAgent)||void 0===f?void 0:f.map(A4))||[],[4,t.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=p.sent().map(A4),u=(null===(d=null==t?void 0:t.customUserAgent)||void 0===d?void 0:d.map(A4))||[],c=Dt(Dt(Dt([],Nt(s),!1),Nt(a),!1),Nt(u),!1).join(" "),l=Dt(Dt([],Nt(s.filter((function(e){return e.startsWith("aws-sdk-")}))),!1),Nt(u),!1).join(" "),"browser"!==t.runtime?(l&&(i[T4]=i[T4]?"".concat(i[x4]," ").concat(l):l),i[x4]=c):i[T4]=c,[2,e(Ct(Ct({},r),{request:o}))]}}))}))}}),C4)}})),i}return xe(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(R4),B5={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},q5={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function K5(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return Ot(void 0,void 0,void 0,(function(){var o,i,a;return kt(this,(function(s){switch(s.label){case 0:return[4,n(r)];case 1:o=s.sent().response,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,t(o,e)];case 3:return i=s.sent(),[2,{response:o,output:i}];case 4:throw a=s.sent(),Object.defineProperty(a,"$response",{value:o}),a;case 5:return[2]}}))}))}}}(e,n),B5),r.add(function(e,t){return function(n,r){return function(o){return Ot(void 0,void 0,void 0,(function(){var i,a,s;return kt(this,(function(u){switch(u.label){case 0:if(!(i=(null===(s=r.endpointV2)||void 0===s?void 0:s.url)&&e.urlParser?function(){return Ot(void 0,void 0,void 0,(function(){return kt(this,(function(t){return[2,e.urlParser(r.endpointV2.url)]}))}))}:e.endpoint))throw new Error("No valid endpoint provider available.");return[4,t(o.input,Ct(Ct({},e),{endpoint:i}))];case 1:return a=u.sent(),[2,n(Ct(Ct({},o),{request:a}))]}}))}))}}}(e,t),q5)}}}var G5=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return xe(t,e),t}(a5),H5=function(e){function t(n){var r=e.call(this,Ct({name:"AccessDeniedException",$fault:"client"},n))||this;return r.name="AccessDeniedException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return xe(t,e),t}(G5),V5=(function(e){xe((function t(n){var r=e.call(this,Ct({name:"ConflictException",$fault:"client"},n))||this;return r.name="ConflictException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}),e)}(G5),function(e){function t(n){var r=e.call(this,Ct({name:"InternalServerException",$fault:"server"},n))||this;return r.name="InternalServerException",r.$fault="server",r.$retryable={},Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return xe(t,e),t}(G5)),$5=function(e){function t(n){var r=e.call(this,Ct({name:"ResourceNotFoundException",$fault:"client"},n))||this;return r.name="ResourceNotFoundException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return xe(t,e),t}(G5),W5=(function(e){xe((function t(n){var r=e.call(this,Ct({name:"ServiceQuotaExceededException",$fault:"client"},n))||this;return r.name="ServiceQuotaExceededException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}),e)}(G5),function(e){function t(n){var r=e.call(this,Ct({name:"ThrottlingException",$fault:"client"},n))||this;return r.name="ThrottlingException",r.$fault="client",r.$retryable={},Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return xe(t,e),t}(G5)),Y5=function(e){function t(n){var r=e.call(this,Ct({name:"ValidationException",$fault:"client"},n))||this;return r.name="ValidationException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r.Reason=n.Reason,r.FieldList=n.FieldList,r}return xe(t,e),t}(G5),Z5=function(e){return Ct({},e)},J5=function(e){return Ct({},e)},X5=function(e){return Ct(Ct(Ct({},e),e.Polygon&&{Polygon:e.Polygon.map((function(e){return L4}))}),e.Circle&&{Circle:L4})},Q5=function(e){return Ct(Ct({},e),e.Entries&&{Entries:e.Entries.map((function(e){return function(e){return Ct(Ct({},e),e.Geometry&&{Geometry:X5(e.Geometry)})}(e)}))})},e6=function(e){return Ct({},e)},t6=function(e){return Ct({},e)},n6=function(e){return Ct(Ct({},e),e.Geometry&&{Geometry:X5(e.Geometry)})},r6=function(e){return Ct({},e)},o6=function(e){return Ct(Ct({},e),e.Entries&&{Entries:e.Entries.map((function(e){return function(e){return Ct(Ct({},e),e.Geometry&&{Geometry:X5(e.Geometry)})}(e)}))})},i6=function(e){return Ct({},e)},a6=function(e){return Ct(Ct({},e),e.Point&&{Point:L4})},s6=function(e){return Ct(Ct({},e),e.Geometry&&{Geometry:a6(e.Geometry)})},u6=function(e){return Ct(Ct({},e),e.Place&&{Place:s6(e.Place)})},c6=function(e){return Ct(Ct({},e),e.Position&&{Position:L4})},l6=function(e){return Ct(Ct({},e),e.Position&&{Position:L4})},f6=function(e){return Ct(Ct(Ct({},e),e.Summary&&{Summary:l6(e.Summary)}),e.Results&&{Results:e.Results.map((function(e){return function(e){return Ct(Ct({},e),e.Place&&{Place:s6(e.Place)})}(e)}))})},d6=function(e){return Ct(Ct(Ct(Ct({},e),e.Text&&{Text:L4}),e.BiasPosition&&{BiasPosition:L4}),e.FilterBBox&&{FilterBBox:L4})},p6=function(e){return Ct(Ct(Ct(Ct({},e),e.Text&&{Text:L4}),e.BiasPosition&&{BiasPosition:L4}),e.FilterBBox&&{FilterBBox:L4})},h6=function(e){return Ct(Ct({},e),e.Summary&&{Summary:p6(e.Summary)})},v6=function(e){return Ct(Ct(Ct(Ct({},e),e.Text&&{Text:L4}),e.BiasPosition&&{BiasPosition:L4}),e.FilterBBox&&{FilterBBox:L4})},y6=function(e){return Ct(Ct(Ct(Ct(Ct({},e),e.Text&&{Text:L4}),e.BiasPosition&&{BiasPosition:L4}),e.FilterBBox&&{FilterBBox:L4}),e.ResultBBox&&{ResultBBox:L4})},m6=function(e){return Ct(Ct(Ct({},e),e.Summary&&{Summary:y6(e.Summary)}),e.Results&&{Results:e.Results.map((function(e){return function(e){return Ct(Ct({},e),e.Place&&{Place:s6(e.Place)})}(e)}))})},g6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a;return kt(this,(function(s){switch(s.label){case 0:return r=[Ct({},e)],a={},[4,Q6(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=e8(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,A6(n,t)];case 3:throw s.sent();case 4:return[4,C6(n,t)];case 5:throw s.sent();case 6:return[4,P6(n,t)];case 7:throw s.sent();case 8:return[4,O6(n,t)];case 9:throw s.sent();case 10:return[4,k6(n,t)];case 11:throw s.sent();case 12:i=n.body,u5({output:e,parsedBody:i,exceptionCtor:G5,errorCode:o}),s.label=13;case 13:return[2]}}))}))},b6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a;return kt(this,(function(s){switch(s.label){case 0:return r=[Ct({},e)],a={},[4,Q6(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=e8(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,A6(n,t)];case 3:throw s.sent();case 4:return[4,C6(n,t)];case 5:throw s.sent();case 6:return[4,P6(n,t)];case 7:throw s.sent();case 8:return[4,O6(n,t)];case 9:throw s.sent();case 10:return[4,k6(n,t)];case 11:throw s.sent();case 12:i=n.body,u5({output:e,parsedBody:i,exceptionCtor:G5,errorCode:o}),s.label=13;case 13:return[2]}}))}))},w6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a;return kt(this,(function(s){switch(s.label){case 0:return r=[Ct({},e)],a={},[4,Q6(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=e8(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,A6(n,t)];case 3:throw s.sent();case 4:return[4,C6(n,t)];case 5:throw s.sent();case 6:return[4,P6(n,t)];case 7:throw s.sent();case 8:return[4,O6(n,t)];case 9:throw s.sent();case 10:return[4,k6(n,t)];case 11:throw s.sent();case 12:i=n.body,u5({output:e,parsedBody:i,exceptionCtor:G5,errorCode:o}),s.label=13;case 13:return[2]}}))}))},S6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a;return kt(this,(function(s){switch(s.label){case 0:return r=[Ct({},e)],a={},[4,Q6(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=e8(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,A6(n,t)];case 3:throw s.sent();case 4:return[4,C6(n,t)];case 5:throw s.sent();case 6:return[4,P6(n,t)];case 7:throw s.sent();case 8:return[4,O6(n,t)];case 9:throw s.sent();case 10:return[4,k6(n,t)];case 11:throw s.sent();case 12:i=n.body,u5({output:e,parsedBody:i,exceptionCtor:G5,errorCode:o}),s.label=13;case 13:return[2]}}))}))},E6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a;return kt(this,(function(s){switch(s.label){case 0:return r=[Ct({},e)],a={},[4,Q6(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=e8(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,A6(n,t)];case 3:throw s.sent();case 4:return[4,C6(n,t)];case 5:throw s.sent();case 6:return[4,P6(n,t)];case 7:throw s.sent();case 8:return[4,O6(n,t)];case 9:throw s.sent();case 10:return[4,k6(n,t)];case 11:throw s.sent();case 12:i=n.body,u5({output:e,parsedBody:i,exceptionCtor:G5,errorCode:o}),s.label=13;case 13:return[2]}}))}))},_6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a;return kt(this,(function(s){switch(s.label){case 0:return r=[Ct({},e)],a={},[4,Q6(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=e8(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,A6(n,t)];case 3:throw s.sent();case 4:return[4,C6(n,t)];case 5:throw s.sent();case 6:return[4,P6(n,t)];case 7:throw s.sent();case 8:return[4,O6(n,t)];case 9:throw s.sent();case 10:return[4,k6(n,t)];case 11:throw s.sent();case 12:i=n.body,u5({output:e,parsedBody:i,exceptionCtor:G5,errorCode:o}),s.label=13;case 13:return[2]}}))}))},x6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a;return kt(this,(function(s){switch(s.label){case 0:return r=[Ct({},e)],a={},[4,Q6(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=e8(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,A6(n,t)];case 3:throw s.sent();case 4:return[4,C6(n,t)];case 5:throw s.sent();case 6:return[4,P6(n,t)];case 7:throw s.sent();case 8:return[4,O6(n,t)];case 9:throw s.sent();case 10:return[4,k6(n,t)];case 11:throw s.sent();case 12:i=n.body,u5({output:e,parsedBody:i,exceptionCtor:G5,errorCode:o}),s.label=13;case 13:return[2]}}))}))},T6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a;return kt(this,(function(s){switch(s.label){case 0:return r=[Ct({},e)],a={},[4,Q6(e.body,t)];case 1:switch(n=Ct.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=e8(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,A6(n,t)];case 3:throw s.sent();case 4:return[4,C6(n,t)];case 5:throw s.sent();case 6:return[4,P6(n,t)];case 7:throw s.sent();case 8:return[4,O6(n,t)];case 9:throw s.sent();case 10:return[4,k6(n,t)];case 11:throw s.sent();case 12:i=n.body,u5({output:e,parsedBody:i,exceptionCtor:G5,errorCode:o}),s.label=13;case 13:return[2]}}))}))},I6=d5,A6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=I6({}),null!=(n=e.body).message&&(t.Message=K4(n.message)),r=new H5(Ct({$metadata:J6(e)},t)),[2,s5(r,e.body)]}))}))},C6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=I6({}),null!=(n=e.body).message&&(t.Message=K4(n.message)),r=new V5(Ct({$metadata:J6(e)},t)),[2,s5(r,e.body)]}))}))},P6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=I6({}),null!=(n=e.body).message&&(t.Message=K4(n.message)),r=new $5(Ct({$metadata:J6(e)},t)),[2,s5(r,e.body)]}))}))},O6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var t,n,r;return kt(this,(function(o){return t=I6({}),null!=(n=e.body).message&&(t.Message=K4(n.message)),r=new W5(Ct({$metadata:J6(e)},t)),[2,s5(r,e.body)]}))}))},k6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o;return kt(this,(function(i){return n=I6({}),null!=(r=e.body).fieldList&&(n.FieldList=Z6(r.fieldList,t)),null!=r.message&&(n.Message=K4(r.message)),null!=r.reason&&(n.Reason=K4(r.reason)),o=new Y5(Ct({$metadata:J6(e)},n)),[2,s5(o,e.body)]}))}))},R6=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return function(e,t){return Ct(Ct({},null!=e.GeofenceId&&{GeofenceId:e.GeofenceId}),null!=e.Geometry&&{Geometry:M6(e.Geometry,t)})}(e,t)}))},N6=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return y5(e)}))},L6=function(e,t){return Ct(Ct({},null!=e.Center&&{Center:F6(e.Center,t)}),null!=e.Radius&&{Radius:y5(e.Radius)})},D6=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))},M6=function(e,t){return Ct(Ct({},null!=e.Circle&&{Circle:L6(e.Circle,t)}),null!=e.Polygon&&{Polygon:U6(e.Polygon,t)})},j6=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))},U6=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return F6(e,t)}))}(e,t)}))},F6=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return y5(e)}))},z6=function(e,t){return{Code:K4(e.Code),Message:K4(e.Message)}},B6=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:V4(e)}))},q6=function(e,t){return{Center:null!=e.Center?W6(e.Center,t):void 0,Radius:V4(e.Radius)}},K6=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:K4(e)}))},G6=function(e,t){return{Circle:null!=e.Circle?q6(e.Circle,t):void 0,Polygon:null!=e.Polygon?H6(e.Polygon,t):void 0}},H6=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:W6(e,t)}));return n}(e,t)}));return n},V6=function(e,t){return{AddressNumber:K4(e.AddressNumber),Country:K4(e.Country),Geometry:null!=e.Geometry?$6(e.Geometry,t):void 0,Interpolated:D4(e.Interpolated),Label:K4(e.Label),Municipality:K4(e.Municipality),Neighborhood:K4(e.Neighborhood),PostalCode:K4(e.PostalCode),Region:K4(e.Region),Street:K4(e.Street),SubRegion:K4(e.SubRegion),TimeZone:null!=e.TimeZone?Y6(e.TimeZone,t):void 0,UnitNumber:K4(e.UnitNumber),UnitType:K4(e.UnitType)}},$6=function(e,t){return{Point:null!=e.Point?W6(e.Point,t):void 0}},W6=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:V4(e)}))},Y6=function(e,t){return{Name:K4(e.Name),Offset:U4(e.Offset)}},Z6=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Message:K4(e.message),Name:K4(e.name)}}(e)}))},J6=function(e){var t,n;return{httpStatusCode:e.statusCode,requestId:null!==(n=null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"])&&void 0!==n?n:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},X6=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Q6=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return kt(this,(function(o){switch(o.label){case 0:return[4,X6(e,t)];case 1:return(n=o.sent()).message=null!==(r=n.message)&&void 0!==r?r:n.Message,[2,n]}}))}))},e8=function(e,t){var n,r=function(e){var t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==o?r(e.headers[o]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):void 0},t8=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(K5(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"LocationClient",commandName:"SearchPlaceIndexForTextCommand",inputFilterSensitiveLog:v6,outputFilterSensitiveLog:m6},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return(n=f.sent()).hostname,r=n.protocol,o=void 0===r?"https":r,i=n.port,a=n.path,s={"content-type":"application/json"},u="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/places/v0/indexes/{IndexName}/search/text",u=v5(u,e,"IndexName",(function(){return e.IndexName}),"{IndexName}",!1),c=JSON.stringify(Ct(Ct(Ct(Ct(Ct(Ct({},null!=e.BiasPosition&&{BiasPosition:F6(e.BiasPosition,t)}),null!=e.FilterBBox&&{FilterBBox:N6(e.FilterBBox)}),null!=e.FilterCountries&&{FilterCountries:D6(e.FilterCountries)}),null!=e.Language&&{Language:e.Language}),null!=e.MaxResults&&{MaxResults:e.MaxResults}),null!=e.Text&&{Text:e.Text})),[4,t.endpoint()];case 2:if(l=f.sent().hostname,!0!==t.disableHostPrefix&&!v3(l="places."+l))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new p3({protocol:o,hostname:l,port:i,method:"POST",headers:s,path:u,body:c})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i;return kt(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,T6(e,t)]:(n=I6({$metadata:J6(e)}),o=B4,i=q4,[4,X6(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[i.apply(void 0,[a.sent()]),"body"])).Results&&(n.Results=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Distance:V4(e.Distance),Place:null!=e.Place?V6(e.Place,t):void 0,PlaceId:K4(e.PlaceId),Relevance:V4(e.Relevance)}}(e,t)}));return n}(r.Results,t)),null!=r.Summary&&(n.Summary=function(e,t){return{BiasPosition:null!=e.BiasPosition?W6(e.BiasPosition,t):void 0,DataSource:K4(e.DataSource),FilterBBox:null!=e.FilterBBox?B6(e.FilterBBox):void 0,FilterCountries:null!=e.FilterCountries?K6(e.FilterCountries):void 0,Language:K4(e.Language),MaxResults:U4(e.MaxResults),ResultBBox:null!=e.ResultBBox?B6(e.ResultBBox):void 0,Text:K4(e.Text)}}(r.Summary,t)),[2,n]}}))}))}(e,t)},t}(N4),n8=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(K5(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"LocationClient",commandName:"SearchPlaceIndexForSuggestionsCommand",inputFilterSensitiveLog:d6,outputFilterSensitiveLog:h6},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return(n=f.sent()).hostname,r=n.protocol,o=void 0===r?"https":r,i=n.port,a=n.path,s={"content-type":"application/json"},u="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/places/v0/indexes/{IndexName}/search/suggestions",u=v5(u,e,"IndexName",(function(){return e.IndexName}),"{IndexName}",!1),c=JSON.stringify(Ct(Ct(Ct(Ct(Ct(Ct({},null!=e.BiasPosition&&{BiasPosition:F6(e.BiasPosition,t)}),null!=e.FilterBBox&&{FilterBBox:N6(e.FilterBBox)}),null!=e.FilterCountries&&{FilterCountries:D6(e.FilterCountries)}),null!=e.Language&&{Language:e.Language}),null!=e.MaxResults&&{MaxResults:e.MaxResults}),null!=e.Text&&{Text:e.Text})),[4,t.endpoint()];case 2:if(l=f.sent().hostname,!0!==t.disableHostPrefix&&!v3(l="places."+l))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new p3({protocol:o,hostname:l,port:i,method:"POST",headers:s,path:u,body:c})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i;return kt(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,x6(e,t)]:(n=I6({$metadata:J6(e)}),o=B4,i=q4,[4,X6(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[i.apply(void 0,[a.sent()]),"body"])).Results&&(n.Results=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{PlaceId:K4(e.PlaceId),Text:K4(e.Text)}}(e)}))}(r.Results)),null!=r.Summary&&(n.Summary=function(e,t){return{BiasPosition:null!=e.BiasPosition?W6(e.BiasPosition,t):void 0,DataSource:K4(e.DataSource),FilterBBox:null!=e.FilterBBox?B6(e.FilterBBox):void 0,FilterCountries:null!=e.FilterCountries?K6(e.FilterCountries):void 0,Language:K4(e.Language),MaxResults:U4(e.MaxResults),Text:K4(e.Text)}}(r.Summary,t)),[2,n]}}))}))}(e,t)},t}(N4),r8=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(K5(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"LocationClient",commandName:"GetPlaceCommand",inputFilterSensitiveLog:i6,outputFilterSensitiveLog:u6},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return(n=f.sent()).hostname,r=n.protocol,o=void 0===r?"https":r,i=n.port,a=n.path,s={},u="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/places/v0/indexes/{IndexName}/places/{PlaceId}",u=v5(u,e,"IndexName",(function(){return e.IndexName}),"{IndexName}",!1),u=v5(u,e,"PlaceId",(function(){return e.PlaceId}),"{PlaceId}",!1),c=I6({language:[,e.Language]}),[4,t.endpoint()];case 2:if(l=f.sent().hostname,!0!==t.disableHostPrefix&&!v3(l="places."+l))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new p3({protocol:o,hostname:l,port:i,method:"GET",headers:s,path:u,query:c,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i;return kt(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,S6(e,t)]:(n=I6({$metadata:J6(e)}),o=B4,i=q4,[4,X6(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[i.apply(void 0,[a.sent()]),"body"])).Place&&(n.Place=V6(r.Place,t)),[2,n]}}))}))}(e,t)},t}(N4),o8=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(K5(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"LocationClient",commandName:"SearchPlaceIndexForPositionCommand",inputFilterSensitiveLog:c6,outputFilterSensitiveLog:f6},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return(n=f.sent()).hostname,r=n.protocol,o=void 0===r?"https":r,i=n.port,a=n.path,s={"content-type":"application/json"},u="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/places/v0/indexes/{IndexName}/search/position",u=v5(u,e,"IndexName",(function(){return e.IndexName}),"{IndexName}",!1),c=JSON.stringify(Ct(Ct(Ct({},null!=e.Language&&{Language:e.Language}),null!=e.MaxResults&&{MaxResults:e.MaxResults}),null!=e.Position&&{Position:F6(e.Position,t)})),[4,t.endpoint()];case 2:if(l=f.sent().hostname,!0!==t.disableHostPrefix&&!v3(l="places."+l))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new p3({protocol:o,hostname:l,port:i,method:"POST",headers:s,path:u,body:c})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i;return kt(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,_6(e,t)]:(n=I6({$metadata:J6(e)}),o=B4,i=q4,[4,X6(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[i.apply(void 0,[a.sent()]),"body"])).Results&&(n.Results=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Distance:V4(e.Distance),Place:null!=e.Place?V6(e.Place,t):void 0,PlaceId:K4(e.PlaceId)}}(e,t)}));return n}(r.Results,t)),null!=r.Summary&&(n.Summary=function(e,t){return{DataSource:K4(e.DataSource),Language:K4(e.Language),MaxResults:U4(e.MaxResults),Position:null!=e.Position?W6(e.Position,t):void 0}}(r.Summary,t)),[2,n]}}))}))}(e,t)},t}(N4),i8=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(K5(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"LocationClient",commandName:"GetGeofenceCommand",inputFilterSensitiveLog:t6,outputFilterSensitiveLog:n6},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return kt(this,(function(l){switch(l.label){case 0:return[4,t.endpoint()];case 1:return(n=l.sent()).hostname,r=n.protocol,o=void 0===r?"https":r,i=n.port,a=n.path,s={},u="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/geofencing/v0/collections/{CollectionName}/geofences/{GeofenceId}",u=v5(u,e,"CollectionName",(function(){return e.CollectionName}),"{CollectionName}",!1),u=v5(u,e,"GeofenceId",(function(){return e.GeofenceId}),"{GeofenceId}",!1),[4,t.endpoint()];case 2:if(c=l.sent().hostname,!0!==t.disableHostPrefix&&!v3(c="geofencing."+c))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new p3({protocol:o,hostname:c,port:i,method:"GET",headers:s,path:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i;return kt(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,w6(e,t)]:(n=I6({$metadata:J6(e)}),o=B4,i=q4,[4,X6(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[i.apply(void 0,[a.sent()]),"body"])).CreateTime&&(n.CreateTime=B4(X4(r.CreateTime))),null!=r.GeofenceId&&(n.GeofenceId=K4(r.GeofenceId)),null!=r.Geometry&&(n.Geometry=G6(r.Geometry,t)),null!=r.Status&&(n.Status=K4(r.Status)),null!=r.UpdateTime&&(n.UpdateTime=B4(X4(r.UpdateTime))),[2,n]}}))}))}(e,t)},t}(N4),a8=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(K5(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"LocationClient",commandName:"ListGeofencesCommand",inputFilterSensitiveLog:r6,outputFilterSensitiveLog:o6},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return(n=f.sent()).hostname,r=n.protocol,o=void 0===r?"https":r,i=n.port,a=n.path,s={"content-type":"application/json"},u="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/geofencing/v0/collections/{CollectionName}/list-geofences",u=v5(u,e,"CollectionName",(function(){return e.CollectionName}),"{CollectionName}",!1),c=JSON.stringify(Ct(Ct({},null!=e.MaxResults&&{MaxResults:e.MaxResults}),null!=e.NextToken&&{NextToken:e.NextToken})),[4,t.endpoint()];case 2:if(l=f.sent().hostname,!0!==t.disableHostPrefix&&!v3(l="geofencing."+l))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new p3({protocol:o,hostname:l,port:i,method:"POST",headers:s,path:u,body:c})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i;return kt(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,E6(e,t)]:(n=I6({$metadata:J6(e)}),o=B4,i=q4,[4,X6(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[i.apply(void 0,[a.sent()]),"body"])).Entries&&(n.Entries=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{CreateTime:null!=e.CreateTime?B4(X4(e.CreateTime)):void 0,GeofenceId:K4(e.GeofenceId),Geometry:null!=e.Geometry?G6(e.Geometry,t):void 0,Status:K4(e.Status),UpdateTime:null!=e.UpdateTime?B4(X4(e.UpdateTime)):void 0}}(e,t)}));return n}(r.Entries,t)),null!=r.NextToken&&(n.NextToken=K4(r.NextToken)),[2,n]}}))}))}(e,t)},t}(N4),s8=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(K5(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"LocationClient",commandName:"BatchPutGeofenceCommand",inputFilterSensitiveLog:Q5,outputFilterSensitiveLog:e6},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return(n=f.sent()).hostname,r=n.protocol,o=void 0===r?"https":r,i=n.port,a=n.path,s={"content-type":"application/json"},u="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/geofencing/v0/collections/{CollectionName}/put-geofences",u=v5(u,e,"CollectionName",(function(){return e.CollectionName}),"{CollectionName}",!1),c=JSON.stringify(Ct({},null!=e.Entries&&{Entries:R6(e.Entries,t)})),[4,t.endpoint()];case 2:if(l=f.sent().hostname,!0!==t.disableHostPrefix&&!v3(l="geofencing."+l))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new p3({protocol:o,hostname:l,port:i,method:"POST",headers:s,path:u,body:c})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i;return kt(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,b6(e,t)]:(n=I6({$metadata:J6(e)}),o=B4,i=q4,[4,X6(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[i.apply(void 0,[a.sent()]),"body"])).Errors&&(n.Errors=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Error:null!=e.Error?z6(e.Error,t):void 0,GeofenceId:K4(e.GeofenceId)}}(e,t)}));return n}(r.Errors,t)),null!=r.Successes&&(n.Successes=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{CreateTime:null!=e.CreateTime?B4(X4(e.CreateTime)):void 0,GeofenceId:K4(e.GeofenceId),UpdateTime:null!=e.UpdateTime?B4(X4(e.UpdateTime)):void 0}}(e)}))}(r.Successes)),[2,n]}}))}))}(e,t)},t}(N4),u8=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return xe(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(K5(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"LocationClient",commandName:"BatchDeleteGeofenceCommand",inputFilterSensitiveLog:Z5,outputFilterSensitiveLog:J5},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kt(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return(n=f.sent()).hostname,r=n.protocol,o=void 0===r?"https":r,i=n.port,a=n.path,s={"content-type":"application/json"},u="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/geofencing/v0/collections/{CollectionName}/delete-geofences",u=v5(u,e,"CollectionName",(function(){return e.CollectionName}),"{CollectionName}",!1),c=JSON.stringify(Ct({},null!=e.GeofenceIds&&{GeofenceIds:j6(e.GeofenceIds)})),[4,t.endpoint()];case 2:if(l=f.sent().hostname,!0!==t.disableHostPrefix&&!v3(l="geofencing."+l))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new p3({protocol:o,hostname:l,port:i,method:"POST",headers:s,path:u,body:c})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i;return kt(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,g6(e,t)]:(n=I6({$metadata:J6(e)}),o=B4,i=q4,[4,X6(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[i.apply(void 0,[a.sent()]),"body"])).Errors&&(n.Errors=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Error:null!=e.Error?z6(e.Error,t):void 0,GeofenceId:K4(e.GeofenceId)}}(e,t)}));return n}(r.Errors,t)),[2,n]}}))}))}(e,t)},t}(N4);function c8(e,t){if(!Number.isFinite(e)||!Number.isFinite(t))throw new Error("Invalid coordinates: ["+e+","+t+"]");if(t<-90||90<t)throw new Error("Latitude must be between -90 and 90 degrees inclusive.");if(e<-180||180<e)throw new Error("Longitude must be between -180 and 180 degrees inclusive.")}function l8(e){if(!/^[-._\p{L}\p{N}]+$/iu.test(e))throw new Error("Invalid geofenceId: '"+e+"' - IDs can only contain alphanumeric characters, hyphens, underscores and periods.")}function f8(e,t){var n=t?t+": ":"";if(e.length<4)throw new Error(n+"LinearRing must contain 4 or more coordinates.");var r=[];if(e.forEach((function(e){try{c8(e[0],e[1])}catch(t){r.push({coordinates:e,error:t.message})}})),r.length>0)throw new Error(n+"One or more of the coordinates in the Polygon LinearRing are not valid: "+JSON.stringify(r));var o=o3(e[0],2),i=o[0],a=o[1],s=o3(e[e.length-1],2),u=s[0],c=s[1];if(i!==u||a!==c)throw new Error(n+"LinearRing's first and last coordinates are not the same");if(function(e){for(var t,n,r=function(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}(e),o=0,i=1;i<r.length;)t=n||r[0],o+=((n=r[i])[0]-t[0])*(n[1]+t[1]),i++;return o>0}(e))throw new Error(n+"LinearRing coordinates must be wound counterclockwise")}function d8(e,t){var n=t3({},t);if(n.FilterCountries=e.countries,n.MaxResults=e.maxResults,e.searchIndexName&&(n.IndexName=e.searchIndexName),e.biasPosition&&e.searchAreaConstraints)throw new Error("BiasPosition and SearchAreaConstraints are mutually exclusive, please remove one or the other from the options object");return e.biasPosition&&(n.BiasPosition=e.biasPosition),e.searchAreaConstraints&&(n.FilterBBox=e.searchAreaConstraints),n}var p8=new c("AmazonLocationServiceProvider"),h8=function(){function e(e){this._config=e||{},p8.debug("Geo Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(e){return p8.debug("configure Amazon Location Service Provider",e),e?(this._config=Object.assign({},this._config,e),this._config):this._config},e.prototype.getAvailableMaps=function(){this._verifyMapResources();var e=[],t=this._config.maps.items,n=this._config.region;for(var r in t){var o=t[r].style;e.push({mapName:r,style:o,region:n})}return e},e.prototype.getDefaultMap=function(){this._verifyMapResources();var e=this._config.maps.default;return{mapName:e,style:this._config.maps.items[e].style,region:this._config.region}},e.prototype.searchByText=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,o,i,a,s;return r3(this,(function(u){switch(u.label){case 0:return[4,this._ensureCredentials()];case 1:if(!u.sent())throw new Error("No credentials");this._verifySearchIndex(null==t?void 0:t.searchIndexName),n={Text:e,IndexName:this._config.search_indices.default},t&&(n=t3(t3({},n),d8(t,n))),r=new z5({credentials:this._config.credentials,region:this._config.region,customUserAgent:te()}),o=new t8(n),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,r.send(o)];case 3:return i=u.sent(),[3,5];case 4:throw a=u.sent(),p8.debug(a),a;case 5:return s=i.Results.map((function(e){return e.Place})),[2,s3()(s,{deep:!0})]}}))}))},e.prototype.searchForSuggestions=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,o,i,a;return r3(this,(function(s){switch(s.label){case 0:return[4,this._ensureCredentials()];case 1:if(!s.sent())throw new Error("No credentials");this._verifySearchIndex(null==t?void 0:t.searchIndexName),n={Text:e,IndexName:this._config.search_indices.default},t&&(n=t3(t3({},n),d8(t,n))),r=new z5({credentials:this._config.credentials,region:this._config.region,customUserAgent:te()}),o=new n8(n),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,r.send(o)];case 3:return i=s.sent(),[3,5];case 4:throw a=s.sent(),p8.debug(a),a;case 5:return[2,i.Results.map((function(e){return{text:e.Text,placeId:e.PlaceId}}))]}}))}))},e.prototype._verifyPlaceId=function(e){if(0===e.length){var t="PlaceId cannot be an empty string.";throw p8.debug(t),new Error(t)}},e.prototype.searchByPlaceId=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,o,i,a,s;return r3(this,(function(u){switch(u.label){case 0:return[4,this._ensureCredentials()];case 1:if(!u.sent())throw new Error("No credentials");this._verifySearchIndex(null==t?void 0:t.searchIndexName),this._verifyPlaceId(e),n=new z5({credentials:this._config.credentials,region:this._config.region,customUserAgent:te()}),r={PlaceId:e,IndexName:(null==t?void 0:t.searchIndexName)||this._config.search_indices.default},o=new r8(r),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,n.send(o)];case 3:return i=u.sent(),[3,5];case 4:throw a=u.sent(),p8.debug(a),a;case 5:return(s=i.Place)?[2,s3()(s,{deep:!0})]:[2]}}))}))},e.prototype.searchByCoordinates=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,o,i,a,s;return r3(this,(function(u){switch(u.label){case 0:return[4,this._ensureCredentials()];case 1:if(!u.sent())throw new Error("No credentials");this._verifySearchIndex(null==t?void 0:t.searchIndexName),n={Position:e,IndexName:this._config.search_indices.default},t&&(t.searchIndexName&&(n.IndexName=t.searchIndexName),n.MaxResults=t.maxResults),r=new z5({credentials:this._config.credentials,region:this._config.region,customUserAgent:te()}),o=new o8(n),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,r.send(o)];case 3:return i=u.sent(),[3,5];case 4:throw a=u.sent(),p8.debug(a),a;case 5:return s=i.Results.map((function(e){return e.Place})),[2,s3()(s[0],{deep:!0})]}}))}))},e.prototype.saveGeofences=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,o,i=this;return r3(this,(function(a){switch(a.label){case 0:if(e.length<1)throw new Error("Geofence input array is empty");return[4,this._ensureCredentials()];case 1:if(!a.sent())throw new Error("No credentials");try{this._verifyGeofenceCollections(null==t?void 0:t.collectionName)}catch(e){throw p8.debug(e),e}for(function(e){var t={};e.forEach((function(e){if(!e.geofenceId)throw new Error("Geofence '"+e+"' is missing geofenceId");var n=e.geofenceId;if(l8(n),t[n])throw new Error("Duplicate geofenceId: "+n);if(t[n]=!0,!e.geometry)throw new Error("Geofence '"+n+"' is missing geometry");var r=e.geometry;if(!r.polygon)throw new Error("Geofence '"+n+"' is missing geometry.polygon");var o=r.polygon;try{!function(e,t){var n=t?t+": ":"";if(!Array.isArray(e))throw new Error(n+"Polygon is of incorrect structure. It should be an array of LinearRings");if(e.length<1)throw new Error(n+"Polygon must have a single LinearRing array.");if(e.length>1)throw new Error(n+"Polygon must have a single LinearRing array. Note: We do not currently support polygons with holes, multipolygons, polygons that are wound clockwise, or that cross the antimeridian.");if(e.reduce((function(e,t){return e+t.length}),0)>1e3)throw new Error(n+"Polygon has more than the maximum 1000 vertices.");e.forEach((function(e){f8(e,t)}))}(o,n)}catch(e){if(e.message.includes("Polygon has more than the maximum 1000 vertices."))throw new Error("Geofence '"+n+"' has more than the maximum of 1000 vertices")}f8(o3(o,1)[0],n)}))}(e),n=e.map((function(e){return{GeofenceId:e.geofenceId,Geometry:{Polygon:e.geometry.polygon}}})),r={successes:[],errors:[]},o=[];n.length>0;)o.push(n.splice(0,10));return[4,Promise.all(o.map((function(e){return n3(i,void 0,void 0,(function(){var n,o;return r3(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._AmazonLocationServiceBatchPutGeofenceCall(e,(null==t?void 0:t.collectionName)||this._config.geofenceCollections.default)];case 1:return n=i.sent(),[3,3];case 2:return o=i.sent(),e.forEach((function(e){r.errors.push({geofenceId:e.GeofenceId,error:{code:"APIConnectionError",message:o.message}})})),[2];case 3:return n.Successes.forEach((function(e){var t=e.GeofenceId,n=e.CreateTime,o=e.UpdateTime;r.successes.push({geofenceId:t,createTime:n,updateTime:o})})),n.Errors.forEach((function(e){var t=e.Error,n=t.Code,o=t.Message,i=e.GeofenceId;r.errors.push({error:{code:n,message:o},geofenceId:i})})),[2]}}))}))})))];case 2:return a.sent(),[2,r]}}))}))},e.prototype.getGeofence=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f;return r3(this,(function(d){switch(d.label){case 0:return[4,this._ensureCredentials()];case 1:if(!d.sent())throw new Error("No credentials");try{this._verifyGeofenceCollections(null==t?void 0:t.collectionName)}catch(e){throw p8.debug(e),e}l8(e),n=new z5({credentials:this._config.credentials,region:this._config.region,customUserAgent:te()}),r={GeofenceId:e,CollectionName:(null==t?void 0:t.collectionName)||this._config.geofenceCollections.default},o=new i8(r),d.label=2;case 2:return d.trys.push([2,4,,5]),[4,n.send(o)];case 3:return i=d.sent(),[3,5];case 4:throw a=d.sent(),p8.debug(a),a;case 5:return s=i.GeofenceId,u=i.CreateTime,c=i.UpdateTime,l=i.Status,f=i.Geometry,[2,{createTime:u,geofenceId:s,geometry:{polygon:f.Polygon},status:l,updateTime:c}]}}))}))},e.prototype.listGeofences=function(e){return n3(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u;return r3(this,(function(c){switch(c.label){case 0:return[4,this._ensureCredentials()];case 1:if(!c.sent())throw new Error("No credentials");try{this._verifyGeofenceCollections(null==e?void 0:e.collectionName)}catch(e){throw p8.debug(e),e}t=new z5({credentials:this._config.credentials,region:this._config.region,customUserAgent:te()}),n={NextToken:null==e?void 0:e.nextToken,CollectionName:(null==e?void 0:e.collectionName)||this._config.geofenceCollections.default},r=new a8(n),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,t.send(r)];case 3:return o=c.sent(),[3,5];case 4:throw i=c.sent(),p8.debug(i),i;case 5:return a=o.NextToken,s=o.Entries,u={entries:s.map((function(e){return{geofenceId:e.GeofenceId,createTime:e.CreateTime,updateTime:e.UpdateTime,status:e.Status,geometry:{polygon:e.Geometry.Polygon}}})),nextToken:a},[2,u]}}))}))},e.prototype.deleteGeofences=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,o,i,a=this;return r3(this,(function(s){switch(s.label){case 0:if(e.length<1)throw new Error("GeofenceId input array is empty");return[4,this._ensureCredentials()];case 1:if(!s.sent())throw new Error("No credentials");if(this._verifyGeofenceCollections(null==t?void 0:t.collectionName),(n=e.filter((function(e){try{l8(e)}catch(e){return!0}}))).length>0)throw new Error("Invalid geofence ids: "+n.join(", "));for(r={successes:[],errors:[]},o=[],i=0;i<e.length;)o.push(e.slice(i,i+=10));return[4,Promise.all(o.map((function(e){return n3(a,void 0,void 0,(function(){var n,o,i,a;return r3(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this._AmazonLocationServiceBatchDeleteGeofenceCall(e,(null==t?void 0:t.collectionName)||this._config.geofenceCollections.default)];case 1:return n=s.sent(),[3,3];case 2:return o=s.sent(),e.forEach((function(e){var t={geofenceId:e,error:{code:o.message,message:o.message}};r.errors.push(t)})),[2];case 3:return i=n.Errors.map((function(e){return e.geofenceId})),(a=r.successes).push.apply(a,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o3(arguments[t]));return e}(e.filter((function(e){return!i.includes(e)})))),[2]}}))}))})))];case 2:return s.sent(),[2,r]}}))}))},e.prototype._ensureCredentials=function(){return n3(this,void 0,void 0,(function(){var e,t,n;return r3(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,fs.get()];case 1:return(e=r.sent())?(t=fs.shear(e),p8.debug("Set credentials for storage. Credentials are:",t),this._config.credentials=t,[2,!0]):[2,!1];case 2:return n=r.sent(),p8.debug("Ensure credentials error. Credentials are:",n),[2,!1];case 3:return[2]}}))}))},e.prototype._verifyMapResources=function(){if(!this._config.maps){var e="No map resources found in amplify config, run 'amplify add geo' to create one and run `amplify push` after";throw p8.debug(e),new Error(e)}if(!this._config.maps.default)throw e="No default map resource found in amplify config, run 'amplify add geo' to create one and run `amplify push` after",p8.debug(e),new Error(e)},e.prototype._verifySearchIndex=function(e){if(!(this._config.search_indices&&this._config.search_indices.default||e)){var t="No Search Index found in amplify config, please run `amplify add geo` to create one and run `amplify push` after.";throw p8.debug(t),new Error(t)}},e.prototype._verifyGeofenceCollections=function(e){if(!(this._config.geofenceCollections&&this._config.geofenceCollections.default||e)){var t="No Geofence Collections found, please run `amplify add geo` to create one and run `amplify push` after.";throw p8.debug(t),new Error(t)}},e.prototype._AmazonLocationServiceBatchPutGeofenceCall=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,o,i;return r3(this,(function(a){switch(a.label){case 0:n={Entries:e,CollectionName:t||this._config.geofenceCollections.default},r=new z5({credentials:this._config.credentials,region:this._config.region,customUserAgent:te()}),o=new s8(n),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r.send(o)];case 2:return i=a.sent(),[3,4];case 3:throw a.sent();case 4:return[2,i]}}))}))},e.prototype._AmazonLocationServiceBatchDeleteGeofenceCall=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,o,i;return r3(this,(function(a){switch(a.label){case 0:n={GeofenceIds:e,CollectionName:t||this._config.geofenceCollections.default},r=new z5({credentials:this._config.credentials,region:this._config.region,customUserAgent:te()}),o=new u8(n),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r.send(o)];case 2:return i=a.sent(),[3,4];case 3:throw a.sent();case 4:return[2,i]}}))}))},e.CATEGORY="Geo",e.PROVIDER_NAME="AmazonLocationService",e}(),v8=new c("Geo"),y8="AmazonLocationService",m8=function(){function e(){this._config={},this._pluggables=[],v8.debug("Geo Options",this._config)}return e.prototype.getModuleName=function(){return e.MODULE},e.prototype.addPluggable=function(e){if(e&&"Geo"===e.getCategory())return this._pluggables.push(e),e.configure(this._config[e.getProviderName()])},e.prototype.getPluggable=function(e){var t=this._pluggables.find((function(t){return t.getProviderName()===e}));if(void 0===t)throw v8.debug("No plugin found with providerName",e),new Error("No plugin found in Geo for the provider");return t},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.configure=function(e){var t=this;if(v8.debug("configure Geo"),!e)return this._config;var n=T(e);return this._config=Object.assign({},this._config,n.Geo,e),this._pluggables.forEach((function(e){e.configure(t._config[e.getProviderName()])})),0===this._pluggables.length&&this.addPluggable(new h8),this._config},e.prototype.getAvailableMaps=function(e){return void 0===e&&(e=y8),this.getPluggable(e).getAvailableMaps()},e.prototype.getDefaultMap=function(e){return void 0===e&&(e=y8),this.getPluggable(e).getDefaultMap()},e.prototype.searchByText=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,o,i;return r3(this,(function(a){switch(a.label){case 0:n=(t||{}).providerName,r=void 0===n?y8:n,o=this.getPluggable(r),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,o.searchByText(e,t)];case 2:return[2,a.sent()];case 3:throw i=a.sent(),v8.debug(i),i;case 4:return[2]}}))}))},e.prototype.searchForSuggestions=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,o,i;return r3(this,(function(a){switch(a.label){case 0:n=(t||{}).providerName,r=void 0===n?y8:n,o=this.getPluggable(r),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,o.searchForSuggestions(e,t)];case 2:return[2,a.sent()];case 3:throw i=a.sent(),v8.debug(i),i;case 4:return[2]}}))}))},e.prototype.searchByPlaceId=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,o;return r3(this,(function(i){switch(i.label){case 0:n=y8,r=this.getPluggable(n),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.searchByPlaceId(e,t)];case 2:return[2,i.sent()];case 3:throw o=i.sent(),v8.debug(o),o;case 4:return[2]}}))}))},e.prototype.searchByCoordinates=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,o,i,a,s,u;return r3(this,(function(c){switch(c.label){case 0:n=(t||{}).providerName,r=void 0===n?y8:n,o=this.getPluggable(r),i=o3(e,2),a=i[0],s=i[1],c.label=1;case 1:return c.trys.push([1,3,,4]),c8(a,s),[4,o.searchByCoordinates(e,t)];case 2:return[2,c.sent()];case 3:throw u=c.sent(),v8.debug(u),u;case 4:return[2]}}))}))},e.prototype.saveGeofences=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,o,i,a;return r3(this,(function(s){switch(s.label){case 0:n=(t||{}).providerName,r=void 0===n?y8:n,o=this.getPluggable(r),i=Array.isArray(e)?e:[e],s.label=1;case 1:return s.trys.push([1,3,,4]),[4,o.saveGeofences(i,t)];case 2:return[2,s.sent()];case 3:throw a=s.sent(),v8.debug(a),a;case 4:return[2]}}))}))},e.prototype.getGeofence=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,o,i;return r3(this,(function(a){switch(a.label){case 0:n=(t||{}).providerName,r=void 0===n?y8:n,o=this.getPluggable(r),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,o.getGeofence(e,t)];case 2:return[2,a.sent()];case 3:throw i=a.sent(),v8.debug(i),i;case 4:return[2]}}))}))},e.prototype.listGeofences=function(e){return n3(this,void 0,void 0,(function(){var t,n,r,o;return r3(this,(function(i){switch(i.label){case 0:t=(e||{}).providerName,n=void 0===t?y8:t,r=this.getPluggable(n),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.listGeofences(e)];case 2:return[2,i.sent()];case 3:throw o=i.sent(),v8.debug(o),o;case 4:return[2]}}))}))},e.prototype.deleteGeofences=function(e,t){return n3(this,void 0,void 0,(function(){var n,r,o,i,a;return r3(this,(function(s){switch(s.label){case 0:n=(t||{}).providerName,r=void 0===n?y8:n,o=this.getPluggable(r),i=Array.isArray(e)?e:[e],s.label=1;case 1:return s.trys.push([1,3,,4]),[4,o.deleteGeofences(i,t)];case 2:return[2,s.sent()];case 3:throw a=s.sent(),v8.debug(a),a;case 4:return[2]}}))}))},e.MODULE="Geo",e}(),g8=new m8;d.register(g8)},9669:(e,t,n)=>{e.exports=n(1518)},5448:(e,t,n)=>{"use strict";var r=n(4867),o=n(6026),i=n(4372),a=n(5327),s=n(4097),u=n(4109),c=n(7985),l=n(5061),f=n(5655),d=n(5263);e.exports=function(e){return new Promise((function(t,n){var p,h=e.data,v=e.headers,y=e.responseType;function m(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(h)&&delete v["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(b+":"+w)}var S=s(e.baseURL,e.url);function E(){if(g){var r="getAllResponseHeaders"in g?u(g.getAllResponseHeaders()):null,i={data:y&&"text"!==y&&"json"!==y?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g};o((function(e){t(e),m()}),(function(e){n(e),m()}),i),g=null}}if(g.open(e.method.toUpperCase(),a(S,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=E:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(E)},g.onabort=function(){g&&(n(l("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){n(l("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},r.isStandardBrowserEnv()){var _=(e.withCredentials||c(S))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;_&&(v[e.xsrfHeaderName]=_)}"setRequestHeader"in g&&r.forEach(v,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete v[t]:g.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),y&&"json"!==y&&(g.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){g&&(n(!e||e&&e.type?new d("canceled"):e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),h||(h=null),g.send(h)}))}},1518:(e,t,n)=>{"use strict";var r=n(4867),o=n(1849),i=n(321),a=n(7185),s=function e(t){var n=new i(t),s=o(i.prototype.request,n);return r.extend(s,i.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(5655));s.Axios=i,s.Cancel=n(5263),s.CancelToken=n(4972),s.isCancel=n(6502),s.VERSION=n(7288).version,s.all=function(e){return Promise.all(e)},s.spread=n(8713),s.isAxiosError=n(6268),e.exports=s,e.exports.default=s},5263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:(e,t,n)=>{"use strict";var r=n(5263);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var r=n(4867),o=n(5327),i=n(782),a=n(3572),s=n(7185),u=n(4875),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new i,response:new i}}l.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var i,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!o){var f=[a,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(l),i=Promise.resolve(t);f.length;)i=i.then(f.shift(),f.shift());return i}for(var d=t;r.length;){var p=r.shift(),h=r.shift();try{d=p(d)}catch(e){h(e);break}}try{i=a(d)}catch(e){return Promise.reject(e)}for(;l.length;)i=i.then(l.shift(),l.shift());return i},l.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},782:(e,t,n)=>{"use strict";var r=n(4867);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},4097:(e,t,n)=>{"use strict";var r=n(1793),o=n(7303);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},5061:(e,t,n)=>{"use strict";var r=n(481);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},3572:(e,t,n)=>{"use strict";var r=n(4867),o=n(8527),i=n(6502),a=n(5655),s=n(5263);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return u(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(u(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},7185:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function u(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||i,o=t(e);r.isUndefined(o)&&t!==u||(n[e]=o)})),n}},6026:(e,t,n)=>{"use strict";var r=n(5061);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},8527:(e,t,n)=>{"use strict";var r=n(4867),o=n(5655);e.exports=function(e,t,n){var i=this||o;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},5655:(e,t,n)=>{"use strict";var r=n(4867),o=n(6016),i=n(481),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=n(5448)),u),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(a)})),e.exports=c},7288:e=>{e.exports={version:"0.26.0"}},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},5327:(e,t,n)=>{"use strict";var r=n(4867);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},6268:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},7985:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},6016:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},4109:(e,t,n)=>{"use strict";var r=n(4867),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4875:(e,t,n)=>{"use strict";var r=n(7288).version,o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var i={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(o(r," has been removed"+(t?" in "+t:"")));return t&&!i[r]&&(i[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],u=void 0===s||a(s,i,e);if(!0!==u)throw new TypeError("option "+i+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:o}},4867:(e,t,n)=>{"use strict";var r=n(1849),o=Object.prototype.toString;function i(e){return Array.isArray(e)}function a(e){return void 0===e}function s(e){return"[object ArrayBuffer]"===o.call(e)}function u(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===o.call(e)}function f(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===o.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return u(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===o.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:f,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)f(arguments[r],n);return t},extend:function(e,t,n){return f(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},9742:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=u(e),a=i[0],s=i[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,u=r-o;s<u;s+=a)i.push(c(e,s,s+a>u?u:s+a));return 1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=i.length;a<s;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},1206:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),o=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var o=e.getVersionPrecision(t),i=e.getVersionPrecision(n),a=Math.max(o,i),s=0,u=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(o,i)),a-=1;a>=s;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===s)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var o=e[n];if(t(o,n))return o}},e.assign=function(e){for(var t,n,r=e,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));var s=function(){var e=i[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=i.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=o,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(91))&&r.__esModule?r:{default:r},i=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new o.default(e,t)},e.parse=function(e){return new o.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}],null&&a(t.prototype,null),n&&a(t,n),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(92)),o=u(n(93)),i=u(n(94)),a=u(n(95)),s=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,o={},i=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(o[t]=a,i+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),u=s.default.find(a,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var l=s.default.find(a,(function(e){return t.isPlatform(e)}));if(l){var f=this.satisfies(n[l]);if(void 0!==f)return f}}if(i>0){var d=Object.keys(o),p=s.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(o[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),o=s.default.getBrowserTypeByAlias(r);return t&&o&&(r=o.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,o=this.getBrowserVersion();if("string"==typeof o)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(o,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=o.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=o.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=o.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=o.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=o.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=o.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=o.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=o.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=o.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=o.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=o.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=o.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=o.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=o.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=o.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=o.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=o.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=o.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=o.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=o.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=o.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=o.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=o.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=o.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=o.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=o.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=o.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:o.default.getFirstMatch(t,e),version:o.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=o.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:i.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=o.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=o.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=o.default.getWindowsVersionName(t);return{name:i.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:i.OS_MAP.iOS},n=o.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=o.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=o.default.getMacOSVersionName(t),r={name:i.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=o.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=o.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=o.default.getAndroidVersionName(t),r={name:i.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=o.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:i.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=o.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||o.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||o.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:i.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=o.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=o.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=o.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=o.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=o.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:i.ENGINE_MAP.Blink};var t=o.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:i.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:i.ENGINE_MAP.Trident},n=o.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:i.ENGINE_MAP.Presto},n=o.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:i.ENGINE_MAP.Gecko},n=o.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:i.ENGINE_MAP.WebKit},n=o.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},8764:(e,t,n)=>{"use strict";var r=n(9742),o=n(645),i=n(6555);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),o=(e=s(e,r)).write(t,n);return o!==r&&(e=e.slice(0,o)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,o){var i,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var f=!0,d=0;d<u;d++)if(c(e,i+d)!==c(t,d)){f=!1;break}if(f)return i}return-1}function b(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return q(z(t,e.length-n),e,n,r)}function S(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return S(e,t,n,r)}function _(e,t,n,r){return q(B(t),e,n,r)}function x(e,t,n,r){return q(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,u,c=e[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.lW=u,t.h2=50,u.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):v.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.h2;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(r,o),l=e.slice(t,n),f=0;f<s;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function C(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function O(e,t,n){var r,o=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>o)&&(n=o);for(var i="",a=t;a<n;++a)i+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return i}function k(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function M(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,i){return i||M(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return i||M(e,0,n,8),o.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);N(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);N(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=u.isBuffer(e)?e:z(new u(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function z(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function B(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}},2828:(e,t,n)=>{"use strict";const r=n(6900),o=n(3204),i=new(n(1269))({maxSize:1e5}),a=e=>!("object"!=typeof e||null===e||e instanceof RegExp||e instanceof Error||e instanceof Date),s=(e,t)=>{if(!a(e))return e;t={deep:!1,pascalCase:!1,...t};const{exclude:n,pascalCase:s,stopPaths:u,deep:c}=t,l=new Set(u),f=e=>(t,u)=>{if(c&&a(u)){const n=void 0===e?t:`${e}.${t}`;l.has(n)||(u=r(u,f(n)))}if(!n||!((e,t)=>e.some((e=>"string"==typeof e?e===t:(e.lastIndex=0,e.test(t)))))(n,t)){const e=s?`${t}_`:t;if(i.has(e))t=i.get(e);else{const n=o(t,{pascalCase:s});t.length<100&&i.set(e,n),t=n}}return[t,u]};return r(e,f(void 0))};e.exports=(e,t)=>Array.isArray(e)?Object.keys(e).map((n=>s(e[n],t))):s(e,t)},3204:e=>{"use strict";const t=(e,t)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");return t=Object.assign({pascalCase:!1},t),e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim(),0===e.length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():(e!==e.toLowerCase()&&(e=(e=>{let t=!1,n=!1,r=!1;for(let o=0;o<e.length;o++){const i=e[o];t&&/[a-zA-Z]/.test(i)&&i.toUpperCase()===i?(e=e.slice(0,o)+"-"+e.slice(o),t=!1,r=n,n=!0,o++):n&&r&&/[a-zA-Z]/.test(i)&&i.toLowerCase()===i?(e=e.slice(0,o-1)+"-"+e.slice(o-1),r=n,n=!1,t=!0):(t=i.toLowerCase()===i&&i.toUpperCase()!==i,r=n,n=i.toUpperCase()===i&&i.toLowerCase()!==i)}return e})(e)),n=e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,((e,t)=>t.toUpperCase())).replace(/\d+(\w|$)/g,(e=>e.toUpperCase())),t.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n);var n};e.exports=t,e.exports.default=t},6489:(e,t)=>{"use strict";t.Q=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var r={},o=t||{},a=e.split(";"),s=o.decode||n,u=0;u<a.length;u++){var c=a[u],l=c.indexOf("=");if(!(l<0)){var f=c.substring(0,l).trim();if(null==r[f]){var d=c.substring(l+1,c.length).trim();'"'===d[0]&&(d=d.slice(1,-1)),r[f]=i(d,s)}}}return r},t.q=function(e,t,n){var i=n||{},a=i.encode||r;if("function"!=typeof a)throw new TypeError("option encode is invalid");if(!o.test(e))throw new TypeError("argument name is invalid");var s=a(t);if(s&&!o.test(s))throw new TypeError("argument val is invalid");var u=e+"="+s;if(null!=i.maxAge){var c=i.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(c)}if(i.domain){if(!o.test(i.domain))throw new TypeError("option domain is invalid");u+="; Domain="+i.domain}if(i.path){if(!o.test(i.path))throw new TypeError("option path is invalid");u+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw new TypeError("option expires is invalid");u+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(u+="; HttpOnly"),i.secure&&(u+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return u};var n=decodeURIComponent,r=encodeURIComponent,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function i(e,t){try{return t(e)}catch(t){return e}}},7187:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}v(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,{once:!0})}(e,o)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var o,i,a,c;if(s(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=u(e))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=l.bind(r);return o.listener=n,r.wrapFn=o,o}function d(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):h(o,o.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else{var c=u.length,l=h(u,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},i.prototype.addListener=function(e,t){return c(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return c(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,f(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,f(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return d(this,e,!0)},i.prototype.rawListeners=function(e){return d(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},i.prototype.listenerCount=p,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},645:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?o-1:0,d=n?-1:1,p=e[t+f];for(f+=d,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+p]=255&a,p+=h,a/=256,c-=8);e[n+p-h]|=128*v}},6555:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},204:(e,t,n)=>{e.exports=self.fetch||(self.fetch=n(5869).default||n(5869))},895:(e,t,n)=>{var r,o,i;void 0===(o="function"==typeof(r=i=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in i)i[u]&&(s+="; "+u,!0!==i[u]&&(s+="="+i[u].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),u=s.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(s[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(o[c]=u,e===c)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))})?r.call(t,n,t,e):r)||(e.exports=o),e.exports=i()},8552:(e,t,n)=>{var r=n(852)(n(5639),"DataView");e.exports=r},1989:(e,t,n)=>{var r=n(1789),o=n(401),i=n(7667),a=n(1327),s=n(1866);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},8407:(e,t,n)=>{var r=n(7040),o=n(4125),i=n(2117),a=n(7518),s=n(4705);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},7071:(e,t,n)=>{var r=n(852)(n(5639),"Map");e.exports=r},3369:(e,t,n)=>{var r=n(4785),o=n(1285),i=n(6e3),a=n(9916),s=n(5265);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},3818:(e,t,n)=>{var r=n(852)(n(5639),"Promise");e.exports=r},8525:(e,t,n)=>{var r=n(852)(n(5639),"Set");e.exports=r},8668:(e,t,n)=>{var r=n(3369),o=n(619),i=n(2385);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},6384:(e,t,n)=>{var r=n(8407),o=n(7465),i=n(3779),a=n(7599),s=n(4758),u=n(4309);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},2705:(e,t,n)=>{var r=n(5639).Symbol;e.exports=r},1149:(e,t,n)=>{var r=n(5639).Uint8Array;e.exports=r},577:(e,t,n)=>{var r=n(852)(n(5639),"WeakMap");e.exports=r},4963:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},4636:(e,t,n)=>{var r=n(2545),o=n(5694),i=n(1469),a=n(4144),s=n(5776),u=n(6719),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),f=!n&&!l&&a(e),d=!n&&!l&&!f&&u(e),p=n||l||f||d,h=p?r(e.length,String):[],v=h.length;for(var y in e)!t&&!c.call(e,y)||p&&("length"==y||f&&("offset"==y||"parent"==y)||d&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,v))||h.push(y);return h}},9932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},2488:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},2908:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},8470:(e,t,n)=>{var r=n(7813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1078:(e,t,n)=>{var r=n(2488),o=n(7285);e.exports=function e(t,n,i,a,s){var u=-1,c=t.length;for(i||(i=o),s||(s=[]);++u<c;){var l=t[u];n>0&&i(l)?n>1?e(l,n-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}},7786:(e,t,n)=>{var r=n(1811),o=n(327);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},8866:(e,t,n)=>{var r=n(2488),o=n(1469);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},4239:(e,t,n)=>{var r=n(2705),o=n(9607),i=n(2333),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},9454:(e,t,n)=>{var r=n(4239),o=n(7005);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},939:(e,t,n)=>{var r=n(2492),o=n(7005);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},2492:(e,t,n)=>{var r=n(6384),o=n(7114),i=n(8351),a=n(6096),s=n(4160),u=n(1469),c=n(4144),l=n(6719),f="[object Arguments]",d="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,y,m){var g=u(e),b=u(t),w=g?d:s(e),S=b?d:s(t),E=(w=w==f?p:w)==p,_=(S=S==f?p:S)==p,x=w==S;if(x&&c(e)){if(!c(t))return!1;g=!0,E=!1}if(x&&!E)return m||(m=new r),g||l(e)?o(e,t,n,v,y,m):i(e,t,w,n,v,y,m);if(!(1&n)){var T=E&&h.call(e,"__wrapped__"),I=_&&h.call(t,"__wrapped__");if(T||I){var A=T?e.value():e,C=I?t.value():t;return m||(m=new r),y(A,C,n,v,m)}}return!!x&&(m||(m=new r),a(e,t,n,v,y,m))}},8458:(e,t,n)=>{var r=n(3560),o=n(5346),i=n(3218),a=n(346),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?d:s).test(a(e))}},8749:(e,t,n)=>{var r=n(4239),o=n(1780),i=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},280:(e,t,n)=>{var r=n(7360),o=n(6916),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},2545:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},531:(e,t,n)=>{var r=n(2705),o=n(9932),i=n(1469),a=n(3448),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},4757:e=>{e.exports=function(e,t){return e.has(t)}},1811:(e,t,n)=>{var r=n(1469),o=n(5403),i=n(5514),a=n(9833);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},4429:(e,t,n)=>{var r=n(5639)["__core-js_shared__"];e.exports=r},7114:(e,t,n)=>{var r=n(8668),o=n(2908),i=n(4757);e.exports=function(e,t,n,a,s,u){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var d=u.get(e),p=u.get(t);if(d&&p)return d==t&&p==e;var h=-1,v=!0,y=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++h<l;){var m=e[h],g=t[h];if(a)var b=c?a(g,m,h,t,e,u):a(m,g,h,e,t,u);if(void 0!==b){if(b)continue;v=!1;break}if(y){if(!o(t,(function(e,t){if(!i(y,t)&&(m===e||s(m,e,n,a,u)))return y.push(t)}))){v=!1;break}}else if(m!==g&&!s(m,g,n,a,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},8351:(e,t,n)=>{var r=n(2705),o=n(1149),i=n(7813),a=n(7114),s=n(8776),u=n(1814),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var h=1&r;if(p||(p=u),e.size!=t.size&&!h)return!1;var v=d.get(e);if(v)return v==t;r|=2,d.set(e,t);var y=a(p(e),p(t),r,c,f,d);return d.delete(e),y;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},6096:(e,t,n)=>{var r=n(8234),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var f=l;f--;){var d=c[f];if(!(u?d in t:o.call(t,d)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var v=!0;s.set(e,t),s.set(t,e);for(var y=u;++f<l;){var m=e[d=c[f]],g=t[d];if(i)var b=u?i(g,m,d,t,e,s):i(m,g,d,e,t,s);if(!(void 0===b?m===g||a(m,g,n,i,s):b)){v=!1;break}y||(y="constructor"==d)}if(v&&!y){var w=e.constructor,S=t.constructor;w==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof S&&S instanceof S||(v=!1)}return s.delete(e),s.delete(t),v}},1957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8234:(e,t,n)=>{var r=n(8866),o=n(9551),i=n(3674);e.exports=function(e){return r(e,i,o)}},5050:(e,t,n)=>{var r=n(7019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},852:(e,t,n)=>{var r=n(8458),o=n(7801);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},9607:(e,t,n)=>{var r=n(2705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},9551:(e,t,n)=>{var r=n(4963),o=n(479),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},4160:(e,t,n)=>{var r=n(8552),o=n(7071),i=n(3818),a=n(8525),s=n(577),u=n(4239),c=n(346),l="[object Map]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",h="[object DataView]",v=c(r),y=c(o),m=c(i),g=c(a),b=c(s),w=u;(r&&w(new r(new ArrayBuffer(1)))!=h||o&&w(new o)!=l||i&&w(i.resolve())!=f||a&&w(new a)!=d||s&&w(new s)!=p)&&(w=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return h;case y:return l;case m:return f;case g:return d;case b:return p}return t}),e.exports=w},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1789:(e,t,n)=>{var r=n(4536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,n)=>{var r=n(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},1327:(e,t,n)=>{var r=n(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},1866:(e,t,n)=>{var r=n(4536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},7285:(e,t,n)=>{var r=n(2705),o=n(5694),i=n(1469),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5403:(e,t,n)=>{var r=n(1469),o=n(3448),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,n)=>{var r,o=n(4429),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},7360:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,n)=>{var r=n(8470),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},2117:(e,t,n)=>{var r=n(8470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7518:(e,t,n)=>{var r=n(8470);e.exports=function(e){return r(this.__data__,e)>-1}},4705:(e,t,n)=>{var r=n(8470);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},4785:(e,t,n)=>{var r=n(1989),o=n(8407),i=n(7071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},1285:(e,t,n)=>{var r=n(5050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).get(e)}},9916:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).has(e)}},5265:(e,t,n)=>{var r=n(5050);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4523:(e,t,n)=>{var r=n(8306);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},4536:(e,t,n)=>{var r=n(852)(Object,"create");e.exports=r},6916:(e,t,n)=>{var r=n(5569)(Object.keys,Object);e.exports=r},1167:(e,t,n)=>{e=n.nmd(e);var r=n(1957),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5639:(e,t,n)=>{var r=n(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},7465:(e,t,n)=>{var r=n(8407);e.exports=function(){this.__data__=new r,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,n)=>{var r=n(8407),o=n(7071),i=n(3369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},5514:(e,t,n)=>{var r=n(4523),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},327:(e,t,n)=>{var r=n(3448);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5564:(e,t,n)=>{var r=n(1078);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},7361:(e,t,n)=>{var r=n(7786);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},5694:(e,t,n)=>{var r=n(9454),o=n(7005),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,n)=>{var r=n(3560),o=n(1780);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},4144:(e,t,n)=>{e=n.nmd(e);var r=n(5639),o=n(5062),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||o;e.exports=u},8367:(e,t,n)=>{var r=n(280),o=n(4160),i=n(5694),a=n(1469),s=n(8612),u=n(4144),c=n(7360),l=n(6719),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||l(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},8446:(e,t,n)=>{var r=n(939);e.exports=function(e,t){return r(e,t)}},3560:(e,t,n)=>{var r=n(4239),o=n(3218);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},3448:(e,t,n)=>{var r=n(4239),o=n(7005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},6719:(e,t,n)=>{var r=n(8749),o=n(1717),i=n(1167),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},3674:(e,t,n)=>{var r=n(4636),o=n(280),i=n(8612);e.exports=function(e){return i(e)?r(e):o(e)}},8306:(e,t,n)=>{var r=n(3369);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},308:e=>{e.exports=function(){}},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},9833:(e,t,n)=>{var r=n(531);e.exports=function(e){return null==e?"":r(e)}},6900:e=>{"use strict";const t=e=>"object"==typeof e&&null!==e,n=Symbol("skip"),r=e=>t(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),o=(e,t,i,a=new WeakMap)=>{if(i={deep:!1,target:{},...i},a.has(e))return a.get(e);a.set(e,i.target);const{target:s}=i;delete i.target;const u=e=>e.map((e=>r(e)?o(e,t,i,a):e));if(Array.isArray(e))return u(e);for(const[c,l]of Object.entries(e)){const f=t(c,l,e);if(f===n)continue;let[d,p,{shouldRecurse:h=!0}={}]=f;"__proto__"!==d&&(i.deep&&h&&r(p)&&(p=Array.isArray(p)?u(p):o(p,t,i,a)),s[d]=p)}return s};e.exports=(e,n,r)=>{if(!t(e))throw new TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return o(e,n,r)},e.exports.mapObjectSkip=n},6675:(e,t,n)=>{var r=n(4993),o=n(113),i=n(3801),a=n(650);function s(e,t,n){if(arguments.length<2&&(n=e,e=null,t=null),this.capacity=n,"number"!=typeof this.capacity||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var r=i.getPointerArray(n);this.forward=new r(n),this.backward=new r(n),this.K="function"==typeof e?new e(n):new Array(n),this.V="function"==typeof t?new t(n):new Array(n),this.size=0,this.head=0,this.tail=0,this.items={}}s.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}},s.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var n=this.backward[e],r=this.forward[e];return this.tail===e?this.tail=n:this.backward[r]=n,this.forward[n]=r,this.backward[t]=e,this.head=e,this.forward[e]=t,this},s.prototype.set=function(e,t){var n=this.items[e];if(void 0!==n)return this.splayOnTop(n),void(this.V[n]=t);this.size<this.capacity?n=this.size++:(n=this.tail,this.tail=this.backward[n],delete this.items[this.K[n]]),this.items[e]=n,this.K[n]=e,this.V[n]=t,this.forward[n]=this.head,this.backward[this.head]=n,this.head=n},s.prototype.setpop=function(e,t){var n=null,r=null,o=this.items[e];return void 0!==o?(this.splayOnTop(o),n=this.V[o],this.V[o]=t,{evicted:!1,key:e,value:n}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],n=this.V[o],r=this.K[o],delete this.items[this.K[o]]),this.items[e]=o,this.K[o]=e,this.V[o]=t,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,r?{evicted:!0,key:r,value:n}:null)},s.prototype.has=function(e){return e in this.items},s.prototype.get=function(e){var t=this.items[e];if(void 0!==t)return this.splayOnTop(t),this.V[t]},s.prototype.peek=function(e){var t=this.items[e];if(void 0!==t)return this.V[t]},s.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var n=0,r=this.size,o=this.head,i=this.K,a=this.V,s=this.forward;n<r;)e.call(t,a[o],i[o],this),o=s[o],n++},s.prototype.keys=function(){var e=0,t=this.size,n=this.head,o=this.K,i=this.forward;return new r((function(){if(e>=t)return{done:!0};var r=o[n];return++e<t&&(n=i[n]),{done:!1,value:r}}))},s.prototype.values=function(){var e=0,t=this.size,n=this.head,o=this.V,i=this.forward;return new r((function(){if(e>=t)return{done:!0};var r=o[n];return++e<t&&(n=i[n]),{done:!1,value:r}}))},s.prototype.entries=function(){var e=0,t=this.size,n=this.head,o=this.K,i=this.V,a=this.forward;return new r((function(){if(e>=t)return{done:!0};var r=o[n],s=i[n];return++e<t&&(n=a[n]),{done:!1,value:[r,s]}}))},"undefined"!=typeof Symbol&&(s.prototype[Symbol.iterator]=s.prototype.entries),s.prototype.inspect=function(){for(var e,t=new Map,n=this.entries();!(e=n.next()).done;)t.set(e.value[0],e.value[1]);return Object.defineProperty(t,"constructor",{value:s,enumerable:!1}),t},"undefined"!=typeof Symbol&&(s.prototype[Symbol.for("nodejs.util.inspect.custom")]=s.prototype.inspect),s.from=function(e,t,n,r){if(arguments.length<2){if("number"!=typeof(r=a.guessLength(e)))throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else 2===arguments.length&&(r=t,t=null,n=null);var i=new s(t,n,r);return o(e,(function(e,t){i.set(t,e)})),i},e.exports=s},650:(e,t,n)=>{var r=n(113),o=n(3801);function i(e){return"number"==typeof e.length?e.length:"number"==typeof e.size?e.size:void 0}t.isArrayLike=function(e){return Array.isArray(e)||o.isTypedArray(e)},t.guessLength=i,t.toArray=function(e){var t=i(e),n="number"==typeof t?new Array(t):[],o=0;return r(e,(function(e){n[o++]=e})),n},t.toArrayWithIndices=function(e){var t=i(e),n="number"==typeof t?o.getPointerArray(t):Array,a="number"==typeof t?new Array(t):[],s="number"==typeof t?new n(t):[],u=0;return r(e,(function(e){a[u]=e,s[u]=u++})),[a,s]}},3801:(e,t)=>{var n=Math.pow(2,8)-1,r=Math.pow(2,16)-1,o=Math.pow(2,32)-1,i=Math.pow(2,7)-1,a=Math.pow(2,15)-1,s=Math.pow(2,31)-1;t.getPointerArray=function(e){var t=e-1;return t<=n?Uint8Array:t<=r?Uint16Array:t<=o?Uint32Array:Float64Array},t.getSignedPointerArray=function(e){var t=e-1;return t<=i?Int8Array:t<=a?Int16Array:t<=s?Int32Array:Float64Array},t.getNumberType=function(e){return e===(0|e)?-1===Math.sign(e)?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var u={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};t.getMinimalRepresentation=function(e,n){var r,o,i,a,s,c=null,l=0;for(a=0,s=e.length;a<s;a++)i=n?n(e[a]):e[a],o=t.getNumberType(i),(r=u[o.name])>l&&(l=r,c=o);return c},t.isTypedArray=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(e)},t.concat=function(){var e,t,n,r=0;for(e=0,n=arguments.length;e<n;e++)r+=arguments[e].length;var o=new arguments[0].constructor(r);for(e=0,t=0;e<n;e++)o.set(arguments[e],t),t+=arguments[e].length;return o},t.indices=function(e){for(var n=new(t.getPointerArray(e))(e),r=0;r<e;r++)n[r]=r;return n}},113:e=>{var t="undefined"!=typeof ArrayBuffer,n="undefined"!=typeof Symbol;function r(e,r){var o,i,a,s,u;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof r)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||t&&ArrayBuffer.isView(e)||"string"==typeof e||"[object Arguments]"===e.toString())for(a=0,s=e.length;a<s;a++)r(e[a],a);else if("function"!=typeof e.forEach)if(n&&Symbol.iterator in e&&"function"!=typeof e.next&&(e=e[Symbol.iterator]()),"function"!=typeof e.next)for(i in e)e.hasOwnProperty(i)&&r(e[i],i);else for(o=e,a=0;!0!==(u=o.next()).done;)r(u.value,a),a++;else e.forEach(r)}r.forEachWithNullKeys=function(e,r){var o,i,a,s,u;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if("function"!=typeof r)throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||t&&ArrayBuffer.isView(e)||"string"==typeof e||"[object Arguments]"===e.toString())for(a=0,s=e.length;a<s;a++)r(e[a],null);else if(e instanceof Set)e.forEach((function(e){r(e,null)}));else if("function"!=typeof e.forEach)if(n&&Symbol.iterator in e&&"function"!=typeof e.next&&(e=e[Symbol.iterator]()),"function"!=typeof e.next)for(i in e)e.hasOwnProperty(i)&&r(e[i],i);else for(o=e,a=0;!0!==(u=o.next()).done;)r(u.value,null),a++;else e.forEach(r)},e.exports=r},4993:e=>{function t(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}t.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e},"undefined"!=typeof Symbol&&(t.prototype[Symbol.iterator]=function(){return this}),t.of=function(){var e=arguments,n=e.length,r=0;return new t((function(){return r>=n?{done:!0}:{done:!1,value:e[r++]}}))},t.empty=function(){var e=new t(null);return e.done=!0,e},t.is=function(e){return e instanceof t||"object"==typeof e&&null!==e&&"function"==typeof e.next},e.exports=t},4971:function(e,t,n){var r;e=n.nmd(e),function(o){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof n.g&&n.g;i.global!==i&&i.window!==i&&i.self;var a,s=2147483647,u=36,c=/^xn--/,l=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,h=String.fromCharCode;function v(e){throw RangeError(d[e])}function y(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function m(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+y((e=e.replace(f,".")).split("."),t).join(".")}function g(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function b(e){return y(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+h(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function S(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=u)e=p(e/35);return p(r+36*e/(e+38))}function E(e){var t,n,r,o,i,a,c,l,f,d,h,y=[],m=e.length,g=0,w=128,E=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&v("not-basic"),y.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<m;){for(i=g,a=1,c=u;o>=m&&v("invalid-input"),((l=(h=e.charCodeAt(o++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:u)>=u||l>p((s-g)/a))&&v("overflow"),g+=l*a,!(l<(f=c<=E?1:c>=E+26?26:c-E));c+=u)a>p(s/(d=u-f))&&v("overflow"),a*=d;E=S(g-i,t=y.length+1,0==i),p(g/t)>s-w&&v("overflow"),w+=p(g/t),g%=t,y.splice(g++,0,w)}return b(y)}function _(e){var t,n,r,o,i,a,c,l,f,d,y,m,b,E,_,x=[];for(m=(e=g(e)).length,t=128,n=0,i=72,a=0;a<m;++a)(y=e[a])<128&&x.push(h(y));for(r=o=x.length,o&&x.push("-");r<m;){for(c=s,a=0;a<m;++a)(y=e[a])>=t&&y<c&&(c=y);for(c-t>p((s-n)/(b=r+1))&&v("overflow"),n+=(c-t)*b,t=c,a=0;a<m;++a)if((y=e[a])<t&&++n>s&&v("overflow"),y==t){for(l=n,f=u;!(l<(d=f<=i?1:f>=i+26?26:f-i));f+=u)_=l-d,E=u-d,x.push(h(w(d+_%E,0))),l=p(_/E);x.push(h(w(l,0))),i=S(n,b,r==o),n=0,++r}++n,++t}return x.join("")}a={version:"1.3.2",ucs2:{decode:g,encode:b},decode:E,encode:_,toASCII:function(e){return m(e,(function(e){return l.test(e)?"xn--"+_(e):e}))},toUnicode:function(e){return m(e,(function(e){return c.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},2587:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,o){n=n||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(n);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var l,f,d,p,h=e[c].replace(a,"%20"),v=h.indexOf(r);v>=0?(l=h.substr(0,v),f=h.substr(v+1)):(l=h,f=""),d=decodeURIComponent(l),p=decodeURIComponent(f),t(i,d)?Array.isArray(i[d])?i[d].push(p):i[d]=[i[d],p]:i[d]=p}return i}},2361:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,o){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(o){var i=encodeURIComponent(t(o))+r;return Array.isArray(e[o])?e[o].map((function(e){return i+encodeURIComponent(t(e))})).join(n):i+encodeURIComponent(t(e[o]))})).join(n):o?encodeURIComponent(t(o))+r+encodeURIComponent(t(e)):""}},7673:(e,t,n)=>{"use strict";t.decode=t.parse=n(2587),t.encode=t.stringify=n(2361)},1269:e=>{"use strict";class t{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return this._size+e}}e.exports=t},4153:e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e,o={}){if(o=Object.assign({},r,o),!e||"string"!=typeof e)return e;let i=e.trim();if(void 0!==o.skipLike&&o.skipLike.test(i))return e;if(o.hex&&t.test(i))return Number.parseInt(i,16);{const t=n.exec(i);if(t){const n=t[1],r=t[2];let s=(a=t[3])&&-1!==a.indexOf(".")?("."===(a=a.replace(/0+$/,""))?a="0":"."===a[0]?a="0"+a:"."===a[a.length-1]&&(a=a.substr(0,a.length-1)),a):a;const u=t[4]||t[6];if(!o.leadingZeros&&r.length>0&&n&&"."!==i[2])return e;if(!o.leadingZeros&&r.length>0&&!n&&"."!==i[1])return e;{const t=Number(i),a=""+t;return-1!==a.search(/[eE]/)||u?o.eNotation?t:e:-1!==i.indexOf(".")?"0"===a&&""===s||a===s||n&&a==="-"+s?t:e:r?s===a||n+s===a?t:e:i===a||i===n+a?t:e}}return e}var a}},4788:()=>{},5869:(e,t,n)=>{"use strict";function r(e,t){return t=t||{},new Promise((function(n,r){var o=new XMLHttpRequest,i=[],a=[],s={},u=function(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:u,headers:{keys:function(){return i},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var c in o.open(t.method||"get",e,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){i.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),n(u())},o.onerror=r,o.withCredentials="include"==t.credentials,t.headers)o.setRequestHeader(c,t.headers[c]);o.send(t.body||null)}))}n.r(t),n.d(t,{default:()=>r})},8575:(e,t,n)=>{"use strict";var r=n(4971),o=n(2502);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=b,t.WU=function(e){return o.isString(e)&&(e=b(e)),e instanceof i?e.format():i.prototype.format.call(e)};var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=n(7673);function b(e,t,n){if(e&&o.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var w=u.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?g.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var S=a.exec(b);if(S){var E=(S=S[0]).toLowerCase();this.protocol=E,b=b.substr(S.length)}if(n||S||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===b.substr(0,2);!_||S&&y[S]||(b=b.substr(2),this.slashes=!0)}if(!y[S]&&(_||S&&!m[S])){for(var x,T,I=-1,A=0;A<d.length;A++)-1!==(C=b.indexOf(d[A]))&&(-1===I||C<I)&&(I=C);for(-1!==(T=-1===I?b.lastIndexOf("@"):b.lastIndexOf("@",I))&&(x=b.slice(0,T),b=b.slice(T+1),this.auth=decodeURIComponent(x)),I=-1,A=0;A<f.length;A++){var C;-1!==(C=b.indexOf(f[A]))&&(-1===I||C<I)&&(I=C)}-1===I&&(I=b.length),this.host=b.slice(0,I),b=b.slice(I),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var O=this.hostname.split(/\./),k=(A=0,O.length);A<k;A++){var R=O[A];if(R&&!R.match(p)){for(var N="",L=0,D=R.length;L<D;L++)R.charCodeAt(L)>127?N+="x":N+=R[L];if(!N.match(p)){var M=O.slice(0,A),j=O.slice(A+1),U=R.match(h);U&&(M.push(U[1]),j.unshift(U[2])),j.length&&(b="/"+j.join(".")+b),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+F,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[E])for(A=0,k=l.length;A<k;A++){var B=l[A];if(-1!==b.indexOf(B)){var q=encodeURIComponent(B);q===B&&(q=escape(B)),b=b.split(B).join(q)}}var K=b.indexOf("#");-1!==K&&(this.hash=b.substr(K),b=b.slice(0,K));var G=b.indexOf("?");if(-1!==G?(this.search=b.substr(G),this.query=b.substr(G+1),t&&(this.query=g.parse(this.query)),b=b.slice(0,G)):t&&(this.search="",this.query={}),b&&(this.pathname=b),m[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var H=this.search||"";this.path=F+H}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=g.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(o.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=e[l])}return m[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!m[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var p=f[d];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||y[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",g=n.search||"";n.path=v+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),S=w||b||n.host&&e.pathname,E=S,_=n.pathname&&n.pathname.split("/")||[],x=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!m[n.protocol]);if(x&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),S=S&&(""===h[0]||""===_[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,_=h;else if(h.length)_||(_=[]),_.pop(),_=_.concat(h),n.search=e.search,n.query=e.query;else if(!o.isNullOrUndefined(e.search))return x&&(n.hostname=n.host=_.shift(),(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift())),n.search=e.search,n.query=e.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=_.slice(-1)[0],I=(n.host||e.host||_.length>1)&&("."===T||".."===T)||""===T,A=0,C=_.length;C>=0;C--)"."===(T=_[C])?_.splice(C,1):".."===T?(_.splice(C,1),A++):A&&(_.splice(C,1),A--);if(!S&&!E)for(;A--;A)_.unshift("..");!S||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),I&&"/"!==_.join("/").substr(-1)&&_.push("");var P,O=""===_[0]||_[0]&&"/"===_[0].charAt(0);return x&&(n.hostname=n.host=O?"":_.length?_.shift():"",(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift())),(S=S||n.host&&_.length)&&!O&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},2502:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},4586:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>l});var o=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=function(e){return"string"==typeof e&&a.test(e)};for(var u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));const l=function(e,t,n){var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n}(r)}},9329:(e,t,n)=>{e.exports=n(516).Observable},516:(e,t)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}t.Observable=void 0;var i=function(){return"function"==typeof Symbol},a=function(e){return i()&&Boolean(Symbol[e])},s=function(e){return a(e)?Symbol[e]:"@@"+e};i()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var u=s("iterator"),c=s("observable"),l=s("species");function f(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function d(e){var t=e.constructor;return void 0!==t&&null===(t=t[l])&&(t=void 0),void 0!==t?t:E}function p(e){return e instanceof E}function h(e){h.log?h.log(e):setTimeout((function(){throw e}))}function v(e){Promise.resolve().then((function(){try{e()}catch(e){h(e)}}))}function y(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=f(t,"unsubscribe");n&&n.call(t)}}catch(e){h(e)}}function m(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function g(e,t,n){e._state="running";var r=e._observer;try{var o=f(r,t);switch(t){case"next":o&&o.call(r,n);break;case"error":if(m(e),!o)throw n;o.call(r,n);break;case"complete":m(e),o&&o.call(r)}}catch(e){h(e)}"closed"===e._state?y(e):"running"===e._state&&(e._state="ready")}function b(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void v((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(g(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void g(e,t,n);e._queue.push({type:t,value:n})}}var w=function(){function e(t,r){n(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var o=new S(this);try{this._cleanup=r.call(void 0,o)}catch(e){o.error(e)}"initializing"===this._state&&(this._state="ready")}return o(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(m(this),y(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),S=function(){function e(t){n(this,e),this._subscription=t}return o(e,[{key:"next",value:function(e){b(this._subscription,"next",e)}},{key:"error",value:function(e){b(this._subscription,"error",e)}},{key:"complete",value:function(){b(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),E=function(){function e(t){if(n(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return o(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new w(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var o=t.subscribe({next:function(t){try{e(t,i)}catch(e){r(e),o.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function i(){o.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(d(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(d(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=d(this),r=arguments.length>1,o=!1,i=arguments[1],a=i;return new n((function(n){return t.subscribe({next:function(t){var i=!o;if(o=!0,!i||r)try{a=e(a,t)}catch(e){return n.error(e)}else a=t},error:function(e){n.error(e)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=d(this);return new o((function(t){var r,i=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){i===n.length?(r=void 0,t.complete()):e(o.from(n[i++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=d(this);return new n((function(r){var o=[],i=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var i=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=o.indexOf(i);e>=0&&o.splice(e,1),a()}});o.push(i)},error:function(e){r.error(e)},complete:function(){a()}});function a(){i.closed&&0===o.length&&r.complete()}return function(){o.forEach((function(e){return e.unsubscribe()})),i.unsubscribe()}}))}},{key:c,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=f(t,c);if(r){var o=r.call(t);if(Object(o)!==o)throw new TypeError(o+" is not an object");return p(o)&&o.constructor===n?o:new n((function(e){return o.subscribe(e)}))}if(a("iterator")&&(r=f(t,u)))return new n((function(e){v((function(){if(!e.closed){var n=!0,o=!1,i=void 0;try{for(var a,s=r.call(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if(e.next(u),e.closed)return}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){v((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o="function"==typeof this?this:e;return new o((function(e){v((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:l,get:function(){return this}}]),e}();t.Observable=E,i()&&Object.defineProperty(E,Symbol("extensions"),{value:{symbol:c,hostReportError:h},configurable:!0})},9393:(e,t,n)=>{"use strict";var r,o,i=n(9623);function a(e,t,n){if(e._observer)s(e._observer,t,n);else if(e._observers){var r=[];e._observers.forEach((function(e){r.push(e)})),r.forEach((function(e){s(e,t,n)}))}}function s(e,t,n){if(!e.closed)switch(t){case"next":return e.next(n);case"error":return e.error(n);case"complete":return e.complete(n)}}function u(e){return e._observer||e._observers&&e._observers.size>0}function c(e){var t=this;this._observer=null,this._observers=null,this._observable=new i((function(n){return function(e,t){!u(e)&&t&&t.start&&t.start()}(t,e),function(e,t){e._observers?e._observers.add(t):e._observer?(e._observers=new Set,e._observers.add(e._observer),e._observers.add(t),e._observer=null):e._observer=t}(t,n),function(){!function(e,t){e._observers?e._observers.delete(t):e._observer===t&&(e._observer=null)}(t,n),function(e,t){!u(e)&&t&&t.pause&&t.pause()}(t,e)}}))}r=c.prototype,o={get observable(){return this._observable},get observed(){return u(this)},next:function(e){a(this,"next",e)},error:function(e){a(this,"error",e)},complete:function(e){a(this,"complete",e)}},Object.keys(o).forEach((function(e){var t=Object.getOwnPropertyDescriptor(o,e);t.enumerable=!1,Object.defineProperty(r,e,t)})),e.exports=c},9623:(e,t,n)=>{e.exports=n(896).Observable},896:(e,t,n)=>{"use strict";e=n.nmd(e),function(e,t){function n(e){return"function"==typeof Symbol&&Boolean(Symbol[e])}function r(e){return n(e)?Symbol[e]:"@@"+e}function o(e){setTimeout((function(){throw e}))}function i(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function a(e){var t=e.constructor;return void 0!==t&&null===(t=t[r("species")])&&(t=void 0),void 0!==t?t:d}function s(e,t){Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);r.enumerable=!1,Object.defineProperty(e,n,r)}))}function u(e){var t=e._cleanup;if(t){e._cleanup=void 0;try{t()}catch(e){o(e)}}}function c(e){return void 0===e._observer}function l(e,t){if(Object(e)!==e)throw new TypeError("Observer must be an object");this._cleanup=void 0,this._observer=e;try{var n=i(e,"start");n&&n.call(e,this)}catch(e){o(e)}if(!c(this)){e=new f(this);try{var r=t.call(void 0,e);if(null!=r){if("function"==typeof r.unsubscribe)a=r,r=function(){a.unsubscribe()};else if("function"!=typeof r)throw new TypeError(r+" is not a function");this._cleanup=r}}catch(t){return void e.error(t)}c(this)&&u(this)}var a}function f(e){this._subscription=e}function d(e){if(!(this instanceof d))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}"function"!=typeof Symbol||Symbol.observable||(Symbol.observable=Symbol("observable")),s(l.prototype={},{get closed(){return c(this)},unsubscribe:function(){var e;c(e=this)||(e._observer=void 0,u(e))}}),s(f.prototype={},{get closed(){return c(this._subscription)},next:function(e){var t=this._subscription;if(!c(t)){var n=t._observer;try{var r=i(n,"next");r&&r.call(n,e)}catch(e){o(e)}}},error:function(e){var t=this._subscription;if(c(t))o(e);else{var n=t._observer;t._observer=void 0;try{var r=i(n,"error");if(!r)throw e;r.call(n,e)}catch(e){o(e)}u(t)}},complete:function(){var e=this._subscription;if(!c(e)){var t=e._observer;e._observer=void 0;try{var n=i(t,"complete");n&&n.call(t)}catch(e){o(e)}u(e)}}}),s(d.prototype,{subscribe:function(e){for(var t=[],n=1;n<arguments.length;++n)t.push(arguments[n]);return"function"==typeof e?e={next:e,error:t[0],complete:t[1]}:"object"==typeof e&&null!==e||(e={}),new l(e,this._subscriber)},forEach:function(e){var t=this;return new Promise((function(n,r){if("function"!=typeof e)return Promise.reject(new TypeError(e+" is not a function"));t.subscribe({_subscription:null,start:function(e){if(Object(e)!==e)throw new TypeError(e+" is not an object");this._subscription=e},next:function(t){var n=this._subscription;if(!n.closed)try{e(t)}catch(e){r(e),n.unsubscribe()}},error:r,complete:n})}))},map:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(a(this))((function(n){return t.subscribe({next:function(t){if(!n.closed){try{t=e(t)}catch(e){return n.error(e)}n.next(t)}},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},filter:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(a(this))((function(n){return t.subscribe({next:function(t){if(!n.closed){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)}},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},reduce:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=a(this),r=arguments.length>1,o=!1,i=arguments[1];return new n((function(n){return t.subscribe({next:function(t){if(!n.closed){var a=!o;if(o=!0,!a||r)try{i=e(i,t)}catch(e){return n.error(e)}else i=t}},error:function(e){n.error(e)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(i),n.complete()}})}))}}),Object.defineProperty(d.prototype,r("observable"),{value:function(){return this},writable:!0,configurable:!0}),s(d,{from:function(e){var t="function"==typeof this?this:d;if(null==e)throw new TypeError(e+" is not an object");var o=i(e,r("observable"));if(o){var a=o.call(e);if(Object(a)!==a)throw new TypeError(a+" is not an object");return a.constructor===t?a:new t((function(e){return a.subscribe(e)}))}if(n("iterator")&&(o=i(e,r("iterator"))))return new t((function(t){for(var n,r=o.call(e)[Symbol.iterator]();!(n=r.next()).done;){var i=n.value;if(t.next(i),t.closed)return}t.complete()}));if(Array.isArray(e))return new t((function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}));throw new TypeError(e+" is not observable")},of:function(){for(var e=[],t=0;t<arguments.length;++t)e.push(arguments[t]);return new("function"==typeof this?this:d)((function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}))}}),Object.defineProperty(d,r("species"),{get:function(){return this},configurable:!0}),Object.defineProperty(d,"extensions",{value:{observableSymbol:r("observable"),setHostReportError:function(e){o=e}}}),e.Observable=d}(t)},6249:()=>{}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{const e=n(8822),t=n(589);console.log(e),n.g.window.modules={"aws-amplify":e,"@aws-sdk/client-dynamodb":t}})()})();